!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t="length"in e&&e.length,n=Q.type(e);return"function"===n||Q.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,n){if(Q.isFunction(t))return Q.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return Q.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(se.test(t))return Q.filter(t,e,n);t=Q.filter(t,e)}return Q.grep(e,function(e){return U.call(t,e)>=0!==n})}function i(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function o(e){var t=he[e]={};return Q.each(e.match(fe)||[],function(e,n){t[n]=!0}),t}function a(){Z.removeEventListener("DOMContentLoaded",a,!1),e.removeEventListener("load",a,!1),Q.ready()}function s(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Q.expando+s.uid++}function u(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(we,"-$1").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:ye.test(n)?Q.parseJSON(n):n}catch(i){}be.set(e,t,n)}else n=void 0;return n}function l(){return!0}function c(){return!1}function d(){try{return Z.activeElement}catch(e){}}function p(e,t){return Q.nodeName(e,"table")&&Q.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function f(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function h(e){var t=Oe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function m(e,t){for(var n=0,r=e.length;r>n;n++)ve.set(e[n],"globalEval",!t||ve.get(t[n],"globalEval"))}function g(e,t){var n,r,i,o,a,s,u,l;if(1===t.nodeType){if(ve.hasData(e)&&(o=ve.access(e),a=ve.set(t,o),l=o.events)){delete a.handle,a.events={};for(i in l)for(n=0,r=l[i].length;r>n;n++)Q.event.add(t,i,l[i][n])}be.hasData(e)&&(s=be.access(e),u=Q.extend({},s),be.set(t,u))}}function v(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&Q.nodeName(e,t)?Q.merge([e],n):n}function b(e,t){var n=t.nodeName.toLowerCase();"input"===n&&De.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function y(t,n){var r,i=Q(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:Q.css(i[0],"display");return i.detach(),o}function w(e){var t=Z,n=We[e];return n||(n=y(e,t),"none"!==n&&n||(Be=(Be||Q("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Be[0].contentDocument,t.write(),t.close(),n=y(e,t),Be.detach()),We[e]=n),n}function _(e,t,n){var r,i,o,a,s=e.style;return n=n||Ve(e),n&&(a=n.getPropertyValue(t)||n[t]),n&&(""!==a||Q.contains(e.ownerDocument,e)||(a=Q.style(e,t)),je.test(a)&&Le.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function x(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function C(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),r=t,i=Xe.length;i--;)if(t=Xe[i]+n,t in e)return t;return r}function D(e,t,n){var r=qe.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function k(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=Q.css(e,n+xe[o],!0,i)),r?("content"===n&&(a-=Q.css(e,"padding"+xe[o],!0,i)),"margin"!==n&&(a-=Q.css(e,"border"+xe[o]+"Width",!0,i))):(a+=Q.css(e,"padding"+xe[o],!0,i),"padding"!==n&&(a+=Q.css(e,"border"+xe[o]+"Width",!0,i)));return a}function A(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=Ve(e),a="border-box"===Q.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=_(e,t,o),(0>i||null==i)&&(i=e.style[t]),je.test(i))return i;r=a&&(K.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+k(e,t,n||(a?"border":"content"),r,o)+"px"}function $(e,t){for(var n,r,i,o=[],a=0,s=e.length;s>a;a++)r=e[a],r.style&&(o[a]=ve.get(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&Ce(r)&&(o[a]=ve.access(r,"olddisplay",w(r.nodeName)))):(i=Ce(r),"none"===n&&i||ve.set(r,"olddisplay",i?n:Q.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function S(e,t,n,r,i){return new S.prototype.init(e,t,n,r,i)}function E(){return setTimeout(function(){Ke=void 0}),Ke=Q.now()}function T(e,t){var n,r=0,i={height:e};for(t=t?1:0;4>r;r+=2-t)n=xe[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function P(e,t,n){for(var r,i=(nt[t]||[]).concat(nt["*"]),o=0,a=i.length;a>o;o++)if(r=i[o].call(n,t,e))return r}function R(e,t,n){var r,i,o,a,s,u,l,c,d=this,p={},f=e.style,h=e.nodeType&&Ce(e),m=ve.get(e,"fxshow");n.queue||(s=Q._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,Q.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],l=Q.css(e,"display"),c="none"===l?ve.get(e,"olddisplay")||w(e.nodeName):l,"inline"===c&&"none"===Q.css(e,"float")&&(f.display="inline-block")),n.overflow&&(f.overflow="hidden",d.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],Je.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;h=!0}p[r]=m&&m[r]||Q.style(e,r)}else l=void 0;if(Q.isEmptyObject(p))"inline"===("none"===l?w(e.nodeName):l)&&(f.display=l);else{m?"hidden"in m&&(h=m.hidden):m=ve.access(e,"fxshow",{}),o&&(m.hidden=!h),h?Q(e).show():d.done(function(){Q(e).hide()}),d.done(function(){var t;ve.remove(e,"fxshow");for(t in p)Q.style(e,t,p[t])});for(r in p)a=P(h?m[r]:0,r,d),r in m||(m[r]=a.start,h&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function M(e,t){var n,r,i,o,a;for(n in e)if(r=Q.camelCase(n),i=t[r],o=e[n],Q.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=Q.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function N(e,t,n){var r,i,o=0,a=tt.length,s=Q.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=Ke||E(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,a=0,u=l.tweens.length;u>a;a++)l.tweens[a].run(o);return s.notifyWith(e,[l,o,n]),1>o&&u?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:Q.extend({},t),opts:Q.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Ke||E(),duration:n.duration,tweens:[],createTween:function(t,n){var r=Q.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)l.tweens[n].run(1);return t?s.resolveWith(e,[l,t]):s.rejectWith(e,[l,t]),this}}),c=l.props;for(M(c,l.opts.specialEasing);a>o;o++)if(r=tt[o].call(l,e,c,l.opts))return r;return Q.map(c,P,l),Q.isFunction(l.opts.start)&&l.opts.start.call(e,l),Q.fx.timer(Q.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function F(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(fe)||[];if(Q.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function O(e,t,n,r){function i(s){var u;return o[s]=!0,Q.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),u}var o={},a=e===yt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function G(e,t){var n,r,i=Q.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&Q.extend(!0,e,r),e}function I(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function B(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(a=l[u+" "+o]||l["* "+o],!a)for(i in l)if(s=i.split(" "),s[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){a===!0?a=l[i]:l[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function W(e,t,n,r){var i;if(Q.isArray(t))Q.each(t,function(t,i){n||Dt.test(e)?r(e,i):W(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==Q.type(t))r(e,t);else for(i in t)W(e+"["+i+"]",t[i],n,r)}function L(e){return Q.isWindow(e)?e:9===e.nodeType&&e.defaultView}var j=[],V=j.slice,H=j.concat,q=j.push,U=j.indexOf,z={},Y=z.toString,X=z.hasOwnProperty,K={},Z=e.document,J="2.1.4",Q=function(e,t){return new Q.fn.init(e,t)},ee=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,te=/^-ms-/,ne=/-([\da-z])/gi,re=function(e,t){return t.toUpperCase()};Q.fn=Q.prototype={jquery:J,constructor:Q,selector:"",length:0,toArray:function(){return V.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:V.call(this)},pushStack:function(e){var t=Q.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return Q.each(this,e,t)},map:function(e){return this.pushStack(Q.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(V.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:q,sort:j.sort,splice:j.splice},Q.extend=Q.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||Q.isFunction(a)||(a={}),s===u&&(a=this,s--);u>s;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],r=e[t],a!==r&&(l&&r&&(Q.isPlainObject(r)||(i=Q.isArray(r)))?(i?(i=!1,o=n&&Q.isArray(n)?n:[]):o=n&&Q.isPlainObject(n)?n:{},a[t]=Q.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},Q.extend({expando:"jQuery"+(J+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===Q.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!Q.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"!==Q.type(e)||e.nodeType||Q.isWindow(e)?!1:e.constructor&&!X.call(e.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?z[Y.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=Q.trim(e),e&&(1===e.indexOf("use strict")?(t=Z.createElement("script"),t.text=e,Z.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(te,"ms-").replace(ne,re)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i,o=0,a=e.length,s=n(e);if(r){if(s)for(;a>o&&(i=t.apply(e[o],r),i!==!1);o++);else for(o in e)if(i=t.apply(e[o],r),i===!1)break}else if(s)for(;a>o&&(i=t.call(e[o],o,e[o]),i!==!1);o++);else for(o in e)if(i=t.call(e[o],o,e[o]),i===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ee,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?Q.merge(r,"string"==typeof e?[e]:e):q.call(r,e)),r},inArray:function(e,t,n){return null==t?-1:U.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;a>o;o++)r=!t(e[o],o),r!==s&&i.push(e[o]);return i},map:function(e,t,r){var i,o=0,a=e.length,s=n(e),u=[];if(s)for(;a>o;o++)i=t(e[o],o,r),null!=i&&u.push(i);else for(o in e)i=t(e[o],o,r),null!=i&&u.push(i);return H.apply([],u)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(n=e[t],t=e,e=n),Q.isFunction(e)?(r=V.call(arguments,2),i=function(){return e.apply(t||this,r.concat(V.call(arguments)))},i.guid=e.guid=e.guid||Q.guid++,i):void 0},now:Date.now,support:K}),Q.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){z["[object "+t+"]"]=t.toLowerCase()});var ie=function(e){function t(e,t,n,r){var i,o,a,s,u,l,d,f,h,m;if((t?t.ownerDocument||t:W)!==R&&P(t),t=t||R,n=n||[],s=t.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return n;if(!r&&N){if(11!==s&&(i=be.exec(e)))if(a=i[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&I(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return J.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&_.getElementsByClassName)return J.apply(n,t.getElementsByClassName(a)),n}if(_.qsa&&(!F||!F.test(e))){if(f=d=B,h=t,m=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(l=k(e),(d=t.getAttribute("id"))?f=d.replace(we,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",u=l.length;u--;)l[u]=f+p(l[u]);h=ye.test(e)&&c(t.parentNode)||t,m=l.join(",")}if(m)try{return J.apply(n,h.querySelectorAll(m)),n}catch(g){}finally{d||t.removeAttribute("id")}}}return $(e.replace(ue,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>x.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[B]=!0,e}function i(e){var t=R.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=e.length;r--;)x.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||z)-(~e.sourceIndex||z);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function p(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function f(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=j++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,u,l=[L,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(u=t[B]||(t[B]={}),(s=u[r])&&s[0]===L&&s[1]===o)return l[2]=s[2];if(u[r]=l,l[2]=e(t,n,a))return!0}}}function h(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function m(e,n,r){for(var i=0,o=n.length;o>i;i++)t(e,n[i],r);return r}function g(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;u>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),l&&t.push(s));return a}function v(e,t,n,i,o,a){return i&&!i[B]&&(i=v(i)),o&&!o[B]&&(o=v(o,a)),r(function(r,a,s,u){var l,c,d,p=[],f=[],h=a.length,v=r||m(t||"*",s.nodeType?[s]:s,[]),b=!e||!r&&t?v:g(v,p,e,s,u),y=n?o||(r?e:h||i)?[]:a:b;if(n&&n(b,y,s,u),i)for(l=g(y,f),i(l,[],s,u),c=l.length;c--;)(d=l[c])&&(y[f[c]]=!(b[f[c]]=d));if(r){if(o||e){if(o){for(l=[],c=y.length;c--;)(d=y[c])&&l.push(b[c]=d);o(null,y=[],l,u)}for(c=y.length;c--;)(d=y[c])&&(l=o?ee(r,d):p[c])>-1&&(r[l]=!(a[l]=d))}}else y=g(y===a?y.splice(h,y.length):y),o?o(null,a,y,u):J.apply(a,y)})}function b(e){for(var t,n,r,i=e.length,o=x.relative[e[0].type],a=o||x.relative[" "],s=o?1:0,u=f(function(e){return e===t},a,!0),l=f(function(e){return ee(t,e)>-1},a,!0),c=[function(e,n,r){var i=!o&&(r||n!==S)||((t=n).nodeType?u(e,n,r):l(e,n,r));return t=null,i}];i>s;s++)if(n=x.relative[e[s].type])c=[f(h(c),n)];else{if(n=x.filter[e[s].type].apply(null,e[s].matches),n[B]){for(r=++s;i>r&&!x.relative[e[r].type];r++);return v(s>1&&h(c),s>1&&p(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ue,"$1"),n,r>s&&b(e.slice(s,r)),i>r&&b(e=e.slice(r)),i>r&&p(e))}c.push(n)}return h(c)}function y(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,u,l){var c,d,p,f=0,h="0",m=r&&[],v=[],b=S,y=r||o&&x.find.TAG("*",l),w=L+=null==b?1:Math.random()||.1,_=y.length;for(l&&(S=a!==R&&a);h!==_&&null!=(c=y[h]);h++){if(o&&c){for(d=0;p=e[d++];)if(p(c,a,s)){u.push(c);break}l&&(L=w)}i&&((c=!p&&c)&&f--,r&&m.push(c))}if(f+=h,i&&h!==f){for(d=0;p=n[d++];)p(m,v,a,s);if(r){if(f>0)for(;h--;)m[h]||v[h]||(v[h]=K.call(u));v=g(v)}J.apply(u,v),l&&!r&&v.length>0&&f+n.length>1&&t.uniqueSort(u)}return l&&(L=w,S=b),m};return i?r(a):a}var w,_,x,C,D,k,A,$,S,E,T,P,R,M,N,F,O,G,I,B="sizzle"+1*new Date,W=e.document,L=0,j=0,V=n(),H=n(),q=n(),U=function(e,t){return e===t&&(T=!0),0},z=1<<31,Y={}.hasOwnProperty,X=[],K=X.pop,Z=X.push,J=X.push,Q=X.slice,ee=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie=re.replace("w","w#"),oe="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",ae=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",se=new RegExp(ne+"+","g"),ue=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),le=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),de=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),pe=new RegExp(ae),fe=new RegExp("^"+ie+"$"),he={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,be=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,we=/'|\\/g,_e=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),xe=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},Ce=function(){P()};try{J.apply(X=Q.call(W.childNodes),W.childNodes),X[W.childNodes.length].nodeType}catch(De){J={apply:X.length?function(e,t){Z.apply(e,Q.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}_=t.support={},D=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},P=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:W;return r!==R&&9===r.nodeType&&r.documentElement?(R=r,M=r.documentElement,n=r.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Ce,!1):n.attachEvent&&n.attachEvent("onunload",Ce)),N=!D(r),_.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),_.getElementsByTagName=i(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),_.getElementsByClassName=ve.test(r.getElementsByClassName),_.getById=i(function(e){return M.appendChild(e).id=B,!r.getElementsByName||!r.getElementsByName(B).length}),_.getById?(x.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&N){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},x.filter.ID=function(e){var t=e.replace(_e,xe);return function(e){return e.getAttribute("id")===t}}):(delete x.find.ID,x.filter.ID=function(e){var t=e.replace(_e,xe);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),x.find.TAG=_.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):_.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},x.find.CLASS=_.getElementsByClassName&&function(e,t){return N?t.getElementsByClassName(e):void 0},O=[],F=[],(_.qsa=ve.test(r.querySelectorAll))&&(i(function(e){M.appendChild(e).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&F.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||F.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+B+"-]").length||F.push("~="),e.querySelectorAll(":checked").length||F.push(":checked"),e.querySelectorAll("a#"+B+"+*").length||F.push(".#.+[+~]")}),i(function(e){var t=r.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&F.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||F.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),F.push(",.*:")})),(_.matchesSelector=ve.test(G=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&i(function(e){_.disconnectedMatch=G.call(e,"div"),G.call(e,"[s!='']:x"),O.push("!=",ae)}),F=F.length&&new RegExp(F.join("|")),O=O.length&&new RegExp(O.join("|")),t=ve.test(M.compareDocumentPosition),I=t||ve.test(M.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return T=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!_.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===W&&I(W,e)?-1:t===r||t.ownerDocument===W&&I(W,t)?1:E?ee(E,e)-ee(E,t):0:4&n?-1:1)}:function(e,t){if(e===t)return T=!0,0;var n,i=0,o=e.parentNode,s=t.parentNode,u=[e],l=[t];if(!o||!s)return e===r?-1:t===r?1:o?-1:s?1:E?ee(E,e)-ee(E,t):0;if(o===s)return a(e,t);for(n=e;n=n.parentNode;)u.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;u[i]===l[i];)i++;return i?a(u[i],l[i]):u[i]===W?-1:l[i]===W?1:0},r):R},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==R&&P(e),n=n.replace(de,"='$1']"),_.matchesSelector&&N&&(!O||!O.test(n))&&(!F||!F.test(n)))try{var r=G.call(e,n);if(r||_.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return t(n,R,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==R&&P(e),I(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==R&&P(e);var n=x.attrHandle[t.toLowerCase()],r=n&&Y.call(x.attrHandle,t.toLowerCase())?n(e,t,!N):void 0;return void 0!==r?r:_.attributes||!N?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(T=!_.detectDuplicates,E=!_.sortStable&&e.slice(0),e.sort(U),T){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return E=null,e},C=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=C(t);return n},x=t.selectors={cacheLength:50,createPseudo:r,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(_e,xe),e[3]=(e[3]||e[4]||e[5]||"").replace(_e,xe),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&pe.test(n)&&(t=k(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(_e,xe).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=V[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&V(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:n?(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(se," ")+" ").indexOf(r)>-1:"|="===n?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,d,p,f,h,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),b=!u&&!s;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&b){for(c=g[B]||(g[B]={}),l=c[e]||[],f=l[0]===L&&l[1],p=l[0]===L&&l[2],d=f&&g.childNodes[f];d=++f&&d&&d[m]||(p=f=0)||h.pop();)if(1===d.nodeType&&++p&&d===t){c[e]=[L,f,p];break}}else if(b&&(l=(t[B]||(t[B]={}))[e])&&l[0]===L)p=l[1];else for(;(d=++f&&d&&d[m]||(p=f=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++p||(b&&((d[B]||(d[B]={}))[e]=[L,p]),d!==t)););return p-=i,p===r||p%r===0&&p/r>=0}}},PSEUDO:function(e,n){var i,o=x.pseudos[e]||x.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[B]?o(n):o.length>1?(i=[e,e,"",n],x.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=ee(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=A(e.replace(ue,"$1"));return i[B]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(_e,xe),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:r(function(e){return fe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(_e,xe).toLowerCase(),function(t){var n;do if(n=N?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===M},focus:function(e){return e===R.activeElement&&(!R.hasFocus||R.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[0>n?n+t:n]}),even:l(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:l(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},x.pseudos.nth=x.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[w]=s(w);for(w in{submit:!0,reset:!0})x.pseudos[w]=u(w);return d.prototype=x.filters=x.pseudos,x.setFilters=new d,k=t.tokenize=function(e,n){var r,i,o,a,s,u,l,c=H[e+" "];if(c)return n?0:c.slice(0);for(s=e,u=[],l=x.preFilter;s;){(!r||(i=le.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=ce.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ue," ")}),s=s.slice(r.length));for(a in x.filter)!(i=he[a].exec(s))||l[a]&&!(i=l[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):H(e,u).slice(0)},A=t.compile=function(e,t){var n,r=[],i=[],o=q[e+" "];if(!o){for(t||(t=k(e)),n=t.length;n--;)o=b(t[n]),o[B]?r.push(o):i.push(o);o=q(e,y(i,r)),o.selector=e}return o},$=t.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,d=!r&&k(e=l.selector||e);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&_.getById&&9===t.nodeType&&N&&x.relative[o[1].type]){if(t=(x.find.ID(a.matches[0].replace(_e,xe),t)||[])[0],!t)return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=he.needsContext.test(e)?0:o.length;i--&&(a=o[i],!x.relative[s=a.type]);)if((u=x.find[s])&&(r=u(a.matches[0].replace(_e,xe),ye.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&p(o),!e)return J.apply(n,r),n;break}}return(l||A(e,d))(r,t,!N,n,ye.test(e)&&c(t.parentNode)||t),n},_.sortStable=B.split("").sort(U).join("")===B,_.detectDuplicates=!!T,P(),_.sortDetached=i(function(e){return 1&e.compareDocumentPosition(R.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),_.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);Q.find=ie,Q.expr=ie.selectors,Q.expr[":"]=Q.expr.pseudos,Q.unique=ie.uniqueSort,Q.text=ie.getText,Q.isXMLDoc=ie.isXML,Q.contains=ie.contains;var oe=Q.expr.match.needsContext,ae=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,se=/^.[^:#\[\.,]*$/;Q.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?Q.find.matchesSelector(r,e)?[r]:[]:Q.find.matches(e,Q.grep(t,function(e){return 1===e.nodeType}))},Q.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;
if("string"!=typeof e)return this.pushStack(Q(e).filter(function(){for(t=0;n>t;t++)if(Q.contains(i[t],this))return!0}));for(t=0;n>t;t++)Q.find(e,i[t],r);return r=this.pushStack(n>1?Q.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&oe.test(e)?Q(e):e||[],!1).length}});var ue,le=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ce=Q.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:le.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||ue).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof Q?t[0]:t,Q.merge(this,Q.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:Z,!0)),ae.test(n[1])&&Q.isPlainObject(t))for(n in t)Q.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return r=Z.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=Z,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):Q.isFunction(e)?"undefined"!=typeof ue.ready?ue.ready(e):e(Q):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),Q.makeArray(e,this))};ce.prototype=Q.fn,ue=Q(Z);var de=/^(?:parents|prev(?:Until|All))/,pe={children:!0,contents:!0,next:!0,prev:!0};Q.extend({dir:function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&Q(e).is(n))break;r.push(e)}return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),Q.fn.extend({has:function(e){var t=Q(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(Q.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=oe.test(e)||"string"!=typeof e?Q(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&Q.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?Q.unique(o):o)},index:function(e){return e?"string"==typeof e?U.call(Q(e),this[0]):U.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Q.unique(Q.merge(this.get(),Q(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Q.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Q.dir(e,"parentNode")},parentsUntil:function(e,t,n){return Q.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return Q.dir(e,"nextSibling")},prevAll:function(e){return Q.dir(e,"previousSibling")},nextUntil:function(e,t,n){return Q.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return Q.dir(e,"previousSibling",n)},siblings:function(e){return Q.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Q.sibling(e.firstChild)},contents:function(e){return e.contentDocument||Q.merge([],e.childNodes)}},function(e,t){Q.fn[e]=function(n,r){var i=Q.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=Q.filter(r,i)),this.length>1&&(pe[e]||Q.unique(i),de.test(e)&&i.reverse()),this.pushStack(i)}});var fe=/\S+/g,he={};Q.Callbacks=function(e){e="string"==typeof e?he[e]||o(e):Q.extend({},e);var t,n,r,i,a,s,u=[],l=!e.once&&[],c=function(o){for(t=e.memory&&o,n=!0,s=i||0,i=0,a=u.length,r=!0;u&&a>s;s++)if(u[s].apply(o[0],o[1])===!1&&e.stopOnFalse){t=!1;break}r=!1,u&&(l?l.length&&c(l.shift()):t?u=[]:d.disable())},d={add:function(){if(u){var n=u.length;!function o(t){Q.each(t,function(t,n){var r=Q.type(n);"function"===r?e.unique&&d.has(n)||u.push(n):n&&n.length&&"string"!==r&&o(n)})}(arguments),r?a=u.length:t&&(i=n,c(t))}return this},remove:function(){return u&&Q.each(arguments,function(e,t){for(var n;(n=Q.inArray(t,u,n))>-1;)u.splice(n,1),r&&(a>=n&&a--,s>=n&&s--)}),this},has:function(e){return e?Q.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],a=0,this},disable:function(){return u=l=t=void 0,this},disabled:function(){return!u},lock:function(){return l=void 0,t||d.disable(),this},locked:function(){return!l},fireWith:function(e,t){return!u||n&&!l||(t=t||[],t=[e,t.slice?t.slice():t],r?l.push(t):c(t)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!n}};return d},Q.extend({Deferred:function(e){var t=[["resolve","done",Q.Callbacks("once memory"),"resolved"],["reject","fail",Q.Callbacks("once memory"),"rejected"],["notify","progress",Q.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Q.Deferred(function(n){Q.each(t,function(t,o){var a=Q.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&Q.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?Q.extend(e,r):r}},i={};return r.pipe=r.then,Q.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=V.call(arguments),a=o.length,s=1!==a||e&&Q.isFunction(e.promise)?a:0,u=1===s?e:Q.Deferred(),l=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?V.call(arguments):i,r===t?u.notifyWith(n,r):--s||u.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);a>i;i++)o[i]&&Q.isFunction(o[i].promise)?o[i].promise().done(l(i,r,o)).fail(u.reject).progress(l(i,n,t)):--s;return s||u.resolveWith(r,o),u.promise()}});var me;Q.fn.ready=function(e){return Q.ready.promise().done(e),this},Q.extend({isReady:!1,readyWait:1,holdReady:function(e){e?Q.readyWait++:Q.ready(!0)},ready:function(e){(e===!0?--Q.readyWait:Q.isReady)||(Q.isReady=!0,e!==!0&&--Q.readyWait>0||(me.resolveWith(Z,[Q]),Q.fn.triggerHandler&&(Q(Z).triggerHandler("ready"),Q(Z).off("ready"))))}}),Q.ready.promise=function(t){return me||(me=Q.Deferred(),"complete"===Z.readyState?setTimeout(Q.ready):(Z.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",a,!1))),me.promise(t)},Q.ready.promise();var ge=Q.access=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===Q.type(n)){i=!0;for(s in n)Q.access(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,Q.isFunction(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(Q(e),n)})),t))for(;u>s;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o};Q.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},s.uid=1,s.accepts=Q.acceptData,s.prototype={key:function(e){if(!s.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=s.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,Q.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),o=this.cache[i];if("string"==typeof t)o[t]=n;else if(Q.isEmptyObject(o))Q.extend(this.cache[i],t);else for(r in t)o[r]=t[r];return o},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?(r=this.get(e,t),void 0!==r?r:this.get(e,Q.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,i,o=this.key(e),a=this.cache[o];if(void 0===t)this.cache[o]={};else{Q.isArray(t)?r=t.concat(t.map(Q.camelCase)):(i=Q.camelCase(t),t in a?r=[t,i]:(r=i,r=r in a?[r]:r.match(fe)||[])),n=r.length;for(;n--;)delete a[r[n]]}},hasData:function(e){return!Q.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var ve=new s,be=new s,ye=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,we=/([A-Z])/g;Q.extend({hasData:function(e){return be.hasData(e)||ve.hasData(e)},data:function(e,t,n){return be.access(e,t,n)},removeData:function(e,t){be.remove(e,t)},_data:function(e,t,n){return ve.access(e,t,n)},_removeData:function(e,t){ve.remove(e,t)}}),Q.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=be.get(o),1===o.nodeType&&!ve.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=Q.camelCase(r.slice(5)),u(o,r,i[r])));ve.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){be.set(this,e)}):ge(this,function(t){var n,r=Q.camelCase(e);if(o&&void 0===t){if(n=be.get(o,e),void 0!==n)return n;if(n=be.get(o,r),void 0!==n)return n;if(n=u(o,r,void 0),void 0!==n)return n}else this.each(function(){var n=be.get(this,r);be.set(this,r,t),-1!==e.indexOf("-")&&void 0!==n&&be.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){be.remove(this,e)})}}),Q.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=ve.get(e,t),n&&(!r||Q.isArray(n)?r=ve.access(e,t,Q.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=Q.queue(e,t),r=n.length,i=n.shift(),o=Q._queueHooks(e,t),a=function(){Q.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ve.get(e,n)||ve.access(e,n,{empty:Q.Callbacks("once memory").add(function(){ve.remove(e,[t+"queue",n])})})}}),Q.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?Q.queue(this[0],e):void 0===t?this:this.each(function(){var n=Q.queue(this,e,t);Q._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&Q.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Q.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=Q.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=ve.get(o[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var _e=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,xe=["Top","Right","Bottom","Left"],Ce=function(e,t){return e=t||e,"none"===Q.css(e,"display")||!Q.contains(e.ownerDocument,e)},De=/^(?:checkbox|radio)$/i;!function(){var e=Z.createDocumentFragment(),t=e.appendChild(Z.createElement("div")),n=Z.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),K.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",K.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var ke="undefined";K.focusinBubbles="onfocusin"in e;var Ae=/^key/,$e=/^(?:mouse|pointer|contextmenu)|click/,Se=/^(?:focusinfocus|focusoutblur)$/,Ee=/^([^.]*)(?:\.(.+)|)$/;Q.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,d,p,f,h,m,g=ve.get(e);if(g)for(n.handler&&(o=n,n=o.handler,i=o.selector),n.guid||(n.guid=Q.guid++),(u=g.events)||(u=g.events={}),(a=g.handle)||(a=g.handle=function(t){return typeof Q!==ke&&Q.event.triggered!==t.type?Q.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(fe)||[""],l=t.length;l--;)s=Ee.exec(t[l])||[],f=m=s[1],h=(s[2]||"").split(".").sort(),f&&(d=Q.event.special[f]||{},f=(i?d.delegateType:d.bindType)||f,d=Q.event.special[f]||{},c=Q.extend({type:f,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&Q.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[f])||(p=u[f]=[],p.delegateCount=0,d.setup&&d.setup.call(e,r,h,a)!==!1||e.addEventListener&&e.addEventListener(f,a,!1)),d.add&&(d.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),Q.event.global[f]=!0)},remove:function(e,t,n,r,i){var o,a,s,u,l,c,d,p,f,h,m,g=ve.hasData(e)&&ve.get(e);if(g&&(u=g.events)){for(t=(t||"").match(fe)||[""],l=t.length;l--;)if(s=Ee.exec(t[l])||[],f=m=s[1],h=(s[2]||"").split(".").sort(),f){for(d=Q.event.special[f]||{},f=(r?d.delegateType:d.bindType)||f,p=u[f]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)c=p[o],!i&&m!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,d.remove&&d.remove.call(e,c));a&&!p.length&&(d.teardown&&d.teardown.call(e,h,g.handle)!==!1||Q.removeEvent(e,f,g.handle),delete u[f])}else for(f in u)Q.event.remove(e,f+t[l],n,r,!0);Q.isEmptyObject(u)&&(delete g.handle,ve.remove(e,"events"))}},trigger:function(t,n,r,i){var o,a,s,u,l,c,d,p=[r||Z],f=X.call(t,"type")?t.type:t,h=X.call(t,"namespace")?t.namespace.split("."):[];if(a=s=r=r||Z,3!==r.nodeType&&8!==r.nodeType&&!Se.test(f+Q.event.triggered)&&(f.indexOf(".")>=0&&(h=f.split("."),f=h.shift(),h.sort()),l=f.indexOf(":")<0&&"on"+f,t=t[Q.expando]?t:new Q.Event(f,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=h.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:Q.makeArray(n,[t]),d=Q.event.special[f]||{},i||!d.trigger||d.trigger.apply(r,n)!==!1)){if(!i&&!d.noBubble&&!Q.isWindow(r)){for(u=d.delegateType||f,Se.test(u+f)||(a=a.parentNode);a;a=a.parentNode)p.push(a),s=a;s===(r.ownerDocument||Z)&&p.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=p[o++])&&!t.isPropagationStopped();)t.type=o>1?u:d.bindType||f,c=(ve.get(a,"events")||{})[t.type]&&ve.get(a,"handle"),c&&c.apply(a,n),c=l&&a[l],c&&c.apply&&Q.acceptData(a)&&(t.result=c.apply(a,n),t.result===!1&&t.preventDefault());return t.type=f,i||t.isDefaultPrevented()||d._default&&d._default.apply(p.pop(),n)!==!1||!Q.acceptData(r)||l&&Q.isFunction(r[f])&&!Q.isWindow(r)&&(s=r[l],s&&(r[l]=null),Q.event.triggered=f,r[f](),Q.event.triggered=void 0,s&&(r[l]=s)),t.result}},dispatch:function(e){e=Q.event.fix(e);var t,n,r,i,o,a=[],s=V.call(arguments),u=(ve.get(this,"events")||{})[e.type]||[],l=Q.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){for(a=Q.event.handlers.call(this,e,u),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,r=((Q.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s),void 0!==r&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!==this;u=u.parentNode||this)if(u.disabled!==!0||"click"!==e.type){for(r=[],n=0;s>n;n++)o=t[n],i=o.selector+" ",void 0===r[i]&&(r[i]=o.needsContext?Q(i,this).index(u)>=0:Q.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&a.push({elem:u,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||Z,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[Q.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=$e.test(i)?this.mouseHooks:Ae.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new Q.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=Z),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==d()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===d()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Q.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return Q.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=Q.extend(new Q.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?Q.event.trigger(i,null,t):Q.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},Q.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},Q.Event=function(e,t){return this instanceof Q.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?l:c):this.type=e,t&&Q.extend(this,t),this.timeStamp=e&&e.timeStamp||Q.now(),void(this[Q.expando]=!0)):new Q.Event(e,t)},Q.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=l,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},Q.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Q.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!Q.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),K.focusinBubbles||Q.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){Q.event.simulate(t,e.target,Q.event.fix(e),!0)};Q.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=ve.access(r,t);i||r.addEventListener(e,n,!0),ve.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=ve.access(r,t)-1;i?ve.access(r,t,i):(r.removeEventListener(e,n,!0),ve.remove(r,t))}}}),Q.fn.extend({on:function(e,t,n,r,i){var o,a;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(a in e)this.on(a,t,n,e[a],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),r===!1)r=c;else if(!r)return this;return 1===i&&(o=r,r=function(e){return Q().off(e),o.apply(this,arguments)},r.guid=o.guid||(o.guid=Q.guid++)),this.each(function(){Q.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,Q(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=c),this.each(function(){Q.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){Q.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?Q.event.trigger(e,t,n,!0):void 0}});var Te=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Pe=/<([\w:]+)/,Re=/<|&#?\w+;/,Me=/<(?:script|style|link)/i,Ne=/checked\s*(?:[^=]|=\s*.checked.)/i,Fe=/^$|\/(?:java|ecma)script/i,Oe=/^true\/(.*)/,Ge=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ie={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ie.optgroup=Ie.option,Ie.tbody=Ie.tfoot=Ie.colgroup=Ie.caption=Ie.thead,Ie.th=Ie.td,Q.extend({clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),u=Q.contains(e.ownerDocument,e);if(!(K.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Q.isXMLDoc(e)))for(a=v(s),o=v(e),r=0,i=o.length;i>r;r++)b(o[r],a[r]);if(t)if(n)for(o=o||v(e),a=a||v(s),r=0,i=o.length;i>r;r++)g(o[r],a[r]);else g(e,s);return a=v(s,"script"),a.length>0&&m(a,!u&&v(e,"script")),s},buildFragment:function(e,t,n,r){for(var i,o,a,s,u,l,c=t.createDocumentFragment(),d=[],p=0,f=e.length;f>p;p++)if(i=e[p],i||0===i)if("object"===Q.type(i))Q.merge(d,i.nodeType?[i]:i);else if(Re.test(i)){for(o=o||c.appendChild(t.createElement("div")),a=(Pe.exec(i)||["",""])[1].toLowerCase(),s=Ie[a]||Ie._default,o.innerHTML=s[1]+i.replace(Te,"<$1></$2>")+s[2],l=s[0];l--;)o=o.lastChild;Q.merge(d,o.childNodes),o=c.firstChild,o.textContent=""}else d.push(t.createTextNode(i));for(c.textContent="",p=0;i=d[p++];)if((!r||-1===Q.inArray(i,r))&&(u=Q.contains(i.ownerDocument,i),o=v(c.appendChild(i),"script"),u&&m(o),n))for(l=0;i=o[l++];)Fe.test(i.type||"")&&n.push(i);return c},cleanData:function(e){for(var t,n,r,i,o=Q.event.special,a=0;void 0!==(n=e[a]);a++){if(Q.acceptData(n)&&(i=n[ve.expando],i&&(t=ve.cache[i]))){if(t.events)for(r in t.events)o[r]?Q.event.remove(n,r):Q.removeEvent(n,r,t.handle);ve.cache[i]&&delete ve.cache[i]}delete be.cache[n[be.expando]]}}}),Q.fn.extend({text:function(e){return ge(this,function(e){return void 0===e?Q.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=p(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=p(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?Q.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||Q.cleanData(v(n)),n.parentNode&&(t&&Q.contains(n.ownerDocument,n)&&m(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Q.cleanData(v(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return Q.clone(this,e,t)})},html:function(e){return ge(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Me.test(e)&&!Ie[(Pe.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Te,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(Q.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,Q.cleanData(v(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=H.apply([],e);var n,r,i,o,a,s,u=0,l=this.length,c=this,d=l-1,p=e[0],m=Q.isFunction(p);if(m||l>1&&"string"==typeof p&&!K.checkClone&&Ne.test(p))return this.each(function(n){var r=c.eq(n);m&&(e[0]=p.call(this,n,r.html())),r.domManip(e,t)});if(l&&(n=Q.buildFragment(e,this[0].ownerDocument,!1,this),r=n.firstChild,1===n.childNodes.length&&(n=r),r)){for(i=Q.map(v(n,"script"),f),o=i.length;l>u;u++)a=n,u!==d&&(a=Q.clone(a,!0,!0),o&&Q.merge(i,v(a,"script"))),t.call(this[u],a,u);if(o)for(s=i[i.length-1].ownerDocument,Q.map(i,h),u=0;o>u;u++)a=i[u],Fe.test(a.type||"")&&!ve.access(a,"globalEval")&&Q.contains(s,a)&&(a.src?Q._evalUrl&&Q._evalUrl(a.src):Q.globalEval(a.textContent.replace(Ge,"")))}return this}}),Q.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Q.fn[e]=function(e){for(var n,r=[],i=Q(e),o=i.length-1,a=0;o>=a;a++)n=a===o?this:this.clone(!0),Q(i[a])[t](n),q.apply(r,n.get());return this.pushStack(r)}});var Be,We={},Le=/^margin/,je=new RegExp("^("+_e+")(?!px)[a-z%]+$","i"),Ve=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)};!function(){function t(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",a.innerHTML="",i.appendChild(o);var t=e.getComputedStyle(a,null);n="1%"!==t.top,r="4px"===t.width,i.removeChild(o)}var n,r,i=Z.documentElement,o=Z.createElement("div"),a=Z.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",K.clearCloneStyle="content-box"===a.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(a),e.getComputedStyle&&Q.extend(K,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==r&&t(),r},reliableMarginRight:function(){var t,n=a.appendChild(Z.createElement("div"));return n.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",a.style.width="1px",i.appendChild(o),t=!parseFloat(e.getComputedStyle(n,null).marginRight),i.removeChild(o),a.removeChild(n),t}}))}(),Q.swap=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i};var He=/^(none|table(?!-c[ea]).+)/,qe=new RegExp("^("+_e+")(.*)$","i"),Ue=new RegExp("^([+-])=("+_e+")","i"),ze={position:"absolute",visibility:"hidden",display:"block"},Ye={letterSpacing:"0",fontWeight:"400"},Xe=["Webkit","O","Moz","ms"];Q.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=_(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=Q.camelCase(t),u=e.style;return t=Q.cssProps[s]||(Q.cssProps[s]=C(u,s)),a=Q.cssHooks[t]||Q.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:u[t]:(o=typeof n,"string"===o&&(i=Ue.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(Q.css(e,t)),o="number"),null!=n&&n===n&&("number"!==o||Q.cssNumber[s]||(n+="px"),K.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u[t]=n)),void 0)}},css:function(e,t,n,r){var i,o,a,s=Q.camelCase(t);return t=Q.cssProps[s]||(Q.cssProps[s]=C(e.style,s)),a=Q.cssHooks[t]||Q.cssHooks[s],a&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=_(e,t,r)),"normal"===i&&t in Ye&&(i=Ye[t]),""===n||n?(o=parseFloat(i),n===!0||Q.isNumeric(o)?o||0:i):i}}),Q.each(["height","width"],function(e,t){Q.cssHooks[t]={get:function(e,n,r){return n?He.test(Q.css(e,"display"))&&0===e.offsetWidth?Q.swap(e,ze,function(){return A(e,t,r)}):A(e,t,r):void 0},set:function(e,n,r){var i=r&&Ve(e);return D(e,n,r?k(e,t,r,"border-box"===Q.css(e,"boxSizing",!1,i),i):0)}}}),Q.cssHooks.marginRight=x(K.reliableMarginRight,function(e,t){return t?Q.swap(e,{display:"inline-block"},_,[e,"marginRight"]):void 0}),Q.each({margin:"",padding:"",border:"Width"},function(e,t){Q.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+xe[r]+t]=o[r]||o[r-2]||o[0];return i}},Le.test(e)||(Q.cssHooks[e+t].set=D)}),Q.fn.extend({css:function(e,t){return ge(this,function(e,t,n){var r,i,o={},a=0;if(Q.isArray(t)){for(r=Ve(e),i=t.length;i>a;a++)o[t[a]]=Q.css(e,t[a],!1,r);return o}return void 0!==n?Q.style(e,t,n):Q.css(e,t)},e,t,arguments.length>1)},show:function(){return $(this,!0)},hide:function(){return $(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ce(this)?Q(this).show():Q(this).hide()})}}),Q.Tween=S,S.prototype={constructor:S,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(Q.cssNumber[n]?"":"px")},cur:function(){var e=S.propHooks[this.prop];return e&&e.get?e.get(this):S.propHooks._default.get(this)},run:function(e){var t,n=S.propHooks[this.prop];return this.options.duration?this.pos=t=Q.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):S.propHooks._default.set(this),this}},S.prototype.init.prototype=S.prototype,S.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Q.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){Q.fx.step[e.prop]?Q.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Q.cssProps[e.prop]]||Q.cssHooks[e.prop])?Q.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},S.propHooks.scrollTop=S.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Q.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Q.fx=S.prototype.init,Q.fx.step={};var Ke,Ze,Je=/^(?:toggle|show|hide)$/,Qe=new RegExp("^(?:([+-])=|)("+_e+")([a-z%]*)$","i"),et=/queueHooks$/,tt=[R],nt={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Qe.exec(t),o=i&&i[3]||(Q.cssNumber[e]?"":"px"),a=(Q.cssNumber[e]||"px"!==o&&+r)&&Qe.exec(Q.css(n.elem,e)),s=1,u=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do s=s||".5",a/=s,Q.style(n.elem,e,a+o);while(s!==(s=n.cur()/r)&&1!==s&&--u)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};Q.Animation=Q.extend(N,{tweener:function(e,t){Q.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],nt[n]=nt[n]||[],nt[n].unshift(t)},prefilter:function(e,t){t?tt.unshift(e):tt.push(e)}}),Q.speed=function(e,t,n){var r=e&&"object"==typeof e?Q.extend({},e):{complete:n||!n&&t||Q.isFunction(e)&&e,duration:e,easing:n&&t||t&&!Q.isFunction(t)&&t};return r.duration=Q.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in Q.fx.speeds?Q.fx.speeds[r.duration]:Q.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){Q.isFunction(r.old)&&r.old.call(this),r.queue&&Q.dequeue(this,r.queue)},r},Q.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Ce).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=Q.isEmptyObject(e),o=Q.speed(t,n,r),a=function(){var t=N(this,Q.extend({},e),o);(i||ve.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=Q.timers,a=ve.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&et.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&Q.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ve.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=Q.timers,a=r?r.length:0;for(n.finish=!0,Q.queue(this,e,[]),
i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),Q.each(["toggle","show","hide"],function(e,t){var n=Q.fn[t];Q.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(T(t,!0),e,r,i)}}),Q.each({slideDown:T("show"),slideUp:T("hide"),slideToggle:T("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Q.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),Q.timers=[],Q.fx.tick=function(){var e,t=0,n=Q.timers;for(Ke=Q.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||Q.fx.stop(),Ke=void 0},Q.fx.timer=function(e){Q.timers.push(e),e()?Q.fx.start():Q.timers.pop()},Q.fx.interval=13,Q.fx.start=function(){Ze||(Ze=setInterval(Q.fx.tick,Q.fx.interval))},Q.fx.stop=function(){clearInterval(Ze),Ze=null},Q.fx.speeds={slow:600,fast:200,_default:400},Q.fn.delay=function(e,t){return e=Q.fx?Q.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e=Z.createElement("input"),t=Z.createElement("select"),n=t.appendChild(Z.createElement("option"));e.type="checkbox",K.checkOn=""!==e.value,K.optSelected=n.selected,t.disabled=!0,K.optDisabled=!n.disabled,e=Z.createElement("input"),e.value="t",e.type="radio",K.radioValue="t"===e.value}();var rt,it,ot=Q.expr.attrHandle;Q.fn.extend({attr:function(e,t){return ge(this,Q.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Q.removeAttr(this,e)})}}),Q.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===ke?Q.prop(e,t,n):(1===o&&Q.isXMLDoc(e)||(t=t.toLowerCase(),r=Q.attrHooks[t]||(Q.expr.match.bool.test(t)?it:rt)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=Q.find.attr(e,t),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void Q.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(fe);if(o&&1===e.nodeType)for(;n=o[i++];)r=Q.propFix[n]||n,Q.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!K.radioValue&&"radio"===t&&Q.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),it={set:function(e,t,n){return t===!1?Q.removeAttr(e,n):e.setAttribute(n,n),n}},Q.each(Q.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ot[t]||Q.find.attr;ot[t]=function(e,t,r){var i,o;return r||(o=ot[t],ot[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,ot[t]=o),i}});var at=/^(?:input|select|textarea|button)$/i;Q.fn.extend({prop:function(e,t){return ge(this,Q.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Q.propFix[e]||e]})}}),Q.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return o=1!==a||!Q.isXMLDoc(e),o&&(t=Q.propFix[t]||t,i=Q.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||at.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),K.optSelected||(Q.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),Q.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Q.propFix[this.toLowerCase()]=this});var st=/[\t\r\n\f]/g;Q.fn.extend({addClass:function(e){var t,n,r,i,o,a,s="string"==typeof e&&e,u=0,l=this.length;if(Q.isFunction(e))return this.each(function(t){Q(this).addClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(fe)||[];l>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(st," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=Q.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,r,i,o,a,s=0===arguments.length||"string"==typeof e&&e,u=0,l=this.length;if(Q.isFunction(e))return this.each(function(t){Q(this).removeClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(fe)||[];l>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(st," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");a=e?Q.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):Q.isFunction(e)?this.each(function(n){Q(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,r=0,i=Q(this),o=e.match(fe)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(n===ke||"boolean"===n)&&(this.className&&ve.set(this,"__className__",this.className),this.className=this.className||e===!1?"":ve.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(st," ").indexOf(t)>=0)return!0;return!1}});var ut=/\r/g;Q.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=Q.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,Q(this).val()):e,null==i?i="":"number"==typeof i?i+="":Q.isArray(i)&&(i=Q.map(i,function(e){return null==e?"":e+""})),t=Q.valHooks[this.type]||Q.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=Q.valHooks[i.type]||Q.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(ut,""):null==n?"":n)}}}),Q.extend({valHooks:{option:{get:function(e){var t=Q.find.attr(e,"value");return null!=t?t:Q.trim(Q.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,u=0>i?s:o?i:0;s>u;u++)if(n=r[u],(n.selected||u===i)&&(K.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!Q.nodeName(n.parentNode,"optgroup"))){if(t=Q(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=Q.makeArray(t),a=i.length;a--;)r=i[a],(r.selected=Q.inArray(r.value,o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),Q.each(["radio","checkbox"],function(){Q.valHooks[this]={set:function(e,t){return Q.isArray(t)?e.checked=Q.inArray(Q(e).val(),t)>=0:void 0}},K.checkOn||(Q.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),Q.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Q.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),Q.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var lt=Q.now(),ct=/\?/;Q.parseJSON=function(e){return JSON.parse(e+"")},Q.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(r){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&Q.error("Invalid XML: "+e),t};var dt=/#.*$/,pt=/([?&])_=[^&]*/,ft=/^(.*?):[ \t]*([^\r\n]*)$/gm,ht=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,mt=/^(?:GET|HEAD)$/,gt=/^\/\//,vt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,bt={},yt={},wt="*/".concat("*"),_t=e.location.href,xt=vt.exec(_t.toLowerCase())||[];Q.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_t,type:"GET",isLocal:ht.test(xt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":wt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Q.parseJSON,"text xml":Q.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?G(G(e,Q.ajaxSettings),t):G(Q.ajaxSettings,e)},ajaxPrefilter:F(bt),ajaxTransport:F(yt),ajax:function(e,t){function n(e,t,n,a){var u,c,v,b,w,x=t;2!==y&&(y=2,s&&clearTimeout(s),r=void 0,o=a||"",_.readyState=e>0?4:0,u=e>=200&&300>e||304===e,n&&(b=I(d,_,n)),b=B(d,b,_,u),u?(d.ifModified&&(w=_.getResponseHeader("Last-Modified"),w&&(Q.lastModified[i]=w),w=_.getResponseHeader("etag"),w&&(Q.etag[i]=w)),204===e||"HEAD"===d.type?x="nocontent":304===e?x="notmodified":(x=b.state,c=b.data,v=b.error,u=!v)):(v=x,(e||!x)&&(x="error",0>e&&(e=0))),_.status=e,_.statusText=(t||x)+"",u?h.resolveWith(p,[c,x,_]):h.rejectWith(p,[_,x,v]),_.statusCode(g),g=void 0,l&&f.trigger(u?"ajaxSuccess":"ajaxError",[_,d,u?c:v]),m.fireWith(p,[_,x]),l&&(f.trigger("ajaxComplete",[_,d]),--Q.active||Q.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,o,a,s,u,l,c,d=Q.ajaxSetup({},t),p=d.context||d,f=d.context&&(p.nodeType||p.jquery)?Q(p):Q.event,h=Q.Deferred(),m=Q.Callbacks("once memory"),g=d.statusCode||{},v={},b={},y=0,w="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(2===y){if(!a)for(a={};t=ft.exec(o);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===y?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return y||(e=b[n]=b[n]||e,v[e]=t),this},overrideMimeType:function(e){return y||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>y)for(t in e)g[t]=[g[t],e[t]];else _.always(e[_.status]);return this},abort:function(e){var t=e||w;return r&&r.abort(t),n(0,t),this}};if(h.promise(_).complete=m.add,_.success=_.done,_.error=_.fail,d.url=((e||d.url||_t)+"").replace(dt,"").replace(gt,xt[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=Q.trim(d.dataType||"*").toLowerCase().match(fe)||[""],null==d.crossDomain&&(u=vt.exec(d.url.toLowerCase()),d.crossDomain=!(!u||u[1]===xt[1]&&u[2]===xt[2]&&(u[3]||("http:"===u[1]?"80":"443"))===(xt[3]||("http:"===xt[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=Q.param(d.data,d.traditional)),O(bt,d,t,_),2===y)return _;l=Q.event&&d.global,l&&0===Q.active++&&Q.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!mt.test(d.type),i=d.url,d.hasContent||(d.data&&(i=d.url+=(ct.test(i)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=pt.test(i)?i.replace(pt,"$1_="+lt++):i+(ct.test(i)?"&":"?")+"_="+lt++)),d.ifModified&&(Q.lastModified[i]&&_.setRequestHeader("If-Modified-Since",Q.lastModified[i]),Q.etag[i]&&_.setRequestHeader("If-None-Match",Q.etag[i])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&_.setRequestHeader("Content-Type",d.contentType),_.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+wt+"; q=0.01":""):d.accepts["*"]);for(c in d.headers)_.setRequestHeader(c,d.headers[c]);if(d.beforeSend&&(d.beforeSend.call(p,_,d)===!1||2===y))return _.abort();w="abort";for(c in{success:1,error:1,complete:1})_[c](d[c]);if(r=O(yt,d,t,_)){_.readyState=1,l&&f.trigger("ajaxSend",[_,d]),d.async&&d.timeout>0&&(s=setTimeout(function(){_.abort("timeout")},d.timeout));try{y=1,r.send(v,n)}catch(x){if(!(2>y))throw x;n(-1,x)}}else n(-1,"No Transport");return _},getJSON:function(e,t,n){return Q.get(e,t,n,"json")},getScript:function(e,t){return Q.get(e,void 0,t,"script")}}),Q.each(["get","post"],function(e,t){Q[t]=function(e,n,r,i){return Q.isFunction(n)&&(i=i||r,r=n,n=void 0),Q.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),Q._evalUrl=function(e){return Q.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},Q.fn.extend({wrapAll:function(e){var t;return Q.isFunction(e)?this.each(function(t){Q(this).wrapAll(e.call(this,t))}):(this[0]&&(t=Q(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return Q.isFunction(e)?this.each(function(t){Q(this).wrapInner(e.call(this,t))}):this.each(function(){var t=Q(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Q.isFunction(e);return this.each(function(n){Q(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){Q.nodeName(this,"body")||Q(this).replaceWith(this.childNodes)}).end()}}),Q.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},Q.expr.filters.visible=function(e){return!Q.expr.filters.hidden(e)};var Ct=/%20/g,Dt=/\[\]$/,kt=/\r?\n/g,At=/^(?:submit|button|image|reset|file)$/i,$t=/^(?:input|select|textarea|keygen)/i;Q.param=function(e,t){var n,r=[],i=function(e,t){t=Q.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=Q.ajaxSettings&&Q.ajaxSettings.traditional),Q.isArray(e)||e.jquery&&!Q.isPlainObject(e))Q.each(e,function(){i(this.name,this.value)});else for(n in e)W(n,e[n],t,i);return r.join("&").replace(Ct,"+")},Q.fn.extend({serialize:function(){return Q.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Q.prop(this,"elements");return e?Q.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Q(this).is(":disabled")&&$t.test(this.nodeName)&&!At.test(e)&&(this.checked||!De.test(e))}).map(function(e,t){var n=Q(this).val();return null==n?null:Q.isArray(n)?Q.map(n,function(e){return{name:t.name,value:e.replace(kt,"\r\n")}}):{name:t.name,value:n.replace(kt,"\r\n")}}).get()}}),Q.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var St=0,Et={},Tt={0:200,1223:204},Pt=Q.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Et)Et[e]()}),K.cors=!!Pt&&"withCredentials"in Pt,K.ajax=Pt=!!Pt,Q.ajaxTransport(function(e){var t;return K.cors||Pt&&!e.crossDomain?{send:function(n,r){var i,o=e.xhr(),a=++St;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)o.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete Et[a],t=o.onload=o.onerror=null,"abort"===e?o.abort():"error"===e?r(o.status,o.statusText):r(Tt[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=t(),o.onerror=t("error"),t=Et[a]=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(s){if(t)throw s}},abort:function(){t&&t()}}:void 0}),Q.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return Q.globalEval(e),e}}}),Q.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Q.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=Q("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),Z.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Rt=[],Mt=/(=)\?(?=&|$)|\?\?/;Q.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Rt.pop()||Q.expando+"_"+lt++;return this[e]=!0,e}}),Q.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=t.jsonp!==!1&&(Mt.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Mt.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=Q.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Mt,"$1"+i):t.jsonp!==!1&&(t.url+=(ct.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||Q.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Rt.push(i)),a&&Q.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),Q.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||Z;var r=ae.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=Q.buildFragment([e],t,i),i&&i.length&&Q(i).remove(),Q.merge([],r.childNodes))};var Nt=Q.fn.load;Q.fn.load=function(e,t,n){if("string"!=typeof e&&Nt)return Nt.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return s>=0&&(r=Q.trim(e.slice(s)),e=e.slice(0,s)),Q.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&Q.ajax({url:e,type:i,dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?Q("<div>").append(Q.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){a.each(n,o||[e.responseText,t,e])}),this},Q.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Q.fn[t]=function(e){return this.on(t,e)}}),Q.expr.filters.animated=function(e){return Q.grep(Q.timers,function(t){return e===t.elem}).length};var Ft=e.document.documentElement;Q.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l,c=Q.css(e,"position"),d=Q(e),p={};"static"===c&&(e.style.position="relative"),s=d.offset(),o=Q.css(e,"top"),u=Q.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(r=d.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),Q.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(p.top=t.top-s.top+a),null!=t.left&&(p.left=t.left-s.left+i),"using"in t?t.using.call(e,p):d.css(p)}},Q.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Q.offset.setOffset(this,e,t)});var t,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;if(o)return t=o.documentElement,Q.contains(t,r)?(typeof r.getBoundingClientRect!==ke&&(i=r.getBoundingClientRect()),n=L(o),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===Q.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),Q.nodeName(e[0],"html")||(r=e.offset()),r.top+=Q.css(e[0],"borderTopWidth",!0),r.left+=Q.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-Q.css(n,"marginTop",!0),left:t.left-r.left-Q.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Ft;e&&!Q.nodeName(e,"html")&&"static"===Q.css(e,"position");)e=e.offsetParent;return e||Ft})}}),Q.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var r="pageYOffset"===n;Q.fn[t]=function(i){return ge(this,function(t,i,o){var a=L(t);return void 0===o?a?a[n]:t[i]:void(a?a.scrollTo(r?e.pageXOffset:o,r?o:e.pageYOffset):t[i]=o)},t,i,arguments.length,null)}}),Q.each(["top","left"],function(e,t){Q.cssHooks[t]=x(K.pixelPosition,function(e,n){return n?(n=_(e,t),je.test(n)?Q(e).position()[t]+"px":n):void 0})}),Q.each({Height:"height",Width:"width"},function(e,t){Q.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){Q.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||i===!0?"margin":"border");return ge(this,function(t,n,r){var i;return Q.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?Q.css(t,n,a):Q.style(t,n,r,a)},t,o?r:void 0,o,null)}})}),Q.fn.size=function(){return this.length},Q.fn.andSelf=Q.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Q});var Ot=e.jQuery,Gt=e.$;return Q.noConflict=function(t){return e.$===Q&&(e.$=Gt),t&&e.jQuery===Q&&(e.jQuery=Ot),Q},typeof t===ke&&(e.jQuery=e.$=Q),Q}),function(e,t,n){"use strict";function r(e,t){return t=t||Error,function(){var n,r,i=2,o=arguments,a=o[0],s="["+(e?e+":":"")+a+"] ",u=o[1];for(s+=u.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1),n=t+i;return n<o.length?ye(o[n]):e}),s+="\nhttp://errors.angularjs.org/1.4.3/"+(e?e+"/":"")+a,r=i,n="?";r<o.length;r++,n="&")s+=n+"p"+(r-i)+"="+encodeURIComponent(ye(o[r]));return new t(s)}}function i(e){if(null==e||S(e))return!1;var t="length"in Object(e)&&e.length;return e.nodeType===zr&&t?!0:C(e)||Ir(e)||0===t||"number"==typeof t&&t>0&&t-1 in e}function o(e,t,n){var r,a;if(e)if(A(e))for(r in e)"prototype"==r||"length"==r||"name"==r||e.hasOwnProperty&&!e.hasOwnProperty(r)||t.call(n,e[r],r,e);else if(Ir(e)||i(e)){var s="object"!=typeof e;for(r=0,a=e.length;a>r;r++)(s||r in e)&&t.call(n,e[r],r,e)}else if(e.forEach&&e.forEach!==o)e.forEach(t,n,e);else if(x(e))for(r in e)t.call(n,e[r],r,e);else if("function"==typeof e.hasOwnProperty)for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e);else for(r in e)_r.call(e,r)&&t.call(n,e[r],r,e);return e}function a(e,t,n){for(var r=Object.keys(e).sort(),i=0;i<r.length;i++)t.call(n,e[r[i]],r[i]);return r}function s(e){return function(t,n){e(n,t)}}function u(){return++Or}function l(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function c(e,t,n){for(var r=e.$$hashKey,i=0,o=t.length;o>i;++i){var a=t[i];if(_(a)||A(a))for(var s=Object.keys(a),u=0,d=s.length;d>u;u++){var p=s[u],f=a[p];n&&_(f)?k(f)?e[p]=new Date(f.valueOf()):(_(e[p])||(e[p]=Ir(f)?[]:{}),c(e[p],[f],!0)):e[p]=f}}return l(e,r),e}function d(e){return c(e,Er.call(arguments,1),!1)}function p(e){return c(e,Er.call(arguments,1),!0)}function f(e){return parseInt(e,10)}function h(e,t){return d(Object.create(e),t)}function m(){}function g(e){return e}function v(e){return function(){return e}}function b(e){return A(e.toString)&&e.toString!==Object.prototype.toString}function y(e){return"undefined"==typeof e}function w(e){return"undefined"!=typeof e}function _(e){return null!==e&&"object"==typeof e}function x(e){return null!==e&&"object"==typeof e&&!Mr(e)}function C(e){return"string"==typeof e}function D(e){return"number"==typeof e}function k(e){return"[object Date]"===Rr.call(e)}function A(e){return"function"==typeof e}function $(e){return"[object RegExp]"===Rr.call(e)}function S(e){return e&&e.window===e}function E(e){return e&&e.$evalAsync&&e.$watch}function T(e){return"[object File]"===Rr.call(e)}function P(e){return"[object FormData]"===Rr.call(e)}function R(e){return"[object Blob]"===Rr.call(e)}function M(e){return"boolean"==typeof e}function N(e){return e&&A(e.then)}function F(e){return Br.test(Rr.call(e))}function O(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function G(e){var t,n={},r=e.split(",");for(t=0;t<r.length;t++)n[r[t]]=!0;return n}function I(e){return wr(e.nodeName||e[0]&&e[0].nodeName)}function B(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function W(e,t,n,r){if(S(e)||E(e))throw Nr("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(F(t))throw Nr("cpta","Can't copy! TypedArray destination cannot be mutated.");if(t){if(e===t)throw Nr("cpi","Can't copy! Source and destination are identical.");n=n||[],r=r||[],_(e)&&(n.push(e),r.push(t));var i;if(Ir(e)){t.length=0;for(var a=0;a<e.length;a++)t.push(W(e[a],null,n,r))}else{var s=t.$$hashKey;if(Ir(t)?t.length=0:o(t,function(e,n){delete t[n]}),x(e))for(i in e)t[i]=W(e[i],null,n,r);else if(e&&"function"==typeof e.hasOwnProperty)for(i in e)e.hasOwnProperty(i)&&(t[i]=W(e[i],null,n,r));else for(i in e)_r.call(e,i)&&(t[i]=W(e[i],null,n,r));l(t,s)}}else if(t=e,_(e)){var u;if(n&&-1!==(u=n.indexOf(e)))return r[u];if(Ir(e))return W(e,[],n,r);if(F(e))t=new e.constructor(e);else if(k(e))t=new Date(e.getTime());else{if(!$(e)){var c=Object.create(Mr(e));return W(e,c,n,r)}t=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]),t.lastIndex=e.lastIndex}r&&(n.push(e),r.push(t))}return t}function L(e,t){if(Ir(e)){t=t||[];for(var n=0,r=e.length;r>n;n++)t[n]=e[n]}else if(_(e)){t=t||{};for(var i in e)("$"!==i.charAt(0)||"$"!==i.charAt(1))&&(t[i]=e[i])}return t||e}function j(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var r,i,o,a=typeof e,s=typeof t;if(a==s&&"object"==a){if(!Ir(e)){if(k(e))return k(t)?j(e.getTime(),t.getTime()):!1;if($(e))return $(t)?e.toString()==t.toString():!1;if(E(e)||E(t)||S(e)||S(t)||Ir(t)||k(t)||$(t))return!1;o=ge();for(i in e)if("$"!==i.charAt(0)&&!A(e[i])){if(!j(e[i],t[i]))return!1;o[i]=!0}for(i in t)if(!(i in o||"$"===i.charAt(0)||t[i]===n||A(t[i])))return!1;return!0}if(!Ir(t))return!1;if((r=e.length)==t.length){for(i=0;r>i;i++)if(!j(e[i],t[i]))return!1;return!0}}return!1}function V(e,t,n){return e.concat(Er.call(t,n))}function H(e,t){return Er.call(e,t||0)}function q(e,t){var n=arguments.length>2?H(arguments,2):[];return!A(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,V(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function U(e,r){var i=r;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?i=n:S(r)?i="$WINDOW":r&&t===r?i="$DOCUMENT":E(r)&&(i="$SCOPE"),i}function z(e,t){return"undefined"==typeof e?n:(D(t)||(t=t?2:null),JSON.stringify(e,U,t))}function Y(e){return C(e)?JSON.parse(e):e}function X(e,t){var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function K(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function Z(e,t,n){n=n?-1:1;var r=X(t,e.getTimezoneOffset());return K(e,n*(r-e.getTimezoneOffset()))}function J(e){e=Ar(e).clone();try{e.empty()}catch(t){}var n=Ar("<div>").append(e).html();try{return e[0].nodeType===Xr?wr(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+wr(t)})}catch(t){return wr(n)}}function Q(e){try{return decodeURIComponent(e)}catch(t){}}function ee(e){var t,n,r={};return o((e||"").split("&"),function(e){if(e&&(t=e.replace(/\+/g,"%20").split("="),n=Q(t[0]),w(n))){var i=w(t[1])?Q(t[1]):!0;_r.call(r,n)?Ir(r[n])?r[n].push(i):r[n]=[r[n],i]:r[n]=i}}),r}function te(e){var t=[];return o(e,function(e,n){Ir(e)?o(e,function(e){t.push(re(n,!0)+(e===!0?"":"="+re(e,!0)))}):t.push(re(n,!0)+(e===!0?"":"="+re(e,!0)))}),t.length?t.join("&"):""}function ne(e){return re(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function re(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function ie(e,t){var n,r,i=Hr.length;for(r=0;i>r;++r)if(n=Hr[r]+t,C(n=e.getAttribute(n)))return n;return null}function oe(e,t){var n,r,i={};o(Hr,function(t){var i=t+"app";!n&&e.hasAttribute&&e.hasAttribute(i)&&(n=e,r=e.getAttribute(i))}),o(Hr,function(t){var i,o=t+"app";!n&&(i=e.querySelector("["+o.replace(":","\\:")+"]"))&&(n=i,r=i.getAttribute(o))}),n&&(i.strictDi=null!==ie(n,"strict-di"),t(n,r?[r]:[],i))}function ae(n,r,i){_(i)||(i={});var a={strictDi:!1};i=d(a,i);var s=function(){if(n=Ar(n),n.injector()){var e=n[0]===t?"document":J(n);throw Nr("btstrpd","App Already Bootstrapped with this Element '{0}'",e.replace(/</,"&lt;").replace(/>/,"&gt;"))}r=r||[],r.unshift(["$provide",function(e){e.value("$rootElement",n)}]),i.debugInfoEnabled&&r.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),r.unshift("ng");var o=Je(r,i.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,r){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),o},u=/^NG_ENABLE_DEBUG_INFO!/,l=/^NG_DEFER_BOOTSTRAP!/;return e&&u.test(e.name)&&(i.debugInfoEnabled=!0,e.name=e.name.replace(u,"")),e&&!l.test(e.name)?s():(e.name=e.name.replace(l,""),Fr.resumeBootstrap=function(e){return o(e,function(e){r.push(e)}),s()},void(A(Fr.resumeDeferredBootstrap)&&Fr.resumeDeferredBootstrap()))}function se(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function ue(e){var t=Fr.element(e).injector();if(!t)throw Nr("test","no injector found for element argument to getTestability");return t.get("$$testability")}function le(e,t){return t=t||"_",e.replace(qr,function(e,n){return(n?t:"")+e.toLowerCase()})}function ce(){var t;if(!Ur){var r=Vr();$r=e.jQuery,w(r)&&($r=null===r?n:e[r]),$r&&$r.fn.on?(Ar=$r,d($r.fn,{scope:fi.scope,isolateScope:fi.isolateScope,controller:fi.controller,injector:fi.injector,inheritedData:fi.inheritedData}),t=$r.cleanData,$r.cleanData=function(e){var n;if(Gr)Gr=!1;else for(var r,i=0;null!=(r=e[i]);i++)n=$r._data(r,"events"),n&&n.$destroy&&$r(r).triggerHandler("$destroy");t(e)}):Ar=Se,Fr.element=Ar,Ur=!0}}function de(e,t,n){if(!e)throw Nr("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function pe(e,t,n){return n&&Ir(e)&&(e=e[e.length-1]),de(A(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function fe(e,t){if("hasOwnProperty"===e)throw Nr("badname","hasOwnProperty is not a valid {0} name",t)}function he(e,t,n){if(!t)return e;for(var r,i=t.split("."),o=e,a=i.length,s=0;a>s;s++)r=i[s],e&&(e=(o=e)[r]);return!n&&A(e)?q(o,e):e}function me(e){var t=e[0],n=e[e.length-1],r=[t];do{if(t=t.nextSibling,!t)break;r.push(t)}while(t!==n);return Ar(r)}function ge(){return Object.create(null)}function ve(e){function t(e,t,n){return e[t]||(e[t]=n())}var n=r("$injector"),i=r("ng"),o=t(e,"angular",Object);return o.$$minErr=o.$$minErr||r,t(o,"module",function(){var e={};return function(r,o,a){var s=function(e,t){if("hasOwnProperty"===e)throw i("badname","hasOwnProperty is not a valid {0} name",t)};return s(r,"module"),o&&e.hasOwnProperty(r)&&(e[r]=null),t(e,r,function(){function e(e,t,n,r){return r||(r=i),function(){return r[n||"push"]([e,t,arguments]),c}}function t(e,t){return function(n,o){return o&&A(o)&&(o.$$moduleName=r),i.push([e,t,arguments]),c}}if(!o)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",r);var i=[],s=[],u=[],l=e("$injector","invoke","push",s),c={_invokeQueue:i,_configBlocks:s,_runBlocks:u,requires:o,name:r,provider:t("$provide","provider"),factory:t("$provide","factory"),service:t("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),decorator:t("$provide","decorator"),animation:t("$animateProvider","register"),filter:t("$filterProvider","register"),controller:t("$controllerProvider","register"),directive:t("$compileProvider","directive"),config:l,run:function(e){return u.push(e),this}};return a&&l(a),c})}})}function be(e){var t=[];return JSON.stringify(e,function(e,n){if(n=U(e,n),_(n)){if(t.indexOf(n)>=0)return"<<already seen>>";t.push(n)}return n})}function ye(e){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof e?"undefined":"string"!=typeof e?be(e):e}function we(t){d(t,{bootstrap:ae,copy:W,extend:d,merge:p,equals:j,element:Ar,forEach:o,injector:Je,noop:m,bind:q,toJson:z,fromJson:Y,identity:g,isUndefined:y,isDefined:w,isString:C,isFunction:A,isObject:_,isNumber:D,isElement:O,isArray:Ir,version:Qr,isDate:k,lowercase:wr,uppercase:xr,callbacks:{counter:0},getTestability:ue,$$minErr:r,$$csp:jr,reloadWithDebugInfo:se}),Sr=ve(e);try{Sr("ngLocale")}catch(n){Sr("ngLocale",[]).provider("$locale",Pt)}Sr("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:vn}),e.provider("$compile",ut).directive({a:lo,input:$o,textarea:$o,form:mo,script:ya,select:xa,style:Da,option:Ca,ngBind:To,ngBindHtml:Ro,ngBindTemplate:Po,ngClass:No,ngClassEven:Oo,ngClassOdd:Fo,ngCloak:Go,ngController:Io,ngForm:go,ngHide:fa,ngIf:Lo,ngInclude:jo,ngInit:Ho,ngNonBindable:ia,ngPluralize:ua,ngRepeat:la,ngShow:pa,ngStyle:ha,ngSwitch:ma,ngSwitchWhen:ga,ngSwitchDefault:va,ngOptions:sa,
ngTransclude:ba,ngModel:ta,ngList:qo,ngChange:Mo,pattern:Aa,ngPattern:Aa,required:ka,ngRequired:ka,minlength:Sa,ngMinlength:Sa,maxlength:$a,ngMaxlength:$a,ngValue:Eo,ngModelOptions:ra}).directive({ngInclude:Vo}).directive(co).directive(Bo),e.provider({$anchorScroll:Qe,$animate:Si,$$animateQueue:$i,$$AnimateRunner:Ai,$browser:ot,$cacheFactory:at,$controller:ft,$document:ht,$exceptionHandler:mt,$filter:Pn,$interpolate:Et,$interval:Tt,$http:kt,$httpParamSerializer:vt,$httpParamSerializerJQLike:bt,$httpBackend:$t,$location:qt,$log:Ut,$parse:dn,$rootScope:gn,$q:pn,$$q:fn,$sce:_n,$sceDelegate:wn,$sniffer:xn,$templateCache:st,$templateRequest:Cn,$$testability:Dn,$timeout:kn,$window:Sn,$$rAF:mn,$$jqLite:ze,$$HashMap:vi,$$cookieReader:Tn})}])}function _e(){return++ti}function xe(e){return e.replace(ii,function(e,t,n,r){return r?n.toUpperCase():n}).replace(oi,"Moz$1")}function Ce(e){return!li.test(e)}function De(e){var t=e.nodeType;return t===zr||!t||t===Zr}function ke(e){for(var t in ei[e.ng339])return!0;return!1}function Ae(e,t){var n,r,i,a,s=t.createDocumentFragment(),u=[];if(Ce(e))u.push(t.createTextNode(e));else{for(n=n||s.appendChild(t.createElement("div")),r=(ci.exec(e)||["",""])[1].toLowerCase(),i=pi[r]||pi._default,n.innerHTML=i[1]+e.replace(di,"<$1></$2>")+i[2],a=i[0];a--;)n=n.lastChild;u=V(u,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",o(u,function(e){s.appendChild(e)}),s}function $e(e,n){n=n||t;var r;return(r=ui.exec(e))?[n.createElement(r[1])]:(r=Ae(e,n))?r.childNodes:[]}function Se(e){if(e instanceof Se)return e;var t;if(C(e)&&(e=Wr(e),t=!0),!(this instanceof Se)){if(t&&"<"!=e.charAt(0))throw si("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Se(e)}t?Ie(this,$e(e)):Ie(this,e)}function Ee(e){return e.cloneNode(!0)}function Te(e,t){if(t||Re(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),r=0,i=n.length;i>r;r++)Re(n[r])}function Pe(e,t,n,r){if(w(r))throw si("offargs","jqLite#off() does not support the `selector` argument");var i=Me(e),a=i&&i.events,s=i&&i.handle;if(s)if(t)o(t.split(" "),function(t){if(w(n)){var r=a[t];if(B(r||[],n),r&&r.length>0)return}ri(e,t,s),delete a[t]});else for(t in a)"$destroy"!==t&&ri(e,t,s),delete a[t]}function Re(e,t){var r=e.ng339,i=r&&ei[r];if(i){if(t)return void delete i.data[t];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),Pe(e)),delete ei[r],e.ng339=n}}function Me(e,t){var r=e.ng339,i=r&&ei[r];return t&&!i&&(e.ng339=r=_e(),i=ei[r]={events:{},data:{},handle:n}),i}function Ne(e,t,n){if(De(e)){var r=w(n),i=!r&&t&&!_(t),o=!t,a=Me(e,!i),s=a&&a.data;if(r)s[t]=n;else{if(o)return s;if(i)return s&&s[t];d(s,t)}}}function Fe(e,t){return e.getAttribute?(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1:!1}function Oe(e,t){t&&e.setAttribute&&o(t.split(" "),function(t){e.setAttribute("class",Wr((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Wr(t)+" "," ")))})}function Ge(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(t.split(" "),function(e){e=Wr(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",Wr(n))}}function Ie(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var r=0;n>r;r++)e[e.length++]=t[r]}else e[e.length++]=t}}function Be(e,t){return We(e,"$"+(t||"ngController")+"Controller")}function We(e,t,r){e.nodeType==Zr&&(e=e.documentElement);for(var i=Ir(t)?t:[t];e;){for(var o=0,a=i.length;a>o;o++)if((r=Ar.data(e,i[o]))!==n)return r;e=e.parentNode||e.nodeType===Jr&&e.host}}function Le(e){for(Te(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function je(e,t){t||Te(e);var n=e.parentNode;n&&n.removeChild(e)}function Ve(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):Ar(n).on("load",t)}function He(e,t){var n=hi[t.toLowerCase()];return n&&mi[I(e)]&&n}function qe(e,t){var n=e.nodeName;return("INPUT"===n||"TEXTAREA"===n)&&gi[t]}function Ue(e,t){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=t[r||n.type],o=i?i.length:0;if(o){if(y(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0},o>1&&(i=L(i));for(var s=0;o>s;s++)n.isImmediatePropagationStopped()||i[s].call(e,n)}};return n.elem=e,n}function ze(){this.$get=function(){return d(Se,{hasClass:function(e,t){return e.attr&&(e=e[0]),Fe(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),Ge(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),Oe(e,t)}})}}function Ye(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var r=typeof e;return n="function"==r||"object"==r&&null!==e?e.$$hashKey=r+":"+(t||u)():r+":"+e}function Xe(e,t){if(t){var n=0;this.nextUid=function(){return++n}}o(e,this.put,this)}function Ke(e){var t=e.toString().replace(_i,""),n=t.match(bi);return n?"function("+(n[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Ze(e,t,n){var r,i,a,s;if("function"==typeof e){if(!(r=e.$inject)){if(r=[],e.length){if(t)throw C(n)&&n||(n=e.name||Ke(e)),xi("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);i=e.toString().replace(_i,""),a=i.match(bi),o(a[1].split(yi),function(e){e.replace(wi,function(e,t,n){r.push(n)})})}e.$inject=r}}else Ir(e)?(s=e.length-1,pe(e[s],"fn"),r=e.slice(0,s)):pe(e,"fn",!0);return r}function Je(e,t){function r(e){return function(t,n){return _(t)?void o(t,s(e)):e(t,n)}}function i(e,t){if(fe(e,"service"),(A(t)||Ir(t))&&(t=D.instantiate(t)),!t.$get)throw xi("pget","Provider '{0}' must define $get factory method.",e);return x[e+g]=t}function a(e,t){return function(){var n=$.invoke(t,this);if(y(n))throw xi("undef","Provider '{0}' must return a value from $get factory method.",e);return n}}function u(e,t,n){return i(e,{$get:n!==!1?a(e,t):t})}function l(e,t){return u(e,["$injector",function(e){return e.instantiate(t)}])}function c(e,t){return u(e,v(t),!1)}function d(e,t){fe(e,"constant"),x[e]=t,k[e]=t}function p(e,t){var n=D.get(e+g),r=n.$get;n.$get=function(){var e=$.invoke(r,n);return $.invoke(t,null,{$delegate:e})}}function f(e){var t,n=[];return o(e,function(e){function r(e){var t,n;for(t=0,n=e.length;n>t;t++){var r=e[t],i=D.get(r[0]);i[r[1]].apply(i,r[2])}}if(!w.get(e)){w.put(e,!0);try{C(e)?(t=Sr(e),n=n.concat(f(t.requires)).concat(t._runBlocks),r(t._invokeQueue),r(t._configBlocks)):A(e)?n.push(D.invoke(e)):Ir(e)?n.push(D.invoke(e)):pe(e,"module")}catch(i){throw Ir(e)&&(e=e[e.length-1]),i.message&&i.stack&&-1==i.stack.indexOf(i.message)&&(i=i.message+"\n"+i.stack),xi("modulerr","Failed to instantiate module {0} due to:\n{1}",e,i.stack||i.message||i)}}}),n}function h(e,n){function r(t,r){if(e.hasOwnProperty(t)){if(e[t]===m)throw xi("cdep","Circular dependency found: {0}",t+" <- "+b.join(" <- "));return e[t]}try{return b.unshift(t),e[t]=m,e[t]=n(t,r)}catch(i){throw e[t]===m&&delete e[t],i}finally{b.shift()}}function i(e,n,i,o){"string"==typeof i&&(o=i,i=null);var a,s,u,l=[],c=Je.$$annotate(e,t,o);for(s=0,a=c.length;a>s;s++){if(u=c[s],"string"!=typeof u)throw xi("itkn","Incorrect injection token! Expected service name as string, got {0}",u);l.push(i&&i.hasOwnProperty(u)?i[u]:r(u,o))}return Ir(e)&&(e=e[a]),e.apply(n,l)}function o(e,t,n){var r=Object.create((Ir(e)?e[e.length-1]:e).prototype||null),o=i(e,r,t,n);return _(o)||A(o)?o:r}return{invoke:i,instantiate:o,get:r,annotate:Je.$$annotate,has:function(t){return x.hasOwnProperty(t+g)||e.hasOwnProperty(t)}}}t=t===!0;var m={},g="Provider",b=[],w=new Xe([],!0),x={$provide:{provider:r(i),factory:r(u),service:r(l),value:r(c),constant:r(d),decorator:p}},D=x.$injector=h(x,function(e,t){throw Fr.isString(t)&&b.push(t),xi("unpr","Unknown provider: {0}",b.join(" <- "))}),k={},$=k.$injector=h(k,function(e,t){var r=D.get(e+g,t);return $.invoke(r.$get,r,n,e)});return o(f(e),function(e){e&&$.invoke(e)}),$}function Qe(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,r){function i(e){var t=null;return Array.prototype.some.call(e,function(e){return"a"===I(e)?(t=e,!0):void 0}),t}function o(){var e=s.yOffset;if(A(e))e=e();else if(O(e)){var n=e[0],r=t.getComputedStyle(n);e="fixed"!==r.position?0:n.getBoundingClientRect().bottom}else D(e)||(e=0);return e}function a(e){if(e){e.scrollIntoView();var n=o();if(n){var r=e.getBoundingClientRect().top;t.scrollBy(0,r-n)}}else t.scrollTo(0,0)}function s(e){e=C(e)?e:n.hash();var t;e?(t=u.getElementById(e))?a(t):(t=i(u.getElementsByName(e)))?a(t):"top"===e&&a(null):a(null)}var u=t.document;return e&&r.$watch(function(){return n.hash()},function(e,t){(e!==t||""!==e)&&Ve(function(){r.$evalAsync(s)})}),s}]}function et(e,t){return e||t?e?t?(Ir(e)&&(e=e.join(" ")),Ir(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function tt(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===Di)return n}}function nt(e){C(e)&&(e=e.split(" "));var t=ge();return o(e,function(e){e.length&&(t[e]=!0)}),t}function rt(e){return _(e)?e:{}}function it(e,t,n,r){function i(e){try{e.apply(null,H(arguments,1))}finally{if(b--,0===b)for(;w.length;)try{w.pop()()}catch(t){n.error(t)}}}function a(e){var t=e.indexOf("#");return-1===t?"":e.substr(t)}function s(){l(),c()}function u(){try{return f.state}catch(e){}}function l(){_=u(),_=y(_)?null:_,j(_,S)&&(_=S),S=_}function c(){(C!==d.url()||x!==_)&&(C=d.url(),x=_,o(A,function(e){e(d.url(),_)}))}var d=this,p=(t[0],e.location),f=e.history,h=e.setTimeout,g=e.clearTimeout,v={};d.isMock=!1;var b=0,w=[];d.$$completeOutstandingRequest=i,d.$$incOutstandingRequestCount=function(){b++},d.notifyWhenNoOutstandingRequests=function(e){0===b?e():w.push(e)};var _,x,C=p.href,D=t.find("base"),k=null;l(),x=_,d.url=function(t,n,i){if(y(i)&&(i=null),p!==e.location&&(p=e.location),f!==e.history&&(f=e.history),t){var o=x===i;if(C===t&&(!r.history||o))return d;var s=C&&Ot(C)===Ot(t);return C=t,x=i,!r.history||s&&o?((!s||k)&&(k=t),n?p.replace(t):s?p.hash=a(t):p.href=t):(f[n?"replaceState":"pushState"](i,"",t),l(),x=_),d}return k||p.href.replace(/%27/g,"'")},d.state=function(){return _};var A=[],$=!1,S=null;d.onUrlChange=function(t){return $||(r.history&&Ar(e).on("popstate",s),Ar(e).on("hashchange",s),$=!0),A.push(t),t},d.$$applicationDestroyed=function(){Ar(e).off("hashchange popstate",s)},d.$$checkUrlChange=c,d.baseHref=function(){var e=D.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""},d.defer=function(e,t){var n;return b++,n=h(function(){delete v[n],i(e)},t||0),v[n]=!0,n},d.defer.cancel=function(e){return v[e]?(delete v[e],g(e),i(m),!0):!1}}function ot(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new it(e,r,t,n)}]}function at(){this.$get=function(){function e(e,n){function i(e){e!=p&&(f?f==e&&(f=e.n):f=e,o(e.n,e.p),o(e,p),p=e,p.n=null)}function o(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw r("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var a=0,s=d({},n,{id:e}),u={},l=n&&n.capacity||Number.MAX_VALUE,c={},p=null,f=null;return t[e]={put:function(e,t){if(!y(t)){if(l<Number.MAX_VALUE){var n=c[e]||(c[e]={key:e});i(n)}return e in u||a++,u[e]=t,a>l&&this.remove(f.key),t}},get:function(e){if(l<Number.MAX_VALUE){var t=c[e];if(!t)return;i(t)}return u[e]},remove:function(e){if(l<Number.MAX_VALUE){var t=c[e];if(!t)return;t==p&&(p=t.p),t==f&&(f=t.n),o(t.n,t.p),delete c[e]}delete u[e],a--},removeAll:function(){u={},a=0,c={},p=f=null},destroy:function(){u=null,s=null,c=null,delete t[e]},info:function(){return d({},s,{size:a})}}}var t={};return e.info=function(){var e={};return o(t,function(t,n){e[n]=t.info()}),e},e.get=function(e){return t[e]},e}}function st(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function ut(e,r){function i(e,t,n){var r=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,i={};return o(e,function(e,o){var a=e.match(r);if(!a)throw Ei("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,o,e,n?"controller bindings definition":"isolate scope definition");i[o]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||o}}),i}function a(e,t){var n={isolateScope:null,bindToController:null};if(_(e.scope)&&(e.bindToController===!0?(n.bindToController=i(e.scope,t,!0),n.isolateScope={}):n.isolateScope=i(e.scope,t,!1)),_(e.bindToController)&&(n.bindToController=i(e.bindToController,t,!0)),_(n.bindToController)){var r=e.controller,o=e.controllerAs;if(!r)throw Ei("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);if(!pt(r,o))throw Ei("noident","Cannot bind to controller without identifier for directive '{0}'.",t)}return n}function u(e){var t=e.charAt(0);if(!t||t!==wr(t))throw Ei("baddir","Directive name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw Ei("baddir","Directive name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}var l={},c="Directive",p=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,f=/(([\w\-]+)(?:\:([^;]+))?;?)/,b=G("ngSrc,ngSrcset,src,srcset"),y=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,x=/^(on[a-z]+|formaction)$/;this.directive=function k(t,n){return fe(t,"directive"),C(t)?(u(t),de(n,"directiveFactory"),l.hasOwnProperty(t)||(l[t]=[],e.factory(t+c,["$injector","$exceptionHandler",function(e,n){var r=[];return o(l[t],function(i,o){try{var s=e.invoke(i);A(s)?s={compile:v(s)}:!s.compile&&s.link&&(s.compile=v(s.link)),s.priority=s.priority||0,s.index=o,s.name=s.name||t,s.require=s.require||s.controller&&s.name,s.restrict=s.restrict||"EA";var u=s.$$bindings=a(s,s.name);_(u.isolateScope)&&(s.$$isolateBindings=u.isolateScope),s.$$moduleName=i.$$moduleName,r.push(s)}catch(l){n(l)}}),r}])),l[t].push(n)):o(t,s(k)),this},this.aHrefSanitizationWhitelist=function(e){return w(e)?(r.aHrefSanitizationWhitelist(e),this):r.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return w(e)?(r.imgSrcSanitizationWhitelist(e),this):r.imgSrcSanitizationWhitelist()};var D=!0;this.debugInfoEnabled=function(e){return w(e)?(D=e,this):D},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(e,r,i,a,s,u,v,w,k,$,S){function T(e,t){try{e.addClass(t)}catch(n){}}function P(e,t,n,r,i){e instanceof Ar||(e=Ar(e)),o(e,function(t,n){t.nodeType==Xr&&t.nodeValue.match(/\S+/)&&(e[n]=Ar(t).wrap("<span></span>").parent()[0])});var a=M(e,t,e,n,r,i);P.$$addScopeClass(e);var s=null;return function(t,n,r){de(t,"scope"),r=r||{};var i=r.parentBoundTranscludeFn,o=r.transcludeControllers,u=r.futureParentElement;i&&i.$$boundTransclude&&(i=i.$$boundTransclude),s||(s=R(u));var l;if(l="html"!==s?Ar(Z(s,Ar("<div>").append(e).html())):n?fi.clone.call(e):e,o)for(var c in o)l.data("$"+c+"Controller",o[c].instance);return P.$$addScopeInfo(l,t),n&&n(l,t),a&&a(t,l,l,i),l}}function R(e){var t=e&&e[0];return t&&"foreignobject"!==I(t)&&t.toString().match(/SVG/)?"svg":"html"}function M(e,t,r,i,o,a){function s(e,r,i,o){var a,s,u,l,c,d,p,f,g;if(h){var v=r.length;for(g=new Array(v),c=0;c<m.length;c+=3)p=m[c],g[p]=r[p]}else g=r;for(c=0,d=m.length;d>c;)if(u=g[m[c++]],a=m[c++],s=m[c++],a){if(a.scope){l=e.$new(),P.$$addScopeInfo(Ar(u),l);var b=a.$$destroyBindings;b&&(a.$$destroyBindings=null,l.$on("$destroyed",b))}else l=e;f=a.transcludeOnThisElement?N(e,a.transclude,o):!a.templateOnThisElement&&o?o:!o&&t?N(e,t):null,a(s,l,u,i,f,a)}else s&&s(e,u.childNodes,n,o)}for(var u,l,c,d,p,f,h,m=[],g=0;g<e.length;g++)u=new oe,l=F(e[g],[],u,0===g?i:n,o),c=l.length?W(l,e[g],u,t,r,null,[],[],a):null,c&&c.scope&&P.$$addScopeClass(u.$$element),p=c&&c.terminal||!(d=e[g].childNodes)||!d.length?null:M(d,c?(c.transcludeOnThisElement||!c.templateOnThisElement)&&c.transclude:t),(c||p)&&(m.push(g,c,p),f=!0,h=h||c),a=null;return f?s:null}function N(e,t,n){var r=function(r,i,o,a,s){return r||(r=e.$new(!1,s),r.$$transcluded=!0),t(r,i,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})};return r}function F(e,t,n,r,i){var o,a,s=e.nodeType,u=n.$attr;switch(s){case zr:V(t,lt(I(e)),"E",r,i);for(var l,c,d,h,m,g,v=e.attributes,b=0,y=v&&v.length;y>b;b++){var w=!1,x=!1;l=v[b],c=l.name,m=Wr(l.value),h=lt(c),(g=ce.test(h))&&(c=c.replace(Ti,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var D=h.replace(/(Start|End)$/,"");q(D)&&h===D+"Start"&&(w=c,x=c.substr(0,c.length-5)+"end",c=c.substr(0,c.length-6)),d=lt(c.toLowerCase()),u[d]=c,(g||!n.hasOwnProperty(d))&&(n[d]=m,He(e,d)&&(n[d]=!0)),ee(e,t,m,d,g),V(t,d,"A",r,i,w,x)}if(a=e.className,_(a)&&(a=a.animVal),C(a)&&""!==a)for(;o=f.exec(a);)d=lt(o[2]),V(t,d,"C",r,i)&&(n[d]=Wr(o[3])),a=a.substr(o.index+o[0].length);break;case Xr:if(11===kr)for(;e.parentNode&&e.nextSibling&&e.nextSibling.nodeType===Xr;)e.nodeValue=e.nodeValue+e.nextSibling.nodeValue,e.parentNode.removeChild(e.nextSibling);K(t,e.nodeValue);break;case Kr:try{o=p.exec(e.nodeValue),o&&(d=lt(o[1]),V(t,d,"M",r,i)&&(n[d]=Wr(o[2])))}catch(k){}}return t.sort(Y),t}function O(e,t,n){var r=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw Ei("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);e.nodeType==zr&&(e.hasAttribute(t)&&i++,e.hasAttribute(n)&&i--),r.push(e),e=e.nextSibling}while(i>0)}else r.push(e);return Ar(r)}function G(e,t,n){return function(r,i,o,a,s){return i=O(i[0],t,n),e(r,i,o,a,s)}}function W(e,r,o,a,s,l,c,d,p){function f(e,t,n,r){e&&(n&&(e=G(e,n,r)),e.require=v.require,e.directiveName=b,(T===v||v.$$isolateScope)&&(e=ne(e,{isolateScope:!0})),c.push(e)),t&&(n&&(t=G(t,n,r)),t.require=v.require,t.directiveName=b,(T===v||v.$$isolateScope)&&(t=ne(t,{isolateScope:!0})),d.push(t))}function h(e,t,n,r){var i;if(C(t)){var o=t.match(y),a=t.substring(o[0].length),s=o[1]||o[3],u="?"===o[2];if("^^"===s?n=n.parent():(i=r&&r[a],i=i&&i.instance),!i){var l="$"+a+"Controller";i=s?n.inheritedData(l):n.data(l)}if(!i&&!u)throw Ei("ctreq","Controller '{0}', required by directive '{1}', can't be found!",a,e)}else if(Ir(t)){i=[];for(var c=0,d=t.length;d>c;c++)i[c]=h(e,t[c],n,r)}return i||null}function m(e,t,n,r,i,o){var a=ge();for(var s in r){var l=r[s],c={$scope:l===T||l.$$isolateScope?i:o,$element:e,$attrs:t,$transclude:n},d=l.controller;"@"==d&&(d=t[l.name]);var p=u(d,c,!0,l.controllerAs);a[l.name]=p,B||e.data("$"+l.name+"Controller",p.instance)}return a}function g(e,t,i,a,s,u){function l(e,t,r){var i;return E(e)||(r=t,t=e,e=n),B&&(i=y),r||(r=B?_.parent():_),s(e,t,i,r,M)}var p,f,g,v,b,y,w,_,x;if(r===i?(x=o,_=o.$$element):(_=Ar(i),x=new oe(_,o)),T&&(b=t.$new(!0)),s&&(w=l,w.$$boundTransclude=s),S&&(y=m(_,x,w,S,b,t)),T&&(P.$$addScopeInfo(_,b,!0,!(R&&(R===T||R===T.$$originalDirective))),P.$$addScopeClass(_,!0),b.$$isolateBindings=T.$$isolateBindings,ie(t,x,b,b.$$isolateBindings,T,b)),y){var C,D,k=T||$;k&&y[k.name]&&(C=k.$$bindings.bindToController,v=y[k.name],v&&v.identifier&&C&&(D=v,u.$$destroyBindings=ie(t,x,v.instance,C,k)));for(p in y){v=y[p];var A=v();A!==v.instance&&(v.instance=A,_.data("$"+p+"Controller",A),v===D&&(u.$$destroyBindings(),u.$$destroyBindings=ie(t,x,A,C,k)))}}for(p=0,f=c.length;f>p;p++)g=c[p],re(g,g.isolateScope?b:t,_,x,g.require&&h(g.directiveName,g.require,_,y),w);var M=t;for(T&&(T.template||null===T.templateUrl)&&(M=b),e&&e(M,i.childNodes,n,s),p=d.length-1;p>=0;p--)g=d[p],re(g,g.isolateScope?b:t,_,x,g.require&&h(g.directiveName,g.require,_,y),w)}p=p||{};for(var v,b,w,x,D,k=-Number.MAX_VALUE,$=p.newScopeDirective,S=p.controllerDirectives,T=p.newIsolateScopeDirective,R=p.templateDirective,M=p.nonTlbTranscludeDirective,N=!1,I=!1,B=p.hasElementTranscludeDirective,W=o.$$element=Ar(r),j=l,V=a,q=0,Y=e.length;Y>q;q++){v=e[q];var K=v.$$start,Q=v.$$end;if(K&&(W=O(r,K,Q)),w=n,k>v.priority)break;if((D=v.scope)&&(v.templateUrl||(_(D)?(X("new/isolated scope",T||$,v,W),T=v):X("new/isolated scope",T,v,W)),$=$||v),b=v.name,!v.templateUrl&&v.controller&&(D=v.controller,S=S||ge(),X("'"+b+"' controller",S[b],v,W),S[b]=v),(D=v.transclude)&&(N=!0,v.$$tlb||(X("transclusion",M,v,W),M=v),"element"==D?(B=!0,k=v.priority,w=W,W=o.$$element=Ar(t.createComment(" "+b+": "+o[b]+" ")),r=W[0],te(s,H(w),r),V=P(w,a,k,j&&j.name,{nonTlbTranscludeDirective:M})):(w=Ar(Ee(r)).contents(),W.empty(),V=P(w,a))),v.template)if(I=!0,X("template",R,v,W),R=v,D=A(v.template)?v.template(W,o):v.template,D=ue(D),v.replace){if(j=v,w=Ce(D)?[]:dt(Z(v.templateNamespace,Wr(D))),r=w[0],1!=w.length||r.nodeType!==zr)throw Ei("tplrt","Template for directive '{0}' must have exactly one root element. {1}",b,"");te(s,W,r);var ee={$attr:{}},ae=F(r,[],ee),se=e.splice(q+1,e.length-(q+1));T&&L(ae),e=e.concat(ae).concat(se),U(o,ee),Y=e.length}else W.html(D);if(v.templateUrl)I=!0,X("template",R,v,W),R=v,v.replace&&(j=v),g=z(e.splice(q,e.length-q),W,o,s,N&&V,c,d,{controllerDirectives:S,newScopeDirective:$!==v&&$,newIsolateScopeDirective:T,templateDirective:R,nonTlbTranscludeDirective:M}),Y=e.length;else if(v.compile)try{x=v.compile(W,o,V),A(x)?f(null,x,K,Q):x&&f(x.pre,x.post,K,Q)}catch(le){i(le,J(W))}v.terminal&&(g.terminal=!0,k=Math.max(k,v.priority))}return g.scope=$&&$.scope===!0,g.transcludeOnThisElement=N,g.templateOnThisElement=I,g.transclude=V,p.hasElementTranscludeDirective=B,g}function L(e){for(var t=0,n=e.length;n>t;t++)e[t]=h(e[t],{$$isolateScope:!0})}function V(t,r,o,a,s,u,d){if(r===s)return null;var p=null;if(l.hasOwnProperty(r))for(var f,m=e.get(r+c),g=0,v=m.length;v>g;g++)try{f=m[g],(a===n||a>f.priority)&&-1!=f.restrict.indexOf(o)&&(u&&(f=h(f,{$$start:u,$$end:d})),t.push(f),p=f)}catch(b){i(b)}return p}function q(t){if(l.hasOwnProperty(t))for(var n,r=e.get(t+c),i=0,o=r.length;o>i;i++)if(n=r[i],n.multiElement)return!0;return!1}function U(e,t){var n=t.$attr,r=e.$attr,i=e.$$element;o(e,function(r,i){"$"!=i.charAt(0)&&(t[i]&&t[i]!==r&&(r+=("style"===i?";":" ")+t[i]),e.$set(i,r,!0,n[i]))}),o(t,function(t,o){"class"==o?(T(i,t),e["class"]=(e["class"]?e["class"]+" ":"")+t):"style"==o?(i.attr("style",i.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==o.charAt(0)||e.hasOwnProperty(o)||(e[o]=t,r[o]=n[o])})}function z(e,t,n,r,i,s,u,l){var c,d,p=[],f=t[0],m=e.shift(),g=h(m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),v=A(m.templateUrl)?m.templateUrl(t,n):m.templateUrl,b=m.templateNamespace;return t.empty(),a(v).then(function(a){var h,y,w,x;if(a=ue(a),m.replace){if(w=Ce(a)?[]:dt(Z(b,Wr(a))),h=w[0],1!=w.length||h.nodeType!==zr)throw Ei("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m.name,v);y={$attr:{}},te(r,t,h);var C=F(h,[],y);_(m.scope)&&L(C),e=C.concat(e),U(n,y)}else h=f,t.html(a);for(e.unshift(g),c=W(e,h,n,i,t,m,s,u,l),o(r,function(e,n){e==h&&(r[n]=t[0])}),d=M(t[0].childNodes,i);p.length;){var D=p.shift(),k=p.shift(),A=p.shift(),$=p.shift(),S=t[0];if(!D.$$destroyed){if(k!==f){var E=k.className;l.hasElementTranscludeDirective&&m.replace||(S=Ee(h)),te(A,Ar(k),S),T(Ar(S),E)}x=c.transcludeOnThisElement?N(D,c.transclude,$):$,c(d,D,S,r,x,c)}}p=null}),function(e,t,n,r,i){var o=i;t.$$destroyed||(p?p.push(t,n,r,o):(c.transcludeOnThisElement&&(o=N(t,c.transclude,i)),c(d,t,n,r,o,c)))}}function Y(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function X(e,t,n,r){function i(e){return e?" (module: "+e+")":""}if(t)throw Ei("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,i(t.$$moduleName),n.name,i(n.$$moduleName),e,J(r))}function K(e,t){var n=r(t,!0);n&&e.push({priority:0,compile:function(e){var t=e.parent(),r=!!t.length;return r&&P.$$addBindingClass(t),function(e,t){var i=t.parent();r||P.$$addBindingClass(i),P.$$addBindingInfo(i,n.expressions),e.$watch(n,function(e){t[0].nodeValue=e})}}})}function Z(e,n){switch(e=wr(e||"html")){case"svg":case"math":var r=t.createElement("div");return r.innerHTML="<"+e+">"+n+"</"+e+">",r.childNodes[0].childNodes;default:return n}}function Q(e,t){if("srcdoc"==t)return k.HTML;var n=I(e);return"xlinkHref"==t||"form"==n&&"action"==t||"img"!=n&&("src"==t||"ngSrc"==t)?k.RESOURCE_URL:void 0}function ee(e,t,n,i,o){var a=Q(e,i);o=b[i]||o;var s=r(n,!0,a,o);if(s){if("multiple"===i&&"select"===I(e))throw Ei("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",J(e));t.push({priority:100,compile:function(){return{pre:function(e,t,u){var l=u.$$observers||(u.$$observers={});if(x.test(i))throw Ei("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var c=u[i];c!==n&&(s=c&&r(c,!0,a,o),n=c),s&&(u[i]=s(e),(l[i]||(l[i]=[])).$$inter=!0,(u.$$observers&&u.$$observers[i].$$scope||e).$watch(s,function(e,t){"class"===i&&e!=t?u.$updateClass(e,t):u.$set(i,e)}))}}}})}}function te(e,n,r){var i,o,a=n[0],s=n.length,u=a.parentNode;if(e)for(i=0,o=e.length;o>i;i++)if(e[i]==a){e[i++]=r;for(var l=i,c=l+s-1,d=e.length;d>l;l++,c++)d>c?e[l]=e[c]:delete e[l];e.length-=s-1,e.context===a&&(e.context=r);break}u&&u.replaceChild(r,a);var p=t.createDocumentFragment();p.appendChild(a),Ar.hasData(a)&&(Ar(r).data(Ar(a).data()),$r?(Gr=!0,$r.cleanData([a])):delete Ar.cache[a[Ar.expando]]);for(var f=1,h=n.length;h>f;f++){var m=n[f];Ar(m).remove(),p.appendChild(m),delete n[f]}n[0]=r,n.length=1}function ne(e,t){return d(function(){return e.apply(null,arguments)},e,t)}function re(e,t,n,r,o,a){try{e(t,n,r,o,a)}catch(s){i(s,J(n))}}function ie(e,t,i,a,u,l){var c;o(a,function(o,a){var l,d,p,f,h=o.attrName,g=o.optional,v=o.mode;switch(_r.call(t,h)||(t[h]=n),v){case"@":t[h]||g||(i[a]=n),t.$observe(h,function(e){i[a]=e}),t.$$observers[h].$$scope=e,t[h]&&(i[a]=r(t[h])(e));break;case"=":if(g&&!t[h])return;d=s(t[h]),f=d.literal?j:function(e,t){return e===t||e!==e&&t!==t},p=d.assign||function(){throw l=i[a]=d(e),Ei("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",t[h],u.name)},l=i[a]=d(e);var b=function(t){return f(t,i[a])||(f(t,l)?p(e,t=i[a]):i[a]=t),l=t};b.$stateful=!0;var y;y=o.collection?e.$watchCollection(t[h],b):e.$watch(s(t[h],b),null,d.literal),c=c||[],c.push(y);break;case"&":if(d=s(t[h]),d===m&&g)break;i[a]=function(t){return d(e,t)}}});var d=c?function(){for(var e=0,t=c.length;t>e;++e)c[e]()}:m;return l&&d!==m?(l.$on("$destroy",d),m):d}var oe=function(e,t){if(t){var n,r,i,o=Object.keys(t);for(n=0,r=o.length;r>n;n++)i=o[n],this[i]=t[i]}else this.$attr={};this.$$element=e};oe.prototype={$normalize:lt,$addClass:function(e){e&&e.length>0&&$.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&$.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=ct(e,t);n&&n.length&&$.addClass(this.$$element,n);var r=ct(t,e);r&&r.length&&$.removeClass(this.$$element,r)},$set:function(e,t,r,a){var s,u=this.$$element[0],l=He(u,e),c=qe(u,e),d=e;if(l?(this.$$element.prop(e,t),a=l):c&&(this[c]=t,d=c),this[e]=t,a?this.$attr[e]=a:(a=this.$attr[e],a||(this.$attr[e]=a=le(e,"-"))),s=I(this.$$element),"a"===s&&"href"===e||"img"===s&&"src"===e)this[e]=t=S(t,"src"===e);else if("img"===s&&"srcset"===e){for(var p="",f=Wr(t),h=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,m=/\s/.test(f)?h:/(,)/,g=f.split(m),v=Math.floor(g.length/2),b=0;v>b;b++){var y=2*b;p+=S(Wr(g[y]),!0),p+=" "+Wr(g[y+1])}var w=Wr(g[2*b]).split(/\s/);p+=S(Wr(w[0]),!0),2===w.length&&(p+=" "+Wr(w[1])),this[e]=t=p}r!==!1&&(null===t||t===n?this.$$element.removeAttr(a):this.$$element.attr(a,t));var _=this.$$observers;_&&o(_[d],function(e){try{e(t)}catch(n){i(n)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers=ge()),i=r[e]||(r[e]=[]);return i.push(t),v.$evalAsync(function(){!i.$$inter&&n.hasOwnProperty(e)&&t(n[e])}),function(){B(i,t)}}};var ae=r.startSymbol(),se=r.endSymbol(),ue="{{"==ae||"}}"==se?g:function(e){return e.replace(/\{\{/g,ae).replace(/}}/g,se)},ce=/^ngAttr[A-Z]/;return P.$$addBindingInfo=D?function(e,t){var n=e.data("$binding")||[];Ir(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:m,P.$$addBindingClass=D?function(e){T(e,"ng-binding")}:m,P.$$addScopeInfo=D?function(e,t,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(i,t)}:m,P.$$addScopeClass=D?function(e,t){T(e,t?"ng-isolate-scope":"ng-scope")}:m,P}]}function lt(e){return xe(e.replace(Ti,""))}function ct(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/);e:for(var o=0;o<r.length;o++){for(var a=r[o],s=0;s<i.length;s++)if(a==i[s])continue e;n+=(n.length>0?" ":"")+a}return n}function dt(e){e=Ar(e);var t=e.length;if(1>=t)return e;for(;t--;){var n=e[t];n.nodeType===Kr&&Tr.call(e,t,1)}return e}function pt(e,t){if(t&&C(t))return t;if(C(e)){var n=Ri.exec(e);if(n)return n[3]}}function ft(){var e={},t=!1;this.register=function(t,n){fe(t,"controller"),_(t)?d(e,t):e[t]=n},this.allowGlobals=function(){t=!0},this.$get=["$injector","$window",function(i,o){function a(e,t,n,i){if(!e||!_(e.$scope))throw r("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,t);e.$scope[t]=n}return function(r,s,u,l){var c,p,f,h;if(u=u===!0,l&&C(l)&&(h=l),C(r)){if(p=r.match(Ri),!p)throw Pi("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",r);f=p[1],h=h||p[3],r=e.hasOwnProperty(f)?e[f]:he(s.$scope,f,!0)||(t?he(o,f,!0):n),pe(r,f,!0)}if(u){var m=(Ir(r)?r[r.length-1]:r).prototype;c=Object.create(m||null),h&&a(s,h,c,f||r.name);var g;return g=d(function(){var e=i.invoke(r,c,s,f);return e!==c&&(_(e)||A(e))&&(c=e,h&&a(s,h,c,f||r.name)),c},{instance:c,identifier:h})}return c=i.instantiate(r,s,f),h&&a(s,h,c,f||r.name),c}}]}function ht(){this.$get=["$window",function(e){return Ar(e.document)}]}function mt(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function gt(e){return _(e)?k(e)?e.toISOString():z(e):e}function vt(){this.$get=function(){return function(e){if(!e)return"";var t=[];return a(e,function(e,n){null===e||y(e)||(Ir(e)?o(e,function(e,r){t.push(re(n)+"="+re(gt(e)))}):t.push(re(n)+"="+re(gt(e))))}),t.join("&")}}}function bt(){this.$get=function(){return function(e){function t(e,r,i){null===e||y(e)||(Ir(e)?o(e,function(e){t(e,r+"[]")}):_(e)&&!k(e)?a(e,function(e,n){t(e,r+(i?"":"[")+n+(i?"":"]"))}):n.push(re(r)+"="+re(gt(e))))}if(!e)return"";var n=[];return t(e,"",!0),n.join("&")}}}function yt(e,t){if(C(e)){var n=e.replace(Gi,"").trim();if(n){var r=t("Content-Type");(r&&0===r.indexOf(Mi)||wt(n))&&(e=Y(n))}}return e}function wt(e){var t=e.match(Fi);return t&&Oi[t[0]].test(e)}function _t(e){function t(e,t){e&&(r[e]=r[e]?r[e]+", "+t:t)}var n,r=ge();return C(e)?o(e.split("\n"),function(e){n=e.indexOf(":"),t(wr(Wr(e.substr(0,n))),Wr(e.substr(n+1)))}):_(e)&&o(e,function(e,n){t(wr(n),Wr(e))}),r}function xt(e){var t;return function(n){if(t||(t=_t(e)),n){var r=t[wr(n)];return void 0===r&&(r=null),r}return t}}function Ct(e,t,n,r){return A(r)?r(e,t,n):(o(r,function(r){e=r(e,t,n)}),e)}function Dt(e){return e>=200&&300>e}function kt(){var e=this.defaults={transformResponse:[yt],transformRequest:[function(e){return!_(e)||T(e)||R(e)||P(e)?e:z(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:L(Ni),put:L(Ni),patch:L(Ni)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},t=!1;this.useApplyAsync=function(e){return w(e)?(t=!!e,this):t};var i=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(a,s,u,l,c,p){function f(t){function i(e){var t=d({},e);return e.data?t.data=Ct(e.data,e.headers,e.status,u.transformResponse):t.data=e.data,Dt(e.status)?t:c.reject(t)}function a(e,t){var n,r={};return o(e,function(e,i){A(e)?(n=e(t),null!=n&&(r[i]=n)):r[i]=e}),r}function s(t){var n,r,i,o=e.headers,s=d({},t.headers);o=d({},o.common,o[wr(t.method)]);e:for(n in o){r=wr(n);for(i in s)if(wr(i)===r)continue e;s[n]=o[n]}return a(s,L(t))}if(!Fr.isObject(t))throw r("$http")("badreq","Http request configuration must be an object.  Received: {0}",t);
var u=d({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer},t);u.headers=s(t),u.method=xr(u.method),u.paramSerializer=C(u.paramSerializer)?p.get(u.paramSerializer):u.paramSerializer;var l=function(t){var r=t.headers,a=Ct(t.data,xt(r),n,t.transformRequest);return y(a)&&o(r,function(e,t){"content-type"===wr(t)&&delete r[t]}),y(t.withCredentials)&&!y(e.withCredentials)&&(t.withCredentials=e.withCredentials),g(t,a).then(i,i)},f=[l,n],h=c.when(u);for(o(x,function(e){(e.request||e.requestError)&&f.unshift(e.request,e.requestError),(e.response||e.responseError)&&f.push(e.response,e.responseError)});f.length;){var m=f.shift(),v=f.shift();h=h.then(m,v)}return h.success=function(e){return pe(e,"fn"),h.then(function(t){e(t.data,t.status,t.headers,u)}),h},h.error=function(e){return pe(e,"fn"),h.then(null,function(t){e(t.data,t.status,t.headers,u)}),h},h}function h(e){o(arguments,function(e){f[e]=function(t,n){return f(d({},n||{},{method:e,url:t}))}})}function m(e){o(arguments,function(e){f[e]=function(t,n,r){return f(d({},r||{},{method:e,url:t,data:n}))}})}function g(r,i){function o(e,n,r,i){function o(){u(n,e,r,i)}h&&(Dt(e)?h.put(D,[e,n,_t(r),i]):h.remove(D)),t?l.$applyAsync(o):(o(),l.$$phase||l.$apply())}function u(e,t,n,i){t=Math.max(t,0),(Dt(t)?g.resolve:g.reject)({data:e,status:t,headers:xt(n),config:r,statusText:i})}function d(e){u(e.data,e.status,L(e.headers()),e.statusText)}function p(){var e=f.pendingRequests.indexOf(r);-1!==e&&f.pendingRequests.splice(e,1)}var h,m,g=c.defer(),x=g.promise,C=r.headers,D=v(r.url,r.paramSerializer(r.params));if(f.pendingRequests.push(r),x.then(p,p),!r.cache&&!e.cache||r.cache===!1||"GET"!==r.method&&"JSONP"!==r.method||(h=_(r.cache)?r.cache:_(e.cache)?e.cache:b),h&&(m=h.get(D),w(m)?N(m)?m.then(d,d):Ir(m)?u(m[1],m[0],L(m[2]),m[3]):u(m,200,{},"OK"):h.put(D,x)),y(m)){var k=$n(r.url)?s()[r.xsrfCookieName||e.xsrfCookieName]:n;k&&(C[r.xsrfHeaderName||e.xsrfHeaderName]=k),a(r.method,D,i,o,C,r.timeout,r.withCredentials,r.responseType)}return x}function v(e,t){return t.length>0&&(e+=(-1==e.indexOf("?")?"?":"&")+t),e}var b=u("$http");e.paramSerializer=C(e.paramSerializer)?p.get(e.paramSerializer):e.paramSerializer;var x=[];return o(i,function(e){x.unshift(C(e)?p.get(e):p.invoke(e))}),f.pendingRequests=[],h("get","delete","head","jsonp"),m("post","put","patch"),f.defaults=e,f}]}function At(){return new e.XMLHttpRequest}function $t(){this.$get=["$browser","$window","$document",function(e,t,n){return St(e,At,e.defer,t.angular.callbacks,n[0])}]}function St(e,t,r,i,a){function s(e,t,n){var r=a.createElement("script"),o=null;return r.type="text/javascript",r.src=e,r.async=!0,o=function(e){ri(r,"load",o),ri(r,"error",o),a.body.removeChild(r),r=null;var s=-1,u="unknown";e&&("load"!==e.type||i[t].called||(e={type:"error"}),u=e.type,s="error"===e.type?404:200),n&&n(s,u)},ni(r,"load",o),ni(r,"error",o),a.body.appendChild(r),o}return function(a,u,l,c,d,p,f,h){function g(){y&&y(),_&&_.abort()}function v(t,i,o,a,s){D!==n&&r.cancel(D),y=_=null,t(i,o,a,s),e.$$completeOutstandingRequest(m)}if(e.$$incOutstandingRequestCount(),u=u||e.url(),"jsonp"==wr(a)){var b="_"+(i.counter++).toString(36);i[b]=function(e){i[b].data=e,i[b].called=!0};var y=s(u.replace("JSON_CALLBACK","angular.callbacks."+b),b,function(e,t){v(c,e,i[b].data,"",t),i[b]=m})}else{var _=t();_.open(a,u,!0),o(d,function(e,t){w(e)&&_.setRequestHeader(t,e)}),_.onload=function(){var e=_.statusText||"",t="response"in _?_.response:_.responseText,n=1223===_.status?204:_.status;0===n&&(n=t?200:"file"==An(u).protocol?404:0),v(c,n,t,_.getAllResponseHeaders(),e)};var x=function(){v(c,-1,null,null,"")};if(_.onerror=x,_.onabort=x,f&&(_.withCredentials=!0),h)try{_.responseType=h}catch(C){if("json"!==h)throw C}_.send(l)}if(p>0)var D=r(g,p);else N(p)&&p.then(g)}}function Et(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function o(e){return"\\\\\\"+e}function a(n){return n.replace(p,e).replace(f,t)}function s(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=z(e)}return e}function u(o,u,p,f){function h(e){try{return e=S(e),f&&!w(e)?e:s(e)}catch(t){r(Ii.interr(o,t))}}f=!!f;for(var m,g,v,b=0,_=[],x=[],C=o.length,D=[],k=[];C>b;){if(-1==(m=o.indexOf(e,b))||-1==(g=o.indexOf(t,m+l))){b!==C&&D.push(a(o.substring(b)));break}b!==m&&D.push(a(o.substring(b,m))),v=o.substring(m+l,g),_.push(v),x.push(n(v,h)),b=g+c,k.push(D.length),D.push("")}if(p&&D.length>1&&Ii.throwNoconcat(o),!u||_.length){var $=function(e){for(var t=0,n=_.length;n>t;t++){if(f&&y(e[t]))return;D[k[t]]=e[t]}return D.join("")},S=function(e){return p?i.getTrusted(p,e):i.valueOf(e)};return d(function(e){var t=0,n=_.length,i=new Array(n);try{for(;n>t;t++)i[t]=x[t](e);return $(i)}catch(a){r(Ii.interr(o,a))}},{exp:o,expressions:_,$$watchDelegate:function(e,t){var n;return e.$watchGroup(x,function(r,i){var o=$(r);A(t)&&t.call(this,o,r!==i?n:o,e),n=o})}})}}var l=e.length,c=t.length,p=new RegExp(e.replace(/./g,o),"g"),f=new RegExp(t.replace(/./g,o),"g");return u.startSymbol=function(){return e},u.endSymbol=function(){return t},u}]}function Tt(){this.$get=["$rootScope","$window","$q","$$q",function(e,t,n,r){function i(i,a,s,u){var l=arguments.length>4,c=l?H(arguments,4):[],d=t.setInterval,p=t.clearInterval,f=0,h=w(u)&&!u,m=(h?r:n).defer(),g=m.promise;return s=w(s)?s:0,g.then(null,null,l?function(){i.apply(null,c)}:i),g.$$intervalId=d(function(){m.notify(f++),s>0&&f>=s&&(m.resolve(f),p(g.$$intervalId),delete o[g.$$intervalId]),h||e.$apply()},a),o[g.$$intervalId]=m,g}var o={};return i.cancel=function(e){return e&&e.$$intervalId in o?(o[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete o[e.$$intervalId],!0):!1},i}]}function Pt(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a",ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"]},pluralCat:function(e){return 1===e?"one":"other"}}}}function Rt(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=ne(t[n]);return t.join("/")}function Mt(e,t){var n=An(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=f(n.port)||Wi[n.protocol]||null}function Nt(e,t){var n="/"!==e.charAt(0);n&&(e="/"+e);var r=An(e);t.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),t.$$search=ee(r.search),t.$$hash=decodeURIComponent(r.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function Ft(e,t){return 0===t.indexOf(e)?t.substr(e.length):void 0}function Ot(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function Gt(e){return e.replace(/(#.+)|#$/,"$1")}function It(e){return e.substr(0,Ot(e).lastIndexOf("/")+1)}function Bt(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function Wt(e,t){this.$$html5=!0,t=t||"";var r=It(e);Mt(e,this),this.$$parse=function(e){var t=Ft(r,e);if(!C(t))throw Li("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,r);Nt(t,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=te(this.$$search),t=this.$$hash?"#"+ne(this.$$hash):"";this.$$url=Rt(this.$$path)+(e?"?"+e:"")+t,this.$$absUrl=r+this.$$url.substr(1)},this.$$parseLinkUrl=function(i,o){if(o&&"#"===o[0])return this.hash(o.slice(1)),!0;var a,s,u;return(a=Ft(e,i))!==n?(s=a,u=(a=Ft(t,a))!==n?r+(Ft("/",a)||a):e+s):(a=Ft(r,i))!==n?u=r+a:r==i+"/"&&(u=r),u&&this.$$parse(u),!!u}}function Lt(e,t){var n=It(e);Mt(e,this),this.$$parse=function(r){function i(e,t,n){var r,i=/^\/[A-Z]:(\/.*)/;return 0===t.indexOf(n)&&(t=t.replace(n,"")),i.exec(t)?e:(r=i.exec(e),r?r[1]:e)}var o,a=Ft(e,r)||Ft(n,r);y(a)||"#"!==a.charAt(0)?this.$$html5?o=a:(o="",y(a)&&(e=r,this.replace())):(o=Ft(t,a),y(o)&&(o=a)),Nt(o,this),this.$$path=i(this.$$path,o,e),this.$$compose()},this.$$compose=function(){var n=te(this.$$search),r=this.$$hash?"#"+ne(this.$$hash):"";this.$$url=Rt(this.$$path)+(n?"?"+n:"")+r,this.$$absUrl=e+(this.$$url?t+this.$$url:"")},this.$$parseLinkUrl=function(t,n){return Ot(e)==Ot(t)?(this.$$parse(t),!0):!1}}function jt(e,t){this.$$html5=!0,Lt.apply(this,arguments);var n=It(e);this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a;return e==Ot(r)?o=r:(a=Ft(n,r))?o=e+t+a:n===r+"/"&&(o=n),o&&this.$$parse(o),!!o},this.$$compose=function(){var n=te(this.$$search),r=this.$$hash?"#"+ne(this.$$hash):"";this.$$url=Rt(this.$$path)+(n?"?"+n:"")+r,this.$$absUrl=e+t+this.$$url}}function Vt(e){return function(){return this[e]}}function Ht(e,t){return function(n){return y(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function qt(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return w(t)?(e=t,this):e},this.html5Mode=function(e){return M(e)?(t.enabled=e,this):_(e)?(M(e.enabled)&&(t.enabled=e.enabled),M(e.requireBase)&&(t.requireBase=e.requireBase),M(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,o,a){function s(e,t,n){var i=l.url(),o=l.$$state;try{r.url(e,t,n),l.$$state=r.state()}catch(a){throw l.url(i),l.$$state=o,a}}function u(e,t){n.$broadcast("$locationChangeSuccess",l.absUrl(),e,l.$$state,t)}var l,c,d,p=r.baseHref(),f=r.url();if(t.enabled){if(!p&&t.requireBase)throw Li("nobase","$location in HTML5 mode requires a <base> tag to be present!");d=Bt(f)+(p||"/"),c=i.history?Wt:jt}else d=Ot(f),c=Lt;l=new c(d,"#"+e),l.$$parseLinkUrl(f,f),l.$$state=r.state();var h=/^\s*(javascript|mailto):/i;o.on("click",function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!=e.which&&2!=e.button){for(var i=Ar(e.target);"a"!==I(i[0]);)if(i[0]===o[0]||!(i=i.parent())[0])return;var s=i.prop("href"),u=i.attr("href")||i.attr("xlink:href");_(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=An(s.animVal).href),h.test(s)||!s||i.attr("target")||e.isDefaultPrevented()||l.$$parseLinkUrl(s,u)&&(e.preventDefault(),l.absUrl()!=r.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}),Gt(l.absUrl())!=Gt(f)&&r.url(l.absUrl(),!0);var m=!0;return r.onUrlChange(function(e,t){n.$evalAsync(function(){var r,i=l.absUrl(),o=l.$$state;l.$$parse(e),l.$$state=t,r=n.$broadcast("$locationChangeStart",e,i,t,o).defaultPrevented,l.absUrl()===e&&(r?(l.$$parse(i),l.$$state=o,s(i,!1,o)):(m=!1,u(i,o)))}),n.$$phase||n.$digest()}),n.$watch(function(){var e=Gt(r.url()),t=Gt(l.absUrl()),o=r.state(),a=l.$$replace,c=e!==t||l.$$html5&&i.history&&o!==l.$$state;(m||c)&&(m=!1,n.$evalAsync(function(){var t=l.absUrl(),r=n.$broadcast("$locationChangeStart",t,e,l.$$state,o).defaultPrevented;l.absUrl()===t&&(r?(l.$$parse(e),l.$$state=o):(c&&s(t,a,o===l.$$state?null:l.$$state),u(e,o)))})),l.$$replace=!1}),l}]}function Ut(){var e=!0,t=this;this.debugEnabled=function(t){return w(t)?(e=t,this):e},this.$get=["$window",function(n){function r(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function i(e){var t=n.console||{},i=t[e]||t.log||m,a=!1;try{a=!!i.apply}catch(s){}return a?function(){var e=[];return o(arguments,function(t){e.push(r(t))}),i.apply(t,e)}:function(e,t){i(e,null==t?"":t)}}return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function zt(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw Vi("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",t);return e}function Yt(e,t){if(e){if(e.constructor===e)throw Vi("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e.window===e)throw Vi("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw Vi("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t);if(e===Object)throw Vi("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",t)}return e}function Xt(e,t){if(e){if(e.constructor===e)throw Vi("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e===Hi||e===qi||e===Ui)throw Vi("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",t)}}function Kt(e,t){return"undefined"!=typeof e?e:t}function Zt(e,t){return"undefined"==typeof e?t:"undefined"==typeof t?e:e+t}function Jt(e,t){var n=e(t);return!n.$stateful}function Qt(e,t){var n,r;switch(e.type){case Ki.Program:n=!0,o(e.body,function(e){Qt(e.expression,t),n=n&&e.expression.constant}),e.constant=n;break;case Ki.Literal:e.constant=!0,e.toWatch=[];break;case Ki.UnaryExpression:Qt(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case Ki.BinaryExpression:Qt(e.left,t),Qt(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case Ki.LogicalExpression:Qt(e.left,t),Qt(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case Ki.ConditionalExpression:Qt(e.test,t),Qt(e.alternate,t),Qt(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case Ki.Identifier:e.constant=!1,e.toWatch=[e];break;case Ki.MemberExpression:Qt(e.object,t),e.computed&&Qt(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case Ki.CallExpression:n=e.filter?Jt(t,e.callee.name):!1,r=[],o(e.arguments,function(e){Qt(e,t),n=n&&e.constant,e.constant||r.push.apply(r,e.toWatch)}),e.constant=n,e.toWatch=e.filter&&Jt(t,e.callee.name)?r:[e];break;case Ki.AssignmentExpression:Qt(e.left,t),Qt(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case Ki.ArrayExpression:n=!0,r=[],o(e.elements,function(e){Qt(e,t),n=n&&e.constant,e.constant||r.push.apply(r,e.toWatch)}),e.constant=n,e.toWatch=r;break;case Ki.ObjectExpression:n=!0,r=[],o(e.properties,function(e){Qt(e.value,t),n=n&&e.value.constant,e.value.constant||r.push.apply(r,e.value.toWatch)}),e.constant=n,e.toWatch=r;break;case Ki.ThisExpression:e.constant=!1,e.toWatch=[]}}function en(e){if(1==e.length){var t=e[0].expression,r=t.toWatch;return 1!==r.length?r:r[0]!==t?r:n}}function tn(e){return e.type===Ki.Identifier||e.type===Ki.MemberExpression}function nn(e){return 1===e.body.length&&tn(e.body[0].expression)?{type:Ki.AssignmentExpression,left:e.body[0].expression,right:{type:Ki.NGValueParameter},operator:"="}:void 0}function rn(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===Ki.Literal||e.body[0].expression.type===Ki.ArrayExpression||e.body[0].expression.type===Ki.ObjectExpression)}function on(e){return e.constant}function an(e,t){this.astBuilder=e,this.$filter=t}function sn(e,t){this.astBuilder=e,this.$filter=t}function un(e,t,n,r){Yt(e,r);for(var i,o=t.split("."),a=0;o.length>1;a++){i=zt(o.shift(),r);var s=Yt(e[i],r);s||(s={},e[i]=s),e=s}return i=zt(o.shift(),r),Yt(e[i],r),e[i]=n,n}function ln(e){return"constructor"==e}function cn(e){return A(e.valueOf)?e.valueOf():Ji.call(e)}function dn(){var e=ge(),t=ge();this.$get=["$filter","$sniffer",function(r,i){function a(e,t){return null==e||null==t?e===t:"object"==typeof e&&(e=cn(e),"object"==typeof e)?!1:e===t||e!==e&&t!==t}function s(e,t,r,i,o){var s,u=i.inputs;if(1===u.length){var l=a;return u=u[0],e.$watch(function(e){var t=u(e);return a(t,l)||(s=i(e,n,n,[t]),l=t&&cn(t)),s},t,r,o)}for(var c=[],d=[],p=0,f=u.length;f>p;p++)c[p]=a,d[p]=null;return e.$watch(function(e){for(var t=!1,r=0,o=u.length;o>r;r++){var l=u[r](e);(t||(t=!a(l,c[r])))&&(d[r]=l,c[r]=l&&cn(l))}return t&&(s=i(e,n,n,d)),s},t,r,o)}function u(e,t,n,r){var i,o;return i=e.$watch(function(e){return r(e)},function(e,n,r){o=e,A(t)&&t.apply(this,arguments),w(e)&&r.$$postDigest(function(){w(o)&&i()})},n)}function l(e,t,n,r){function i(e){var t=!0;return o(e,function(e){w(e)||(t=!1)}),t}var a,s;return a=e.$watch(function(e){return r(e)},function(e,n,r){s=e,A(t)&&t.call(this,e,n,r),i(e)&&r.$$postDigest(function(){i(s)&&a()})},n)}function c(e,t,n,r){var i;return i=e.$watch(function(e){return r(e)},function(e,n,r){A(t)&&t.apply(this,arguments),i()},n)}function d(e,t){if(!t)return e;var n=e.$$watchDelegate,r=n!==l&&n!==u,i=r?function(n,r,i,o){var a=e(n,r,i,o);return t(a,n,r)}:function(n,r,i,o){var a=e(n,r,i,o),s=t(a,n,r);return w(a)?s:a};return e.$$watchDelegate&&e.$$watchDelegate!==s?i.$$watchDelegate=e.$$watchDelegate:t.$stateful||(i.$$watchDelegate=s,i.inputs=e.inputs?e.inputs:[e]),i}var p={csp:i.csp,expensiveChecks:!1},f={csp:i.csp,expensiveChecks:!0};return function(n,i,o){var a,h,g;switch(typeof n){case"string":n=n.trim(),g=n;var v=o?t:e;if(a=v[g],!a){":"===n.charAt(0)&&":"===n.charAt(1)&&(h=!0,n=n.substring(2));var b=o?f:p,y=new Xi(b),w=new Zi(y,r,b);a=w.parse(n),a.constant?a.$$watchDelegate=c:h?a.$$watchDelegate=a.literal?l:u:a.inputs&&(a.$$watchDelegate=s),v[g]=a}return d(a,i);case"function":return d(n,i);default:return m}}}]}function pn(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return hn(function(t){e.$evalAsync(t)},t)}]}function fn(){this.$get=["$browser","$exceptionHandler",function(e,t){return hn(function(t){e.defer(t)},t)}]}function hn(e,t){function i(e,t,n){function r(t){return function(n){i||(i=!0,t.call(e,n))}}var i=!1;return[r(t),r(n)]}function a(){this.$$state={status:0}}function s(e,t){return function(n){t.call(e,n)}}function u(e){var r,i,o;o=e.pending,e.processScheduled=!1,e.pending=n;for(var a=0,s=o.length;s>a;++a){i=o[a][0],r=o[a][e.status];try{A(r)?i.resolve(r(e.value)):1===e.status?i.resolve(e.value):i.reject(e.value)}catch(u){i.reject(u),t(u)}}}function l(t){!t.processScheduled&&t.pending&&(t.processScheduled=!0,e(function(){u(t)}))}function c(){this.promise=new a,this.resolve=s(this,this.resolve),this.reject=s(this,this.reject),this.notify=s(this,this.notify)}function d(e){var t=new c,n=0,r=Ir(e)?[]:{};return o(e,function(e,i){n++,v(e).then(function(e){r.hasOwnProperty(i)||(r[i]=e,--n||t.resolve(r))},function(e){r.hasOwnProperty(i)||t.reject(e)})}),0===n&&t.resolve(r),t.promise}var p=r("$q",TypeError),f=function(){return new c};a.prototype={then:function(e,t,n){var r=new c;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,e,t,n]),this.$$state.status>0&&l(this.$$state),r.promise},"catch":function(e){return this.then(null,e)},"finally":function(e,t){return this.then(function(t){return g(t,!0,e)},function(t){return g(t,!1,e)},t)}},c.prototype={resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(p("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):this.$$resolve(e))},$$resolve:function(e){var n,r;r=i(this,this.$$resolve,this.$$reject);try{(_(e)||A(e))&&(n=e&&e.then),A(n)?(this.promise.$$state.status=-1,n.call(e,r[0],r[1],this.notify)):(this.promise.$$state.value=e,this.promise.$$state.status=1,l(this.promise.$$state))}catch(o){r[1](o),t(o)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,l(this.promise.$$state)},notify:function(n){var r=this.promise.$$state.pending;this.promise.$$state.status<=0&&r&&r.length&&e(function(){for(var e,i,o=0,a=r.length;a>o;o++){i=r[o][0],e=r[o][3];try{i.notify(A(e)?e(n):n)}catch(s){t(s)}}})}};var h=function(e){var t=new c;return t.reject(e),t.promise},m=function(e,t){var n=new c;return t?n.resolve(e):n.reject(e),n.promise},g=function(e,t,n){var r=null;try{A(n)&&(r=n())}catch(i){return m(i,!1)}return N(r)?r.then(function(){return m(e,t)},function(e){return m(e,!1)}):m(e,t)},v=function(e,t,n,r){var i=new c;return i.resolve(e),i.promise.then(t,n,r)},b=v,y=function w(e){function t(e){r.resolve(e)}function n(e){r.reject(e)}if(!A(e))throw p("norslvr","Expected resolverFn, got '{0}'",e);if(!(this instanceof w))return new w(e);var r=new c;return e(t,n),r.promise};return y.defer=f,y.reject=h,y.when=v,y.resolve=b,y.all=d,y}function mn(){this.$get=["$window","$timeout",function(e,t){function n(){for(var e=0;e<c.length;e++){var t=c[e];t&&(c[e]=null,t())}l=c.length=0}function r(e){var t=c.length;return l++,c.push(e),0===t&&(u=s(n)),function(){t>=0&&(c[t]=null,t=null,0===--l&&u&&(u(),u=null,c.length=0))}}var i=e.requestAnimationFrame||e.webkitRequestAnimationFrame,o=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,a=!!i,s=a?function(e){var t=i(e);return function(){o(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};r.supported=a;var u,l=0,c=[];return r}]}function gn(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=u(),this.$$ChildScope=null}return t.prototype=e,t}var t=10,n=r("$rootScope"),a=null,s=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(r,l,c,d){function p(e){e.currentScope.$$destroyed=!0}function f(){this.$id=u(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function h(e){if(D.$$phase)throw n("inprog","{0} already in progress",D.$$phase);D.$$phase=e}function g(){D.$$phase=null}function v(e,t){do e.$$watchersCount+=t;while(e=e.$parent)}function b(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function w(){}function x(){for(;S.length;)try{S.shift()()}catch(e){l(e)}s=null}function C(){null===s&&(s=d.defer(function(){D.$apply(x)}))}f.prototype={constructor:f,$new:function(t,n){var r;return n=n||this,t?(r=new f,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),r=new this.$$ChildScope),r.$parent=n,r.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=r,n.$$childTail=r):n.$$childHead=n.$$childTail=r,(t||n!=this)&&r.$on("$destroy",p),r},$watch:function(e,t,n,r){var i=c(e);if(i.$$watchDelegate)return i.$$watchDelegate(this,t,n,i,e);var o=this,s=o.$$watchers,u={fn:t,last:w,get:i,exp:r||e,eq:!!n};return a=null,A(t)||(u.fn=m),s||(s=o.$$watchers=[]),s.unshift(u),v(this,1),function(){B(s,u)>=0&&v(o,-1),a=null}},$watchGroup:function(e,t){function n(){u=!1,l?(l=!1,t(i,i,s)):t(i,r,s)}var r=new Array(e.length),i=new Array(e.length),a=[],s=this,u=!1,l=!0;if(!e.length){var c=!0;return s.$evalAsync(function(){c&&t(i,i,s)}),function(){c=!1}}return 1===e.length?this.$watch(e[0],function(e,n,o){i[0]=e,r[0]=n,t(i,e===n?i:r,o)}):(o(e,function(e,t){var o=s.$watch(e,function(e,o){i[t]=e,r[t]=o,u||(u=!0,s.$evalAsync(n))});a.push(o)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(e,t){function n(e){o=e;var t,n,r,s,u;if(!y(o)){if(_(o))if(i(o)){a!==f&&(a=f,g=a.length=0,d++),t=o.length,g!==t&&(d++,a.length=g=t);for(var l=0;t>l;l++)u=a[l],s=o[l],r=u!==u&&s!==s,r||u===s||(d++,a[l]=s)}else{a!==h&&(a=h={},g=0,d++),t=0;for(n in o)o.hasOwnProperty(n)&&(t++,s=o[n],u=a[n],n in a?(r=u!==u&&s!==s,r||u===s||(d++,a[n]=s)):(g++,a[n]=s,d++));if(g>t){d++;for(n in a)o.hasOwnProperty(n)||(g--,delete a[n])}}else a!==o&&(a=o,d++);return d}}function r(){if(m?(m=!1,t(o,o,u)):t(o,s,u),l)if(_(o))if(i(o)){s=new Array(o.length);for(var e=0;e<o.length;e++)s[e]=o[e]}else{s={};for(var n in o)_r.call(o,n)&&(s[n]=o[n])}else s=o}n.$stateful=!0;var o,a,s,u=this,l=t.length>1,d=0,p=c(e,n),f=[],h={},m=!0,g=0;return this.$watch(p,r)},$digest:function(){var e,r,i,o,u,c,p,f,m,v,b=t,y=this,_=[];h("$digest"),d.$$checkUrlChange(),this===D&&null!==s&&(d.defer.cancel(s),x()),a=null;do{for(c=!1,f=y;k.length;){try{v=k.shift(),v.scope.$eval(v.expression,v.locals)}catch(C){l(C)}a=null}e:do{if(o=f.$$watchers)for(u=o.length;u--;)try{if(e=o[u])if((r=e.get(f))===(i=e.last)||(e.eq?j(r,i):"number"==typeof r&&"number"==typeof i&&isNaN(r)&&isNaN(i))){if(e===a){c=!1;break e}}else c=!0,a=e,e.last=e.eq?W(r,null):r,e.fn(r,i===w?r:i,f),5>b&&(m=4-b,_[m]||(_[m]=[]),_[m].push({msg:A(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:r,oldVal:i}))}catch(C){l(C)}if(!(p=f.$$watchersCount&&f.$$childHead||f!==y&&f.$$nextSibling))for(;f!==y&&!(p=f.$$nextSibling);)f=f.$parent}while(f=p);if((c||k.length)&&!b--)throw g(),n("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",t,_)}while(c||k.length);for(g();$.length;)try{$.shift()()}catch(C){l(C)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===D&&d.$$applicationDestroyed(),v(this,-this.$$watchersCount);for(var t in this.$$listenerCount)b(this,this.$$listenerCount[t],t);e&&e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=m,this.$on=this.$watch=this.$watchGroup=function(){return m},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}},$eval:function(e,t){return c(e)(this,t)},$evalAsync:function(e,t){D.$$phase||k.length||d.defer(function(){k.length&&D.$digest()}),k.push({scope:this,expression:e,locals:t})},$$postDigest:function(e){$.push(e)},$apply:function(e){try{return h("$apply"),this.$eval(e)}catch(t){l(t)}finally{g();try{D.$digest()}catch(t){throw l(t),t}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&S.push(t),C()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var r=this;do r.$$listenerCount[e]||(r.$$listenerCount[e]=0),r.$$listenerCount[e]++;while(r=r.$parent);var i=this;return function(){var r=n.indexOf(t);-1!==r&&(n[r]=null,b(i,1,e))}},$emit:function(e,t){var n,r,i,o=[],a=this,s=!1,u={name:e,targetScope:a,stopPropagation:function(){s=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},c=V([u],arguments,1);do{for(n=a.$$listeners[e]||o,u.currentScope=a,r=0,i=n.length;i>r;r++)if(n[r])try{n[r].apply(null,c)}catch(d){l(d)}else n.splice(r,1),r--,i--;if(s)return u.currentScope=null,u;a=a.$parent}while(a);return u.currentScope=null,u},$broadcast:function(e,t){var n=this,r=n,i=n,o={name:e,targetScope:n,preventDefault:function(){o.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[e])return o;for(var a,s,u,c=V([o],arguments,1);r=i;){for(o.currentScope=r,a=r.$$listeners[e]||[],s=0,u=a.length;u>s;s++)if(a[s])try{a[s].apply(null,c)}catch(d){l(d)}else a.splice(s,1),s--,u--;if(!(i=r.$$listenerCount[e]&&r.$$childHead||r!==n&&r.$$nextSibling))for(;r!==n&&!(i=r.$$nextSibling);)r=r.$parent}return o.currentScope=null,o}};var D=new f,k=D.$$asyncQueue=[],$=D.$$postDigestQueue=[],S=D.$$applyAsyncQueue=[];return D}]}function vn(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return w(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return w(e)?(t=e,this):t},this.$get=function(){return function(n,r){var i,o=r?t:e;return i=An(n).href,""===i||i.match(o)?n:"unsafe:"+i}}}function bn(e){if("self"===e)return e;if(C(e)){if(e.indexOf("***")>-1)throw Qi("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=Lr(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if($(e))return new RegExp("^"+e.source+"$");throw Qi("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function yn(e){var t=[];return w(e)&&o(e,function(e){t.push(bn(e))}),t}function wn(){this.SCE_CONTEXTS=eo;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=yn(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=yn(e)),t},this.$get=["$injector",function(r){function i(e,t){return"self"===e?$n(t):!!e.exec(t.href)}function o(n){var r,o,a=An(n.toString()),s=!1;for(r=0,o=e.length;o>r;r++)if(i(e[r],a)){s=!0;break}if(s)for(r=0,o=t.length;o>r;r++)if(i(t[r],a)){s=!1;break}return s}function a(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function s(e,t){var r=p.hasOwnProperty(e)?p[e]:null;if(!r)throw Qi("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||t===n||""===t)return t;if("string"!=typeof t)throw Qi("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new r(t)}function u(e){return e instanceof d?e.$$unwrapTrustedValue():e}function l(e,t){if(null===t||t===n||""===t)return t;var r=p.hasOwnProperty(e)?p[e]:null;if(r&&t instanceof r)return t.$$unwrapTrustedValue();if(e===eo.RESOURCE_URL){if(o(t))return t;throw Qi("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===eo.HTML)return c(t);throw Qi("unsafe","Attempting to use an unsafe value in a safe context.")}var c=function(e){throw Qi("unsafe","Attempting to use an unsafe value in a safe context.")};r.has("$sanitize")&&(c=r.get("$sanitize"));var d=a(),p={};return p[eo.HTML]=a(d),p[eo.CSS]=a(d),p[eo.URL]=a(d),p[eo.JS]=a(d),p[eo.RESOURCE_URL]=a(p[eo.URL]),{trustAs:s,getTrusted:l,valueOf:u}}]}function _n(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&8>kr)throw Qi("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=L(eo);r.isEnabled=function(){return e},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,e||(r.trustAs=r.getTrusted=function(e,t){return t},r.valueOf=g),r.parseAs=function(e,n){var i=t(n);return i.literal&&i.constant?i:t(n,function(t){return r.getTrusted(e,t)})};var i=r.parseAs,a=r.getTrusted,s=r.trustAs;return o(eo,function(e,t){var n=wr(t);r[xe("parse_as_"+n)]=function(t){return i(e,t)},r[xe("get_trusted_"+n)]=function(t){return a(e,t)},r[xe("trust_as_"+n)]=function(t){return s(e,t)}}),r}]}function xn(){this.$get=["$window","$document",function(e,t){var n,r,i={},o=f((/android (\d+)/.exec(wr((e.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((e.navigator||{}).userAgent),s=t[0]||{},u=/^(Moz|webkit|ms)(?=[A-Z])/,l=s.body&&s.body.style,c=!1,d=!1;if(l){for(var p in l)if(r=u.exec(p)){n=r[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in l&&"webkit"),c=!!("transition"in l||n+"Transition"in l),d=!!("animation"in l||n+"Animation"in l),
!o||c&&d||(c=C(l.webkitTransition),d=C(l.webkitAnimation))}return{history:!(!e.history||!e.history.pushState||4>o||a),hasEvent:function(e){if("input"===e&&11>=kr)return!1;if(y(i[e])){var t=s.createElement("div");i[e]="on"+e in t}return i[e]},csp:jr(),vendorPrefix:n,transitions:c,animations:d,android:o}}]}function Cn(){this.$get=["$templateCache","$http","$q","$sce",function(e,t,n,r){function i(o,a){function s(e){if(!a)throw Ei("tpload","Failed to load template: {0} (HTTP status: {1} {2})",o,e.status,e.statusText);return n.reject(e)}i.totalPendingRequests++,C(o)&&e.get(o)||(o=r.getTrustedResourceUrl(o));var u=t.defaults&&t.defaults.transformResponse;Ir(u)?u=u.filter(function(e){return e!==yt}):u===yt&&(u=null);var l={cache:e,transformResponse:u};return t.get(o,l)["finally"](function(){i.totalPendingRequests--}).then(function(t){return e.put(o,t.data),t.data},s)}return i.totalPendingRequests=0,i}]}function Dn(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var r={};return r.findBindings=function(e,t,n){var r=e.getElementsByClassName("ng-binding"),i=[];return o(r,function(e){var r=Fr.element(e).data("$binding");r&&o(r,function(r){if(n){var o=new RegExp("(^|\\s)"+Lr(t)+"(\\s|\\||$)");o.test(r)&&i.push(e)}else-1!=r.indexOf(t)&&i.push(e)})}),i},r.findModels=function(e,t,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o=n?"=":"*=",a="["+r[i]+"model"+o+'"'+t+'"]',s=e.querySelectorAll(a);if(s.length)return s}},r.getLocation=function(){return n.url()},r.setLocation=function(t){t!==n.url()&&(n.url(t),e.$digest())},r.whenStable=function(e){t.notifyWhenNoOutstandingRequests(e)},r}]}function kn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,r,i){function o(o,s,u){A(o)||(u=s,s=o,o=m);var l,c=H(arguments,3),d=w(u)&&!u,p=(d?r:n).defer(),f=p.promise;return l=t.defer(function(){try{p.resolve(o.apply(null,c))}catch(t){p.reject(t),i(t)}finally{delete a[f.$$timeoutId]}d||e.$apply()},s),f.$$timeoutId=l,a[l]=p,f}var a={};return o.cancel=function(e){return e&&e.$$timeoutId in a?(a[e.$$timeoutId].reject("canceled"),delete a[e.$$timeoutId],t.defer.cancel(e.$$timeoutId)):!1},o}]}function An(e){var t=e;return kr&&(to.setAttribute("href",t),t=to.href),to.setAttribute("href",t),{href:to.href,protocol:to.protocol?to.protocol.replace(/:$/,""):"",host:to.host,search:to.search?to.search.replace(/^\?/,""):"",hash:to.hash?to.hash.replace(/^#/,""):"",hostname:to.hostname,port:to.port,pathname:"/"===to.pathname.charAt(0)?to.pathname:"/"+to.pathname}}function $n(e){var t=C(e)?An(e):e;return t.protocol===no.protocol&&t.host===no.host}function Sn(){this.$get=v(e)}function En(e){function t(e){try{return decodeURIComponent(e)}catch(t){return e}}var r=e[0]||{},i={},o="";return function(){var e,a,s,u,l,c=r.cookie||"";if(c!==o)for(o=c,e=o.split("; "),i={},s=0;s<e.length;s++)a=e[s],u=a.indexOf("="),u>0&&(l=t(a.substring(0,u)),i[l]===n&&(i[l]=t(a.substring(u+1))));return i}}function Tn(){this.$get=En}function Pn(e){function t(r,i){if(_(r)){var a={};return o(r,function(e,n){a[n]=t(n,e)}),a}return e.factory(r+n,i)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",On),t("date",Xn),t("filter",Rn),t("json",Kn),t("limitTo",Zn),t("lowercase",so),t("number",Gn),t("orderBy",Jn),t("uppercase",uo)}function Rn(){return function(e,t,n){if(!i(e)){if(null==e)return e;throw r("filter")("notarray","Expected array but received: {0}",e)}var o,a,s=Fn(t);switch(s){case"function":o=t;break;case"boolean":case"null":case"number":case"string":a=!0;case"object":o=Mn(t,n,a);break;default:return e}return Array.prototype.filter.call(e,o)}}function Mn(e,t,n){var r,i=_(e)&&"$"in e;return t===!0?t=j:A(t)||(t=function(e,t){return y(e)?!1:null===e||null===t?e===t:_(t)||_(e)&&!b(e)?!1:(e=wr(""+e),t=wr(""+t),-1!==e.indexOf(t))}),r=function(r){return i&&!_(r)?Nn(r,e.$,t,!1):Nn(r,e,t,n)}}function Nn(e,t,n,r,i){var o=Fn(e),a=Fn(t);if("string"===a&&"!"===t.charAt(0))return!Nn(e,t.substring(1),n,r);if(Ir(e))return e.some(function(e){return Nn(e,t,n,r)});switch(o){case"object":var s;if(r){for(s in e)if("$"!==s.charAt(0)&&Nn(e[s],t,n,!0))return!0;return i?!1:Nn(e,t,n,!1)}if("object"===a){for(s in t){var u=t[s];if(!A(u)&&!y(u)){var l="$"===s,c=l?e:e[s];if(!Nn(c,u,n,l,l))return!1}}return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function Fn(e){return null===e?"null":typeof e}function On(e){var t=e.NUMBER_FORMATS;return function(e,n,r){return y(n)&&(n=t.CURRENCY_SYM),y(r)&&(r=t.PATTERNS[1].maxFrac),null==e?e:In(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function Gn(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:In(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function In(e,t,n,r,i){if(_(e))return"";var o=0>e;e=Math.abs(e);var a=e===1/0;if(!a&&!isFinite(e))return"";var s=e+"",u="",l=!1,c=[];if(a&&(u="∞"),!a&&-1!==s.indexOf("e")){var d=s.match(/([\d\.]+)e(-?)(\d+)/);d&&"-"==d[2]&&d[3]>i+1?e=0:(u=s,l=!0)}if(a||l)i>0&&1>e&&(u=e.toFixed(i),e=parseFloat(u));else{var p=(s.split(ro)[1]||"").length;y(i)&&(i=Math.min(Math.max(t.minFrac,p),t.maxFrac)),e=+(Math.round(+(e.toString()+"e"+i)).toString()+"e"+-i);var f=(""+e).split(ro),h=f[0];f=f[1]||"";var m,g=0,v=t.lgSize,b=t.gSize;if(h.length>=v+b)for(g=h.length-v,m=0;g>m;m++)(g-m)%b===0&&0!==m&&(u+=n),u+=h.charAt(m);for(m=g;m<h.length;m++)(h.length-m)%v===0&&0!==m&&(u+=n),u+=h.charAt(m);for(;f.length<i;)f+="0";i&&"0"!==i&&(u+=r+f.substr(0,i))}return 0===e&&(o=!1),c.push(o?t.negPre:t.posPre,u,o?t.negSuf:t.posSuf),c.join("")}function Bn(e,t,n){var r="";for(0>e&&(r="-",e=-e),e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),r+e}function Wn(e,t,n,r){return n=n||0,function(i){var o=i["get"+e]();return(n>0||o>-n)&&(o+=n),0===o&&-12==n&&(o=12),Bn(o,t,r)}}function Ln(e,t){return function(n,r){var i=n["get"+e](),o=xr(t?"SHORT"+e:e);return r[o][i]}}function jn(e,t,n){var r=-1*n,i=r>=0?"+":"";return i+=Bn(Math[r>0?"floor":"ceil"](r/60),2)+Bn(Math.abs(r%60),2)}function Vn(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(4>=t?5:12)-t)}function Hn(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function qn(e){return function(t){var n=Vn(t.getFullYear()),r=Hn(t),i=+r-+n,o=1+Math.round(i/6048e5);return Bn(o,e)}}function Un(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function zn(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}function Yn(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}function Xn(e){function t(e){var t;if(t=e.match(n)){var r=new Date(0),i=0,o=0,a=t[8]?r.setUTCFullYear:r.setFullYear,s=t[8]?r.setUTCHours:r.setHours;t[9]&&(i=f(t[9]+t[10]),o=f(t[9]+t[11])),a.call(r,f(t[1]),f(t[2])-1,f(t[3]));var u=f(t[4]||0)-i,l=f(t[5]||0)-o,c=f(t[6]||0),d=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(r,u,l,c,d),r}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,i){var a,s,u="",l=[];if(r=r||"mediumDate",r=e.DATETIME_FORMATS[r]||r,C(n)&&(n=ao.test(n)?f(n):t(n)),D(n)&&(n=new Date(n)),!k(n)||!isFinite(n.getTime()))return n;for(;r;)s=oo.exec(r),s?(l=V(l,s,1),r=l.pop()):(l.push(r),r=null);var c=n.getTimezoneOffset();return i&&(c=X(i,n.getTimezoneOffset()),n=Z(n,i,!0)),o(l,function(t){a=io[t],u+=a?a(n,e.DATETIME_FORMATS,c):t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}}function Kn(){return function(e,t){return y(t)&&(t=2),z(e,t)}}function Zn(){return function(e,t,n){return t=Math.abs(Number(t))===1/0?Number(t):f(t),isNaN(t)?e:(D(e)&&(e=e.toString()),Ir(e)||C(e)?(n=!n||isNaN(n)?0:f(n),n=0>n&&n>=-e.length?e.length+n:n,t>=0?e.slice(n,n+t):0===n?e.slice(t,e.length):e.slice(Math.max(0,n+t),n)):e)}}function Jn(e){function t(t,n){return n=n?-1:1,t.map(function(t){var r=1,i=g;if(A(t))i=t;else if(C(t)&&(("+"==t.charAt(0)||"-"==t.charAt(0))&&(r="-"==t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(i=e(t),i.constant))){var o=i();i=function(e){return e[o]}}return{get:i,descending:r*n}})}function n(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function r(e,t){return"function"==typeof e.valueOf&&(e=e.valueOf(),n(e))?e:b(e)&&(e=e.toString(),n(e))?e:t}function o(e,t){var n=typeof e;return null===e?(n="string",e="null"):"string"===n?e=e.toLowerCase():"object"===n&&(e=r(e,t)),{value:e,type:n}}function a(e,t){var n=0;return e.type===t.type?e.value!==t.value&&(n=e.value<t.value?-1:1):n=e.type<t.type?-1:1,n}return function(e,n,r){function s(e,t){return{value:e,predicateValues:l.map(function(n){return o(n.get(e),t)})}}function u(e,t){for(var n=0,r=0,i=l.length;i>r&&!(n=a(e.predicateValues[r],t.predicateValues[r])*l[r].descending);++r);return n}if(!i(e))return e;Ir(n)||(n=[n]),0===n.length&&(n=["+"]);var l=t(n,r),c=Array.prototype.map.call(e,s);return c.sort(u),e=c.map(function(e){return e.value})}}function Qn(e){return A(e)&&(e={link:e}),e.restrict=e.restrict||"AC",v(e)}function er(e,t){e.$name=t}function tr(e,t,r,i,a){var s=this,u=[],l=s.$$parentForm=e.parent().controller("form")||po;s.$error={},s.$$success={},s.$pending=n,s.$name=a(t.name||t.ngForm||"")(r),s.$dirty=!1,s.$pristine=!0,s.$valid=!0,s.$invalid=!1,s.$submitted=!1,l.$addControl(s),s.$rollbackViewValue=function(){o(u,function(e){e.$rollbackViewValue()})},s.$commitViewValue=function(){o(u,function(e){e.$commitViewValue()})},s.$addControl=function(e){fe(e.$name,"input"),u.push(e),e.$name&&(s[e.$name]=e)},s.$$renameControl=function(e,t){var n=e.$name;s[n]===e&&delete s[n],s[t]=e,e.$name=t},s.$removeControl=function(e){e.$name&&s[e.$name]===e&&delete s[e.$name],o(s.$pending,function(t,n){s.$setValidity(n,null,e)}),o(s.$error,function(t,n){s.$setValidity(n,null,e)}),o(s.$$success,function(t,n){s.$setValidity(n,null,e)}),B(u,e)},gr({ctrl:this,$element:e,set:function(e,t,n){var r=e[t];if(r){var i=r.indexOf(n);-1===i&&r.push(n)}else e[t]=[n]},unset:function(e,t,n){var r=e[t];r&&(B(r,n),0===r.length&&delete e[t])},parentForm:l,$animate:i}),s.$setDirty=function(){i.removeClass(e,Yo),i.addClass(e,Xo),s.$dirty=!0,s.$pristine=!1,l.$setDirty()},s.$setPristine=function(){i.setClass(e,Yo,Xo+" "+fo),s.$dirty=!1,s.$pristine=!0,s.$submitted=!1,o(u,function(e){e.$setPristine()})},s.$setUntouched=function(){o(u,function(e){e.$setUntouched()})},s.$setSubmitted=function(){i.addClass(e,fo),s.$submitted=!0,l.$setSubmitted()}}function nr(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function rr(e,t,n,r,i,o){ir(e,t,n,r,i,o),nr(r)}function ir(e,t,n,r,i,o){var a=wr(t[0].type);if(!i.android){var s=!1;t.on("compositionstart",function(e){s=!0}),t.on("compositionend",function(){s=!1,u()})}var u=function(e){if(l&&(o.defer.cancel(l),l=null),!s){var i=t.val(),u=e&&e.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(i=Wr(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,u)}};if(i.hasEvent("input"))t.on("input",u);else{var l,c=function(e,t,n){l||(l=o.defer(function(){l=null,t&&t.value===n||u(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||t>15&&19>t||t>=37&&40>=t||c(e,this,this.value)}),i.hasEvent("paste")&&t.on("paste cut",c)}t.on("change",u),r.$render=function(){t.val(r.$isEmpty(r.$viewValue)?"":r.$viewValue)}}function or(e,t){if(k(e))return e;if(C(e)){Co.lastIndex=0;var n=Co.exec(e);if(n){var r=+n[1],i=+n[2],o=0,a=0,s=0,u=0,l=Vn(r),c=7*(i-1);return t&&(o=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),u=t.getMilliseconds()),new Date(r,0,l.getDate()+c,o,a,s,u)}}return NaN}function ar(e,t){return function(n,r){var i,a;if(k(n))return n;if(C(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),vo.test(n))return new Date(n);if(e.lastIndex=0,i=e.exec(n))return i.shift(),a=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(i,function(e,n){n<t.length&&(a[t[n]]=+e)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return NaN}}function sr(e,t,r,i){return function(o,a,s,u,l,c,d){function p(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function f(e){return w(e)?k(e)?e:r(e):n}ur(o,a,s,u),ir(o,a,s,u,l,c);var h,m=u&&u.$options&&u.$options.timezone;if(u.$$parserName=e,u.$parsers.push(function(e){if(u.$isEmpty(e))return null;if(t.test(e)){var i=r(e,h);return m&&(i=Z(i,m)),i}return n}),u.$formatters.push(function(e){if(e&&!k(e))throw Qo("datefmt","Expected `{0}` to be a date",e);return p(e)?(h=e,h&&m&&(h=Z(h,m,!0)),d("date")(e,i,m)):(h=null,"")}),w(s.min)||s.ngMin){var g;u.$validators.min=function(e){return!p(e)||y(g)||r(e)>=g},s.$observe("min",function(e){g=f(e),u.$validate()})}if(w(s.max)||s.ngMax){var v;u.$validators.max=function(e){return!p(e)||y(v)||r(e)<=v},s.$observe("max",function(e){v=f(e),u.$validate()})}}}function ur(e,t,r,i){var o=t[0],a=i.$$hasNativeValidators=_(o.validity);a&&i.$parsers.push(function(e){var r=t.prop(yr)||{};return r.badInput&&!r.typeMismatch?n:e})}function lr(e,t,r,i,o,a){if(ur(e,t,r,i),ir(e,t,r,i,o,a),i.$$parserName="number",i.$parsers.push(function(e){return i.$isEmpty(e)?null:wo.test(e)?parseFloat(e):n}),i.$formatters.push(function(e){if(!i.$isEmpty(e)){if(!D(e))throw Qo("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e}),w(r.min)||r.ngMin){var s;i.$validators.min=function(e){return i.$isEmpty(e)||y(s)||e>=s},r.$observe("min",function(e){w(e)&&!D(e)&&(e=parseFloat(e,10)),s=D(e)&&!isNaN(e)?e:n,i.$validate()})}if(w(r.max)||r.ngMax){var u;i.$validators.max=function(e){return i.$isEmpty(e)||y(u)||u>=e},r.$observe("max",function(e){w(e)&&!D(e)&&(e=parseFloat(e,10)),u=D(e)&&!isNaN(e)?e:n,i.$validate()})}}function cr(e,t,n,r,i,o){ir(e,t,n,r,i,o),nr(r),r.$$parserName="url",r.$validators.url=function(e,t){var n=e||t;return r.$isEmpty(n)||bo.test(n)}}function dr(e,t,n,r,i,o){ir(e,t,n,r,i,o),nr(r),r.$$parserName="email",r.$validators.email=function(e,t){var n=e||t;return r.$isEmpty(n)||yo.test(n)}}function pr(e,t,n,r){y(n.name)&&t.attr("name",u());var i=function(e){t[0].checked&&r.$setViewValue(n.value,e&&e.type)};t.on("click",i),r.$render=function(){var e=n.value;t[0].checked=e==r.$viewValue},n.$observe("value",r.$render)}function fr(e,t,n,i,o){var a;if(w(i)){if(a=e(i),!a.constant)throw r("ngModel")("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i);return a(t)}return o}function hr(e,t,n,r,i,o,a,s){var u=fr(s,e,"ngTrueValue",n.ngTrueValue,!0),l=fr(s,e,"ngFalseValue",n.ngFalseValue,!1),c=function(e){r.$setViewValue(t[0].checked,e&&e.type)};t.on("click",c),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return e===!1},r.$formatters.push(function(e){return j(e,u)}),r.$parsers.push(function(e){return e?u:l})}function mr(e,t){return e="ngClass"+e,["$animate",function(n){function r(e,t){var n=[];e:for(var r=0;r<e.length;r++){for(var i=e[r],o=0;o<t.length;o++)if(i==t[o])continue e;n.push(i)}return n}function i(e){var t=[];return Ir(e)?(o(e,function(e){t=t.concat(i(e))}),t):C(e)?e.split(" "):_(e)?(o(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t):e}return{restrict:"AC",link:function(a,s,u){function l(e){var t=d(e,1);u.$addClass(t)}function c(e){var t=d(e,-1);u.$removeClass(t)}function d(e,t){var n=s.data("$classCounts")||ge(),r=[];return o(e,function(e){(t>0||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(t>0)&&r.push(e))}),s.data("$classCounts",n),r.join(" ")}function p(e,t){var i=r(t,e),o=r(e,t);i=d(i,1),o=d(o,-1),i&&i.length&&n.addClass(s,i),o&&o.length&&n.removeClass(s,o)}function f(e){if(t===!0||a.$index%2===t){var n=i(e||[]);if(h){if(!j(e,h)){var r=i(h);p(r,n)}}else l(n)}h=L(e)}var h;a.$watch(u[e],f,!0),u.$observe("class",function(t){f(a.$eval(u[e]))}),"ngClass"!==e&&a.$watch("$index",function(n,r){var o=1&n;if(o!==(1&r)){var s=i(a.$eval(u[e]));o===t?l(s):c(s)}})}}}]}function gr(e){function t(e,t,u){t===n?r("$pending",e,u):i("$pending",e,u),M(t)?t?(d(s.$error,e,u),c(s.$$success,e,u)):(c(s.$error,e,u),d(s.$$success,e,u)):(d(s.$error,e,u),d(s.$$success,e,u)),s.$pending?(o(Jo,!0),s.$valid=s.$invalid=n,a("",null)):(o(Jo,!1),s.$valid=vr(s.$error),s.$invalid=!s.$valid,a("",s.$valid));var l;l=s.$pending&&s.$pending[e]?n:s.$error[e]?!1:s.$$success[e]?!0:null,a(e,l),p.$setValidity(e,l,s)}function r(e,t,n){s[e]||(s[e]={}),c(s[e],t,n)}function i(e,t,r){s[e]&&d(s[e],t,r),vr(s[e])&&(s[e]=n)}function o(e,t){t&&!l[e]?(f.addClass(u,e),l[e]=!0):!t&&l[e]&&(f.removeClass(u,e),l[e]=!1)}function a(e,t){e=e?"-"+le(e,"-"):"",o(Uo+e,t===!0),o(zo+e,t===!1)}var s=e.ctrl,u=e.$element,l={},c=e.set,d=e.unset,p=e.parentForm,f=e.$animate;l[zo]=!(l[Uo]=u.hasClass(Uo)),s.$setValidity=t}function vr(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}var br=/^\/(.+)\/([a-z]*)$/,yr="validity",wr=function(e){return C(e)?e.toLowerCase():e},_r=Object.prototype.hasOwnProperty,xr=function(e){return C(e)?e.toUpperCase():e},Cr=function(e){return C(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},Dr=function(e){return C(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(-33&e.charCodeAt(0))}):e};"i"!=="I".toLowerCase()&&(wr=Cr,xr=Dr);var kr,Ar,$r,Sr,Er=[].slice,Tr=[].splice,Pr=[].push,Rr=Object.prototype.toString,Mr=Object.getPrototypeOf,Nr=r("ng"),Fr=e.angular||(e.angular={}),Or=0;kr=t.documentMode,m.$inject=[],g.$inject=[];var Gr,Ir=Array.isArray,Br=/^\[object (Uint8(Clamped)?)|(Uint16)|(Uint32)|(Int8)|(Int16)|(Int32)|(Float(32)|(64))Array\]$/,Wr=function(e){return C(e)?e.trim():e},Lr=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},jr=function(){if(w(jr.isActive_))return jr.isActive_;var e=!(!t.querySelector("[ng-csp]")&&!t.querySelector("[data-ng-csp]"));if(!e)try{new Function("")}catch(n){e=!0}return jr.isActive_=e},Vr=function(){if(w(Vr.name_))return Vr.name_;var e,n,r,i,o=Hr.length;for(n=0;o>n;++n)if(r=Hr[n],e=t.querySelector("["+r.replace(":","\\:")+"jq]")){i=e.getAttribute(r+"jq");break}return Vr.name_=i},Hr=["ng-","data-ng-","ng:","x-ng-"],qr=/[A-Z]/g,Ur=!1,zr=1,Yr=2,Xr=3,Kr=8,Zr=9,Jr=11,Qr={full:"1.4.3",major:1,minor:4,dot:3,codeName:"foam-acceleration"};Se.expando="ng339";var ei=Se.cache={},ti=1,ni=function(e,t,n){e.addEventListener(t,n,!1)},ri=function(e,t,n){e.removeEventListener(t,n,!1)};Se._data=function(e){return this.cache[e[this.expando]]||{}};var ii=/([\:\-\_]+(.))/g,oi=/^moz([A-Z])/,ai={mouseleave:"mouseout",mouseenter:"mouseover"},si=r("jqLite"),ui=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,li=/<|&#?\w+;/,ci=/<([\w:]+)/,di=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,pi={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};pi.optgroup=pi.option,pi.tbody=pi.tfoot=pi.colgroup=pi.caption=pi.thead,pi.th=pi.td;var fi=Se.prototype={ready:function(n){function r(){i||(i=!0,n())}var i=!1;"complete"===t.readyState?setTimeout(r):(this.on("DOMContentLoaded",r),Se(e).on("load",r))},toString:function(){var e=[];return o(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return Ar(e>=0?this[e]:this[this.length+e])},length:0,push:Pr,sort:[].sort,splice:[].splice},hi={};o("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){hi[wr(e)]=e});var mi={};o("input,select,option,textarea,button,form,details".split(","),function(e){mi[e]=!0});var gi={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};o({data:Ne,removeData:Re,hasData:ke},function(e,t){Se[t]=e}),o({data:Ne,inheritedData:We,scope:function(e){return Ar.data(e,"$scope")||We(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return Ar.data(e,"$isolateScope")||Ar.data(e,"$isolateScopeNoTemplate")},controller:Be,injector:function(e){return We(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:Fe,css:function(e,t,n){return t=xe(t),w(n)?void(e.style[t]=n):e.style[t]},attr:function(e,t,r){var i=e.nodeType;if(i!==Xr&&i!==Yr&&i!==Kr){var o=wr(t);if(hi[o]){if(!w(r))return e[t]||(e.attributes.getNamedItem(t)||m).specified?o:n;r?(e[t]=!0,e.setAttribute(t,o)):(e[t]=!1,e.removeAttribute(o))}else if(w(r))e.setAttribute(t,r);else if(e.getAttribute){var a=e.getAttribute(t,2);return null===a?n:a}}},prop:function(e,t,n){return w(n)?void(e[t]=n):e[t]},text:function(){function e(e,t){if(y(t)){var n=e.nodeType;return n===zr||n===Xr?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(y(t)){if(e.multiple&&"select"===I(e)){var n=[];return o(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){return y(t)?e.innerHTML:(Te(e,!0),void(e.innerHTML=t))},empty:Le},function(e,t){Se.prototype[t]=function(t,r){var i,o,a=this.length;if(e!==Le&&(2==e.length&&e!==Fe&&e!==Be?t:r)===n){if(_(t)){for(i=0;a>i;i++)if(e===Ne)e(this[i],t);else for(o in t)e(this[i],o,t[o]);return this}for(var s=e.$dv,u=s===n?Math.min(a,1):a,l=0;u>l;l++){var c=e(this[l],t,r);s=s?s+c:c}return s}for(i=0;a>i;i++)e(this[i],t,r);return this}}),o({removeData:Re,on:function Ea(e,t,n,r){if(w(r))throw si("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(De(e)){var i=Me(e,!0),o=i.events,a=i.handle;a||(a=i.handle=Ue(e,o));for(var s=t.indexOf(" ")>=0?t.split(" "):[t],u=s.length;u--;){t=s[u];var l=o[t];l||(o[t]=[],"mouseenter"===t||"mouseleave"===t?Ea(e,ai[t],function(e){var n=this,r=e.relatedTarget;(!r||r!==n&&!n.contains(r))&&a(e,t)}):"$destroy"!==t&&ni(e,t,a),l=o[t]),l.push(n)}}},off:Pe,one:function(e,t,n){e=Ar(e),e.on(t,function r(){e.off(t,n),e.off(t,r)}),e.on(t,n)},replaceWith:function(e,t){var n,r=e.parentNode;Te(e),o(new Se(t),function(t){n?r.insertBefore(t,n.nextSibling):r.replaceChild(t,e),n=t})},children:function(e){var t=[];return o(e.childNodes,function(e){e.nodeType===zr&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===zr||n===Jr){t=new Se(t);for(var r=0,i=t.length;i>r;r++){var o=t[r];e.appendChild(o)}}},prepend:function(e,t){if(e.nodeType===zr){var n=e.firstChild;o(new Se(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){t=Ar(t).eq(0).clone()[0];var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)},remove:je,detach:function(e){je(e,!0)},after:function(e,t){var n=e,r=e.parentNode;t=new Se(t);for(var i=0,o=t.length;o>i;i++){var a=t[i];r.insertBefore(a,n.nextSibling),n=a}},addClass:Ge,removeClass:Oe,toggleClass:function(e,t,n){t&&o(t.split(" "),function(t){var r=n;y(r)&&(r=!Fe(e,t)),(r?Ge:Oe)(e,t)})},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==Jr?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:Ee,triggerHandler:function(e,t,n){var r,i,a,s=t.type||t,u=Me(e),l=u&&u.events,c=l&&l[s];c&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:m,type:s,target:e},t.type&&(r=d(r,t)),i=L(c),a=n?[r].concat(n):[r],o(i,function(t){r.isImmediatePropagationStopped()||t.apply(e,a)}))}},function(e,t){Se.prototype[t]=function(t,n,r){for(var i,o=0,a=this.length;a>o;o++)y(i)?(i=e(this[o],t,n,r),w(i)&&(i=Ar(i))):Ie(i,e(this[o],t,n,r));return w(i)?i:this},Se.prototype.bind=Se.prototype.on,Se.prototype.unbind=Se.prototype.off}),Xe.prototype={put:function(e,t){this[Ye(e,this.nextUid)]=t},get:function(e){return this[Ye(e,this.nextUid)]},remove:function(e){var t=this[e=Ye(e,this.nextUid)];return delete this[e],t}};var vi=[function(){this.$get=[function(){return Xe}]}],bi=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,yi=/,/,wi=/^\s*(_?)(\S+?)\1\s*$/,_i=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,xi=r("$injector");Je.$$annotate=Ze;var Ci=r("$animate"),Di=1,ki="ng-animate",Ai=function(){this.$get=["$q","$$rAF",function(e,t){function n(){}return n.all=m,n.chain=m,n.prototype={end:m,cancel:m,resume:m,pause:m,complete:m,then:function(n,r){return e(function(e){t(function(){e()})}).then(n,r)}},n}]},$i=function(){var e=new Xe,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){function i(n,i,a){var s=e.get(n);s||(e.put(n,s={}),t.push(n)),i&&o(i.split(" "),function(e){e&&(s[e]=!0)}),a&&o(a.split(" "),function(e){e&&(s[e]=!1)}),t.length>1||r.$$postDigest(function(){o(t,function(t){var n=e.get(t);if(n){var r=nt(t.attr("class")),i="",a="";o(n,function(e,t){var n=!!r[t];e!==n&&(e?i+=(i.length?" ":"")+t:a+=(a.length?" ":"")+t)}),o(t,function(e){i&&Ge(e,i),a&&Oe(e,a)}),e.remove(t)}}),t.length=0})}return{enabled:m,on:m,off:m,pin:m,push:function(e,t,r,o){return o&&o(),r=r||{},r.from&&e.css(r.from),r.to&&e.css(r.to),(r.addClass||r.removeClass)&&i(e,r.addClass,r.removeClass),new n}}}]},Si=["$provide",function(e){var t=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw Ci("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var i=n+"-animation";t.$$registeredAnimations[n.substr(1)]=i,e.factory(i,r)},this.classNameFilter=function(e){if(1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null,this.$$classNameFilter)){var t=new RegExp("(\\s+|\\/)"+ki+"(\\s+|\\/)");if(t.test(this.$$classNameFilter.toString()))throw Ci("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',ki)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var r=tt(n);!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(n,r,i,o){return r=r&&Ar(r),i=i&&Ar(i),r=r||i.parent(),t(n,r,i),e.push(n,"enter",rt(o))},move:function(n,r,i,o){return r=r&&Ar(r),i=i&&Ar(i),r=r||i.parent(),t(n,r,i),e.push(n,"move",rt(o))},leave:function(t,n){return e.push(t,"leave",rt(n),function(){t.remove()})},addClass:function(t,n,r){return r=rt(r),r.addClass=et(r.addclass,n),e.push(t,"addClass",r)},removeClass:function(t,n,r){return r=rt(r),r.removeClass=et(r.removeClass,n),e.push(t,"removeClass",r)},setClass:function(t,n,r,i){return i=rt(i),i.addClass=et(i.addClass,n),i.removeClass=et(i.removeClass,r),e.push(t,"setClass",i)},animate:function(t,n,r,i,o){return o=rt(o),o.from=o.from?d(o.from,n):n,o.to=o.to?d(o.to,r):r,i=i||"ng-inline-animate",o.tempClasses=et(o.tempClasses,i),e.push(t,"animate",o)}}}]}],Ei=r("$compile");ut.$inject=["$provide","$$sanitizeUriProvider"];var Ti=/^((?:x|data)[\:\-_])/i,Pi=r("$controller"),Ri=/^(\S+)(\s+as\s+(\w+))?$/,Mi="application/json",Ni={"Content-Type":Mi+";charset=utf-8"},Fi=/^\[|^\{(?!\{)/,Oi={"[":/]$/,"{":/}$/},Gi=/^\)\]\}',?\n/,Ii=Fr.$interpolateMinErr=r("$interpolate");Ii.throwNoconcat=function(e){throw Ii("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},Ii.interr=function(e,t){return Ii("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var Bi=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,Wi={http:80,https:443,ftp:21},Li=r("$location"),ji={$$html5:!1,$$replace:!1,absUrl:Vt("$$absUrl"),url:function(e){if(y(e))return this.$$url;var t=Bi.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:Vt("$$protocol"),host:Vt("$$host"),port:Vt("$$port"),path:Ht("$$path",function(e){return e=null!==e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(C(e)||D(e))e=e.toString(),this.$$search=ee(e);else{if(!_(e))throw Li("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");e=W(e,{}),o(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:y(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:Ht("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};o([jt,Lt,Wt],function(e){e.prototype=Object.create(ji),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==Wt||!this.$$html5)throw Li("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=y(t)?null:t,this}});var Vi=r("$parse"),Hi=Function.prototype.call,qi=Function.prototype.apply,Ui=Function.prototype.bind,zi=ge();o("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){zi[e]=!0});var Yi={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},Xi=function(e){this.options=e};Xi.prototype={constructor:Xi,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(t))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),r=n+this.peek(2),i=zi[t],o=zi[n],a=zi[r];if(i||o||a){var s=a?r:o?n:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){var t=e||1;return this.index+t<this.text.length?this.text.charAt(this.index+t):!1},isNumber:function(e){return e>="0"&&"9">=e&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"	"===e||"\n"===e||""===e||" "===e},isIdent:function(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"===e||"$"===e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var r=w(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw Vi("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,r,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=wr(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){for(var e=this.index;this.index<this.text.length;){var t=this.text.charAt(this.index);if(!this.isIdent(t)&&!this.isNumber(t))break;this.index++}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,i){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{var s=Yi[o];n+=s||o}i=!1}else if("\\"===o)i=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var Ki=function(e,t){this.lexer=e,this.options=t};Ki.Program="Program",Ki.ExpressionStatement="ExpressionStatement",Ki.AssignmentExpression="AssignmentExpression",Ki.ConditionalExpression="ConditionalExpression",Ki.LogicalExpression="LogicalExpression",Ki.BinaryExpression="BinaryExpression",Ki.UnaryExpression="UnaryExpression",Ki.CallExpression="CallExpression",Ki.MemberExpression="MemberExpression",
Ki.Identifier="Identifier",Ki.Literal="Literal",Ki.ArrayExpression="ArrayExpression",Ki.Property="Property",Ki.ObjectExpression="ObjectExpression",Ki.ThisExpression="ThisExpression",Ki.NGValueParameter="NGValueParameter",Ki.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:Ki.Program,body:e}},expressionStatement:function(){return{type:Ki.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e,t=this.expression();e=this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();return this.expect("=")&&(e={type:Ki.AssignmentExpression,left:e,right:this.assignment(),operator:"="}),e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:Ki.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:Ki.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:Ki.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:Ki.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:Ki.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:Ki.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:Ki.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:Ki.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.constants.hasOwnProperty(this.peek().text)?e=W(this.constants[this.consume().text]):this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)"("===t.text?(e={type:Ki.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:Ki.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:Ki.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],n={type:Ki.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do e.push(this.expression());while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:Ki.Identifier,name:e.text}},constant:function(){return{type:Ki.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Ki.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:Ki.Property,kind:"init"},this.peek().constant?e.key=this.constant():this.peek().identifier?e.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),e.value=this.expression(),t.push(e)}while(this.expect(","));return this.consume("}"),{type:Ki.ObjectExpression,properties:t}},throwError:function(e,t){throw Vi("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw Vi("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw Vi("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,i){if(this.tokens.length>e){var o=this.tokens[e],a=o.text;if(a===t||a===n||a===r||a===i||!t&&!n&&!r&&!i)return o}return!1},expect:function(e,t,n,r){var i=this.peek(e,t,n,r);return i?(this.tokens.shift(),i):!1},constants:{"true":{type:Ki.Literal,value:!0},"false":{type:Ki.Literal,value:!1},"null":{type:Ki.Literal,value:null},undefined:{type:Ki.Literal,value:n},"this":{type:Ki.ThisExpression}}},an.prototype={compile:function(e,t){var r=this,i=this.astBuilder.ast(e);this.state={nextId:0,filters:{},expensiveChecks:t,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},Qt(i,r.$filter);var a,s="";if(this.stage="assign",a=nn(i)){this.state.computing="assign";var u=this.nextId();this.recurse(a,u),s="fn.assign="+this.generateFunction("assign","s,v,l")}var l=en(i.body);r.stage="inputs",o(l,function(e,t){var n="fn"+t;r.state[n]={vars:[],body:[],own:{}},r.state.computing=n;var i=r.nextId();r.recurse(e,i),r.return_(i),r.state.inputs.push(n),e.watchId=t}),this.state.computing="fn",this.stage="main",this.recurse(i);var c='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+s+this.watchFns()+"return fn;",d=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","ifDefined","plus","text",c)(this.$filter,zt,Yt,Xt,Kt,Zt,e);return this.state=this.stage=n,d.literal=rn(i),d.constant=on(i),d},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return o(t,function(t){e.push("var "+t+"="+n.generateFunction(t,"s"))}),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return o(this.state.filters,function(n,r){e.push(n+"=$filter("+t.escape(r)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,r,i,a,s){var u,l,c,d,p=this;if(i=i||m,!s&&w(e.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,r,i,a,!0));switch(e.type){case Ki.Program:o(e.body,function(t,r){p.recurse(t.expression,n,n,function(e){l=e}),r!==e.body.length-1?p.current().body.push(l,";"):p.return_(l)});break;case Ki.Literal:d=this.escape(e.value),this.assign(t,d),i(d);break;case Ki.UnaryExpression:this.recurse(e.argument,n,n,function(e){l=e}),d=e.operator+"("+this.ifDefined(l,0)+")",this.assign(t,d),i(d);break;case Ki.BinaryExpression:this.recurse(e.left,n,n,function(e){u=e}),this.recurse(e.right,n,n,function(e){l=e}),d="+"===e.operator?this.plus(u,l):"-"===e.operator?this.ifDefined(u,0)+e.operator+this.ifDefined(l,0):"("+u+")"+e.operator+"("+l+")",this.assign(t,d),i(d);break;case Ki.LogicalExpression:t=t||this.nextId(),p.recurse(e.left,t),p.if_("&&"===e.operator?t:p.not(t),p.lazyRecurse(e.right,t)),i(t);break;case Ki.ConditionalExpression:t=t||this.nextId(),p.recurse(e.test,t),p.if_(t,p.lazyRecurse(e.alternate,t),p.lazyRecurse(e.consequent,t)),i(t);break;case Ki.Identifier:t=t||this.nextId(),r&&(r.context="inputs"===p.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),r.computed=!1,r.name=e.name),zt(e.name),p.if_("inputs"===p.stage||p.not(p.getHasOwnProperty("l",e.name)),function(){p.if_("inputs"===p.stage||"s",function(){a&&1!==a&&p.if_(p.not(p.nonComputedMember("s",e.name)),p.lazyAssign(p.nonComputedMember("s",e.name),"{}")),p.assign(t,p.nonComputedMember("s",e.name))})},t&&p.lazyAssign(t,p.nonComputedMember("l",e.name))),(p.state.expensiveChecks||ln(e.name))&&p.addEnsureSafeObject(t),i(t);break;case Ki.MemberExpression:u=r&&(r.context=this.nextId())||this.nextId(),t=t||this.nextId(),p.recurse(e.object,u,n,function(){p.if_(p.notNull(u),function(){e.computed?(l=p.nextId(),p.recurse(e.property,l),p.addEnsureSafeMemberName(l),a&&1!==a&&p.if_(p.not(p.computedMember(u,l)),p.lazyAssign(p.computedMember(u,l),"{}")),d=p.ensureSafeObject(p.computedMember(u,l)),p.assign(t,d),r&&(r.computed=!0,r.name=l)):(zt(e.property.name),a&&1!==a&&p.if_(p.not(p.nonComputedMember(u,e.property.name)),p.lazyAssign(p.nonComputedMember(u,e.property.name),"{}")),d=p.nonComputedMember(u,e.property.name),(p.state.expensiveChecks||ln(e.property.name))&&(d=p.ensureSafeObject(d)),p.assign(t,d),r&&(r.computed=!1,r.name=e.property.name))},function(){p.assign(t,"undefined")}),i(t)},!!a);break;case Ki.CallExpression:t=t||this.nextId(),e.filter?(l=p.filter(e.callee.name),c=[],o(e.arguments,function(e){var t=p.nextId();p.recurse(e,t),c.push(t)}),d=l+"("+c.join(",")+")",p.assign(t,d),i(t)):(l=p.nextId(),u={},c=[],p.recurse(e.callee,l,u,function(){p.if_(p.notNull(l),function(){p.addEnsureSafeFunction(l),o(e.arguments,function(e){p.recurse(e,p.nextId(),n,function(e){c.push(p.ensureSafeObject(e))})}),u.name?(p.state.expensiveChecks||p.addEnsureSafeObject(u.context),d=p.member(u.context,u.name,u.computed)+"("+c.join(",")+")"):d=l+"("+c.join(",")+")",d=p.ensureSafeObject(d),p.assign(t,d)},function(){p.assign(t,"undefined")}),i(t)}));break;case Ki.AssignmentExpression:if(l=this.nextId(),u={},!tn(e.left))throw Vi("lval","Trying to assing a value to a non l-value");this.recurse(e.left,n,u,function(){p.if_(p.notNull(u.context),function(){p.recurse(e.right,l),p.addEnsureSafeObject(p.member(u.context,u.name,u.computed)),d=p.member(u.context,u.name,u.computed)+e.operator+l,p.assign(t,d),i(t||d)})},1);break;case Ki.ArrayExpression:c=[],o(e.elements,function(e){p.recurse(e,p.nextId(),n,function(e){c.push(e)})}),d="["+c.join(",")+"]",this.assign(t,d),i(d);break;case Ki.ObjectExpression:c=[],o(e.properties,function(e){p.recurse(e.value,p.nextId(),n,function(t){c.push(p.escape(e.key.type===Ki.Identifier?e.key.name:""+e.key.value)+":"+t)})}),d="{"+c.join(",")+"}",this.assign(t,d),i(d);break;case Ki.ThisExpression:this.assign(t,"s"),i("s");break;case Ki.NGValueParameter:this.assign(t,"v"),i("v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),r[n]},assign:function(e,t){return e?(this.current().body.push(e,"=",t,";"),e):void 0},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(e===!0)t();else{var r=this.current().body;r.push("if(",e,"){"),t(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(e){return"!("+e+")"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){return e+"."+t},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},addEnsureSafeObject:function(e){this.current().body.push(this.ensureSafeObject(e),";")},addEnsureSafeMemberName:function(e){this.current().body.push(this.ensureSafeMemberName(e),";")},addEnsureSafeFunction:function(e){this.current().body.push(this.ensureSafeFunction(e),";")},ensureSafeObject:function(e){return"ensureSafeObject("+e+",text)"},ensureSafeMemberName:function(e){return"ensureSafeMemberName("+e+",text)"},ensureSafeFunction:function(e){return"ensureSafeFunction("+e+",text)"},lazyRecurse:function(e,t,n,r,i,o){var a=this;return function(){a.recurse(e,t,n,r,i,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(C(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(D(e))return e.toString();if(e===!0)return"true";if(e===!1)return"false";if(null===e)return"null";if("undefined"==typeof e)return"undefined";throw Vi("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},sn.prototype={compile:function(e,t){var n=this,r=this.astBuilder.ast(e);this.expression=e,this.expensiveChecks=t,Qt(r,n.$filter);var i,a;(i=nn(r))&&(a=this.recurse(i));var s,u=en(r.body);u&&(s=[],o(u,function(e,t){var r=n.recurse(e);e.input=r,s.push(r),e.watchId=t}));var l=[];o(r.body,function(e){l.push(n.recurse(e.expression))});var c=0===r.body.length?function(){}:1===r.body.length?l[0]:function(e,t){var n;return o(l,function(r){n=r(e,t)}),n};return a&&(c.assign=function(e,t,n){return a(e,n,t)}),s&&(c.inputs=s),c.literal=rn(r),c.constant=on(r),c},recurse:function(e,t,r){var i,a,s,u=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case Ki.Literal:return this.value(e.value,t);case Ki.UnaryExpression:return a=this.recurse(e.argument),this["unary"+e.operator](a,t);case Ki.BinaryExpression:return i=this.recurse(e.left),a=this.recurse(e.right),this["binary"+e.operator](i,a,t);case Ki.LogicalExpression:return i=this.recurse(e.left),a=this.recurse(e.right),this["binary"+e.operator](i,a,t);case Ki.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case Ki.Identifier:return zt(e.name,u.expression),u.identifier(e.name,u.expensiveChecks||ln(e.name),t,r,u.expression);case Ki.MemberExpression:return i=this.recurse(e.object,!1,!!r),e.computed||(zt(e.property.name,u.expression),a=e.property.name),e.computed&&(a=this.recurse(e.property)),e.computed?this.computedMember(i,a,t,r,u.expression):this.nonComputedMember(i,a,u.expensiveChecks,t,r,u.expression);case Ki.CallExpression:return s=[],o(e.arguments,function(e){s.push(u.recurse(e))}),e.filter&&(a=this.$filter(e.callee.name)),e.filter||(a=this.recurse(e.callee,!0)),e.filter?function(e,r,i,o){for(var u=[],l=0;l<s.length;++l)u.push(s[l](e,r,i,o));var c=a.apply(n,u,o);return t?{context:n,name:n,value:c}:c}:function(e,n,r,i){var o,l=a(e,n,r,i);if(null!=l.value){Yt(l.context,u.expression),Xt(l.value,u.expression);for(var c=[],d=0;d<s.length;++d)c.push(Yt(s[d](e,n,r,i),u.expression));o=Yt(l.value.apply(l.context,c),u.expression)}return t?{value:o}:o};case Ki.AssignmentExpression:return i=this.recurse(e.left,!0,1),a=this.recurse(e.right),function(e,n,r,o){var s=i(e,n,r,o),l=a(e,n,r,o);return Yt(s.value,u.expression),s.context[s.name]=l,t?{value:l}:l};case Ki.ArrayExpression:return s=[],o(e.elements,function(e){s.push(u.recurse(e))}),function(e,n,r,i){for(var o=[],a=0;a<s.length;++a)o.push(s[a](e,n,r,i));return t?{value:o}:o};case Ki.ObjectExpression:return s=[],o(e.properties,function(e){s.push({key:e.key.type===Ki.Identifier?e.key.name:""+e.key.value,value:u.recurse(e.value)})}),function(e,n,r,i){for(var o={},a=0;a<s.length;++a)o[s[a].key]=s[a].value(e,n,r,i);return t?{value:o}:o};case Ki.ThisExpression:return function(e){return t?{value:e}:e};case Ki.NGValueParameter:return function(e,n,r,i){return t?{value:r}:r}}},"unary+":function(e,t){return function(n,r,i,o){var a=e(n,r,i,o);return a=w(a)?+a:0,t?{value:a}:a}},"unary-":function(e,t){return function(n,r,i,o){var a=e(n,r,i,o);return a=w(a)?-a:0,t?{value:a}:a}},"unary!":function(e,t){return function(n,r,i,o){var a=!e(n,r,i,o);return t?{value:a}:a}},"binary+":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a),u=t(r,i,o,a),l=Zt(s,u);return n?{value:l}:l}},"binary-":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a),u=t(r,i,o,a),l=(w(s)?s:0)-(w(u)?u:0);return n?{value:l}:l}},"binary*":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)*t(r,i,o,a);return n?{value:s}:s}},"binary/":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)/t(r,i,o,a);return n?{value:s}:s}},"binary%":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)%t(r,i,o,a);return n?{value:s}:s}},"binary===":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)===t(r,i,o,a);return n?{value:s}:s}},"binary!==":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)!==t(r,i,o,a);return n?{value:s}:s}},"binary==":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)==t(r,i,o,a);return n?{value:s}:s}},"binary!=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)!=t(r,i,o,a);return n?{value:s}:s}},"binary<":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)<t(r,i,o,a);return n?{value:s}:s}},"binary>":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)>t(r,i,o,a);return n?{value:s}:s}},"binary<=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)<=t(r,i,o,a);return n?{value:s}:s}},"binary>=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)>=t(r,i,o,a);return n?{value:s}:s}},"binary&&":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)&&t(r,i,o,a);return n?{value:s}:s}},"binary||":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)||t(r,i,o,a);return n?{value:s}:s}},"ternary?:":function(e,t,n,r){return function(i,o,a,s){var u=e(i,o,a,s)?t(i,o,a,s):n(i,o,a,s);return r?{value:u}:u}},value:function(e,t){return function(){return t?{context:n,name:n,value:e}:e}},identifier:function(e,t,r,i,o){return function(a,s,u,l){var c=s&&e in s?s:a;i&&1!==i&&c&&!c[e]&&(c[e]={});var d=c?c[e]:n;return t&&Yt(d,o),r?{context:c,name:e,value:d}:d}},computedMember:function(e,t,n,r,i){return function(o,a,s,u){var l,c,d=e(o,a,s,u);return null!=d&&(l=t(o,a,s,u),zt(l,i),r&&1!==r&&d&&!d[l]&&(d[l]={}),c=d[l],Yt(c,i)),n?{context:d,name:l,value:c}:c}},nonComputedMember:function(e,t,r,i,o,a){return function(s,u,l,c){var d=e(s,u,l,c);o&&1!==o&&d&&!d[t]&&(d[t]={});var p=null!=d?d[t]:n;return(r||ln(t))&&Yt(p,a),i?{context:d,name:t,value:p}:p}},inputs:function(e,t){return function(n,r,i,o){return o?o[t]:e(n,r,i)}}};var Zi=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n,this.ast=new Ki(this.lexer),this.astCompiler=n.csp?new sn(this.ast,t):new an(this.ast,t)};Zi.prototype={constructor:Zi,parse:function(e){return this.astCompiler.compile(e,this.options.expensiveChecks)}};var Ji=(ge(),ge(),Object.prototype.valueOf),Qi=r("$sce"),eo={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Ei=r("$compile"),to=t.createElement("a"),no=An(e.location.href);En.$inject=["$document"],Pn.$inject=["$provide"],On.$inject=["$locale"],Gn.$inject=["$locale"];var ro=".",io={yyyy:Wn("FullYear",4),yy:Wn("FullYear",2,0,!0),y:Wn("FullYear",1),MMMM:Ln("Month"),MMM:Ln("Month",!0),MM:Wn("Month",2,1),M:Wn("Month",1,1),dd:Wn("Date",2),d:Wn("Date",1),HH:Wn("Hours",2),H:Wn("Hours",1),hh:Wn("Hours",2,-12),h:Wn("Hours",1,-12),mm:Wn("Minutes",2),m:Wn("Minutes",1),ss:Wn("Seconds",2),s:Wn("Seconds",1),sss:Wn("Milliseconds",3),EEEE:Ln("Day"),EEE:Ln("Day",!0),a:Un,Z:jn,ww:qn(2),w:qn(1),G:zn,GG:zn,GGG:zn,GGGG:Yn},oo=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,ao=/^\-?\d+$/;Xn.$inject=["$locale"];var so=v(wr),uo=v(xr);Jn.$inject=["$parse"];var lo=v({restrict:"E",compile:function(e,t){return t.href||t.xlinkHref?void 0:function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Rr.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),co={};o(hi,function(e,t){function n(e,n,i){e.$watch(i[r],function(e){i.$set(t,!!e)})}if("multiple"!=e){var r=lt("ng-"+t),i=n;"checked"===e&&(i=function(e,t,i){i.ngModel!==i[r]&&n(e,t,i)}),co[r]=function(){return{restrict:"A",priority:100,link:i}}}}),o(gi,function(e,t){co[t]=function(){return{priority:100,link:function(e,n,r){if("ngPattern"===t&&"/"==r.ngPattern.charAt(0)){var i=r.ngPattern.match(br);if(i)return void r.$set("ngPattern",new RegExp(i[1],i[2]))}e.$watch(r[t],function(e){r.$set(t,e)})}}}}),o(["src","srcset","href"],function(e){var t=lt("ng-"+e);co[t]=function(){return{priority:99,link:function(n,r,i){var o=e,a=e;"href"===e&&"[object SVGAnimatedString]"===Rr.call(r.prop("href"))&&(a="xlinkHref",i.$attr[a]="xlink:href",o=null),i.$observe(t,function(t){return t?(i.$set(a,t),void(kr&&o&&r.prop(o,i[a]))):void("href"===e&&i.$set(a,null))})}}}});var po={$addControl:m,$$renameControl:er,$removeControl:m,$setValidity:m,$setDirty:m,$setPristine:m,$setSubmitted:m},fo="ng-submitted";tr.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var ho=function(e){return["$timeout",function(t){var r={name:"form",restrict:e?"EAC":"E",controller:tr,compile:function(r,i){r.addClass(Yo).addClass(Uo);var o=i.name?"name":e&&i.ngForm?"ngForm":!1;return{pre:function(e,r,i,a){if(!("action"in i)){var s=function(t){e.$apply(function(){a.$commitViewValue(),a.$setSubmitted()}),t.preventDefault()};ni(r[0],"submit",s),r.on("$destroy",function(){t(function(){ri(r[0],"submit",s)},0,!1)})}var u=a.$$parentForm;o&&(un(e,a.$name,a,a.$name),i.$observe(o,function(t){a.$name!==t&&(un(e,a.$name,n,a.$name),u.$$renameControl(a,t),un(e,a.$name,a,a.$name))})),r.on("$destroy",function(){u.$removeControl(a),o&&un(e,i[o],n,a.$name),d(a,po)})}}}};return r}]},mo=ho(),go=ho(!0),vo=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,bo=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,yo=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,wo=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,_o=/^(\d{4})-(\d{2})-(\d{2})$/,xo=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Co=/^(\d{4})-W(\d\d)$/,Do=/^(\d{4})-(\d\d)$/,ko=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Ao={text:rr,date:sr("date",_o,ar(_o,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":sr("datetimelocal",xo,ar(xo,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:sr("time",ko,ar(ko,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:sr("week",Co,or,"yyyy-Www"),month:sr("month",Do,ar(Do,["yyyy","MM"]),"yyyy-MM"),number:lr,url:cr,email:dr,radio:pr,checkbox:hr,hidden:m,button:m,submit:m,reset:m,file:m},$o=["$browser","$sniffer","$filter","$parse",function(e,t,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,o,a,s){s[0]&&(Ao[wr(a.type)]||Ao.text)(i,o,a,s[0],t,e,n,r)}}}}],So=/^(true|false|\d+)$/,Eo=function(){return{restrict:"A",priority:100,compile:function(e,t){return So.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},To=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,r,i){e.$$addBindingInfo(r,i.ngBind),r=r[0],t.$watch(i.ngBind,function(e){r.textContent=e===n?"":e})}}}}],Po=["$interpolate","$compile",function(e,t){return{compile:function(r){return t.$$addBindingClass(r),function(r,i,o){var a=e(i.attr(o.$attr.ngBindTemplate));t.$$addBindingInfo(i,a.expressions),i=i[0],o.$observe("ngBindTemplate",function(e){i.textContent=e===n?"":e})}}}}],Ro=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(r,i){var o=t(i.ngBindHtml),a=t(i.ngBindHtml,function(e){return(e||"").toString()});return n.$$addBindingClass(r),function(t,r,i){n.$$addBindingInfo(r,i.ngBindHtml),t.$watch(a,function(){r.html(e.getTrustedHtml(o(t))||"")})}}}}],Mo=v({restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),No=mr("",!0),Fo=mr("Odd",0),Oo=mr("Even",1),Go=Qn({compile:function(e,t){t.$set("ngCloak",n),e.removeClass("ng-cloak")}}),Io=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Bo={},Wo={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=lt("ng-"+e);Bo[t]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,o){var a=n(o[t],null,!0);return function(t,n){n.on(e,function(n){var i=function(){a(t,{$event:n})};Wo[e]&&r.$$phase?t.$evalAsync(i):t.$apply(i)})}}}}]});var Lo=["$animate",function(e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,a){var s,u,l;n.$watch(i.ngIf,function(n){n?u||a(function(n,o){u=o,n[n.length++]=t.createComment(" end ngIf: "+i.ngIf+" "),s={clone:n},e.enter(n,r.parent(),r)}):(l&&(l.remove(),l=null),u&&(u.$destroy(),u=null),s&&(l=me(s.clone),e.leave(l).then(function(){l=null}),s=null))})}}}],jo=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Fr.noop,compile:function(r,i){var o=i.ngInclude||i.src,a=i.onload||"",s=i.autoscroll;return function(r,i,u,l,c){var d,p,f,h=0,m=function(){p&&(p.remove(),p=null),d&&(d.$destroy(),d=null),f&&(n.leave(f).then(function(){p=null}),p=f,f=null)};r.$watch(o,function(o){var u=function(){!w(s)||s&&!r.$eval(s)||t()},p=++h;o?(e(o,!0).then(function(e){if(p===h){var t=r.$new();l.template=e;var s=c(t,function(e){m(),n.enter(e,null,i).then(u)});d=t,f=s,d.$emit("$includeContentLoaded",o),r.$eval(a)}},function(){p===h&&(m(),r.$emit("$includeContentError",o))}),r.$emit("$includeContentRequested",o)):(m(),l.template=null)})}}}}],Vo=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,o){return/SVG/.test(r[0].toString())?(r.empty(),void e(Ae(o.template,t).childNodes)(n,function(e){r.append(e)},{futureParentElement:r})):(r.html(o.template),void e(r.contents())(n))}}}],Ho=Qn({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),qo=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,r,i){var a=t.attr(r.$attr.ngList)||", ",s="false"!==r.ngTrim,u=s?Wr(a):a,l=function(e){if(!y(e)){var t=[];return e&&o(e.split(u),function(e){e&&t.push(s?Wr(e):e)}),t}};i.$parsers.push(l),i.$formatters.push(function(e){return Ir(e)?e.join(a):n}),i.$isEmpty=function(e){return!e||!e.length}}}},Uo="ng-valid",zo="ng-invalid",Yo="ng-pristine",Xo="ng-dirty",Ko="ng-untouched",Zo="ng-touched",Jo="ng-pending",Qo=new r("ngModel"),ea=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,r,i,a,s,u,l,c,d){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=d(r.name||"",!1)(e);var p,f=a(r.ngModel),h=f.assign,g=f,v=h,b=null,_=this;this.$$setOptions=function(e){if(_.$options=e,e&&e.getterSetter){var t=a(r.ngModel+"()"),n=a(r.ngModel+"($$$p)");g=function(e){var n=f(e);return A(n)&&(n=t(e)),n},v=function(e,t){A(f(e))?n(e,{$$$p:_.$modelValue}):h(e,_.$modelValue)}}else if(!f.assign)throw Qo("nonassign","Expression '{0}' is non-assignable. Element: {1}",r.ngModel,J(i))},this.$render=m,this.$isEmpty=function(e){return y(e)||""===e||null===e||e!==e};var x=i.inheritedData("$formController")||po,C=0;gr({ctrl:this,$element:i,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},parentForm:x,$animate:s}),this.$setPristine=function(){_.$dirty=!1,_.$pristine=!0,s.removeClass(i,Xo),s.addClass(i,Yo)},this.$setDirty=function(){_.$dirty=!0,_.$pristine=!1,s.removeClass(i,Yo),s.addClass(i,Xo),x.$setDirty()},this.$setUntouched=function(){_.$touched=!1,_.$untouched=!0,s.setClass(i,Ko,Zo)},this.$setTouched=function(){_.$touched=!0,_.$untouched=!1,s.setClass(i,Zo,Ko)},this.$rollbackViewValue=function(){u.cancel(b),_.$viewValue=_.$$lastCommittedViewValue,_.$render()},this.$validate=function(){if(!D(_.$modelValue)||!isNaN(_.$modelValue)){var e=_.$$lastCommittedViewValue,t=_.$$rawModelValue,r=_.$valid,i=_.$modelValue,o=_.$options&&_.$options.allowInvalid;_.$$runValidators(t,e,function(e){o||r===e||(_.$modelValue=e?t:n,_.$modelValue!==i&&_.$$writeModelToScope())})}},this.$$runValidators=function(e,t,r){function i(){var e=_.$$parserName||"parse";return p!==n?(p||(o(_.$validators,function(e,t){u(t,null)}),o(_.$asyncValidators,function(e,t){u(t,null)})),u(e,p),p):(u(e,null),!0)}function a(){var n=!0;return o(_.$validators,function(r,i){var o=r(e,t);n=n&&o,u(i,o)}),n?!0:(o(_.$asyncValidators,function(e,t){u(t,null)}),!1)}function s(){var r=[],i=!0;o(_.$asyncValidators,function(o,a){var s=o(e,t);if(!N(s))throw Qo("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",s);u(a,n),r.push(s.then(function(){u(a,!0)},function(e){i=!1,u(a,!1)}))}),r.length?c.all(r).then(function(){l(i)},m):l(!0)}function u(e,t){d===C&&_.$setValidity(e,t)}function l(e){d===C&&r(e)}C++;var d=C;return i()&&a()?void s():void l(!1)},this.$commitViewValue=function(){var e=_.$viewValue;u.cancel(b),(_.$$lastCommittedViewValue!==e||""===e&&_.$$hasNativeValidators)&&(_.$$lastCommittedViewValue=e,_.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function t(){_.$modelValue!==a&&_.$$writeModelToScope()}var r=_.$$lastCommittedViewValue,i=r;if(p=y(i)?n:!0)for(var o=0;o<_.$parsers.length;o++)if(i=_.$parsers[o](i),y(i)){p=!1;break}D(_.$modelValue)&&isNaN(_.$modelValue)&&(_.$modelValue=g(e));var a=_.$modelValue,s=_.$options&&_.$options.allowInvalid;_.$$rawModelValue=i,s&&(_.$modelValue=i,t()),_.$$runValidators(i,_.$$lastCommittedViewValue,function(e){s||(_.$modelValue=e?i:n,t())})},this.$$writeModelToScope=function(){v(e,_.$modelValue),o(_.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}})},this.$setViewValue=function(e,t){_.$viewValue=e,(!_.$options||_.$options.updateOnDefault)&&_.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var n,r=0,i=_.$options;i&&w(i.debounce)&&(n=i.debounce,D(n)?r=n:D(n[t])?r=n[t]:D(n["default"])&&(r=n["default"])),u.cancel(b),r?b=u(function(){_.$commitViewValue()},r):l.$$phase?_.$commitViewValue():e.$apply(function(){_.$commitViewValue()})},e.$watch(function(){var t=g(e);if(t!==_.$modelValue&&(_.$modelValue===_.$modelValue||t===t)){_.$modelValue=_.$$rawModelValue=t,p=n;for(var r=_.$formatters,i=r.length,o=t;i--;)o=r[i](o);_.$viewValue!==o&&(_.$viewValue=_.$$lastCommittedViewValue=o,_.$render(),_.$$runValidators(t,o,m))}return t})}],ta=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:ea,priority:1,compile:function(t){return t.addClass(Yo).addClass(Ko).addClass(Uo),{pre:function(e,t,n,r){var i=r[0],o=r[1]||po;i.$$setOptions(r[2]&&r[2].$options),o.$addControl(i),n.$observe("name",function(e){i.$name!==e&&o.$$renameControl(i,e)}),e.$on("$destroy",function(){o.$removeControl(i)})},post:function(t,n,r,i){var o=i[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(e){o.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(n){o.$touched||(e.$$phase?t.$evalAsync(o.$setTouched):t.$apply(o.$setTouched))})}}}}}],na=/(\s+|^)default(\s+|$)/,ra=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var r=this;this.$options=W(e.$eval(t.ngModelOptions)),this.$options.updateOn!==n?(this.$options.updateOnDefault=!1,this.$options.updateOn=Wr(this.$options.updateOn.replace(na,function(){return r.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0;
}]}},ia=Qn({terminal:!0,priority:1e3}),oa=r("ngOptions"),aa=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,sa=["$compile","$parse",function(e,n){function r(e,t,r){function o(e,t,n,r,i){this.selectValue=e,this.viewValue=t,this.label=n,this.group=r,this.disabled=i}function a(e){var t;if(!l&&i(e))t=e;else{t=[];for(var n in e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&t.push(n)}return t}var s=e.match(aa);if(!s)throw oa("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,J(t));var u=s[5]||s[7],l=s[6],c=/ as /.test(s[0])&&s[1],d=s[9],p=n(s[2]?s[1]:u),f=c&&n(c),h=f||p,m=d&&n(d),g=d?function(e,t){return m(r,t)}:function(e){return Ye(e)},v=function(e,t){return g(e,C(e,t))},b=n(s[2]||s[1]),y=n(s[3]||""),w=n(s[4]||""),_=n(s[8]),x={},C=l?function(e,t){return x[l]=t,x[u]=e,x}:function(e){return x[u]=e,x};return{trackBy:d,getTrackByValue:v,getWatchables:n(_,function(e){var t=[];e=e||[];for(var n=a(e),i=n.length,o=0;i>o;o++){var u=e===n?o:n[o],l=(e[u],C(e[u],u)),c=g(e[u],l);if(t.push(c),s[2]||s[1]){var d=b(r,l);t.push(d)}if(s[4]){var p=w(r,l);t.push(p)}}return t}),getOptions:function(){for(var e=[],t={},n=_(r)||[],i=a(n),s=i.length,u=0;s>u;u++){var l=n===i?u:i[u],c=n[l],p=C(c,l),f=h(r,p),m=g(f,p),x=b(r,p),D=y(r,p),k=w(r,p),A=new o(m,f,x,D,k);e.push(A),t[m]=A}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[v(e)]},getViewValueFromOption:function(e){return d?Fr.copy(e.viewValue):e.viewValue}}}}}var a=t.createElement("option"),s=t.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","?ngModel"],link:function(t,n,i,u){function l(e,t){e.element=t,t.disabled=e.disabled,e.value!==t.value&&(t.value=e.selectValue),e.label!==t.label&&(t.label=e.label,t.textContent=e.label)}function c(e,t,n,r){var i;return t&&wr(t.nodeName)===n?i=t:(i=r.cloneNode(!1),t?e.insertBefore(i,t):e.appendChild(i)),i}function d(e){for(var t;e;)t=e.nextSibling,je(e),e=t}function p(e){var t=m&&m[0],n=x&&x[0];if(t||n)for(;e&&(e===t||e===n);)e=e.nextSibling;return e}function f(){var e=C&&g.readValue();C=D.getOptions();var t={},r=n[0].firstChild;if(_&&n.prepend(m),r=p(r),C.items.forEach(function(e){var i,o,u;e.group?(i=t[e.group],i||(o=c(n[0],r,"optgroup",s),r=o.nextSibling,o.label=e.group,i=t[e.group]={groupElement:o,currentOptionElement:o.firstChild}),u=c(i.groupElement,i.currentOptionElement,"option",a),l(e,u),i.currentOptionElement=u.nextSibling):(u=c(n[0],r,"option",a),l(e,u),r=u.nextSibling)}),Object.keys(t).forEach(function(e){d(t[e].currentOptionElement)}),d(r),h.$render(),!h.$isEmpty(e)){var i=g.readValue();(D.trackBy?j(e,i):e===i)||(h.$setViewValue(i),h.$render())}}var h=u[1];if(h){for(var m,g=u[0],v=i.multiple,b=0,y=n.children(),w=y.length;w>b;b++)if(""===y[b].value){m=y.eq(b);break}var _=!!m,x=Ar(a.cloneNode(!1));x.val("?");var C,D=r(i.ngOptions,n,t),k=function(){_||n.prepend(m),n.val(""),m.prop("selected",!0),m.attr("selected",!0)},A=function(){_||m.remove()},$=function(){n.prepend(x),n.val("?"),x.prop("selected",!0),x.attr("selected",!0)},S=function(){x.remove()};v?(h.$isEmpty=function(e){return!e||0===e.length},g.writeValue=function(e){C.items.forEach(function(e){e.element.selected=!1}),e&&e.forEach(function(e){var t=C.getOptionFromViewValue(e);t&&!t.disabled&&(t.element.selected=!0)})},g.readValue=function(){var e=n.val()||[],t=[];return o(e,function(e){var n=C.selectValueMap[e];n.disabled||t.push(C.getViewValueFromOption(n))}),t},D.trackBy&&t.$watchCollection(function(){return Ir(h.$viewValue)?h.$viewValue.map(function(e){return D.getTrackByValue(e)}):void 0},function(){h.$render()})):(g.writeValue=function(e){var t=C.getOptionFromViewValue(e);t&&!t.disabled?n[0].value!==t.selectValue&&(S(),A(),n[0].value=t.selectValue,t.element.selected=!0,t.element.setAttribute("selected","selected")):null===e||_?(S(),k()):(A(),$())},g.readValue=function(){var e=C.selectValueMap[n.val()];return e&&!e.disabled?(A(),S(),C.getViewValueFromOption(e)):null},D.trackBy&&t.$watch(function(){return D.getTrackByValue(h.$viewValue)},function(){h.$render()})),_?(m.remove(),e(m)(t),m.removeClass("ng-scope")):m=Ar(a.cloneNode(!1)),f(),t.$watchCollection(D.getWatchables,f)}}}}],ua=["$locale","$interpolate","$log",function(e,t,n){var r=/{}/g,i=/^when(Minus)?(.+)$/;return{link:function(a,s,u){function l(e){s.text(e||"")}var c,d=u.count,p=u.$attr.when&&s.attr(u.$attr.when),f=u.offset||0,h=a.$eval(p)||{},g={},v=t.startSymbol(),b=t.endSymbol(),w=v+d+"-"+f+b,_=Fr.noop;o(u,function(e,t){var n=i.exec(t);if(n){var r=(n[1]?"-":"")+wr(n[2]);h[r]=s.attr(u.$attr[t])}}),o(h,function(e,n){g[n]=t(e.replace(r,w))}),a.$watch(d,function(t){var r=parseFloat(t),i=isNaN(r);if(i||r in h||(r=e.pluralCat(r-f)),r!==c&&!(i&&D(c)&&isNaN(c))){_();var o=g[r];y(o)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+p),_=m,l()):_=a.$watch(o,l),c=r}})}}}],la=["$parse","$animate",function(e,a){var s="$$NG_REMOVED",u=r("ngRepeat"),l=function(e,t,n,r,i,o,a){e[n]=r,i&&(e[i]=o),e.$index=t,e.$first=0===t,e.$last=t===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))},c=function(e){return e.clone[0]},d=function(e){return e.clone[e.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(r,p){var f=p.ngRepeat,h=t.createComment(" end ngRepeat: "+f+" "),m=f.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!m)throw u("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",f);var g=m[1],v=m[2],b=m[3],y=m[4];if(m=g.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!m)throw u("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",g);var w=m[3]||m[1],_=m[2];if(b&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(b)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(b)))throw u("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",b);var x,C,D,k,A={$id:Ye};return y?x=e(y):(D=function(e,t){return Ye(t)},k=function(e){return e}),function(e,t,r,p,m){x&&(C=function(t,n,r){return _&&(A[_]=t),A[w]=n,A.$index=r,x(e,A)});var g=ge();e.$watchCollection(v,function(r){var p,v,y,x,A,$,S,E,T,P,R,M,N=t[0],F=ge();if(b&&(e[b]=r),i(r))T=r,E=C||D;else{E=C||k,T=[];for(var O in r)r.hasOwnProperty(O)&&"$"!==O.charAt(0)&&T.push(O)}for(x=T.length,R=new Array(x),p=0;x>p;p++)if(A=r===T?p:T[p],$=r[A],S=E(A,$,p),g[S])P=g[S],delete g[S],F[S]=P,R[p]=P;else{if(F[S])throw o(R,function(e){e&&e.scope&&(g[e.id]=e)}),u("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",f,S,$);R[p]={id:S,scope:n,clone:n},F[S]=!0}for(var G in g){if(P=g[G],M=me(P.clone),a.leave(M),M[0].parentNode)for(p=0,v=M.length;v>p;p++)M[p][s]=!0;P.scope.$destroy()}for(p=0;x>p;p++)if(A=r===T?p:T[p],$=r[A],P=R[p],P.scope){y=N;do y=y.nextSibling;while(y&&y[s]);c(P)!=y&&a.move(me(P.clone),null,Ar(N)),N=d(P),l(P.scope,p,w,$,_,A,x)}else m(function(e,t){P.scope=t;var n=h.cloneNode(!1);e[e.length++]=n,a.enter(e,null,Ar(N)),N=n,P.clone=e,F[P.id]=P,l(P.scope,p,w,$,_,A,x)});g=F})}}}}],ca="ng-hide",da="ng-hide-animate",pa=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngShow,function(t){e[t?"removeClass":"addClass"](n,ca,{tempClasses:da})})}}}],fa=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngHide,function(t){e[t?"addClass":"removeClass"](n,ca,{tempClasses:da})})}}}],ha=Qn(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&o(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),ma=["$animate",function(e){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,i,a){var s=i.ngSwitch||i.on,u=[],l=[],c=[],d=[],p=function(e,t){return function(){e.splice(t,1)}};n.$watch(s,function(n){var r,i;for(r=0,i=c.length;i>r;++r)e.cancel(c[r]);for(c.length=0,r=0,i=d.length;i>r;++r){var s=me(l[r].clone);d[r].$destroy();var f=c[r]=e.leave(s);f.then(p(c,r))}l.length=0,d.length=0,(u=a.cases["!"+n]||a.cases["?"])&&o(u,function(n){n.transclude(function(r,i){d.push(i);var o=n.element;r[r.length++]=t.createComment(" end ngSwitchWhen: ");var a={clone:r};l.push(a),e.enter(r,o.parent(),o)})})})}}}],ga=Qn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:t})}}),va=Qn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:t})}}),ba=Qn({restrict:"EAC",link:function(e,t,n,i,o){if(!o)throw r("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",J(t));o(function(e){t.empty(),t.append(e)})}}),ya=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"==n.type){var r=n.id,i=t[0].text;e.put(r,i)}}}}],wa={$setViewValue:m,$render:m},_a=["$element","$scope","$attrs",function(e,r,i){var o=this,a=new Xe;o.ngModelCtrl=wa,o.unknownOption=Ar(t.createElement("option")),o.renderUnknownOption=function(t){var n="? "+Ye(t)+" ?";o.unknownOption.val(n),e.prepend(o.unknownOption),e.val(n)},r.$on("$destroy",function(){o.renderUnknownOption=m}),o.removeUnknownOption=function(){o.unknownOption.parent()&&o.unknownOption.remove()},o.readValue=function(){return o.removeUnknownOption(),e.val()},o.writeValue=function(t){o.hasOption(t)?(o.removeUnknownOption(),e.val(t),""===t&&o.emptyOption.prop("selected",!0)):null==t&&o.emptyOption?(o.removeUnknownOption(),e.val("")):o.renderUnknownOption(t)},o.addOption=function(e,t){fe(e,'"option value"'),""===e&&(o.emptyOption=t);var n=a.get(e)||0;a.put(e,n+1)},o.removeOption=function(e){var t=a.get(e);t&&(1===t?(a.remove(e),""===e&&(o.emptyOption=n)):a.put(e,t-1))},o.hasOption=function(e){return!!a.get(e)}}],xa=function(){return{restrict:"E",require:["select","?ngModel"],controller:_a,link:function(e,t,n,r){var i=r[1];if(i){var a=r[0];if(a.ngModelCtrl=i,i.$render=function(){a.writeValue(i.$viewValue)},t.on("change",function(){e.$apply(function(){i.$setViewValue(a.readValue())})}),n.multiple){a.readValue=function(){var e=[];return o(t.find("option"),function(t){t.selected&&e.push(t.value)}),e},a.writeValue=function(e){var n=new Xe(e);o(t.find("option"),function(e){e.selected=w(n.get(e.value))})};var s,u=NaN;e.$watch(function(){u!==i.$viewValue||j(s,i.$viewValue)||(s=L(i.$viewValue),i.$render()),u=i.$viewValue}),i.$isEmpty=function(e){return!e||0===e.length}}}}}},Ca=["$interpolate",function(e){function t(e){e[0].hasAttribute("selected")&&(e[0].selected=!0)}return{restrict:"E",priority:100,compile:function(n,r){if(y(r.value)){var i=e(n.text(),!0);i||r.$set("value",n.text())}return function(e,n,r){var o="$selectController",a=n.parent(),s=a.data(o)||a.parent().data(o);s&&s.ngModelCtrl&&(i?e.$watch(i,function(e,i){r.$set("value",e),i!==e&&s.removeOption(i),s.addOption(e,n),s.ngModelCtrl.$render(),t(n)}):(s.addOption(r.value,n),s.ngModelCtrl.$render(),t(n)),n.on("$destroy",function(){s.removeOption(r.value),s.ngModelCtrl.$render()}))}}}}],Da=v({restrict:"E",terminal:!1}),ka=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){r&&(n.required=!0,r.$validators.required=function(e,t){return!n.required||!r.$isEmpty(t)},n.$observe("required",function(){r.$validate()}))}}},Aa=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,i,o){if(o){var a,s=i.ngPattern||i.pattern;i.$observe("pattern",function(e){if(C(e)&&e.length>0&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw r("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",s,e,J(t));a=e||n,o.$validate()}),o.$validators.pattern=function(e){return o.$isEmpty(e)||y(a)||a.test(e)}}}}},$a=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=-1;n.$observe("maxlength",function(e){var t=f(e);i=isNaN(t)?-1:t,r.$validate()}),r.$validators.maxlength=function(e,t){return 0>i||r.$isEmpty(t)||t.length<=i}}}}},Sa=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=0;n.$observe("minlength",function(e){i=f(e)||0,r.$validate()}),r.$validators.minlength=function(e,t){return r.$isEmpty(t)||t.length>=i}}}}};return e.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(ce(),we(Fr),void Ar(t).ready(function(){oe(t,ae)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),function(e,t,n){"use strict";function r(e,t,n){if(!e)throw ngMinErr("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function i(e,t){return e||t?e?t?(I(e)&&(e=e.join(" ")),I(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function o(e){var t={};return e&&(e.to||e.from)&&(t.to=e.to,t.from=e.from),t}function a(e,t,n){var r="";return e=I(e)?e:e&&B(e)&&e.length?e.split(/\s+/):[],G(e,function(e,i){e&&e.length>0&&(r+=i>0?" ":"",r+=n?t+e:e+t)}),r}function s(e,t){var n=e.indexOf(t);t>=0&&e.splice(n,1)}function u(e){if(e instanceof O)switch(e.length){case 0:return[];case 1:if(e[0].nodeType===q)return e;break;default:return O(l(e))}return e.nodeType===q?O(e):void 0}function l(e){if(!e[0])return e;for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType==q)return n}}function c(e,t,n){G(t,function(t){e.addClass(t,n)})}function d(e,t,n){G(t,function(t){e.removeClass(t,n)})}function p(e){return function(t,n){n.addClass&&(c(e,t,n.addClass),n.addClass=null),n.removeClass&&(d(e,t,n.removeClass),n.removeClass=null)}}function f(e){if(e=e||{},!e.$$prepared){var t=e.domOperation||N;e.domOperation=function(){e.$$domOperationFired=!0,t(),t=N},e.$$prepared=!0}return e}function h(e,t){m(e,t),g(e,t)}function m(e,t){t.from&&(e.css(t.from),t.from=null)}function g(e,t){t.to&&(e.css(t.to),t.to=null)}function v(e,t,n){var r=(t.addClass||"")+" "+(n.addClass||""),i=(t.removeClass||"")+" "+(n.removeClass||""),o=b(e.attr("class"),r,i);return F(t,n),o.addClass?t.addClass=o.addClass:t.addClass=null,o.removeClass?t.removeClass=o.removeClass:t.removeClass=null,t}function b(e,t,n){function r(e){B(e)&&(e=e.split(" "));var t={};return G(e,function(e){e.length&&(t[e]=!0)}),t}var i=1,o=-1,a={};e=r(e),t=r(t),G(t,function(e,t){a[t]=i}),n=r(n),G(n,function(e,t){a[t]=a[t]===i?null:o});var s={addClass:"",removeClass:""};return G(a,function(t,n){var r,a;t===i?(r="addClass",a=!e[n]):t===o&&(r="removeClass",a=e[n]),a&&(s[r].length&&(s[r]+=" "),s[r]+=n)}),s}function y(e){return e instanceof t.element?e[0]:e}function w(e,t,n){var r=Object.create(null),i=e.getComputedStyle(t)||{};return G(n,function(e,t){var n=i[e];if(n){var o=n.charAt(0);("-"===o||"+"===o||o>=0)&&(n=_(n)),0===n&&(n=null),r[t]=n}}),r}function _(e){var t=0,n=e.split(/\s*,\s*/);return G(n,function(e){"s"==e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,t=t?Math.max(e,t):e}),t}function x(e){return 0===e||null!=e}function C(e,t){var n=T,r=e+"s";return t?n+=Z:r+=" linear all",[n,r]}function D(e){return[ue,e+"s"]}function k(e,t){var n=t?se:le;return[n,e+"s"]}function A(e,t){var n=t?"-"+t+"s":"";return S(e,[le,n]),[le,n]}function $(e,t){var n=t?"paused":"",r=R+ne;return S(e,[r,n]),[r,n]}function S(e,t){var n=t[0],r=t[1];e.style[n]=r}function E(){var e=Object.create(null);return{flush:function(){e=Object.create(null)},count:function(t){var n=e[t];return n?n.total:0},get:function(t){var n=e[t];return n&&n.value},put:function(t,n){e[t]?e[t].total++:e[t]={total:1,value:n}}}}var T,P,R,M,N=t.noop,F=t.extend,O=t.element,G=t.forEach,I=t.isArray,B=t.isString,W=t.isObject,L=t.isUndefined,j=t.isDefined,V=t.isFunction,H=t.isElement,q=1,U="ng-animate",z="$$ngAnimateChildren",Y=["$$rAF",function(e){function t(e){o.push([].concat(e)),n()}function n(){if(o.length){for(var t=[],a=0;a<o.length;a++){var s=o[a];r(s),s.length&&t.push(s)}o=t,i||e(function(){i||n()})}}function r(e){var t=e.shift();t()}var i,o=[];return t.waitUntilQuiet=function(t){i&&i(),i=e(function(){i=null,t(),n()})},t}],X=[function(){return function(e,n,r){var i=r.ngAnimateChildren;t.isString(i)&&0===i.length?n.data(z,!0):r.$observe("ngAnimateChildren",function(e){e="on"===e||"true"===e,n.data(z,e)})}}],K="";e.ontransitionend===n&&e.onwebkittransitionend!==n?(K="-webkit-",T="WebkitTransition",P="webkitTransitionEnd transitionend"):(T="transition",P="transitionend"),e.onanimationend===n&&e.onwebkitanimationend!==n?(K="-webkit-",R="WebkitAnimation",M="webkitAnimationEnd animationend"):(R="animation",M="animationend");var Z="Duration",J="Property",Q="Delay",ee="TimingFunction",te="IterationCount",ne="PlayState",re=3,ie=1.5,oe=1e3,ae=9999,se=R+Q,ue=R+Z,le=T+Q,ce=T+Z,de={transitionDuration:ce,transitionDelay:le,transitionProperty:T+J,animationDuration:ue,animationDelay:se,animationIterationCount:R+te},pe={transitionDuration:ce,transitionDelay:le,animationDuration:ue,animationDelay:se},fe=["$animateProvider",function(e){var t=E(),n=E();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$document","$sniffer","$$rAFScheduler",function(e,r,i,u,l,c,d){function v(e,t){var n="$$ngAnimateParentKey",r=e.parentNode,i=r[n]||(r[n]=++B);return i+"-"+e.getAttribute("class")+"-"+t}function b(n,r,i,o){var a=t.get(i);return a||(a=w(e,n,o),"infinite"===a.animationIterationCount&&(a.animationIterationCount=1)),t.put(i,a),a}function _(i,o,s,u){var l;if(t.count(s)>0&&(l=n.get(s),!l)){var c=a(o,"-stagger");r.addClass(i,c),l=w(e,i,u),l.animationDuration=Math.max(l.animationDuration,0),l.transitionDuration=Math.max(l.transitionDuration,0),r.removeClass(i,c),n.put(s,l)}return l||{}}function E(e){L.push(e),d.waitUntilQuiet(function(){t.flush(),n.flush();for(var e=W.offsetWidth+1,r=0;r<L.length;r++)L[r](e);L.length=0})}function N(e,t,n){var r=b(e,t,n,de),i=r.animationDelay,o=r.transitionDelay;return r.maxDelay=i&&o?Math.max(i,o):i||o,r.maxDuration=Math.max(r.animationDuration*r.animationIterationCount,r.transitionDuration),r}function F(e,n){function l(){p()}function d(){p(!0)}function p(t){W||j&&L||(W=!0,L=!1,r.removeClass(e,ue),r.removeClass(e,ce),$(B,!1),A(B,!1),G(X,function(e){B.style[e[0]]=""}),O(e,n),h(e,n),n.onDone&&n.onDone(),V&&V.complete(!t))}function b(e){ke.blockTransition&&A(B,e),ke.blockKeyframeAnimation&&$(B,!!e)}function w(){return V=new i({end:l,cancel:d}),p(),{$$willAnimate:!1,start:function(){return V},end:l}}function F(){function t(){if(!W){if(b(!1),G(X,function(e){var t=e[0],n=e[1];B.style[t]=n}),O(e,n),r.addClass(e,ce),ke.recalculateTimingStyles){if(le=B.className+" "+ue,he=v(B,le),Ce=N(B,le,he),De=Ce.maxDelay,q=Math.max(De,0),z=Ce.maxDuration,0===z)return void p();ke.hasTransitions=Ce.transitionDuration>0,ke.hasAnimations=Ce.animationDuration>0}if(ke.applyTransitionDelay||ke.applyAnimationDelay){De="boolean"!=typeof n.delay&&x(n.delay)?parseFloat(n.delay):De,q=Math.max(De,0);var t;ke.applyTransitionDelay&&(Ce.transitionDelay=De,t=k(De),X.push(t),B.style[t[0]]=t[1]),ke.applyAnimationDelay&&(Ce.animationDelay=De,t=k(De,!0),X.push(t),B.style[t[0]]=t[1])}if(U=q*oe,Y=z*oe,n.easing){var s,c=n.easing;ke.hasTransitions&&(s=T+ee,X.push([s,c]),B.style[s]=c),ke.hasAnimations&&(s=R+ee,X.push([s,c]),B.style[s]=c)}Ce.transitionDuration&&l.push(P),Ce.animationDuration&&l.push(M),a=Date.now(),e.on(l.join(" "),o),u(i,U+ie*Y),g(e,n)}}function i(){p()}function o(e){e.stopPropagation();var t=e.originalEvent||e,n=t.$manualTimeStamp||t.timeStamp||Date.now(),r=parseFloat(t.elapsedTime.toFixed(re));Math.max(n-a,0)>=U&&r>=z&&(j=!0,p())}if(!W){if(!B.parentNode)return void p();var a,l=[],c=function(e){if(j)L&&e&&(L=!1,p());else if(L=!e,Ce.animationDuration){var t=$(B,L);L?X.push(t):s(X,t)}},d=_e>0&&(Ce.transitionDuration&&0===me.transitionDuration||Ce.animationDuration&&0===me.animationDuration)&&Math.max(me.animationDelay,me.transitionDelay);d?u(t,Math.floor(d*_e*oe),!1):t(),H.resume=function(){c(!0)},H.pause=function(){c(!1)}}}var B=y(e);if(!B||!B.parentNode)return w();n=f(n);var W,L,j,V,H,q,U,z,Y,X=[],K=e.attr("class"),Z=o(n);if(0===n.duration||!c.animations&&!c.transitions)return w();var Q=n.event&&I(n.event)?n.event.join(" "):n.event,te=Q&&n.structural,ne="",se="";te?ne=a(Q,"ng-",!0):Q&&(ne=Q),n.addClass&&(se+=a(n.addClass,"-add")),n.removeClass&&(se.length&&(se+=" "),se+=a(n.removeClass,"-remove")),n.applyClassesEarly&&se.length&&(O(e,n),se="");var ue=[ne,se].join(" ").trim(),le=K+" "+ue,ce=a(ue,"-active"),de=Z.to&&Object.keys(Z.to).length>0,fe=(n.keyframeStyle||"").length>0;if(!fe&&!de&&!ue)return w();var he,me;if(n.stagger>0){var ge=parseFloat(n.stagger);me={transitionDelay:ge,animationDelay:ge,transitionDuration:0,animationDuration:0}}else he=v(B,le),me=_(B,ue,he,pe);r.addClass(e,ue);var ve;if(n.transitionStyle){var be=[T,n.transitionStyle];S(B,be),X.push(be)}if(n.duration>=0){ve=B.style[T].length>0;var ye=C(n.duration,ve);S(B,ye),X.push(ye)}if(n.keyframeStyle){var we=[R,n.keyframeStyle];S(B,we),X.push(we)}var _e=me?n.staggerIndex>=0?n.staggerIndex:t.count(he):0,xe=0===_e;xe&&A(B,ae);var Ce=N(B,le,he),De=Ce.maxDelay;q=Math.max(De,0),z=Ce.maxDuration;var ke={};return ke.hasTransitions=Ce.transitionDuration>0,ke.hasAnimations=Ce.animationDuration>0,ke.hasTransitionAll=ke.hasTransitions&&"all"==Ce.transitionProperty,ke.applyTransitionDuration=de&&(ke.hasTransitions&&!ke.hasTransitionAll||ke.hasAnimations&&!ke.hasTransitions),ke.applyAnimationDuration=n.duration&&ke.hasAnimations,ke.applyTransitionDelay=x(n.delay)&&(ke.applyTransitionDuration||ke.hasTransitions),ke.applyAnimationDelay=x(n.delay)&&ke.hasAnimations,ke.recalculateTimingStyles=se.length>0,(ke.applyTransitionDuration||ke.applyAnimationDuration)&&(z=n.duration?parseFloat(n.duration):z,ke.applyTransitionDuration&&(ke.hasTransitions=!0,Ce.transitionDuration=z,ve=B.style[T+J].length>0,X.push(C(z,ve))),ke.applyAnimationDuration&&(ke.hasAnimations=!0,Ce.animationDuration=z,X.push(D(z)))),0!==z||ke.recalculateTimingStyles?(null==n.duration&&Ce.transitionDuration>0&&(ke.recalculateTimingStyles=ke.recalculateTimingStyles||xe),U=q*oe,Y=z*oe,n.skipBlocking||(ke.blockTransition=Ce.transitionDuration>0,ke.blockKeyframeAnimation=Ce.animationDuration>0&&me.animationDelay>0&&0===me.animationDuration),m(e,n),ke.blockTransition||A(B,!1),b(z),{$$willAnimate:!0,end:l,start:function(){return W?void 0:(H={end:l,cancel:d,resume:null,pause:null},V=new i(H),E(F),V)}}):w()}var O=p(r),B=0,W=y(l).body,L=[];return F}]}],he=["$$animationProvider",function(e){e.drivers.push("$$animateCssDriver");var t="ng-animate-shim",n="ng-anchor",r="ng-anchor-out",i="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$document","$sniffer",function(e,o,a,s,u,l){function c(e){return e.replace(/\bng-\S+\b/g,"")}function d(e,t){return B(e)&&(e=e.split(" ")),B(t)&&(t=t.split(" ")),e.filter(function(e){return-1===t.indexOf(e)}).join(" ")}function p(o,s,u){function l(e){var t={},n=y(e).getBoundingClientRect();return G(["width","height","top","left"],function(e){var r=n[e];switch(e){case"top":r+=m.scrollTop;break;case"left":r+=m.scrollLeft}t[e]=Math.floor(r)+"px"}),t}function p(){var t=e(b,{addClass:r,delay:!0,from:l(s)});return t.$$willAnimate?t:null}function f(e){return e.attr("class")||""}function h(){var t=c(f(u)),n=d(t,w),o=d(w,t),a=e(b,{to:l(u),addClass:i+" "+n,removeClass:r+" "+o,delay:!0});return a.$$willAnimate?a:null}function g(){b.remove(),s.removeClass(t),u.removeClass(t)}var b=O(y(s).cloneNode(!0)),w=c(f(b));s.addClass(t),u.addClass(t),b.addClass(n),v.append(b);var _,x=p();if(!x&&(_=h(),!_))return g();var C=x||_;return{start:function(){function e(){n&&n.end()}var t,n=C.start();return n.done(function(){return n=null,!_&&(_=h())?(n=_.start(),n.done(function(){n=null,g(),t.complete()}),n):(g(),void t.complete())}),t=new a({end:e,cancel:e})}}}function f(e,t,n,r){var i=h(e),o=h(t),s=[];return G(r,function(e){var t=e.out,r=e["in"],i=p(n,t,r);i&&s.push(i)}),i||o||0!==s.length?{start:function(){function e(){G(t,function(e){e.end()})}var t=[];i&&t.push(i.start()),o&&t.push(o.start()),G(s,function(e){t.push(e.start())});var n=new a({end:e,cancel:e});return a.all(t,function(e){n.complete(e)}),n}}:void 0}function h(t){var n=t.element,r=t.options||{};t.structural?(r.structural=r.applyClassesEarly=!0,r.event=t.event,"leave"===r.event&&(r.onDone=r.domOperation)):r.event=null;var i=e(n,r);return i.$$willAnimate?i:null}if(!l.animations&&!l.transitions)return N;var m=y(u).body,g=y(s),v=O(m.parentNode===g?m:g);return function(e){return e.from&&e.to?f(e.from,e.to,e.classes,e.anchors):h(e)}}]}],me=["$animateProvider",function(e){this.$get=["$injector","$$AnimateRunner","$$rAFMutex","$$jqLite",function(t,n,r,i){function o(n){n=I(n)?n:n.split(" ");for(var r=[],i={},o=0;o<n.length;o++){var a=n[o],s=e.$$registeredAnimations[a];s&&!i[a]&&(r.push(t.get(s)),i[a]=!0)}return r}var a=p(i);return function(e,t,r,i){function s(){i.domOperation(),a(e,i)}function u(e,t,r,i,o){var a;switch(r){case"animate":a=[t,i.from,i.to,o];break;case"setClass":a=[t,m,g,o];break;case"addClass":a=[t,m,o];break;case"removeClass":a=[t,g,o];break;default:a=[t,o]}a.push(i);var s=e.apply(e,a);if(s)if(V(s.start)&&(s=s.start()),s instanceof n)s.done(o);else if(V(s))return s;return N}function l(e,t,r,i,o){var a=[];return G(i,function(i){var s=i[o];s&&a.push(function(){var i,o,a=!1,l=function(e){a||(a=!0,(o||N)(e),i.complete(!e))};return i=new n({end:function(){l()},cancel:function(){l(!0)}}),o=u(s,e,t,r,function(e){var t=e===!1;l(t)}),i})}),a}function c(e,t,r,i,o){var a=l(e,t,r,i,o);if(0===a.length){var s,u;"beforeSetClass"===o?(s=l(e,"removeClass",r,i,"beforeRemoveClass"),u=l(e,"addClass",r,i,"beforeAddClass")):"setClass"===o&&(s=l(e,"removeClass",r,i,"removeClass"),u=l(e,"addClass",r,i,"addClass")),s&&(a=a.concat(s)),u&&(a=a.concat(u))}if(0!==a.length)return function(e){var t=[];return a.length&&G(a,function(e){t.push(e())}),t.length?n.all(t,e):e(),function(e){G(t,function(t){e?t.cancel():t.end()})}}}3===arguments.length&&W(r)&&(i=r,r=null),i=f(i),r||(r=e.attr("class")||"",i.addClass&&(r+=" "+i.addClass),i.removeClass&&(r+=" "+i.removeClass));var d,p,m=i.addClass,g=i.removeClass,v=o(r);if(v.length){var b,y;"leave"==t?(y="leave",b="afterLeave"):(y="before"+t.charAt(0).toUpperCase()+t.substr(1),b=t),"enter"!==t&&"move"!==t&&(d=c(e,t,i,v,y)),p=c(e,t,i,v,b)}return d||p?{start:function(){function t(t){u=!0,s(),h(e,i),l.complete(t)}function r(e){u||((o||N)(e),t(e))}var o,a=[];d&&a.push(function(e){o=d(e)}),a.length?a.push(function(e){s(),e(!0)}):s(),p&&a.push(function(e){o=p(e)});var u=!1,l=new n({end:function(){r()},cancel:function(){r(!0)}});return n.chain(a,t),l}}:void 0}}]}],ge=["$$animationProvider",function(e){e.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(e,t){function n(t){var n=t.element,r=t.event,i=t.options,o=t.classes;return e(n,r,o,i)}return function(e){if(e.from&&e.to){var r=n(e.from),i=n(e.to);if(!r&&!i)return;return{start:function(){function e(){return function(){G(o,function(e){e.end()})}}function n(e){a.complete(e)}var o=[];r&&o.push(r.start()),i&&o.push(i.start()),t.all(o,n);var a=new t({end:e(),cancel:e()});return a}}}return n(e)}}]}],ve="data-ng-animate",be="$ngAnimatePin",ye=["$animateProvider",function(e){function t(e,t,n,r){return a[e].some(function(e){return e(t,n,r)})}function n(e,t){e=e||{};var n=(e.addClass||"").length>0,r=(e.removeClass||"").length>0;return t?n&&r:n||r}var i=1,o=2,a=this.rules={skip:[],cancel:[],join:[]};a.join.push(function(e,t,r){return!t.structural&&n(t.options)}),a.skip.push(function(e,t,r){return!t.structural&&!n(t.options)}),a.skip.push(function(e,t,n){return"leave"==n.event&&t.structural}),a.skip.push(function(e,t,n){return n.structural&&!t.structural}),a.cancel.push(function(e,t,n){return n.structural&&t.structural}),a.cancel.push(function(e,t,n){return n.state===o&&t.structural}),a.cancel.push(function(e,t,n){var r=t.options,i=n.options;return r.addClass&&r.addClass===i.removeClass||r.removeClass&&r.removeClass===i.addClass}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite",function(a,s,c,d,m,g,b,w,_){function x(e,t){return v(e,t,{})}function C(e,t){var n=y(e),r=[],i=U[t];return i&&G(i,function(e){e.node.contains(n)&&r.push(e.callback)}),r}function D(e,t,n,r){a(function(){G(C(t,e),function(e){e(t,n,r)})})}function k(e,r,a){function l(t,n,r,i){D(n,e,r,i),t.progress(n,r,i)}function c(t){K(e,a),h(e,a),a.domOperation(),m.complete(!t)}var d,p;e=u(e),e&&(d=y(e),p=e.parent()),a=f(a);var m=new b;if(!d)return c(),m;I(a.addClass)&&(a.addClass=a.addClass.join(" ")),I(a.removeClass)&&(a.removeClass=a.removeClass.join(" ")),a.from&&!W(a.from)&&(a.from=null),a.to&&!W(a.to)&&(a.to=null);var w=[d.className,a.addClass,a.removeClass].join(" ");if(!X(w))return c(),m;var _=["enter","move","leave"].indexOf(r)>=0,C=!N||M.get(d),k=!C&&R.get(d)||{},S=!!k.state;if(C||S&&k.state==i||(C=!T(e,p,r)),C)return c(),m;_&&A(e);var F={structural:_,element:e,event:r,close:c,options:a,runner:m};if(S){var O=t("skip",e,F,k);if(O)return k.state===o?(c(),m):(v(e,k.options,a),k.runner);var G=t("cancel",e,F,k);if(G)k.state===o?k.runner.end():k.structural?k.close():v(e,F.options,k.options);else{var B=t("join",e,F,k);if(B){if(k.state!==o)return r=F.event=k.event,a=v(e,k.options,F.options),m;x(e,a)}}}else x(e,a);var L=F.structural;if(L||(L="animate"===F.event&&Object.keys(F.options.to||{}).length>0||n(F.options)),!L)return c(),$(e),m;_&&E(p);var j=(k.counter||0)+1;return F.counter=j,P(e,i,F),s.$$postDigest(function(){var t=R.get(d),i=!t;t=t||{};var s=e.parent()||[],u=s.length>0&&("animate"===t.event||t.structural||n(t.options));if(i||t.counter!==j||!u)return i&&(K(e,a),h(e,a)),(i||_&&t.event!==r)&&(a.domOperation(),m.end()),void(u||$(e));r=!t.structural&&n(t.options,!0)?"setClass":t.event,t.structural&&E(s),P(e,o);var p=g(e,r,t.options);p.done(function(t){c(!t);var n=R.get(d);n&&n.counter===j&&$(y(e)),l(m,r,"close",{})}),m.setHost(p),l(m,r,"start",{})}),m}function A(e){var t=y(e),n=t.querySelectorAll("["+ve+"]");G(n,function(e){var t=parseInt(e.getAttribute(ve)),n=R.get(e);switch(t){case o:n.runner.end();case i:n&&R.remove(e)}})}function $(e){var t=y(e);t.removeAttribute(ve),R.remove(t)}function S(e,t){return y(e)===y(t)}function E(e){function t(e,t){!t.structural&&n(t.options)&&(t.state===o&&t.runner.end(),$(e))}for(var r=y(e);;){if(!r||r.nodeType!==q)break;var i=R.get(r);i&&t(r,i),r=r.parentNode}}function T(e,t,n){var r,i=!1,o=!1,a=!1,s=e.data(be);for(s&&(t=s);t&&t.length;){o||(o=S(t,c));var u=t[0];if(u.nodeType!==q)break;var l=R.get(u)||{};if(a||(a=l.structural||M.get(u)),L(r)||r===!0){var d=t.data(z);j(d)&&(r=d)}if(a&&r===!1)break;o||(o=S(t,c),o||(s=t.data(be),s&&(t=s))),i||(i=S(t,V)),t=t.parent()}var p=!a||r;return p&&o&&i}function P(e,t,n){n=n||{},n.state=t;var r=y(e);r.setAttribute(ve,t);var i=R.get(r),o=i?F(i,n):n;R.put(r,o)}var R=new m,M=new m,N=null,B=s.$watch(function(){return 0===w.totalPendingRequests},function(e){e&&(B(),s.$$postDigest(function(){s.$$postDigest(function(){null===N&&(N=!0)})}))}),V=O(d[0].body),U={},Y=e.classNameFilter(),X=Y?function(e){return Y.test(e)}:function(){return!0},K=p(_);return{on:function(e,t,n){var r=l(t);U[e]=U[e]||[],U[e].push({node:r,callback:n})},off:function(e,t,n){function r(e,t,n){var r=l(t);return e.filter(function(e){var t=e.node===r&&(!n||e.callback===n);
return!t})}var i=U[e];i&&(U[e]=1===arguments.length?null:r(i,t,n))},pin:function(e,t){r(H(e),"element","not an element"),r(H(t),"parentElement","not an element"),e.data(be,t)},push:function(e,t,n,r){return n=n||{},n.domOperation=r,k(e,t,n)},enabled:function(e,t){var n=arguments.length;if(0===n)t=!!N;else{var r=H(e);if(r){var i=y(e),o=M.get(i);1===n?t=!o:(t=!!t,t?o&&M.remove(i):M.put(i,!0))}else t=N=!!e}return t}}}]}],we=["$$rAF",function(e){return function(){var t=!1;return e(function(){t=!0}),function(n){t?n():e(n)}}}],_e=["$q","$$rAFMutex",function(e,t){function n(e){this.setHost(e),this._doneCallbacks=[],this._runInAnimationFrame=t(),this._state=0}var r=0,i=1,o=2;return n.chain=function(e,t){function n(){return r===e.length?void t(!0):void e[r](function(e){return e===!1?void t(!1):(r++,void n())})}var r=0;n()},n.all=function(e,t){function n(n){i=i&&n,++r===e.length&&t(i)}var r=0,i=!0;G(e,function(e){e.done(n)})},n.prototype={setHost:function(e){this.host=e||{}},done:function(e){this._state===o?e():this._doneCallbacks.push(e)},progress:N,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){t===!1?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},"catch":function(e){return this.getPromise()["catch"](e)},"finally":function(e){return this.getPromise()["finally"](e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;t._state===r&&(t._state=i,t._runInAnimationFrame(function(){t._resolve(e)}))},_resolve:function(e){this._state!==o&&(G(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=o)}},n}],xe=["$animateProvider",function(e){function t(e,t){e.data(s,t)}function n(e){e.removeData(s)}function r(e){return e.data(s)}var o="ng-animate-ref",a=this.drivers=[],s="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$rAFScheduler",function(e,s,u,l,c){var d=[],m=p(e),g=0,v=0,b=[];return function(p,w,_){function x(e){var t="["+o+"]",n=e.hasAttribute(o)?[e]:e.querySelectorAll(t),r=[];return G(n,function(e){var t=e.getAttribute(o);t&&t.length&&r.push(e)}),r}function C(e){var t=[],n={};G(e,function(e,r){var i=e.element,a=y(i),s=e.event,u=["enter","move"].indexOf(s)>=0,l=e.structural?x(a):[];if(l.length){var c=u?"to":"from";G(l,function(e){var t=e.getAttribute(o);n[t]=n[t]||{},n[t][c]={animationID:r,element:O(e)}})}else t.push(e)});var r={},i={};return G(n,function(n,o){var a=n.from,s=n.to;if(!a||!s){var u=a?a.animationID:s.animationID,l=u.toString();return void(r[l]||(r[l]=!0,t.push(e[u])))}var c=e[a.animationID],d=e[s.animationID],p=a.animationID.toString();if(!i[p]){var f=i[p]={structural:!0,beforeStart:function(){c.beforeStart(),d.beforeStart()},close:function(){c.close(),d.close()},classes:D(c.classes,d.classes),from:c,to:d,anchors:[]};f.classes.length?t.push(f):(t.push(c),t.push(d))}i[p].anchors.push({out:a.element,"in":s.element})}),t}function D(e,t){e=e.split(" "),t=t.split(" ");for(var n=[],r=0;r<e.length;r++){var i=e[r];if("ng-"!==i.substring(0,3))for(var o=0;o<t.length;o++)if(i===t[o]){n.push(i);break}}return n.join(" ")}function k(e){for(var t=a.length-1;t>=0;t--){var n=a[t];if(u.has(n)){var r=u.get(n),i=r(e);if(i)return i}}}function A(){p.addClass(U),M&&e.addClass(p,M)}function $(e,t){function n(e){r(e).setHost(t)}e.from&&e.to?(n(e.from.element),n(e.to.element)):n(e.element)}function S(){var e=r(p);!e||"leave"===w&&_.$$domOperationFired||e.end()}function E(t){p.off("$destroy",S),n(p),m(p,_),h(p,_),_.domOperation(),M&&e.removeClass(p,M),p.removeClass(U),P.complete(!t)}_=f(_);var T=["enter","move","leave"].indexOf(w)>=0,P=new l({end:function(){E()},cancel:function(){E(!0)}});if(!a.length)return E(),P;t(p,P);var R=i(p.attr("class"),i(_.addClass,_.removeClass)),M=_.tempClasses;M&&(R+=" "+M,_.tempClasses=null);var N;return T||(N=g,g+=1),d.push({element:p,classes:R,event:w,classBasedIndex:N,structural:T,options:_,beforeStart:A,close:E}),p.on("$destroy",S),d.length>1?P:(s.$$postDigest(function(){v=g,g=0,b.length=0;var e=[];G(d,function(t){r(t.element)&&e.push(t)}),d.length=0,G(C(e),function(e){function t(){e.beforeStart();var t,n=e.close,i=e.anchors?e.from.element||e.to.element:e.element;if(r(i)&&y(i).parentNode){var o=k(e);o&&(t=o.start)}if(t){var a=t();a.done(function(e){n(!e)}),$(e,a)}else n()}e.structural?t():(b.push({node:y(e.element),fn:t}),e.classBasedIndex===v-1&&(b=b.sort(function(e,t){return t.node.contains(e.node)}).map(function(e){return e.fn}),c(b)))})}),P)}}]}];t.module("ngAnimate",[]).directive("ngAnimateChildren",X).factory("$$rAFMutex",we).factory("$$rAFScheduler",Y).factory("$$AnimateRunner",_e).provider("$$animateQueue",ye).provider("$$animation",xe).provider("$animateCss",fe).provider("$$animateCssDriver",he).provider("$$animateJs",me).provider("$$animateJsDriver",ge)}(window,window.angular),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(e,t,n){function r(e){for(var t in e)if(void 0!==o.style[t])return e[t]}var i=function(r,o,a){a=a||{};var s=e.defer(),u=i[a.animation?"animationEndEventName":"transitionEndEventName"],l=function(e){n.$apply(function(){r.unbind(u,l),s.resolve(r)})};return u&&r.bind(u,l),t(function(){angular.isString(o)?r.addClass(o):angular.isFunction(o)?o(r):angular.isObject(o)&&r.css(o),u||s.resolve(r)}),s.promise.cancel=function(){u&&r.unbind(u,l),s.reject("Transition cancelled")},s.promise},o=document.createElement("trans"),a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},s={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return i.transitionEndEventName=r(a),i.animationEndEventName=r(s),i}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(e){return{link:function(t,n,r){function i(t){function r(){l===i&&(l=void 0)}var i=e(n,t);return l&&l.cancel(),l=i,i.then(r,r),i}function o(){c?(c=!1,a()):(n.removeClass("collapse").addClass("collapsing"),i({height:n[0].scrollHeight+"px"}).then(a))}function a(){n.removeClass("collapsing"),n.addClass("collapse in"),n.css({height:"auto"})}function s(){if(c)c=!1,u(),n.css({height:0});else{n.css({height:n[0].scrollHeight+"px"});n[0].offsetWidth;n.removeClass("collapse in").addClass("collapsing"),i({height:0}).then(u)}}function u(){n.removeClass("collapsing"),n.addClass("collapse")}var l,c=!0;t.$watch(r.collapse,function(e){e?s():o()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(r){var i=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;i&&angular.forEach(this.groups,function(e){e!==r&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(n){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,r){r.addGroup(e),e.$watch("isOpen",function(t){t&&r.closeOthers(e)}),e.toggleOpen=function(){e.isDisabled||(e.isOpen=!e.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(e,t,n,r,i){r.setHeading(i(e,function(){}))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(e,t,n,r){e.$watch(function(){return r[n.accordionTransclude]},function(e){e&&(t.html(""),t.append(e))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(e,t){e.closeable="close"in t}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(e,t,n){t.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe),e.$watch(n.bindHtmlUnsafe,function(e){t.html(e||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(e,t,n,r){var i=r[0],o=r[1];o.$render=function(){t.toggleClass(i.activeClass,angular.equals(o.$modelValue,e.$eval(n.btnRadio)))},t.bind(i.toggleEvent,function(){var r=t.hasClass(i.activeClass);(!r||angular.isDefined(n.uncheckable))&&e.$apply(function(){o.$setViewValue(r?null:e.$eval(n.btnRadio)),o.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(e,t,n,r){function i(){return a(n.btnCheckboxTrue,!0)}function o(){return a(n.btnCheckboxFalse,!1)}function a(t,n){var r=e.$eval(t);return angular.isDefined(r)?r:n}var s=r[0],u=r[1];u.$render=function(){t.toggleClass(s.activeClass,angular.equals(u.$modelValue,i()))},t.bind(s.toggleEvent,function(){e.$apply(function(){u.$setViewValue(t.hasClass(s.activeClass)?o():i()),u.$render()})})}}}),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$transition",function(e,t,n){function r(){i();var n=+e.interval;!isNaN(n)&&n>=0&&(a=t(o,n))}function i(){a&&(t.cancel(a),a=null)}function o(){s?(e.next(),r()):e.pause()}var a,s,u=this,l=u.slides=e.slides=[],c=-1;u.currentSlide=null;var d=!1;u.select=e.select=function(i,o){function a(){if(!d){if(u.currentSlide&&angular.isString(o)&&!e.noTransition&&i.$element){i.$element.addClass(o);i.$element[0].offsetWidth;angular.forEach(l,function(e){angular.extend(e,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(i,{direction:o,active:!0,entering:!0}),angular.extend(u.currentSlide||{},{direction:o,leaving:!0}),e.$currentTransition=n(i.$element,{}),function(t,n){e.$currentTransition.then(function(){s(t,n)},function(){s(t,n)})}(i,u.currentSlide)}else s(i,u.currentSlide);u.currentSlide=i,c=p,r()}}function s(t,n){angular.extend(t,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(n||{},{direction:"",active:!1,leaving:!1,entering:!1}),e.$currentTransition=null}var p=l.indexOf(i);void 0===o&&(o=p>c?"next":"prev"),i&&i!==u.currentSlide&&(e.$currentTransition?(e.$currentTransition.cancel(),t(a)):a())},e.$on("$destroy",function(){d=!0}),u.indexOfSlide=function(e){return l.indexOf(e)},e.next=function(){var t=(c+1)%l.length;return e.$currentTransition?void 0:u.select(l[t],"next")},e.prev=function(){var t=0>c-1?l.length-1:c-1;return e.$currentTransition?void 0:u.select(l[t],"prev")},e.isActive=function(e){return u.currentSlide===e},e.$watch("interval",r),e.$on("$destroy",i),e.play=function(){s||(s=!0,r())},e.pause=function(){e.noPause||(s=!1,i())},u.addSlide=function(t,n){t.$element=n,l.push(t),1===l.length||t.active?(u.select(l[l.length-1]),1==l.length&&e.play()):t.active=!1},u.removeSlide=function(e){var t=l.indexOf(e);l.splice(t,1),l.length>0&&e.active?t>=l.length?u.select(l[t-1]):u.select(l[t]):c>t&&c--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?"},link:function(e,t,n,r){r.addSlide(e,t),e.$on("$destroy",function(){r.removeSlide(e)}),e.$watch("active",function(t){t&&r.select(e)})}}}),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(e,t){function n(e){var n=[],r=e.split("");return angular.forEach(i,function(t,i){var o=e.indexOf(i);if(o>-1){e=e.split(""),r[o]="("+t.regex+")",e[o]="$";for(var a=o+1,s=o+i.length;s>a;a++)r[a]="",e[a]="$";e=e.join(""),n.push({index:o,apply:t.apply})}}),{regex:new RegExp("^"+r.join("")+"$"),map:t(n,"index")}}function r(e,t,n){return 1===t&&n>28?29===n&&(e%4===0&&e%100!==0||e%400===0):3===t||5===t||8===t||10===t?31>n:!0}this.parsers={};var i={yyyy:{regex:"\\d{4}",apply:function(e){this.year=+e}},yy:{regex:"\\d{2}",apply:function(e){this.year=+e+2e3}},y:{regex:"\\d{1,4}",apply:function(e){this.year=+e}},MMMM:{regex:e.DATETIME_FORMATS.MONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.MONTH.indexOf(t)}},MMM:{regex:e.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.SHORTMONTH.indexOf(t)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1}},M:{regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},EEEE:{regex:e.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:e.DATETIME_FORMATS.SHORTDAY.join("|")}};this.parse=function(t,i){if(!angular.isString(t)||!i)return t;i=e.DATETIME_FORMATS[i]||i,this.parsers[i]||(this.parsers[i]=n(i));var o=this.parsers[i],a=o.regex,s=o.map,u=t.match(a);if(u&&u.length){for(var l,c={year:1900,month:0,date:1,hours:0},d=1,p=u.length;p>d;d++){var f=s[d-1];f.apply&&f.apply.call(c,u[d])}return r(c.year,c.month,c.date)&&(l=new Date(c.year,c.month,c.date,c.hours)),l}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function r(e){return"static"===(n(e,"position")||"static")}var i=function(t){for(var n=e[0],i=t.offsetParent||n;i&&i!==n&&r(i);)i=i.offsetParent;return i||n};return{position:function(t){var n=this.offset(t),r={top:0,left:0},o=i(t[0]);o!=e[0]&&(r=this.offset(angular.element(o)),r.top+=o.clientTop-o.scrollTop,r.left+=o.clientLeft-o.scrollLeft);var a=t[0].getBoundingClientRect();return{width:a.width||t.prop("offsetWidth"),height:a.height||t.prop("offsetHeight"),top:n.top-r.top,left:n.left-r.left}},offset:function(n){var r=n[0].getBoundingClientRect();return{width:r.width||n.prop("offsetWidth"),height:r.height||n.prop("offsetHeight"),top:r.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:r.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}},positionElements:function(e,t,n,r){var i,o,a,s,u=n.split("-"),l=u[0],c=u[1]||"center";i=r?this.offset(e):this.position(e),o=t.prop("offsetWidth"),a=t.prop("offsetHeight");var d={center:function(){return i.left+i.width/2-o/2},left:function(){return i.left},right:function(){return i.left+i.width}},p={center:function(){return i.top+i.height/2-a/2},top:function(){return i.top},bottom:function(){return i.top+i.height}};switch(l){case"right":s={top:p[c](),left:d[l]()};break;case"left":s={top:p[c](),left:i.left-o};break;case"bottom":s={top:p[l](),left:d[c]()};break;default:s={top:i.top-a,left:d[c]()}}return s}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(e,t,n,r,i,o,a,s){var u=this,l={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange"],function(n,i){u[n]=angular.isDefined(t[n])?8>i?r(t[n])(e.$parent):e.$parent.$eval(t[n]):s[n]}),angular.forEach(["minDate","maxDate"],function(r){t[r]?e.$parent.$watch(n(t[r]),function(e){u[r]=e?new Date(e):null,u.refreshView()}):u[r]=s[r]?new Date(s[r]):null}),e.datepickerMode=e.datepickerMode||s.datepickerMode,e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),this.activeDate=angular.isDefined(t.initDate)?e.$parent.$eval(t.initDate):new Date,e.isActive=function(t){return 0===u.compare(t.date,u.activeDate)?(e.activeDateId=t.uid,!0):!1},this.init=function(e){l=e,l.$render=function(){u.render()}},this.render=function(){if(l.$modelValue){var e=new Date(l.$modelValue),t=!isNaN(e);t?this.activeDate=e:o.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),l.$setValidity("date",t)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var e=l.$modelValue?new Date(l.$modelValue):null;l.$setValidity("date-disabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,t){var n=l.$modelValue?new Date(l.$modelValue):null;return{date:e,label:a(e,t),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),current:0===this.compare(e,new Date)}},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||t.dateDisabled&&e.dateDisabled({date:n,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},e.select=function(t){if(e.datepickerMode===u.minMode){var n=l.$modelValue?new Date(l.$modelValue):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),l.$setViewValue(n),l.$render()}else u.activeDate=t,e.datepickerMode=u.modes[u.modes.indexOf(e.datepickerMode)-1]},e.move=function(e){var t=u.activeDate.getFullYear()+e*(u.step.years||0),n=u.activeDate.getMonth()+e*(u.step.months||0);u.activeDate.setFullYear(t,n,1),u.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===u.maxMode&&1===t||e.datepickerMode===u.minMode&&-1===t||(e.datepickerMode=u.modes[u.modes.indexOf(e.datepickerMode)+t])},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var c=function(){i(function(){u.element[0].focus()},0,!1)};e.$on("datepicker.focus",c),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey)if(t.preventDefault(),t.stopPropagation(),"enter"===n||"space"===n){if(u.isDisabled(u.activeDate))return;e.select(u.activeDate),c()}else!t.ctrlKey||"up"!==n&&"down"!==n?(u.handleKeyDown(n,t),u.refreshView()):(e.toggleMode("up"===n?1:-1),c())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(e,t,n,r){var i=r[0],o=r[1];o&&i.init(o)}}}).directive("daypicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(t,n,r,i){function o(e,t){return 1!==t||e%4!==0||e%100===0&&e%400!==0?u[t]:29}function a(e,t){var n=new Array(t),r=new Date(e),i=0;for(r.setHours(12);t>i;)n[i++]=new Date(r),r.setDate(r.getDate()+1);return n}function s(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}t.showWeeks=i.showWeeks,i.step={months:1},i.element=n;var u=[31,28,31,30,31,30,31,31,30,31,30,31];i._refreshView=function(){var n=i.activeDate.getFullYear(),r=i.activeDate.getMonth(),o=new Date(n,r,1),u=i.startingDay-o.getDay(),l=u>0?7-u:-u,c=new Date(o);l>0&&c.setDate(-l+1);for(var d=a(c,42),p=0;42>p;p++)d[p]=angular.extend(i.createDateObject(d[p],i.formatDay),{secondary:d[p].getMonth()!==r,uid:t.uniqueId+"-"+p});t.labels=new Array(7);for(var f=0;7>f;f++)t.labels[f]={abbr:e(d[f].date,i.formatDayHeader),full:e(d[f].date,"EEEE")};if(t.title=e(i.activeDate,i.formatDayTitle),t.rows=i.split(d,7),t.showWeeks){t.weekNumbers=[];for(var h=s(t.rows[0][0].date),m=t.rows.length;t.weekNumbers.push(h++)<m;);}},i.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},i.handleKeyDown=function(e,t){var n=i.activeDate.getDate();if("left"===e)n-=1;else if("up"===e)n-=7;else if("right"===e)n+=1;else if("down"===e)n+=7;else if("pageup"===e||"pagedown"===e){var r=i.activeDate.getMonth()+("pageup"===e?-1:1);i.activeDate.setMonth(r,1),n=Math.min(o(i.activeDate.getFullYear(),i.activeDate.getMonth()),n)}else"home"===e?n=1:"end"===e&&(n=o(i.activeDate.getFullYear(),i.activeDate.getMonth()));i.activeDate.setDate(n)},i.refreshView()}}}]).directive("monthpicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(t,n,r,i){i.step={years:1},i.element=n,i._refreshView=function(){for(var n=new Array(12),r=i.activeDate.getFullYear(),o=0;12>o;o++)n[o]=angular.extend(i.createDateObject(new Date(r,o,1),i.formatMonth),{uid:t.uniqueId+"-"+o});t.title=e(i.activeDate,i.formatMonthTitle),t.rows=i.split(n,3)},i.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth())-new Date(t.getFullYear(),t.getMonth())},i.handleKeyDown=function(e,t){var n=i.activeDate.getMonth();if("left"===e)n-=1;else if("up"===e)n-=3;else if("right"===e)n+=1;else if("down"===e)n+=3;else if("pageup"===e||"pagedown"===e){var r=i.activeDate.getFullYear()+("pageup"===e?-1:1);i.activeDate.setFullYear(r)}else"home"===e?n=0:"end"===e&&(n=11);i.activeDate.setMonth(n)},i.refreshView()}}}]).directive("yearpicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(e,t,n,r){function i(e){return parseInt((e-1)/o,10)*o+1}var o=r.yearRange;r.step={years:o},r.element=t,r._refreshView=function(){for(var t=new Array(o),n=0,a=i(r.activeDate.getFullYear());o>n;n++)t[n]=angular.extend(r.createDateObject(new Date(a+n,0,1),r.formatYear),{uid:e.uniqueId+"-"+n});e.title=[t[0].label,t[o-1].label].join(" - "),e.rows=r.split(t,5)},r.compare=function(e,t){return e.getFullYear()-t.getFullYear()},r.handleKeyDown=function(e,t){var n=r.activeDate.getFullYear();"left"===e?n-=1:"up"===e?n-=5:"right"===e?n+=1:"down"===e?n+=5:"pageup"===e||"pagedown"===e?n+=("pageup"===e?-1:1)*r.step.years:"home"===e?n=i(r.activeDate.getFullYear()):"end"===e&&(n=i(r.activeDate.getFullYear())+o-1),r.activeDate.setFullYear(n)},r.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function(e,t,n,r,i,o,a){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&"},link:function(s,u,l,c){function d(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function p(e){if(e){if(angular.isDate(e)&&!isNaN(e))return c.$setValidity("date",!0),e;if(angular.isString(e)){var t=o.parse(e,f)||new Date(e);return isNaN(t)?void c.$setValidity("date",!1):(c.$setValidity("date",!0),t)}return void c.$setValidity("date",!1)}return c.$setValidity("date",!0),null}var f,h=angular.isDefined(l.closeOnDateSelection)?s.$parent.$eval(l.closeOnDateSelection):a.closeOnDateSelection,m=angular.isDefined(l.datepickerAppendToBody)?s.$parent.$eval(l.datepickerAppendToBody):a.appendToBody;s.showButtonBar=angular.isDefined(l.showButtonBar)?s.$parent.$eval(l.showButtonBar):a.showButtonBar,s.getText=function(e){return s[e+"Text"]||a[e+"Text"]},l.$observe("datepickerPopup",function(e){f=e||a.datepickerPopup,c.$render()});var g=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");g.attr({"ng-model":"date","ng-change":"dateSelection()"});var v=angular.element(g.children()[0]);l.datepickerOptions&&angular.forEach(s.$parent.$eval(l.datepickerOptions),function(e,t){v.attr(d(t),e)}),s.watchData={},angular.forEach(["minDate","maxDate","datepickerMode"],function(e){if(l[e]){var n=t(l[e]);if(s.$parent.$watch(n,function(t){s.watchData[e]=t}),v.attr(d(e),"watchData."+e),"datepickerMode"===e){var r=n.assign;s.$watch("watchData."+e,function(e,t){e!==t&&r(s.$parent,e)})}}}),l.dateDisabled&&v.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),c.$parsers.unshift(p),s.dateSelection=function(e){angular.isDefined(e)&&(s.date=e),c.$setViewValue(s.date),c.$render(),h&&(s.isOpen=!1,u[0].focus())},u.bind("input change keyup",function(){s.$apply(function(){s.date=c.$modelValue})}),c.$render=function(){var e=c.$viewValue?i(c.$viewValue,f):"";u.val(e),s.date=p(c.$modelValue)};var b=function(e){s.isOpen&&e.target!==u[0]&&s.$apply(function(){s.isOpen=!1})},y=function(e,t){s.keydown(e)};u.bind("keydown",y),s.keydown=function(e){27===e.which?(e.preventDefault(),e.stopPropagation(),s.close()):40!==e.which||s.isOpen||(s.isOpen=!0)},s.$watch("isOpen",function(e){e?(s.$broadcast("datepicker.focus"),s.position=m?r.offset(u):r.position(u),s.position.top=s.position.top+u.prop("offsetHeight"),n.bind("click",b)):n.unbind("click",b)}),s.select=function(e){if("today"===e){var t=new Date;angular.isDate(c.$modelValue)?(e=new Date(c.$modelValue),e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate())):e=new Date(t.setHours(0,0,0,0))}s.dateSelection(e)},s.close=function(){s.isOpen=!1,u[0].focus()};var w=e(g)(s);g.remove(),m?n.find("body").append(w):u.after(w),s.$on("$destroy",function(){w.remove(),u.unbind("keydown",y),n.unbind("click",b)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(e,t,n){t.bind("click",function(e){e.preventDefault(),e.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdown",[]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document",function(e){var t=null;this.open=function(i){t||(e.bind("click",n),e.bind("keydown",r)),t&&t!==i&&(t.isOpen=!1),t=i},this.close=function(i){t===i&&(t=null,e.unbind("click",n),e.unbind("keydown",r))};var n=function(e){var n=t.getToggleElement();e&&n&&n[0].contains(e.target)||t.$apply(function(){t.isOpen=!1})},r=function(e){27===e.which&&(t.focusToggleElement(),n())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate",function(e,t,n,r,i,o){var a,s=this,u=e.$new(),l=r.openClass,c=angular.noop,d=t.onToggle?n(t.onToggle):angular.noop;this.init=function(r){s.$element=r,t.isOpen&&(a=n(t.isOpen),c=a.assign,e.$watch(a,function(e){u.isOpen=!!e}))},this.toggle=function(e){return u.isOpen=arguments.length?!!e:!u.isOpen},this.isOpen=function(){return u.isOpen},u.getToggleElement=function(){return s.toggleElement},u.focusToggleElement=function(){s.toggleElement&&s.toggleElement[0].focus()},u.$watch("isOpen",function(t,n){o[t?"addClass":"removeClass"](s.$element,l),t?(u.focusToggleElement(),i.open(u)):i.close(u),c(e,t),angular.isDefined(t)&&t!==n&&d(e,{open:!!t})}),e.$on("$locationChangeSuccess",function(){u.isOpen=!1}),e.$on("$destroy",function(){u.$destroy()})}]).directive("dropdown",function(){return{restrict:"CA",controller:"DropdownController",link:function(e,t,n,r){r.init(t)}}}).directive("dropdownToggle",function(){return{restrict:"CA",require:"?^dropdown",link:function(e,t,n,r){if(r){r.toggleElement=t;var i=function(i){i.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){r.toggle()})};t.bind("click",i),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(r.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.unbind("click",i)})}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t==e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,r=0;r<e.length;r++)if(t==e[r].key){n=r;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}).directive("modalBackdrop",["$timeout",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(t,n,r){t.backdropClass=r.backdropClass||"",t.animate=!1,e(function(){t.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function(e,t){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/modal/window.html"},link:function(n,r,i){r.addClass(i.windowClass||""),n.size=i.size,t(function(){n.animate=!0,r[0].querySelectorAll("[autofocus]").length||r[0].focus()}),n.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!=n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))}}}}]).directive("modalTransclude",function(){return{link:function(e,t,n,r,i){i(e.$parent,function(e){t.empty(),t.append(e)})}}}).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function(e,t,n,r,i,o){function a(){for(var e=-1,t=f.keys(),n=0;n<t.length;n++)f.get(t[n]).value.backdrop&&(e=n);return e}function s(e){var t=n.find("body").eq(0),r=f.get(e).value;f.remove(e),l(r.modalDomEl,r.modalScope,300,function(){r.modalScope.$destroy(),t.toggleClass(p,f.length()>0),u()})}function u(){if(c&&-1==a()){var e=d;l(c,d,150,function(){e.$destroy(),e=null}),c=void 0,d=void 0;
}}function l(n,r,i,o){function a(){a.done||(a.done=!0,n.remove(),o&&o())}r.animate=!1;var s=e.transitionEndEventName;if(s){var u=t(a,i);n.bind(s,function(){t.cancel(u),a(),r.$apply()})}else t(a)}var c,d,p="modal-open",f=o.createNew(),h={};return i.$watch(a,function(e){d&&(d.index=e)}),n.bind("keydown",function(e){var t;27===e.which&&(t=f.top(),t&&t.value.keyboard&&(e.preventDefault(),i.$apply(function(){h.dismiss(t.key,"escape key press")})))}),h.open=function(e,t){f.add(e,{deferred:t.deferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard});var o=n.find("body").eq(0),s=a();if(s>=0&&!c){d=i.$new(!0),d.index=s;var u=angular.element("<div modal-backdrop></div>");u.attr("backdrop-class",t.backdropClass),c=r(u)(d),o.append(c)}var l=angular.element("<div modal-window></div>");l.attr({"template-url":t.windowTemplateUrl,"window-class":t.windowClass,size:t.size,index:f.length()-1,animate:"animate"}).html(t.content);var h=r(l)(t.scope);f.top().value.modalDomEl=h,o.append(h),o.addClass(p)},h.close=function(e,t){var n=f.get(e);n&&(n.value.deferred.resolve(t),s(e))},h.dismiss=function(e,t){var n=f.get(e);n&&(n.value.deferred.reject(t),s(e))},h.dismissAll=function(e){for(var t=this.getTop();t;)this.dismiss(t.key,e),t=this.getTop()},h.getTop=function(){return f.top()},h}]).provider("$modal",function(){var e={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(t,n,r,i,o,a,s){function u(e){return e.template?r.when(e.template):i.get(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl,{cache:o}).then(function(e){return e.data})}function l(e){var n=[];return angular.forEach(e,function(e){(angular.isFunction(e)||angular.isArray(e))&&n.push(r.when(t.invoke(e)))}),n}var c={};return c.open=function(t){var i=r.defer(),o=r.defer(),c={result:i.promise,opened:o.promise,close:function(e){s.close(c,e)},dismiss:function(e){s.dismiss(c,e)}};if(t=angular.extend({},e.options,t),t.resolve=t.resolve||{},!t.template&&!t.templateUrl)throw new Error("One of template or templateUrl options is required.");var d=r.all([u(t)].concat(l(t.resolve)));return d.then(function(e){var r=(t.scope||n).$new();r.$close=c.close,r.$dismiss=c.dismiss;var o,u={},l=1;t.controller&&(u.$scope=r,u.$modalInstance=c,angular.forEach(t.resolve,function(t,n){u[n]=e[l++]}),o=a(t.controller,u),t.controllerAs&&(r[t.controllerAs]=o)),s.open(c,{scope:r,deferred:i,content:e[0],backdrop:t.backdrop,keyboard:t.keyboard,backdropClass:t.backdropClass,windowClass:t.windowClass,windowTemplateUrl:t.windowTemplateUrl,size:t.size})},function(e){i.reject(e)}),d.then(function(){o.resolve(!0)},function(){o.reject(!1)}),c},c}]};return e}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(e,t,n){var r=this,i={$setViewValue:angular.noop},o=t.numPages?n(t.numPages).assign:angular.noop;this.init=function(o,a){i=o,this.config=a,i.$render=function(){r.render()},t.itemsPerPage?e.$parent.$watch(n(t.itemsPerPage),function(t){r.itemsPerPage=parseInt(t,10),e.totalPages=r.calculateTotalPages()}):this.itemsPerPage=a.itemsPerPage},this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(e.totalItems/this.itemsPerPage);return Math.max(t||0,1)},this.render=function(){e.page=parseInt(i.$viewValue,10)||1},e.selectPage=function(t){e.page!==t&&t>0&&t<=e.totalPages&&(i.$setViewValue(t),i.$render())},e.getText=function(t){return e[t+"Text"]||r.config[t+"Text"]},e.noPrevious=function(){return 1===e.page},e.noNext=function(){return e.page===e.totalPages},e.$watch("totalItems",function(){e.totalPages=r.calculateTotalPages()}),e.$watch("totalPages",function(t){o(e.$parent,t),e.page>t?e.selectPage(t):i.$render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(e,t){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(n,r,i,o){function a(e,t,n){return{number:e,text:t,active:n}}function s(e,t){var n=[],r=1,i=t,o=angular.isDefined(c)&&t>c;o&&(d?(r=Math.max(e-Math.floor(c/2),1),i=r+c-1,i>t&&(i=t,r=i-c+1)):(r=(Math.ceil(e/c)-1)*c+1,i=Math.min(r+c-1,t)));for(var s=r;i>=s;s++){var u=a(s,s,s===e);n.push(u)}if(o&&!d){if(r>1){var l=a(r-1,"...",!1);n.unshift(l)}if(t>i){var p=a(i+1,"...",!1);n.push(p)}}return n}var u=o[0],l=o[1];if(l){var c=angular.isDefined(i.maxSize)?n.$parent.$eval(i.maxSize):t.maxSize,d=angular.isDefined(i.rotate)?n.$parent.$eval(i.rotate):t.rotate;n.boundaryLinks=angular.isDefined(i.boundaryLinks)?n.$parent.$eval(i.boundaryLinks):t.boundaryLinks,n.directionLinks=angular.isDefined(i.directionLinks)?n.$parent.$eval(i.directionLinks):t.directionLinks,u.init(l,t),i.maxSize&&n.$parent.$watch(e(i.maxSize),function(e){c=parseInt(e,10),u.render()});var p=u.render;u.render=function(){p(),n.page>0&&n.page<=n.totalPages&&(n.pages=s(n.page,n.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(e){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(t,n,r,i){var o=i[0],a=i[1];a&&(t.align=angular.isDefined(r.align)?t.$parent.$eval(r.align):e.align,o.init(a,e))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",animation:!0,popupDelay:0},n={mouseenter:"mouseleave",click:"click",focus:"blur"},r={};this.options=function(e){angular.extend(r,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$parse","$document","$position","$interpolate",function(i,o,a,s,u,l,c){return function(i,d,p){function f(e){var t=e||h.trigger||p,r=n[t]||t;return{show:t,hide:r}}var h=angular.extend({},t,r),m=e(i),g=c.startSymbol(),v=c.endSymbol(),b="<div "+m+'-popup title="'+g+"tt_title"+v+'" content="'+g+"tt_content"+v+'" placement="'+g+"tt_placement"+v+'" animation="tt_animation" is-open="tt_isOpen"></div>';return{restrict:"EA",scope:!0,compile:function(e,t){var n=o(b);return function(e,t,r){function o(){e.tt_isOpen?p():c()}function c(){(!D||e.$eval(r[d+"Enable"]))&&(e.tt_popupDelay?_||(_=a(m,e.tt_popupDelay,!1),_.then(function(e){e()})):m()())}function p(){e.$apply(function(){g()})}function m(){return _=null,w&&(a.cancel(w),w=null),e.tt_content?(v(),y.css({top:0,left:0,display:"block"}),x?u.find("body").append(y):t.after(y),k(),e.tt_isOpen=!0,e.$digest(),k):angular.noop}function g(){e.tt_isOpen=!1,a.cancel(_),_=null,e.tt_animation?w||(w=a(b,500)):b()}function v(){y&&b(),y=n(e,function(){}),e.$digest()}function b(){w=null,y&&(y.remove(),y=null)}var y,w,_,x=angular.isDefined(h.appendToBody)?h.appendToBody:!1,C=f(void 0),D=angular.isDefined(r[d+"Enable"]),k=function(){var n=l.positionElements(t,y,e.tt_placement,x);n.top+="px",n.left+="px",y.css(n)};e.tt_isOpen=!1,r.$observe(i,function(t){e.tt_content=t,!t&&e.tt_isOpen&&g()}),r.$observe(d+"Title",function(t){e.tt_title=t}),r.$observe(d+"Placement",function(t){e.tt_placement=angular.isDefined(t)?t:h.placement}),r.$observe(d+"PopupDelay",function(t){var n=parseInt(t,10);e.tt_popupDelay=isNaN(n)?h.popupDelay:n});var A=function(){t.unbind(C.show,c),t.unbind(C.hide,p)};r.$observe(d+"Trigger",function(e){A(),C=f(e),C.show===C.hide?t.bind(C.show,o):(t.bind(C.show,c),t.bind(C.hide,p))});var $=e.$eval(r[d+"Animation"]);e.tt_animation=angular.isDefined($)?!!$:h.animation,r.$observe(d+"AppendToBody",function(t){x=angular.isDefined(t)?s(t)(e):x}),x&&e.$on("$locationChangeSuccess",function(){e.tt_isOpen&&g()}),e.$on("$destroy",function(){a.cancel(w),a.cancel(_),A(),b()})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(e){return e("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(e){return e("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(e,t,n){var r=this,i=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max,this.addBar=function(t,n){i||n.css({transition:"none"}),this.bars.push(t),t.$watch("value",function(n){t.percent=+(100*n/e.max).toFixed(2)}),t.$on("$destroy",function(){n=null,r.removeBar(t)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,t,n,r){r.addBar(e,t)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(e,t,n,r){r.addBar(e,angular.element(t.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(e,t,n){var r={$setViewValue:angular.noop};this.init=function(i){r=i,r.$render=this.render,this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff;var o=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(o)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;n>t;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff},e[t]);return e},e.rate=function(t){!e.readonly&&t>=0&&t<=e.range.length&&(r.$setViewValue(t),r.$render())},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=r.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=r.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(e,t,n,r){var i=r[0],o=r[1];o&&i.init(o)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(e){var t=this,n=t.tabs=e.tabs=[];t.select=function(e){angular.forEach(n,function(t){t.active&&t!==e&&(t.active=!1,t.onDeselect())}),e.active=!0,e.onSelect()},t.addTab=function(e){n.push(e),1===n.length?e.active=!0:e.active&&t.select(e)},t.removeTab=function(e){var r=n.indexOf(e);if(e.active&&n.length>1){var i=r==n.length-1?r-1:r+1;t.select(n[i])}n.splice(r,1)}}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(e,t,n){e.vertical=angular.isDefined(n.vertical)?e.$parent.$eval(n.vertical):!1,e.justified=angular.isDefined(n.justified)?e.$parent.$eval(n.justified):!1}}}).directive("tab",["$parse",function(e){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(t,n,r){return function(t,n,i,o){t.$watch("active",function(e){e&&o.select(t)}),t.disabled=!1,i.disabled&&t.$parent.$watch(e(i.disabled),function(e){t.disabled=!!e}),t.select=function(){t.disabled||(t.active=!0)},o.addTab(t),t.$on("$destroy",function(){o.removeTab(t)}),t.$transcludeFn=r}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(e,t,n,r){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}]).directive("tabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(t,n,r){var i=t.$eval(r.tabContentTransclude);i.$transcludeFn(i.$parent,function(t){angular.forEach(t,function(t){e(t)?i.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(e,t,n,r,i,o){function a(){var t=parseInt(e.hours,10),n=e.showMeridian?t>0&&13>t:t>=0&&24>t;return n?(e.showMeridian&&(12===t&&(t=0),e.meridian===m[1]&&(t+=12)),t):void 0}function s(){var t=parseInt(e.minutes,10);return t>=0&&60>t?t:void 0}function u(e){return angular.isDefined(e)&&e.toString().length<2?"0"+e:e}function l(e){c(),h.$setViewValue(new Date(f)),d(e)}function c(){h.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1}function d(t){var n=f.getHours(),r=f.getMinutes();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:u(n),e.minutes="m"===t?r:u(r),e.meridian=f.getHours()<12?m[0]:m[1]}function p(e){var t=new Date(f.getTime()+6e4*e);f.setHours(t.getHours(),t.getMinutes()),l()}var f=new Date,h={$setViewValue:angular.noop},m=angular.isDefined(t.meridians)?e.$parent.$eval(t.meridians):o.meridians||i.DATETIME_FORMATS.AMPMS;this.init=function(n,r){h=n,h.$render=this.render;var i=r.eq(0),a=r.eq(1),s=angular.isDefined(t.mousewheel)?e.$parent.$eval(t.mousewheel):o.mousewheel;s&&this.setupMousewheelEvents(i,a),e.readonlyInput=angular.isDefined(t.readonlyInput)?e.$parent.$eval(t.readonlyInput):o.readonlyInput,this.setupInputEvents(i,a)};var g=o.hourStep;t.hourStep&&e.$parent.$watch(n(t.hourStep),function(e){g=parseInt(e,10)});var v=o.minuteStep;t.minuteStep&&e.$parent.$watch(n(t.minuteStep),function(e){v=parseInt(e,10)}),e.showMeridian=o.showMeridian,t.showMeridian&&e.$parent.$watch(n(t.showMeridian),function(t){if(e.showMeridian=!!t,h.$error.time){var n=a(),r=s();angular.isDefined(n)&&angular.isDefined(r)&&(f.setHours(n),l())}else d()}),this.setupMousewheelEvents=function(t,n){var r=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.bind("mousewheel wheel",function(t){e.$apply(r(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),n.bind("mousewheel wheel",function(t){e.$apply(r(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()})},this.setupInputEvents=function(t,n){if(e.readonlyInput)return e.updateHours=angular.noop,void(e.updateMinutes=angular.noop);var r=function(t,n){h.$setViewValue(null),h.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t),angular.isDefined(n)&&(e.invalidMinutes=n)};e.updateHours=function(){var e=a();angular.isDefined(e)?(f.setHours(e),l("h")):r(!0)},t.bind("blur",function(t){!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=u(e.hours)})}),e.updateMinutes=function(){var e=s();angular.isDefined(e)?(f.setMinutes(e),l("m")):r(void 0,!0)},n.bind("blur",function(t){!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=u(e.minutes)})})},this.render=function(){var e=h.$modelValue?new Date(h.$modelValue):null;isNaN(e)?(h.$setValidity("time",!1),r.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(e&&(f=e),c(),d())},e.incrementHours=function(){p(60*g)},e.decrementHours=function(){p(60*-g)},e.incrementMinutes=function(){p(v)},e.decrementMinutes=function(){p(-v)},e.toggleMeridian=function(){p(720*(f.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(e,t,n,r){var i=r[0],o=r[1];o&&i.init(o,t.find("input"))}}}),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var r=n.match(t);if(!r)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:r[3],source:e(r[4]),viewMapper:e(r[2]||r[1]),modelMapper:e(r[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(e,t,n,r,i,o,a){var s=[9,13,27,38,40];return{require:"ngModel",link:function(u,l,c,d){var p,f=u.$eval(c.typeaheadMinLength)||1,h=u.$eval(c.typeaheadWaitMs)||0,m=u.$eval(c.typeaheadEditable)!==!1,g=t(c.typeaheadLoading).assign||angular.noop,v=t(c.typeaheadOnSelect),b=c.typeaheadInputFormatter?t(c.typeaheadInputFormatter):void 0,y=c.typeaheadAppendToBody?u.$eval(c.typeaheadAppendToBody):!1,w=t(c.ngModel).assign,_=a.parse(c.typeahead),x=u.$new();u.$on("$destroy",function(){x.$destroy()});var C="typeahead-"+x.$id+"-"+Math.floor(1e4*Math.random());l.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":C});var D=angular.element("<div typeahead-popup></div>");D.attr({id:C,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(c.typeaheadTemplateUrl)&&D.attr("template-url",c.typeaheadTemplateUrl);var k=function(){x.matches=[],x.activeIdx=-1,l.attr("aria-expanded",!1)},A=function(e){return C+"-option-"+e};x.$watch("activeIdx",function(e){0>e?l.removeAttr("aria-activedescendant"):l.attr("aria-activedescendant",A(e))});var $=function(e){var t={$viewValue:e};g(u,!0),n.when(_.source(u,t)).then(function(n){var r=e===d.$viewValue;if(r&&p)if(n.length>0){x.activeIdx=0,x.matches.length=0;for(var i=0;i<n.length;i++)t[_.itemName]=n[i],x.matches.push({id:A(i),label:_.viewMapper(x,t),model:n[i]});x.query=e,x.position=y?o.offset(l):o.position(l),x.position.top=x.position.top+l.prop("offsetHeight"),l.attr("aria-expanded",!0)}else k();r&&g(u,!1)},function(){k(),g(u,!1)})};k(),x.query=void 0;var S,E=function(e){S=r(function(){$(e)},h)},T=function(){S&&r.cancel(S)};d.$parsers.unshift(function(e){return p=!0,e&&e.length>=f?h>0?(T(),E(e)):$(e):(g(u,!1),T(),k()),m?e:e?void d.$setValidity("editable",!1):(d.$setValidity("editable",!0),e)}),d.$formatters.push(function(e){var t,n,r={};return b?(r.$model=e,b(u,r)):(r[_.itemName]=e,t=_.viewMapper(u,r),r[_.itemName]=void 0,n=_.viewMapper(u,r),t!==n?t:e)}),x.select=function(e){var t,n,i={};i[_.itemName]=n=x.matches[e].model,t=_.modelMapper(u,i),w(u,t),d.$setValidity("editable",!0),v(u,{$item:n,$model:t,$label:_.viewMapper(u,i)}),k(),r(function(){l[0].focus()},0,!1)},l.bind("keydown",function(e){0!==x.matches.length&&-1!==s.indexOf(e.which)&&(e.preventDefault(),40===e.which?(x.activeIdx=(x.activeIdx+1)%x.matches.length,x.$digest()):38===e.which?(x.activeIdx=(x.activeIdx?x.activeIdx:x.matches.length)-1,x.$digest()):13===e.which||9===e.which?x.$apply(function(){x.select(x.activeIdx)}):27===e.which&&(e.stopPropagation(),k(),x.$digest()))}),l.bind("blur",function(e){p=!1});var P=function(e){l[0]!==e.target&&(k(),x.$digest())};i.bind("click",P),u.$on("$destroy",function(){i.unbind("click",P)});var R=e(D)(x);y?i.find("body").append(R):l.after(R)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(e,t,n){e.templateUrl=n.templateUrl,e.isOpen=function(){return e.matches.length>0},e.isActive=function(t){return e.active==t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(e,t,n,r){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(i,o,a){var s=r(a.templateUrl)(i.$parent)||"template/typeahead/typeahead-match.html";e.get(s,{cache:t}).success(function(e){o.replaceWith(n(e.trim())(i))})}}}]).filter("typeaheadHighlight",function(){function e(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,n){return n?(""+t).replace(new RegExp(e(n),"gi"),"<strong>$&</strong>"):t}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse" collapse="!isOpen">\n	  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissable\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close()">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("template/carousel/slide.html","<div ng-class=\"{\n    'active': leaving || (active && !entering),\n    'prev': (next || active) && direction=='prev',\n    'next': (next || active) && direction=='next',\n    'right': direction=='prev',\n    'left': direction=='next'\n  }\" class=\"item text-center\" ng-transclude></div>\n")}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{5 + showWeeks}}"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-show="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in labels track by $index" class="text-center"><small aria-label="{{label.full}}">{{label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-show="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)">\n	<li ng-transclude></li>\n	<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group">\n			<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n	</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("template/modal/backdrop.html",'<div class="modal-backdrop fade {{ backdropClass }}"\n     ng-class="{in: animate}"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(e){e.put("template/modal/window.html",'<div tabindex="-1" role="dialog" class="modal fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="{\'modal-sm\': size == \'sm\', \'modal-lg\': size == \'lg\'}"><div class="modal-content" modal-transclude></div></div>\n</div>')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n</ul>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="boundaryLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(1)">{{getText(\'first\')}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}"><a href ng-click="selectPage(page.number)">{{page.text}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n  <li ng-if="boundaryLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(totalPages)">{{getText(\'last\')}}</a></li>\n</ul>')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(e){
e.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n</div>')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')">\n        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    </i>\n</span>')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("template/timepicker/timepicker.html",'<table>\n	<tbody>\n		<tr class="text-center">\n			<td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n		<tr>\n			<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidHours}">\n				<input type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-mousewheel="incrementHours()" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td>:</td>\n			<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n				<input type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n		</tr>\n		<tr class="text-center">\n			<td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n	</tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(e,t,n){"use strict";function r(e,t){return B(new(B(function(){},{prototype:e})),t)}function i(e){return I(arguments,function(t){t!==e&&I(t,function(t,n){e.hasOwnProperty(n)||(e[n]=t)})}),e}function o(e,t){var n=[];for(var r in e.path){if(e.path[r]!==t.path[r])break;n.push(e.path[r])}return n}function a(e){if(Object.keys)return Object.keys(e);var t=[];return I(e,function(e,n){t.push(n)}),t}function s(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var n=e.length>>>0,r=Number(arguments[2])||0;for(r=0>r?Math.ceil(r):Math.floor(r),0>r&&(r+=n);n>r;r++)if(r in e&&e[r]===t)return r;return-1}function u(e,t,n,r){var i,u=o(n,r),l={},c=[];for(var d in u)if(u[d].params&&(i=a(u[d].params),i.length))for(var p in i)s(c,i[p])>=0||(c.push(i[p]),l[i[p]]=e[i[p]]);return B({},l,t)}function l(e,t,n){if(!n){n=[];for(var r in e)n.push(r)}for(var i=0;i<n.length;i++){var o=n[i];if(e[o]!=t[o])return!1}return!0}function c(e,t){var n={};return I(e,function(e){n[e]=t[e]}),n}function d(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return I(n,function(n){n in e&&(t[n]=e[n])}),t}function p(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var r in e)-1==s(n,r)&&(t[r]=e[r]);return t}function f(e,t){var n=G(e),r=n?[]:{};return I(e,function(e,i){t(e,i)&&(r[n?r.length:i]=e)}),r}function h(e,t){var n=G(e)?[]:{};return I(e,function(e,r){n[r]=t(e,r)}),n}function m(e,t){var r=1,o=2,u={},l=[],c=u,d=B(e.when(u),{$$promises:u,$$values:u});this.study=function(u){function f(e,n){if(b[n]!==o){if(v.push(n),b[n]===r)throw v.splice(0,s(v,n)),new Error("Cyclic dependency: "+v.join(" -> "));if(b[n]=r,F(e))g.push(n,[function(){return t.get(e)}],l);else{var i=t.annotate(e);I(i,function(e){e!==n&&u.hasOwnProperty(e)&&f(u[e],e)}),g.push(n,e,i)}v.pop(),b[n]=o}}function h(e){return O(e)&&e.then&&e.$$promises}if(!O(u))throw new Error("'invocables' must be an object");var m=a(u||{}),g=[],v=[],b={};return I(u,f),u=v=b=null,function(r,o,a){function s(){--w||(_||i(y,o.$$values),v.$$values=y,v.$$promises=v.$$promises||!0,delete v.$$inheritedValues,f.resolve(y))}function u(e){v.$$failure=e,f.reject(e)}function l(n,i,o){function l(e){d.reject(e),u(e)}function c(){if(!M(v.$$failure))try{d.resolve(t.invoke(i,a,y)),d.promise.then(function(e){y[n]=e,s()},l)}catch(e){l(e)}}var d=e.defer(),p=0;I(o,function(e){b.hasOwnProperty(e)&&!r.hasOwnProperty(e)&&(p++,b[e].then(function(t){y[e]=t,--p||c()},l))}),p||c(),b[n]=d.promise}if(h(r)&&a===n&&(a=o,o=r,r=null),r){if(!O(r))throw new Error("'locals' must be an object")}else r=c;if(o){if(!h(o))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else o=d;var f=e.defer(),v=f.promise,b=v.$$promises={},y=B({},r),w=1+g.length/3,_=!1;if(M(o.$$failure))return u(o.$$failure),v;o.$$inheritedValues&&i(y,p(o.$$inheritedValues,m)),B(b,o.$$promises),o.$$values?(_=i(y,p(o.$$values,m)),v.$$inheritedValues=p(o.$$values,m),s()):(o.$$inheritedValues&&(v.$$inheritedValues=p(o.$$inheritedValues,m)),o.then(s,u));for(var x=0,C=g.length;C>x;x+=3)r.hasOwnProperty(g[x])?s():l(g[x],g[x+1],g[x+2]);return v}},this.resolve=function(e,t,n,r){return this.study(e)(t,n,r)}}function g(e,t,n){this.fromConfig=function(e,t,n){return M(e.template)?this.fromString(e.template,t):M(e.templateUrl)?this.fromUrl(e.templateUrl,t):M(e.templateProvider)?this.fromProvider(e.templateProvider,t,n):null},this.fromString=function(e,t){return N(e)?e(t):e},this.fromUrl=function(n,r){return N(n)&&(n=n(r)),null==n?null:e.get(n,{cache:t,headers:{Accept:"text/html"}}).then(function(e){return e.data})},this.fromProvider=function(e,t,r){return n.invoke(e,null,r||{params:t})}}function v(e,t,i){function o(t,n,r,i){if(g.push(t),h[t])return h[t];if(!/^\w+(-+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(m[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");return m[t]=new L.Param(t,n,r,i),m[t]}function a(e,t,n,r){var i=["",""],o=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return o;switch(n){case!1:i=["(",")"+(r?"?":"")];break;case!0:i=["?(",")?"];break;default:i=["("+n+"|",")?"]}return o+i[0]+t+i[1]}function s(i,o){var a,s,u,l,c;return a=i[2]||i[3],c=t.params[a],u=e.substring(p,i.index),s=o?i[4]:i[4]||("*"==i[1]?".*":null),l=L.type(s||"string")||r(L.type("string"),{pattern:new RegExp(s,t.caseInsensitive?"i":n)}),{id:a,regexp:s,segment:u,type:l,cfg:c}}t=B({params:{}},O(t)?t:{});var u,l=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,c=/([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,d="^",p=0,f=this.segments=[],h=i?i.params:{},m=this.params=i?i.params.$$new():new L.ParamSet,g=[];this.source=e;for(var v,b,y;(u=l.exec(e))&&(v=s(u,!1),!(v.segment.indexOf("?")>=0));)b=o(v.id,v.type,v.cfg,"path"),d+=a(v.segment,b.type.pattern.source,b.squash,b.isOptional),f.push(v.segment),p=l.lastIndex;y=e.substring(p);var w=y.indexOf("?");if(w>=0){var _=this.sourceSearch=y.substring(w);if(y=y.substring(0,w),this.sourcePath=e.substring(0,p+w),_.length>0)for(p=0;u=c.exec(_);)v=s(u,!0),b=o(v.id,v.type,v.cfg,"search"),p=l.lastIndex}else this.sourcePath=e,this.sourceSearch="";d+=a(y)+(t.strict===!1?"/?":"")+"$",f.push(y),this.regexp=new RegExp(d,t.caseInsensitive?"i":n),this.prefix=f[0],this.$$paramNames=g}function b(e){B(this,e)}function y(){function e(e){return null!=e?e.toString().replace(/\//g,"%2F"):e}function i(e){return null!=e?e.toString().replace(/%2F/g,"/"):e}function o(){return{strict:m,caseInsensitive:p}}function u(e){return N(e)||G(e)&&N(e[e.length-1])}function l(){for(;x.length;){var e=x.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");t.extend(w[e.name],d.invoke(e.def))}}function c(e){B(this,e||{})}L=this;var d,p=!1,m=!0,g=!1,w={},_=!0,x=[],C={string:{encode:e,decode:i,is:function(e){return null==e||!M(e)||"string"==typeof e},pattern:/[^\/]*/},"int":{encode:e,decode:function(e){return parseInt(e,10)},is:function(e){return M(e)&&this.decode(e.toString())===e},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return e===!0||e===!1},pattern:/0|1/},date:{encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):n},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):n},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return this.is(e)&&this.is(t)&&e.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:t.toJson,decode:t.fromJson,is:t.isObject,equals:t.equals,pattern:/[^\/]*/},any:{encode:t.identity,decode:t.identity,equals:t.equals,pattern:/.*/}};y.$$getDefaultValue=function(e){if(!u(e.value))return e.value;if(!d)throw new Error("Injectable functions cannot be called at configuration time");return d.invoke(e.value)},this.caseInsensitive=function(e){return M(e)&&(p=e),p},this.strictMode=function(e){return M(e)&&(m=e),m},this.defaultSquashPolicy=function(e){if(!M(e))return g;if(e!==!0&&e!==!1&&!F(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return g=e,e},this.compile=function(e,t){return new v(e,B(o(),t))},this.isMatcher=function(e){if(!O(e))return!1;var t=!0;return I(v.prototype,function(n,r){N(n)&&(t=t&&M(e[r])&&N(e[r]))}),t},this.type=function(e,t,n){if(!M(t))return w[e];if(w.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return w[e]=new b(B({name:e},t)),n&&(x.push({name:e,def:n}),_||l()),this},I(C,function(e,t){w[t]=new b(B({name:t},e))}),w=r(w,{}),this.$get=["$injector",function(e){return d=e,_=!1,l(),I(C,function(e,t){w[t]||(w[t]=new b(e))}),this}],this.Param=function(e,t,r,i){function o(e){var t=O(e)?a(e):[],n=-1===s(t,"value")&&-1===s(t,"type")&&-1===s(t,"squash")&&-1===s(t,"array");return n&&(e={value:e}),e.$$fn=u(e.value)?e.value:function(){return e.value},e}function l(t,n,r){if(t.type&&n)throw new Error("Param '"+e+"' has two type configurations.");return n?n:t.type?t.type instanceof b?t.type:new b(t.type):"config"===r?w.any:w.string}function c(){var t={array:"search"===i?"auto":!1},n=e.match(/\[\]$/)?{array:!0}:{};return B(t,n,r).array}function p(e,t){var n=e.squash;if(!t||n===!1)return!1;if(!M(n)||null==n)return g;if(n===!0||F(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function m(e,t,r,i){var o,a,u=[{from:"",to:r||t?n:""},{from:null,to:r||t?n:""}];return o=G(e.replace)?e.replace:[],F(i)&&o.push({from:i,to:n}),a=h(o,function(e){return e.from}),f(u,function(e){return-1===s(a,e.from)}).concat(o)}function v(){if(!d)throw new Error("Injectable functions cannot be called at configuration time");var e=d.invoke(r.$$fn);if(null!==e&&e!==n&&!x.type.is(e))throw new Error("Default value ("+e+") for parameter '"+x.id+"' is not an instance of Type ("+x.type.name+")");return e}function y(e){function t(e){return function(t){return t.from===e}}function n(e){var n=h(f(x.replace,t(e)),function(e){return e.to});return n.length?n[0]:e}return e=n(e),M(e)?x.type.$normalize(e):v()}function _(){return"{Param:"+e+" "+t+" squash: '"+k+"' optional: "+D+"}"}var x=this;r=o(r),t=l(r,t,i);var C=c();t=C?t.$asArray(C,"search"===i):t,"string"!==t.name||C||"path"!==i||r.value!==n||(r.value="");var D=r.value!==n,k=p(r,D),A=m(r,C,D,k);B(this,{id:e,type:t,location:i,array:C,squash:k,replace:A,isOptional:D,value:y,dynamic:n,config:r,toString:_})},c.prototype={$$new:function(){return r(this,B(new c,{$$parent:this}))},$$keys:function(){for(var e=[],t=[],n=this,r=a(c.prototype);n;)t.push(n),n=n.$$parent;return t.reverse(),I(t,function(t){I(a(t),function(t){-1===s(e,t)&&-1===s(r,t)&&e.push(t)})}),e},$$values:function(e){var t={},n=this;return I(n.$$keys(),function(r){t[r]=n[r].value(e&&e[r])}),t},$$equals:function(e,t){var n=!0,r=this;return I(r.$$keys(),function(i){var o=e&&e[i],a=t&&t[i];r[i].type.equals(o,a)||(n=!1)}),n},$$validates:function(e){var r,i,o,a,s,u=this.$$keys();for(r=0;r<u.length&&(i=this[u[r]],o=e[u[r]],o!==n&&null!==o||!i.isOptional);r++){if(a=i.type.$normalize(o),!i.type.is(a))return!1;if(s=i.type.encode(a),t.isString(s)&&!i.type.pattern.exec(s))return!1}return!0},$$parent:n},this.ParamSet=c}function w(e,r){function i(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function o(e,t){return e.replace(/\$(\$|\d{1,2})/,function(e,n){return t["$"===n?0:Number(n)]})}function a(e,t,n){if(!n)return!1;var r=e.invoke(t,t,{$match:n});return M(r)?r:!0}function s(r,i,o,a){function s(e,t,n){return"/"===m?e:t?m.slice(0,-1)+e:n?m.slice(1)+e:e}function p(e){function t(e){var t=e(o,r);return t?(F(t)&&r.replace().url(t),!0):!1}if(!e||!e.defaultPrevented){h&&r.url()===h;h=n;var i,a=l.length;for(i=0;a>i;i++)if(t(l[i]))return;c&&t(c)}}function f(){return u=u||i.$on("$locationChangeSuccess",p)}var h,m=a.baseHref(),g=r.url();return d||f(),{sync:function(){p()},listen:function(){return f()},update:function(e){return e?void(g=r.url()):void(r.url()!==g&&(r.url(g),r.replace()))},push:function(e,t,i){var o=e.format(t||{});null!==o&&t&&t["#"]&&(o+="#"+t["#"]),r.url(o),h=i&&i.$$avoidResync?r.url():n,i&&i.replace&&r.replace()},href:function(n,i,o){if(!n.validates(i))return null;var a=e.html5Mode();t.isObject(a)&&(a=a.enabled);var u=n.format(i);if(o=o||{},a||null===u||(u="#"+e.hashPrefix()+u),null!==u&&i&&i["#"]&&(u+="#"+i["#"]),u=s(u,a,o.absolute),!o.absolute||!u)return u;var l=!a&&u?"/":"",c=r.port();return c=80===c||443===c?"":":"+c,[r.protocol(),"://",r.host(),c,l,u].join("")}}}var u,l=[],c=null,d=!1;this.rule=function(e){if(!N(e))throw new Error("'rule' must be a function");return l.push(e),this},this.otherwise=function(e){if(F(e)){var t=e;e=function(){return t}}else if(!N(e))throw new Error("'rule' must be a function");return c=e,this},this.when=function(e,t){var n,s=F(t);if(F(e)&&(e=r.compile(e)),!s&&!N(t)&&!G(t))throw new Error("invalid 'handler' in when()");var u={matcher:function(e,t){return s&&(n=r.compile(t),t=["$match",function(e){return n.format(e)}]),B(function(n,r){return a(n,t,e.exec(r.path(),r.search()))},{prefix:F(e.prefix)?e.prefix:""})},regex:function(e,t){if(e.global||e.sticky)throw new Error("when() RegExp must not be global or sticky");return s&&(n=t,t=["$match",function(e){return o(n,e)}]),B(function(n,r){return a(n,t,e.exec(r.path()))},{prefix:i(e)})}},l={matcher:r.isMatcher(e),regex:e instanceof RegExp};for(var c in l)if(l[c])return this.rule(u[c](e,t));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(e){e===n&&(e=!0),d=e},this.$get=s,s.$inject=["$location","$rootScope","$injector","$browser"]}function _(e,i){function o(e){return 0===e.indexOf(".")||0===e.indexOf("^")}function p(e,t){if(!e)return n;var r=F(e),i=r?e:e.name,a=o(i);if(a){if(!t)throw new Error("No reference point given for path '"+i+"'");t=p(t);for(var s=i.split("."),u=0,l=s.length,c=t;l>u;u++)if(""!==s[u]||0!==u){if("^"!==s[u])break;if(!c.parent)throw new Error("Path '"+i+"' not valid for state '"+t.name+"'");c=c.parent}else c=t;s=s.slice(u).join("."),i=c.name+(c.name&&s?".":"")+s}var d=k[i];return!d||!r&&(r||d!==e&&d.self!==e)?n:d}function f(e,t){A[e]||(A[e]=[]),A[e].push(t)}function m(e){for(var t=A[e]||[];t.length;)g(t.shift())}function g(t){t=r(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}});var n=t.name;if(!F(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(k.hasOwnProperty(n))throw new Error("State '"+n+"'' is already defined");var i=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):F(t.parent)?t.parent:O(t.parent)&&F(t.parent.name)?t.parent.name:"";if(i&&!k[i])return f(i,t.self);for(var o in S)N(S[o])&&(t[o]=S[o](t,S.$delegates[o]));return k[n]=t,!t[$]&&t.url&&e.when(t.url,["$match","$stateParams",function(e,n){D.$current.navigable==t&&l(e,n)||D.transitionTo(t,e,{inherit:!0,location:!1})}]),m(n),t}function v(e){return e.indexOf("*")>-1}function b(e){for(var t=e.split("."),n=D.$current.name.split("."),r=0,i=t.length;i>r;r++)"*"===t[r]&&(n[r]="*");return"**"===t[0]&&(n=n.slice(s(n,t[1])),n.unshift("**")),"**"===t[t.length-1]&&(n.splice(s(n,t[t.length-2])+1,Number.MAX_VALUE),n.push("**")),t.length!=n.length?!1:n.join("")===t.join("")}function y(e,t){return F(e)&&!M(t)?S[e]:N(t)&&F(e)?(S[e]&&!S.$delegates[e]&&(S.$delegates[e]=S[e]),S[e]=t,this):this}function w(e,t){return O(e)?t=e:t.name=e,g(t),this}function _(e,i,o,s,d,f,m,g,y){function w(t,n,r,o){var a=e.$broadcast("$stateNotFound",t,n,r);if(a.defaultPrevented)return m.update(),E;if(!a.retry)return null;if(o.$retry)return m.update(),T;var s=D.transition=i.when(a.retry);return s.then(function(){return s!==D.transition?A:(t.options.$retry=!0,D.transitionTo(t.to,t.toParams,t.options))},function(){return E}),m.update(),s}function _(e,n,r,a,u,l){function p(){var n=[];return I(e.views,function(r,i){var a=r.resolve&&r.resolve!==e.resolve?r.resolve:{};a.$template=[function(){return o.load(i,{view:r,locals:u.globals,params:f,notify:l.notify})||""}],n.push(d.resolve(a,u.globals,u.resolve,e).then(function(n){if(N(r.controllerProvider)||G(r.controllerProvider)){var o=t.extend({},a,u.globals);n.$$controller=s.invoke(r.controllerProvider,null,o)}else n.$$controller=r.controller;n.$$state=e,n.$$controllerAs=r.controllerAs,u[i]=n}))}),i.all(n).then(function(){return u.globals})}var f=r?n:c(e.params.$$keys(),n),h={$stateParams:f};u.resolve=d.resolve(e.resolve,h,u.resolve,e);var m=[u.resolve.then(function(e){u.globals=e})];return a&&m.push(a),i.all(m).then(p).then(function(e){return u})}var A=i.reject(new Error("transition superseded")),S=i.reject(new Error("transition prevented")),E=i.reject(new Error("transition aborted")),T=i.reject(new Error("transition failed"));return C.locals={resolve:null,globals:{$stateParams:{}}},D={params:{},current:C.self,$current:C,transition:null},D.reload=function(e){return D.transitionTo(D.current,f,{reload:e||!0,inherit:!1,notify:!0})},D.go=function(e,t,n){return D.transitionTo(e,t,B({inherit:!0,relative:D.$current},n))},D.transitionTo=function(t,n,o){n=n||{},o=B({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},o||{});var a,l=D.$current,d=D.params,h=l.path,g=p(t,o.relative),v=n["#"];if(!M(g)){var b={to:t,toParams:n,options:o},y=w(b,l.self,d,o);if(y)return y;if(t=b.to,n=b.toParams,o=b.options,g=p(t,o.relative),!M(g)){if(!o.relative)throw new Error("No such state '"+t+"'");throw new Error("Could not resolve '"+t+"' from state '"+o.relative+"'")}}if(g[$])throw new Error("Cannot transition to abstract state '"+t+"'");if(o.inherit&&(n=u(f,n||{},D.$current,g)),!g.params.$$validates(n))return T;n=g.params.$$values(n),t=g;var k=t.path,E=0,P=k[E],R=C.locals,N=[];if(o.reload){if(F(o.reload)||O(o.reload)){if(O(o.reload)&&!o.reload.name)throw new Error("Invalid reload state object");var G=o.reload===!0?h[0]:p(o.reload);if(o.reload&&!G)throw new Error("No such reload state '"+(F(o.reload)?o.reload:o.reload.name)+"'");for(;P&&P===h[E]&&P!==G;)R=N[E]=P.locals,E++,P=k[E]}}else for(;P&&P===h[E]&&P.ownParams.$$equals(n,d);)R=N[E]=P.locals,E++,P=k[E];if(x(t,n,l,d,R,o))return v&&(n["#"]=v),D.params=n,W(D.params,f),o.location&&t.navigable&&t.navigable.url&&(m.push(t.navigable.url,n,{$$avoidResync:!0,replace:"replace"===o.location}),m.update(!0)),D.transition=null,i.when(D.current);if(n=c(t.params.$$keys(),n||{}),o.notify&&e.$broadcast("$stateChangeStart",t.self,n,l.self,d).defaultPrevented)return e.$broadcast("$stateChangeCancel",t.self,n,l.self,d),m.update(),S;for(var I=i.when(R),L=E;L<k.length;L++,P=k[L])R=N[L]=r(R),I=_(P,n,P===t,I,R,o);var j=D.transition=I.then(function(){var r,i,a;if(D.transition!==j)return A;for(r=h.length-1;r>=E;r--)a=h[r],a.self.onExit&&s.invoke(a.self.onExit,a.self,a.locals.globals),a.locals=null;for(r=E;r<k.length;r++)i=k[r],i.locals=N[r],i.self.onEnter&&s.invoke(i.self.onEnter,i.self,i.locals.globals);return v&&(n["#"]=v),D.transition!==j?A:(D.$current=t,D.current=t.self,D.params=n,W(D.params,f),D.transition=null,o.location&&t.navigable&&m.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===o.location}),o.notify&&e.$broadcast("$stateChangeSuccess",t.self,n,l.self,d),m.update(!0),D.current)},function(r){return D.transition!==j?A:(D.transition=null,a=e.$broadcast("$stateChangeError",t.self,n,l.self,d,r),a.defaultPrevented||m.update(),i.reject(r))});return j},D.is=function(e,t,r){r=B({relative:D.$current},r||{});var i=p(e,r.relative);return M(i)?D.$current!==i?!1:t?l(i.params.$$values(t),f):!0:n},D.includes=function(e,t,r){if(r=B({relative:D.$current},r||{}),F(e)&&v(e)){if(!b(e))return!1;e=D.$current.name}var i=p(e,r.relative);return M(i)?M(D.$current.includes[i.name])?t?l(i.params.$$values(t),f,a(t)):!0:!1:n},D.href=function(e,t,r){r=B({lossy:!0,inherit:!0,absolute:!1,relative:D.$current},r||{});var i=p(e,r.relative);if(!M(i))return null;r.inherit&&(t=u(f,t||{},D.$current,i));var o=i&&r.lossy?i.navigable:i;return o&&o.url!==n&&null!==o.url?m.href(o.url,c(i.params.$$keys().concat("#"),t||{}),{absolute:r.absolute}):null},D.get=function(e,t){if(0===arguments.length)return h(a(k),function(e){return k[e].self});var n=p(e,t||D.$current);return n&&n.self?n.self:null},D}function x(e,t,n,r,i,o){function a(e,t,n){function r(t){return"search"!=e.params[t].location}var i=e.params.$$keys().filter(r),o=d.apply({},[e.params].concat(i)),a=new L.ParamSet(o);return a.$$equals(t,n)}return!o.reload&&e===n&&(i===n.locals||e.self.reloadOnSearch===!1&&a(n,r,t))?!0:void 0}var C,D,k={},A={},$="abstract",S={parent:function(e){if(M(e.parent)&&e.parent)return p(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?p(t[1]):C},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=B({},e.parent.data,e.data)),e.data},url:function(e){var t=e.url,n={params:e.params||{}};if(F(t))return"^"==t.charAt(0)?i.compile(t.substring(1),n):(e.parent.navigable||C).url.concat(t,n);if(!t||i.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(e){var t=e.url&&e.url.params||new L.ParamSet;return I(e.params||{},function(e,n){t[n]||(t[n]=new L.Param(n,null,e,"config"))}),t},params:function(e){return e.parent&&e.parent.params?B(e.parent.params.$$new(),e.ownParams):new L.ParamSet},views:function(e){var t={};return I(M(e.views)?e.views:{"":e},function(n,r){r.indexOf("@")<0&&(r+="@"+e.parent.name),t[r]=n}),t},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?B({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};C=g({name:"",url:"^",views:null,"abstract":!0}),C.navigable=null,this.decorator=y,this.state=w,this.$get=_,_.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function x(){function e(e,t){return{load:function(n,r){var i,o={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return r=B(o,r),r.view&&(i=t.fromConfig(r.view,r.params,r.locals)),i&&r.notify&&e.$broadcast("$viewContentLoading",r),i}}}this.$get=e,e.$inject=["$rootScope","$templateFactory"]}function C(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,n){return e?t:function(e){return n(function(){e[0].scrollIntoView()},0,!1)}}]}function D(e,n,r,i){function o(){return n.has?function(e){return n.has(e)?n.get(e):null}:function(e){try{return n.get(e)}catch(t){return null}}}function a(e,t){var n=function(){return{enter:function(e,t,n){t.after(e),n()},leave:function(e,t){e.remove(),t()}}};if(l)return{enter:function(e,t,n){var r=l.enter(e,null,t,n);r&&r.then&&r.then(n)},leave:function(e,t){var n=l.leave(e,t);n&&n.then&&n.then(t)}};if(u){var r=u&&u(t,e);return{enter:function(e,t,n){r.enter(e,null,t),n()},leave:function(e,t){r.leave(e),t()}}}return n()}var s=o(),u=s("$animator"),l=s("$animate"),c={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,o,s){return function(n,o,u){function l(){d&&(d.remove(),d=null),f&&(f.$destroy(),f=null),p&&(v.leave(p,function(){d=null}),d=p,p=null)}function c(a){var c,d=A(n,u,o,i),b=d&&e.$current&&e.$current.locals[d];if(a||b!==h){c=n.$new(),h=e.$current.locals[d];var y=s(c,function(e){v.enter(e,o,function(){f&&f.$emit("$viewContentAnimationEnded"),(t.isDefined(g)&&!g||n.$eval(g))&&r(e)}),l()});p=y,f=c,f.$emit("$viewContentLoaded"),f.$eval(m)}}var d,p,f,h,m=u.onload||"",g=u.autoscroll,v=a(u,n);n.$on("$stateChangeSuccess",function(){c(!1)}),n.$on("$viewContentLoading",function(){c(!1)}),c(!0)}}};return c}function k(e,t,n,r){return{restrict:"ECA",priority:-400,compile:function(i){var o=i.html();return function(i,a,s){var u=n.$current,l=A(i,s,a,r),c=u&&u.locals[l];if(c){a.data("$uiView",{name:l,state:c.$$state}),a.html(c.$template?c.$template:o);var d=e(a.contents());if(c.$$controller){c.$scope=i,c.$element=a;var p=t(c.$$controller,c);c.$$controllerAs&&(i[c.$$controllerAs]=p),a.data("$ngControllerController",p),a.children().data("$ngControllerController",p)}d(i)}}}}}function A(e,t,n,r){var i=r(t.uiView||t.name||"")(e),o=n.inheritedData("$uiView");return i.indexOf("@")>=0?i:i+"@"+(o?o.state.name:"")}function $(e,t){var n,r=e.match(/^\s*({[^}]*})\s*$/);if(r&&(e=t+"("+r[1]+")"),n=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!n||4!==n.length)throw new Error("Invalid state ref '"+e+"'");return{state:n[1],paramExpr:n[3]||null}}function S(e){var t=e.parent().inheritedData("$uiView");return t&&t.state&&t.state.name?t.state:void 0}function E(e,n){var r=["location","inherit","reload","absolute"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(i,o,a,s){var u=$(a.uiSref,e.current.name),l=null,c=S(o)||e.$current,d="[object SVGAnimatedString]"===Object.prototype.toString.call(o.prop("href"))?"xlink:href":"href",p=null,f="A"===o.prop("tagName").toUpperCase(),h="FORM"===o[0].nodeName,m=h?"action":d,g=!0,v={relative:c,inherit:!0},b=i.$eval(a.uiSrefOpts)||{};t.forEach(r,function(e){e in b&&(v[e]=b[e])});var y=function(n){if(n&&(l=t.copy(n)),g){p=e.href(u.state,l,v);var r=s[1]||s[0];return r&&r.$$addStateInfo(u.state,l),null===p?(g=!1,!1):void a.$set(m,p)}};u.paramExpr&&(i.$watch(u.paramExpr,function(e,t){e!==l&&y(e)},!0),l=t.copy(i.$eval(u.paramExpr))),y(),h||o.bind("click",function(t){var r=t.which||t.button;if(!(r>1||t.ctrlKey||t.metaKey||t.shiftKey||o.attr("target"))){var i=n(function(){e.go(u.state,l,v)});t.preventDefault();var a=f&&!p?1:0;t.preventDefault=function(){a--<=0&&n.cancel(i)}}})}}}function T(e,t,n){return{restrict:"A",controller:["$scope","$element","$attrs",function(t,r,i){function o(){a()?r.addClass(u):r.removeClass(u)}function a(){for(var e=0;e<l.length;e++)if(s(l[e].state,l[e].params))return!0;return!1}function s(t,n){return"undefined"!=typeof i.uiSrefActiveEq?e.is(t.name,n):e.includes(t.name,n)}var u,l=[];u=n(i.uiSrefActiveEq||i.uiSrefActive||"",!1)(t),this.$$addStateInfo=function(t,n){var i=e.get(t,S(r));l.push({state:i||{name:t},params:n}),o()},t.$on("$stateChangeSuccess",o)}]}}function P(e){var t=function(t){return e.is(t)};return t.$stateful=!0,t}function R(e){var t=function(t){return e.includes(t)};return t.$stateful=!0,t}var M=t.isDefined,N=t.isFunction,F=t.isString,O=t.isObject,G=t.isArray,I=t.forEach,B=t.extend,W=t.copy;t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),m.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",m),g.$inject=["$http","$templateCache","$injector"],t.module("ui.router.util").service("$templateFactory",g);var L;v.prototype.concat=function(e,t){var n={caseInsensitive:L.caseInsensitive(),
strict:L.strictMode(),squash:L.defaultSquashPolicy()};return new v(this.sourcePath+e+this.sourceSearch,B(n,t),this)},v.prototype.toString=function(){return this.source},v.prototype.exec=function(e,t){function n(e){function t(e){return e.split("").reverse().join("")}function n(e){return e.replace(/\\-/g,"-")}var r=t(e).split(/-(?!\\)/),i=h(r,t);return h(i,n).reverse()}var r=this.regexp.exec(e);if(!r)return null;t=t||{};var i,o,a,s=this.parameters(),u=s.length,l=this.segments.length-1,c={};if(l!==r.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(i=0;l>i;i++){a=s[i];var d=this.params[a],p=r[i+1];for(o=0;o<d.replace;o++)d.replace[o].from===p&&(p=d.replace[o].to);p&&d.array===!0&&(p=n(p)),c[a]=d.value(p)}for(;u>i;i++)a=s[i],c[a]=this.params[a].value(t[a]);return c},v.prototype.parameters=function(e){return M(e)?this.params[e]||null:this.$$paramNames},v.prototype.validates=function(e){return this.params.$$validates(e)},v.prototype.format=function(e){function t(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})}e=e||{};var n=this.segments,r=this.parameters(),i=this.params;if(!this.validates(e))return null;var o,a=!1,s=n.length-1,u=r.length,l=n[0];for(o=0;u>o;o++){var c=s>o,d=r[o],p=i[d],f=p.value(e[d]),m=p.isOptional&&p.type.equals(p.value(),f),g=m?p.squash:!1,v=p.type.encode(f);if(c){var b=n[o+1];if(g===!1)null!=v&&(l+=G(v)?h(v,t).join("-"):encodeURIComponent(v)),l+=b;else if(g===!0){var y=l.match(/\/$/)?/\/?(.*)/:/(.*)/;l+=b.match(y)[1]}else F(g)&&(l+=g+b)}else{if(null==v||m&&g!==!1)continue;G(v)||(v=[v]),v=h(v,encodeURIComponent).join("&"+d+"="),l+=(a?"&":"?")+(d+"="+v),a=!0}}return l},b.prototype.is=function(e,t){return!0},b.prototype.encode=function(e,t){return e},b.prototype.decode=function(e,t){return e},b.prototype.equals=function(e,t){return e==t},b.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},b.prototype.pattern=/.*/,b.prototype.toString=function(){return"{Type:"+this.name+"}"},b.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},b.prototype.$asArray=function(e,t){function r(e,t){function r(e,t){return function(){return e[t].apply(e,arguments)}}function i(e){return G(e)?e:M(e)?[e]:[]}function o(e){switch(e.length){case 0:return n;case 1:return"auto"===t?e[0]:e;default:return e}}function a(e){return!e}function s(e,t){return function(n){n=i(n);var r=h(n,e);return t===!0?0===f(r,a).length:o(r)}}function u(e){return function(t,n){var r=i(t),o=i(n);if(r.length!==o.length)return!1;for(var a=0;a<r.length;a++)if(!e(r[a],o[a]))return!1;return!0}}this.encode=s(r(e,"encode")),this.decode=s(r(e,"decode")),this.is=s(r(e,"is"),!0),this.equals=u(r(e,"equals")),this.pattern=e.pattern,this.$normalize=s(r(e,"$normalize")),this.name=e.name,this.$arrayMode=t}if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new r(this,e)},t.module("ui.router.util").provider("$urlMatcherFactory",y),t.module("ui.router.util").run(["$urlMatcherFactory",function(e){}]),w.$inject=["$locationProvider","$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",w),_.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],t.module("ui.router.state").value("$stateParams",{}).provider("$state",_),x.$inject=[],t.module("ui.router.state").provider("$view",x),t.module("ui.router.state").provider("$uiViewScroll",C),D.$inject=["$state","$injector","$uiViewScroll","$interpolate"],k.$inject=["$compile","$controller","$state","$interpolate"],t.module("ui.router.state").directive("uiView",D),t.module("ui.router.state").directive("uiView",k),E.$inject=["$state","$timeout"],T.$inject=["$state","$stateParams","$interpolate"],t.module("ui.router.state").directive("uiSref",E).directive("uiSrefActive",T).directive("uiSrefActiveEq",T),P.$inject=["$state"],R.$inject=["$state"],t.module("ui.router.state").filter("isState",P).filter("includedByState",R)}(window,window.angular),angular.module("RecursionHelper",[]).factory("RecursionHelper",["$compile",function(e){return{compile:function(t,n){angular.isFunction(n)&&(n={post:n});var r,i=t.contents().remove();return{pre:n&&n.pre?n.pre:null,post:function(t,o){r||(r=e(i)),r(t,function(e){o.append(e)}),n&&n.post&&n.post.apply(null,arguments)}}}}}]),function(){function e(e,t,n){for(var r=(n||0)-1,i=e?e.length:0;++r<i;)if(e[r]===t)return r;return-1}function t(t,n){var r=typeof n;if(t=t.cache,"boolean"==r||null==n)return t[n]?0:-1;"number"!=r&&"string"!=r&&(r="object");var i="number"==r?n:v+n;return t=(t=t[r])&&t[i],"object"==r?t&&e(t,n)>-1?0:-1:t?0:-1}function n(e){var t=this.cache,n=typeof e;if("boolean"==n||null==e)t[e]=!0;else{"number"!=n&&"string"!=n&&(n="object");var r="number"==n?e:v+e,i=t[n]||(t[n]={});"object"==n?(i[r]||(i[r]=[])).push(e):i[r]=!0}}function r(e){return e.charCodeAt(0)}function i(e,t){for(var n=e.criteria,r=t.criteria,i=-1,o=n.length;++i<o;){var a=n[i],s=r[i];if(a!==s){if(a>s||"undefined"==typeof a)return 1;if(s>a||"undefined"==typeof s)return-1}}return e.index-t.index}function o(e){var t=-1,r=e.length,i=e[0],o=e[r/2|0],a=e[r-1];if(i&&"object"==typeof i&&o&&"object"==typeof o&&a&&"object"==typeof a)return!1;var s=u();s["false"]=s["null"]=s["true"]=s.undefined=!1;var l=u();for(l.array=e,l.cache=s,l.push=n;++t<r;)l.push(e[t]);return l}function a(e){return"\\"+z[e]}function s(){return h.pop()||[]}function u(){return m.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function l(e){e.length=0,h.length<y&&h.push(e)}function c(e){var t=e.cache;t&&c(t),e.array=e.cache=e.criteria=e.object=e.number=e.string=e.value=null,m.length<y&&m.push(e)}function d(e,t,n){t||(t=0),"undefined"==typeof n&&(n=e?e.length:0);for(var r=-1,i=n-t||0,o=Array(0>i?0:i);++r<i;)o[r]=e[t+r];return o}function p(n){function h(e){return e&&"object"==typeof e&&!Jn(e)&&Nn.call(e,"__wrapped__")?e:new m(e)}function m(e,t){this.__chain__=!!t,this.__wrapped__=e}function y(e){function t(){if(r){var e=d(r);Fn.apply(e,arguments)}if(this instanceof t){var o=X(n.prototype),a=n.apply(o,e||arguments);return Te(a)?a:o}return n.apply(i,e||arguments)}var n=e[0],r=e[2],i=e[4];return Zn(t,e),t}function z(e,t,n,r,i){if(n){var o=n(e);if("undefined"!=typeof o)return o}var a=Te(e);if(!a)return e;var u=$n.call(e);if(!V[u])return e;var c=Xn[u];switch(u){case O:case G:return new c(+e);case B:case j:return new c(e);case L:return o=c(e.source,k.exec(e)),o.lastIndex=e.lastIndex,o}var p=Jn(e);if(t){var f=!r;r||(r=s()),i||(i=s());for(var h=r.length;h--;)if(r[h]==e)return i[h];o=p?c(e.length):{}}else o=p?d(e):or({},e);return p&&(Nn.call(e,"index")&&(o.index=e.index),Nn.call(e,"input")&&(o.input=e.input)),t?(r.push(e),i.push(o),(p?Ke:ur)(e,function(e,a){o[a]=z(e,t,n,r,i)}),f&&(l(r),l(i)),o):o}function X(e,t){return Te(e)?Wn(e):{}}function K(e,t,n){if("function"!=typeof e)return Zt;if("undefined"==typeof t||!("prototype"in e))return e;var r=e.__bindData__;if("undefined"==typeof r&&(Kn.funcNames&&(r=!e.name),r=r||!Kn.funcDecomp,!r)){var i=Rn.call(e);Kn.funcNames||(r=!A.test(i)),r||(r=T.test(i),Zn(e,r))}if(r===!1||r!==!0&&1&r[1])return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return Nt(e,t)}function Z(e){function t(){var e=u?a:this;if(i){var h=d(i);Fn.apply(h,arguments)}if((o||c)&&(h||(h=d(arguments)),o&&Fn.apply(h,o),c&&h.length<s))return r|=16,Z([n,p?r:-4&r,h,null,a,s]);if(h||(h=arguments),l&&(n=e[f]),this instanceof t){e=X(n.prototype);var m=n.apply(e,h);return Te(m)?m:e}return n.apply(e,h)}var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=1&r,l=2&r,c=4&r,p=8&r,f=n;return Zn(t,e),t}function J(n,r){var i=-1,a=ue(),s=n?n.length:0,u=s>=b&&a===e,l=[];if(u){var d=o(r);d?(a=t,r=d):u=!1}for(;++i<s;){var p=n[i];a(r,p)<0&&l.push(p)}return u&&c(r),l}function ee(e,t,n,r){for(var i=(r||0)-1,o=e?e.length:0,a=[];++i<o;){var s=e[i];if(s&&"object"==typeof s&&"number"==typeof s.length&&(Jn(s)||pe(s))){t||(s=ee(s,t,n));var u=-1,l=s.length,c=a.length;for(a.length+=l;++u<l;)a[c++]=s[u]}else n||a.push(s)}return a}function te(e,t,n,r,i,o){if(n){var a=n(e,t);if("undefined"!=typeof a)return!!a}if(e===t)return 0!==e||1/e==1/t;var u=typeof e,c=typeof t;if(!(e!==e||e&&U[u]||t&&U[c]))return!1;if(null==e||null==t)return e===t;var d=$n.call(e),p=$n.call(t);if(d==N&&(d=W),p==N&&(p=W),d!=p)return!1;switch(d){case O:case G:return+e==+t;case B:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case L:case j:return e==xn(t)}var f=d==F;if(!f){var h=Nn.call(e,"__wrapped__"),m=Nn.call(t,"__wrapped__");if(h||m)return te(h?e.__wrapped__:e,m?t.__wrapped__:t,n,r,i,o);if(d!=W)return!1;var g=e.constructor,v=t.constructor;if(g!=v&&!(Ee(g)&&g instanceof g&&Ee(v)&&v instanceof v)&&"constructor"in e&&"constructor"in t)return!1}var b=!i;i||(i=s()),o||(o=s());for(var y=i.length;y--;)if(i[y]==e)return o[y]==t;var w=0;if(a=!0,i.push(e),o.push(t),f){if(y=e.length,w=t.length,a=w==y,a||r)for(;w--;){var _=y,x=t[w];if(r)for(;_--&&!(a=te(e[_],x,n,r,i,o)););else if(!(a=te(e[w],x,n,r,i,o)))break}}else sr(t,function(t,s,u){return Nn.call(u,s)?(w++,a=Nn.call(e,s)&&te(e[s],t,n,r,i,o)):void 0}),a&&!r&&sr(e,function(e,t,n){return Nn.call(n,t)?a=--w>-1:void 0});return i.pop(),o.pop(),b&&(l(i),l(o)),a}function ne(e,t,n,r,i){(Jn(t)?Ke:ur)(t,function(t,o){var a,s,u=t,l=e[o];if(t&&((s=Jn(t))||lr(t))){for(var c=r.length;c--;)if(a=r[c]==t){l=i[c];break}if(!a){var d;n&&(u=n(l,t),(d="undefined"!=typeof u)&&(l=u)),d||(l=s?Jn(l)?l:[]:lr(l)?l:{}),r.push(t),i.push(l),d||ne(l,t,n,r,i)}}else n&&(u=n(l,t),"undefined"==typeof u&&(u=t)),"undefined"!=typeof u&&(l=u);e[o]=l})}function re(e,t){return e+Pn(Yn()*(t-e+1))}function ie(n,r,i){var a=-1,u=ue(),d=n?n.length:0,p=[],f=!r&&d>=b&&u===e,h=i||f?s():p;if(f){var m=o(h);u=t,h=m}for(;++a<d;){var g=n[a],v=i?i(g,a,n):g;(r?!a||h[h.length-1]!==v:u(h,v)<0)&&((i||f)&&h.push(v),p.push(g))}return f?(l(h.array),c(h)):i&&l(h),p}function oe(e){return function(t,n,r){var i={};n=h.createCallback(n,r,3);var o=-1,a=t?t.length:0;if("number"==typeof a)for(;++o<a;){var s=t[o];e(i,s,n(s,o,t),t)}else ur(t,function(t,r,o){e(i,t,n(t,r,o),o)});return i}}function ae(e,t,n,r,i,o){var a=1&t,s=2&t,u=4&t,l=16&t,c=32&t;if(!s&&!Ee(e))throw new Cn;l&&!n.length&&(t&=-17,l=n=!1),c&&!r.length&&(t&=-33,c=r=!1);var p=e&&e.__bindData__;if(p&&p!==!0)return p=d(p),p[2]&&(p[2]=d(p[2])),p[3]&&(p[3]=d(p[3])),!a||1&p[1]||(p[4]=i),!a&&1&p[1]&&(t|=8),!u||4&p[1]||(p[5]=o),l&&Fn.apply(p[2]||(p[2]=[]),n),c&&In.apply(p[3]||(p[3]=[]),r),p[1]|=t,ae.apply(null,p);var f=1==t||17===t?y:Z;return f([e,t,n,r,i,o])}function se(e){return tr[e]}function ue(){var t=(t=h.indexOf)===vt?e:t;return t}function le(e){return"function"==typeof e&&Sn.test(e)}function ce(e){var t,n;return e&&$n.call(e)==W&&(t=e.constructor,!Ee(t)||t instanceof t)?(sr(e,function(e,t){n=t}),"undefined"==typeof n||Nn.call(e,n)):!1}function de(e){return nr[e]}function pe(e){return e&&"object"==typeof e&&"number"==typeof e.length&&$n.call(e)==N||!1}function fe(e,t,n,r){return"boolean"!=typeof t&&null!=t&&(r=n,n=t,t=!1),z(e,t,"function"==typeof n&&K(n,r,1))}function he(e,t,n){return z(e,!0,"function"==typeof t&&K(t,n,1))}function me(e,t){var n=X(e);return t?or(n,t):n}function ge(e,t,n){var r;return t=h.createCallback(t,n,3),ur(e,function(e,n,i){return t(e,n,i)?(r=n,!1):void 0}),r}function ve(e,t,n){var r;return t=h.createCallback(t,n,3),ye(e,function(e,n,i){return t(e,n,i)?(r=n,!1):void 0}),r}function be(e,t,n){var r=[];sr(e,function(e,t){r.push(t,e)});var i=r.length;for(t=K(t,n,3);i--&&t(r[i--],r[i],e)!==!1;);return e}function ye(e,t,n){var r=er(e),i=r.length;for(t=K(t,n,3);i--;){var o=r[i];if(t(e[o],o,e)===!1)break}return e}function we(e){var t=[];return sr(e,function(e,n){Ee(e)&&t.push(n)}),t.sort()}function _e(e,t){return e?Nn.call(e,t):!1}function xe(e){for(var t=-1,n=er(e),r=n.length,i={};++t<r;){var o=n[t];i[e[o]]=o}return i}function Ce(e){return e===!0||e===!1||e&&"object"==typeof e&&$n.call(e)==O||!1}function De(e){return e&&"object"==typeof e&&$n.call(e)==G||!1}function ke(e){return e&&1===e.nodeType||!1}function Ae(e){var t=!0;if(!e)return t;var n=$n.call(e),r=e.length;return n==F||n==j||n==N||n==W&&"number"==typeof r&&Ee(e.splice)?!r:(ur(e,function(){return t=!1}),t)}function $e(e,t,n,r){return te(e,t,"function"==typeof n&&K(n,r,2))}function Se(e){return jn(e)&&!Vn(parseFloat(e))}function Ee(e){return"function"==typeof e}function Te(e){return!(!e||!U[typeof e])}function Pe(e){return Me(e)&&e!=+e}function Re(e){return null===e}function Me(e){return"number"==typeof e||e&&"object"==typeof e&&$n.call(e)==B||!1}function Ne(e){return e&&"object"==typeof e&&$n.call(e)==L||!1}function Fe(e){return"string"==typeof e||e&&"object"==typeof e&&$n.call(e)==j||!1}function Oe(e){return"undefined"==typeof e}function Ge(e,t,n){var r={};return t=h.createCallback(t,n,3),ur(e,function(e,n,i){r[n]=t(e,n,i)}),r}function Ie(e){var t=arguments,n=2;if(!Te(e))return e;if("number"!=typeof t[2]&&(n=t.length),n>3&&"function"==typeof t[n-2])var r=K(t[--n-1],t[n--],2);else n>2&&"function"==typeof t[n-1]&&(r=t[--n]);for(var i=d(arguments,1,n),o=-1,a=s(),u=s();++o<n;)ne(e,i[o],r,a,u);return l(a),l(u),e}function Be(e,t,n){var r={};if("function"!=typeof t){var i=[];sr(e,function(e,t){i.push(t)}),i=J(i,ee(arguments,!0,!1,1));for(var o=-1,a=i.length;++o<a;){var s=i[o];r[s]=e[s]}}else t=h.createCallback(t,n,3),sr(e,function(e,n,i){t(e,n,i)||(r[n]=e)});return r}function We(e){for(var t=-1,n=er(e),r=n.length,i=hn(r);++t<r;){var o=n[t];i[t]=[o,e[o]]}return i}function Le(e,t,n){var r={};if("function"!=typeof t)for(var i=-1,o=ee(arguments,!0,!1,1),a=Te(e)?o.length:0;++i<a;){var s=o[i];s in e&&(r[s]=e[s])}else t=h.createCallback(t,n,3),sr(e,function(e,n,i){t(e,n,i)&&(r[n]=e)});return r}function je(e,t,n,r){var i=Jn(e);if(null==n)if(i)n=[];else{var o=e&&e.constructor,a=o&&o.prototype;n=X(a)}return t&&(t=h.createCallback(t,r,4),(i?Ke:ur)(e,function(e,r,i){return t(n,e,r,i)})),n}function Ve(e){for(var t=-1,n=er(e),r=n.length,i=hn(r);++t<r;)i[t]=e[n[t]];return i}function He(e){for(var t=arguments,n=-1,r=ee(t,!0,!1,1),i=t[2]&&t[2][t[1]]===e?1:r.length,o=hn(i);++n<i;)o[n]=e[r[n]];return o}function qe(e,t,n){var r=-1,i=ue(),o=e?e.length:0,a=!1;return n=(0>n?qn(0,o+n):n)||0,Jn(e)?a=i(e,t,n)>-1:"number"==typeof o?a=(Fe(e)?e.indexOf(t,n):i(e,t,n))>-1:ur(e,function(e){return++r>=n?!(a=e===t):void 0}),a}function Ue(e,t,n){var r=!0;t=h.createCallback(t,n,3);var i=-1,o=e?e.length:0;if("number"==typeof o)for(;++i<o&&(r=!!t(e[i],i,e)););else ur(e,function(e,n,i){return r=!!t(e,n,i)});return r}function ze(e,t,n){var r=[];t=h.createCallback(t,n,3);var i=-1,o=e?e.length:0;if("number"==typeof o)for(;++i<o;){var a=e[i];t(a,i,e)&&r.push(a)}else ur(e,function(e,n,i){t(e,n,i)&&r.push(e)});return r}function Ye(e,t,n){t=h.createCallback(t,n,3);var r=-1,i=e?e.length:0;if("number"!=typeof i){var o;return ur(e,function(e,n,r){return t(e,n,r)?(o=e,!1):void 0}),o}for(;++r<i;){var a=e[r];if(t(a,r,e))return a}}function Xe(e,t,n){var r;return t=h.createCallback(t,n,3),Ze(e,function(e,n,i){return t(e,n,i)?(r=e,!1):void 0}),r}function Ke(e,t,n){var r=-1,i=e?e.length:0;if(t=t&&"undefined"==typeof n?t:K(t,n,3),"number"==typeof i)for(;++r<i&&t(e[r],r,e)!==!1;);else ur(e,t);return e}function Ze(e,t,n){var r=e?e.length:0;if(t=t&&"undefined"==typeof n?t:K(t,n,3),"number"==typeof r)for(;r--&&t(e[r],r,e)!==!1;);else{var i=er(e);r=i.length,ur(e,function(e,n,o){return n=i?i[--r]:--r,t(o[n],n,o)})}return e}function Je(e,t){var n=d(arguments,2),r=-1,i="function"==typeof t,o=e?e.length:0,a=hn("number"==typeof o?o:0);return Ke(e,function(e){a[++r]=(i?t:e[t]).apply(e,n)}),a}function Qe(e,t,n){var r=-1,i=e?e.length:0;if(t=h.createCallback(t,n,3),"number"==typeof i)for(var o=hn(i);++r<i;)o[r]=t(e[r],r,e);else o=[],ur(e,function(e,n,i){o[++r]=t(e,n,i)});return o}function et(e,t,n){var i=-(1/0),o=i;if("function"!=typeof t&&n&&n[t]===e&&(t=null),null==t&&Jn(e))for(var a=-1,s=e.length;++a<s;){var u=e[a];u>o&&(o=u)}else t=null==t&&Fe(e)?r:h.createCallback(t,n,3),Ke(e,function(e,n,r){var a=t(e,n,r);a>i&&(i=a,o=e)});return o}function tt(e,t,n){var i=1/0,o=i;if("function"!=typeof t&&n&&n[t]===e&&(t=null),null==t&&Jn(e))for(var a=-1,s=e.length;++a<s;){var u=e[a];o>u&&(o=u)}else t=null==t&&Fe(e)?r:h.createCallback(t,n,3),Ke(e,function(e,n,r){var a=t(e,n,r);i>a&&(i=a,o=e)});return o}function nt(e,t,n,r){if(!e)return n;var i=arguments.length<3;t=h.createCallback(t,r,4);var o=-1,a=e.length;if("number"==typeof a)for(i&&(n=e[++o]);++o<a;)n=t(n,e[o],o,e);else ur(e,function(e,r,o){n=i?(i=!1,e):t(n,e,r,o)});return n}function rt(e,t,n,r){var i=arguments.length<3;return t=h.createCallback(t,r,4),Ze(e,function(e,r,o){n=i?(i=!1,e):t(n,e,r,o)}),n}function it(e,t,n){return t=h.createCallback(t,n,3),ze(e,function(e,n,r){return!t(e,n,r)})}function ot(e,t,n){if(e&&"number"!=typeof e.length&&(e=Ve(e)),null==t||n)return e?e[re(0,e.length-1)]:f;var r=at(e);return r.length=Un(qn(0,t),r.length),r}function at(e){var t=-1,n=e?e.length:0,r=hn("number"==typeof n?n:0);return Ke(e,function(e){var n=re(0,++t);r[t]=r[n],r[n]=e}),r}function st(e){var t=e?e.length:0;return"number"==typeof t?t:er(e).length}function ut(e,t,n){var r;t=h.createCallback(t,n,3);var i=-1,o=e?e.length:0;if("number"==typeof o)for(;++i<o&&!(r=t(e[i],i,e)););else ur(e,function(e,n,i){return!(r=t(e,n,i))});return!!r}function lt(e,t,n){var r=-1,o=Jn(t),a=e?e.length:0,d=hn("number"==typeof a?a:0);for(o||(t=h.createCallback(t,n,3)),Ke(e,function(e,n,i){var a=d[++r]=u();o?a.criteria=Qe(t,function(t){return e[t]}):(a.criteria=s())[0]=t(e,n,i),a.index=r,a.value=e}),a=d.length,d.sort(i);a--;){var p=d[a];d[a]=p.value,o||l(p.criteria),c(p)}return d}function ct(e){return e&&"number"==typeof e.length?d(e):Ve(e)}function dt(e){for(var t=-1,n=e?e.length:0,r=[];++t<n;){var i=e[t];i&&r.push(i)}return r}function pt(e){return J(e,ee(arguments,!0,!0,1))}function ft(e,t,n){var r=-1,i=e?e.length:0;for(t=h.createCallback(t,n,3);++r<i;)if(t(e[r],r,e))return r;return-1}function ht(e,t,n){var r=e?e.length:0;for(t=h.createCallback(t,n,3);r--;)if(t(e[r],r,e))return r;return-1}function mt(e,t,n){var r=0,i=e?e.length:0;if("number"!=typeof t&&null!=t){var o=-1;for(t=h.createCallback(t,n,3);++o<i&&t(e[o],o,e);)r++}else if(r=t,null==r||n)return e?e[0]:f;return d(e,0,Un(qn(0,r),i))}function gt(e,t,n,r){return"boolean"!=typeof t&&null!=t&&(r=n,n="function"!=typeof t&&r&&r[t]===e?null:t,t=!1),null!=n&&(e=Qe(e,n,r)),ee(e,t)}function vt(t,n,r){if("number"==typeof r){var i=t?t.length:0;r=0>r?qn(0,i+r):r||0}else if(r){var o=At(t,n);return t[o]===n?o:-1}return e(t,n,r)}function bt(e,t,n){var r=0,i=e?e.length:0;if("number"!=typeof t&&null!=t){var o=i;for(t=h.createCallback(t,n,3);o--&&t(e[o],o,e);)r++}else r=null==t||n?1:t||r;return d(e,0,Un(qn(0,i-r),i))}function yt(){for(var n=[],r=-1,i=arguments.length,a=s(),u=ue(),d=u===e,p=s();++r<i;){var f=arguments[r];(Jn(f)||pe(f))&&(n.push(f),a.push(d&&f.length>=b&&o(r?n[r]:p)))}var h=n[0],m=-1,g=h?h.length:0,v=[];e:for(;++m<g;){var y=a[0];if(f=h[m],(y?t(y,f):u(p,f))<0){for(r=i,(y||p).push(f);--r;)if(y=a[r],(y?t(y,f):u(n[r],f))<0)continue e;v.push(f)}}for(;i--;)y=a[i],y&&c(y);return l(a),l(p),v}function wt(e,t,n){var r=0,i=e?e.length:0;if("number"!=typeof t&&null!=t){var o=i;for(t=h.createCallback(t,n,3);o--&&t(e[o],o,e);)r++}else if(r=t,null==r||n)return e?e[i-1]:f;return d(e,qn(0,i-r))}function _t(e,t,n){var r=e?e.length:0;for("number"==typeof n&&(r=(0>n?qn(0,r+n):Un(n,r-1))+1);r--;)if(e[r]===t)return r;return-1}function xt(e){for(var t=arguments,n=0,r=t.length,i=e?e.length:0;++n<r;)for(var o=-1,a=t[n];++o<i;)e[o]===a&&(Gn.call(e,o--,1),i--);return e}function Ct(e,t,n){e=+e||0,n="number"==typeof n?n:+n||1,null==t&&(t=e,e=0);for(var r=-1,i=qn(0,En((t-e)/(n||1))),o=hn(i);++r<i;)o[r]=e,e+=n;return o}function Dt(e,t,n){var r=-1,i=e?e.length:0,o=[];for(t=h.createCallback(t,n,3);++r<i;){var a=e[r];t(a,r,e)&&(o.push(a),Gn.call(e,r--,1),i--)}return o}function kt(e,t,n){if("number"!=typeof t&&null!=t){var r=0,i=-1,o=e?e.length:0;for(t=h.createCallback(t,n,3);++i<o&&t(e[i],i,e);)r++}else r=null==t||n?1:qn(0,t);return d(e,r)}function At(e,t,n,r){var i=0,o=e?e.length:i;for(n=n?h.createCallback(n,r,1):Zt,t=n(t);o>i;){var a=i+o>>>1;n(e[a])<t?i=a+1:o=a}return i}function $t(){return ie(ee(arguments,!0,!0))}function St(e,t,n,r){return"boolean"!=typeof t&&null!=t&&(r=n,n="function"!=typeof t&&r&&r[t]===e?null:t,t=!1),null!=n&&(n=h.createCallback(n,r,3)),ie(e,t,n)}function Et(e){return J(e,d(arguments,1))}function Tt(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(Jn(n)||pe(n))var r=r?ie(J(r,n).concat(J(n,r))):n}return r||[]}function Pt(){for(var e=arguments.length>1?arguments:arguments[0],t=-1,n=e?et(fr(e,"length")):0,r=hn(0>n?0:n);++t<n;)r[t]=fr(e,t);return r}function Rt(e,t){var n=-1,r=e?e.length:0,i={};for(t||!r||Jn(e[0])||(t=[]);++n<r;){var o=e[n];t?i[o]=t[n]:o&&(i[o[0]]=o[1])}return i}function Mt(e,t){if(!Ee(t))throw new Cn;return function(){return--e<1?t.apply(this,arguments):void 0}}function Nt(e,t){return arguments.length>2?ae(e,17,d(arguments,2),null,t):ae(e,1,null,null,t)}function Ft(e){for(var t=arguments.length>1?ee(arguments,!0,!1,1):we(e),n=-1,r=t.length;++n<r;){var i=t[n];e[i]=ae(e[i],1,null,null,e)}return e}function Ot(e,t){return arguments.length>2?ae(t,19,d(arguments,2),null,e):ae(t,3,null,null,e)}function Gt(){for(var e=arguments,t=e.length;t--;)if(!Ee(e[t]))throw new Cn;return function(){for(var t=arguments,n=e.length;n--;)t=[e[n].apply(this,t)];return t[0]}}function It(e,t){return t="number"==typeof t?t:+t||e.length,ae(e,4,null,null,null,t)}function Bt(e,t,n){var r,i,o,a,s,u,l,c=0,d=!1,p=!0;if(!Ee(e))throw new Cn;if(t=qn(0,t)||0,n===!0){var h=!0;p=!1}else Te(n)&&(h=n.leading,d="maxWait"in n&&(qn(t,n.maxWait)||0),p="trailing"in n?n.trailing:p);var m=function(){var n=t-(mr()-a);if(0>=n){i&&Tn(i);var d=l;i=u=l=f,d&&(c=mr(),o=e.apply(s,r),u||i||(r=s=null))}else u=On(m,n)},g=function(){u&&Tn(u),i=u=l=f,(p||d!==t)&&(c=mr(),o=e.apply(s,r),u||i||(r=s=null))};return function(){if(r=arguments,a=mr(),s=this,l=p&&(u||!h),d===!1)var n=h&&!u;else{i||h||(c=a);var f=d-(a-c),v=0>=f;v?(i&&(i=Tn(i)),c=a,o=e.apply(s,r)):i||(i=On(g,f))}return v&&u?u=Tn(u):u||t===d||(u=On(m,t)),n&&(v=!0,o=e.apply(s,r)),!v||u||i||(r=s=null),o}}function Wt(e){if(!Ee(e))throw new Cn;var t=d(arguments,1);return On(function(){e.apply(f,t)},1)}function Lt(e,t){if(!Ee(e))throw new Cn;var n=d(arguments,2);return On(function(){e.apply(f,n)},t)}function jt(e,t){if(!Ee(e))throw new Cn;var n=function(){var r=n.cache,i=t?t.apply(this,arguments):v+arguments[0];return Nn.call(r,i)?r[i]:r[i]=e.apply(this,arguments)};return n.cache={},n}function Vt(e){var t,n;if(!Ee(e))throw new Cn;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}}function Ht(e){return ae(e,16,d(arguments,1))}function qt(e){return ae(e,32,null,d(arguments,1))}function Ut(e,t,n){var r=!0,i=!0;if(!Ee(e))throw new Cn;return n===!1?r=!1:Te(n)&&(r="leading"in n?n.leading:r,i="trailing"in n?n.trailing:i),H.leading=r,H.maxWait=t,H.trailing=i,Bt(e,t,H)}function zt(e,t){return ae(t,16,[e])}function Yt(e){return function(){return e}}function Xt(e,t,n){var r=typeof e;if(null==e||"function"==r)return K(e,t,n);if("object"!=r)return tn(e);var i=er(e),o=i[0],a=e[o];return 1!=i.length||a!==a||Te(a)?function(t){for(var n=i.length,r=!1;n--&&(r=te(t[i[n]],e[i[n]],null,!0)););return r}:function(e){var t=e[o];return a===t&&(0!==a||1/a==1/t)}}function Kt(e){return null==e?"":xn(e).replace(ir,se)}function Zt(e){return e}function Jt(e,t,n){var r=!0,i=t&&we(t);t&&(n||i.length)||(null==n&&(n=t),o=m,t=e,e=h,i=we(t)),n===!1?r=!1:Te(n)&&"chain"in n&&(r=n.chain);var o=e,a=Ee(o);Ke(i,function(n){var i=e[n]=t[n];a&&(o.prototype[n]=function(){var t=this.__chain__,n=this.__wrapped__,a=[n];Fn.apply(a,arguments);var s=i.apply(e,a);if(r||t){if(n===s&&Te(s))return this;s=new o(s),s.__chain__=t}return s})})}function Qt(){return n._=An,this}function en(){}function tn(e){return function(t){return t[e]}}function nn(e,t,n){var r=null==e,i=null==t;if(null==n&&("boolean"==typeof e&&i?(n=e,e=1):i||"boolean"!=typeof t||(n=t,i=!0)),r&&i&&(t=1),e=+e||0,i?(t=e,e=0):t=+t||0,n||e%1||t%1){var o=Yn();return Un(e+o*(t-e+parseFloat("1e-"+((o+"").length-1))),t)}return re(e,t)}function rn(e,t){if(e){var n=e[t];return Ee(n)?e[t]():n}}function on(e,t,n){var r=h.templateSettings;e=xn(e||""),n=ar({},n,r);var i,o=ar({},n.imports,r.imports),s=er(o),u=Ve(o),l=0,c=n.interpolate||E,d="__p += '",p=_n((n.escape||E).source+"|"+c.source+"|"+(c===$?D:E).source+"|"+(n.evaluate||E).source+"|$","g");e.replace(p,function(t,n,r,o,s,u){return r||(r=o),d+=e.slice(l,u).replace(P,a),n&&(d+="' +\n__e("+n+") +\n'"),s&&(i=!0,d+="';\n"+s+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+t.length,t}),d+="';\n";var m=n.variable,g=m;g||(m="obj",d="with ("+m+") {\n"+d+"\n}\n"),d=(i?d.replace(_,""):d).replace(x,"$1").replace(C,"$1;"),d="function("+m+") {\n"+(g?"":m+" || ("+m+" = {});\n")+"var __t, __p = '', __e = _.escape"+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var v="\n/*\n//# sourceURL="+(n.sourceURL||"/lodash/template/source["+M++ +"]")+"\n*/";try{var b=vn(s,"return "+d+v).apply(f,u)}catch(y){throw y.source=d,y}return t?b(t):(b.source=d,b)}function an(e,t,n){e=(e=+e)>-1?e:0;var r=-1,i=hn(e);for(t=K(t,n,1);++r<e;)i[r]=t(r);return i}function sn(e){return null==e?"":xn(e).replace(rr,de)}function un(e){var t=++g;return xn(null==e?"":e)+t}function ln(e){return e=new m(e),e.__chain__=!0,e}function cn(e,t){return t(e),e}function dn(){return this.__chain__=!0,this}function pn(){return xn(this.__wrapped__)}function fn(){return this.__wrapped__}n=n?Q.defaults(Y.Object(),n,Q.pick(Y,R)):Y;var hn=n.Array,mn=n.Boolean,gn=n.Date,vn=n.Function,bn=n.Math,yn=n.Number,wn=n.Object,_n=n.RegExp,xn=n.String,Cn=n.TypeError,Dn=[],kn=wn.prototype,An=n._,$n=kn.toString,Sn=_n("^"+xn($n).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),En=bn.ceil,Tn=n.clearTimeout,Pn=bn.floor,Rn=vn.prototype.toString,Mn=le(Mn=wn.getPrototypeOf)&&Mn,Nn=kn.hasOwnProperty,Fn=Dn.push,On=n.setTimeout,Gn=Dn.splice,In=Dn.unshift,Bn=function(){try{var e={},t=le(t=wn.defineProperty)&&t,n=t(e,e,e)&&t}catch(r){}return n}(),Wn=le(Wn=wn.create)&&Wn,Ln=le(Ln=hn.isArray)&&Ln,jn=n.isFinite,Vn=n.isNaN,Hn=le(Hn=wn.keys)&&Hn,qn=bn.max,Un=bn.min,zn=n.parseInt,Yn=bn.random,Xn={};Xn[F]=hn,Xn[O]=mn,Xn[G]=gn,Xn[I]=vn,Xn[W]=wn,Xn[B]=yn,Xn[L]=_n,Xn[j]=xn,m.prototype=h.prototype;var Kn=h.support={};Kn.funcDecomp=!le(n.WinRTError)&&T.test(p),Kn.funcNames="string"==typeof vn.name,h.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:$,variable:"",imports:{_:h}},Wn||(X=function(){function e(){}return function(t){if(Te(t)){e.prototype=t;var r=new e;e.prototype=null}return r||n.Object()}}());var Zn=Bn?function(e,t){q.value=t,Bn(e,"__bindData__",q),q.value=null}:en,Jn=Ln||function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&$n.call(e)==F||!1},Qn=function(e){var t,n=e,r=[];if(!n)return r;if(!U[typeof e])return r;for(t in n)Nn.call(n,t)&&r.push(t);return r},er=Hn?function(e){return Te(e)?Hn(e):[]}:Qn,tr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},nr=xe(tr),rr=_n("("+er(nr).join("|")+")","g"),ir=_n("["+er(tr).join("")+"]","g"),or=function(e,t,n){var r,i=e,o=i;if(!i)return o;var a=arguments,s=0,u="number"==typeof n?2:a.length;if(u>3&&"function"==typeof a[u-2])var l=K(a[--u-1],a[u--],2);else u>2&&"function"==typeof a[u-1]&&(l=a[--u]);for(;++s<u;)if(i=a[s],i&&U[typeof i])for(var c=-1,d=U[typeof i]&&er(i),p=d?d.length:0;++c<p;)r=d[c],o[r]=l?l(o[r],i[r]):i[r];return o},ar=function(e,t,n){var r,i=e,o=i;if(!i)return o;for(var a=arguments,s=0,u="number"==typeof n?2:a.length;++s<u;)if(i=a[s],i&&U[typeof i])for(var l=-1,c=U[typeof i]&&er(i),d=c?c.length:0;++l<d;)r=c[l],"undefined"==typeof o[r]&&(o[r]=i[r]);return o},sr=function(e,t,n){var r,i=e,o=i;if(!i)return o;if(!U[typeof i])return o;t=t&&"undefined"==typeof n?t:K(t,n,3);for(r in i)if(t(i[r],r,e)===!1)return o;return o},ur=function(e,t,n){var r,i=e,o=i;if(!i)return o;if(!U[typeof i])return o;t=t&&"undefined"==typeof n?t:K(t,n,3);for(var a=-1,s=U[typeof i]&&er(i),u=s?s.length:0;++a<u;)if(r=s[a],t(i[r],r,e)===!1)return o;return o},lr=Mn?function(e){if(!e||$n.call(e)!=W)return!1;var t=e.valueOf,n=le(t)&&(n=Mn(t))&&Mn(n);return n?e==n||Mn(e)==n:ce(e)}:ce,cr=oe(function(e,t,n){Nn.call(e,n)?e[n]++:e[n]=1}),dr=oe(function(e,t,n){(Nn.call(e,n)?e[n]:e[n]=[]).push(t)}),pr=oe(function(e,t,n){e[n]=t}),fr=Qe,hr=ze,mr=le(mr=gn.now)&&mr||function(){return(new gn).getTime()},gr=8==zn(w+"08")?zn:function(e,t){return zn(Fe(e)?e.replace(S,""):e,t||0)};return h.after=Mt,h.assign=or,h.at=He,h.bind=Nt,h.bindAll=Ft,h.bindKey=Ot,h.chain=ln,h.compact=dt,h.compose=Gt,h.constant=Yt,h.countBy=cr,h.create=me,h.createCallback=Xt,h.curry=It,h.debounce=Bt,h.defaults=ar,h.defer=Wt,h.delay=Lt,h.difference=pt,h.filter=ze,h.flatten=gt,h.forEach=Ke,h.forEachRight=Ze,h.forIn=sr,h.forInRight=be,h.forOwn=ur,h.forOwnRight=ye,h.functions=we,h.groupBy=dr,h.indexBy=pr,h.initial=bt,h.intersection=yt,h.invert=xe,h.invoke=Je,h.keys=er,h.map=Qe,h.mapValues=Ge,h.max=et,h.memoize=jt,h.merge=Ie,h.min=tt,h.omit=Be,h.once=Vt,h.pairs=We,h.partial=Ht,h.partialRight=qt,h.pick=Le,h.pluck=fr,h.property=tn,h.pull=xt,h.range=Ct,h.reject=it,h.remove=Dt,h.rest=kt,h.shuffle=at,h.sortBy=lt,h.tap=cn,h.throttle=Ut,h.times=an,h.toArray=ct,h.transform=je,h.union=$t,h.uniq=St,h.values=Ve,h.where=hr,h.without=Et,h.wrap=zt,h.xor=Tt,h.zip=Pt,h.zipObject=Rt,h.collect=Qe,h.drop=kt,h.each=Ke,h.eachRight=Ze,h.extend=or,h.methods=we,h.object=Rt,h.select=ze,h.tail=kt,h.unique=St,h.unzip=Pt,Jt(h),h.clone=fe,h.cloneDeep=he,h.contains=qe,h.escape=Kt,h.every=Ue,h.find=Ye,h.findIndex=ft,h.findKey=ge,h.findLast=Xe,h.findLastIndex=ht,h.findLastKey=ve,h.has=_e,h.identity=Zt,h.indexOf=vt,h.isArguments=pe,h.isArray=Jn,h.isBoolean=Ce,h.isDate=De,h.isElement=ke,h.isEmpty=Ae,h.isEqual=$e,h.isFinite=Se,h.isFunction=Ee,h.isNaN=Pe,h.isNull=Re,h.isNumber=Me,h.isObject=Te,h.isPlainObject=lr,h.isRegExp=Ne,h.isString=Fe,h.isUndefined=Oe,h.lastIndexOf=_t,h.mixin=Jt,h.noConflict=Qt,h.noop=en,h.now=mr,h.parseInt=gr,h.random=nn,h.reduce=nt,h.reduceRight=rt,h.result=rn,h.runInContext=p,h.size=st,h.some=ut,h.sortedIndex=At,h.template=on,h.unescape=sn,h.uniqueId=un,h.all=Ue,h.any=ut,h.detect=Ye,h.findWhere=Ye,h.foldl=nt,h.foldr=rt,h.include=qe,h.inject=nt,Jt(function(){var e={};return ur(h,function(t,n){h.prototype[n]||(e[n]=t)}),e}(),!1),h.first=mt,h.last=wt,h.sample=ot,h.take=mt,h.head=mt,ur(h,function(e,t){var n="sample"!==t;h.prototype[t]||(h.prototype[t]=function(t,r){var i=this.__chain__,o=e(this.__wrapped__,t,r);return i||null!=t&&(!r||n&&"function"==typeof t)?new m(o,i):o})}),h.VERSION="2.4.2",h.prototype.chain=dn,h.prototype.toString=pn,h.prototype.value=fn,h.prototype.valueOf=fn,Ke(["join","pop","shift"],function(e){var t=Dn[e];h.prototype[e]=function(){var e=this.__chain__,n=t.apply(this.__wrapped__,arguments);return e?new m(n,e):n}}),Ke(["push","reverse","sort","unshift"],function(e){var t=Dn[e];h.prototype[e]=function(){return t.apply(this.__wrapped__,arguments),this}}),Ke(["concat","slice","splice"],function(e){var t=Dn[e];h.prototype[e]=function(){return new m(t.apply(this.__wrapped__,arguments),this.__chain__)}}),h}var f,h=[],m=[],g=0,v=+new Date+"",b=75,y=40,w=" 	\f \ufeff\n\r\u2028\u2029 ᠎             　",_=/\b__p \+= '';/g,x=/\b(__p \+=) '' \+/g,C=/(__e\(.*?\)|\b__t\)) \+\n'';/g,D=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,k=/\w*$/,A=/^\s*function[ \n\r\t]+\w/,$=/<%=([\s\S]+?)%>/g,S=RegExp("^["+w+"]*0+(?=.$)"),E=/($^)/,T=/\bthis\b/,P=/['\n\r\t\u2028\u2029\\]/g,R=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],M=0,N="[object Arguments]",F="[object Array]",O="[object Boolean]",G="[object Date]",I="[object Function]",B="[object Number]",W="[object Object]",L="[object RegExp]",j="[object String]",V={};
V[I]=!1,V[N]=V[F]=V[O]=V[G]=V[B]=V[W]=V[L]=V[j]=!0;var H={leading:!1,maxWait:0,trailing:!1},q={configurable:!1,enumerable:!1,value:null,writable:!1},U={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},z={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},Y=U[typeof window]&&window||this,X=U[typeof exports]&&exports&&!exports.nodeType&&exports,K=U[typeof module]&&module&&!module.nodeType&&module,Z=K&&K.exports===X&&X,J=U[typeof global]&&global;!J||J.global!==J&&J.window!==J||(Y=J);var Q=p();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Y._=Q,define(function(){return Q})):X&&K?Z?(K.exports=Q)._=Q:X._=Q:Y._=Q}.call(this),!function(e,t){"use strict";function n(e,t){var n,r,i=e.toLowerCase();for(t=[].concat(t),n=0;n<t.length;n+=1)if(r=t[n]){if(r.test&&r.test(e))return!0;if(r.toLowerCase()===i)return!0}}var r=t.prototype.trim,i=t.prototype.trimRight,o=t.prototype.trimLeft,a=function(e){return 1*e||0},s=function(e,t){if(1>t)return"";for(var n="";t>0;)1&t&&(n+=e),t>>=1,e+=e;return n},u=[].slice,l=function(e){return null==e?"\\s":e.source?e.source:"["+h.escapeRegExp(e)+"]"},c={lt:"<",gt:">",quot:'"',amp:"&",apos:"'"},d={};for(var p in c)d[c[p]]=p;d["'"]="#39";var f=function(){function e(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}var n=s,r=function(){return r.cache.hasOwnProperty(arguments[0])||(r.cache[arguments[0]]=r.parse(arguments[0])),r.format.call(null,r.cache[arguments[0]],arguments)};return r.format=function(r,i){var o,a,s,u,l,c,d,p=1,h=r.length,m="",g=[];for(a=0;h>a;a++)if(m=e(r[a]),"string"===m)g.push(r[a]);else if("array"===m){if(u=r[a],u[2])for(o=i[p],s=0;s<u[2].length;s++){if(!o.hasOwnProperty(u[2][s]))throw new Error(f('[_.sprintf] property "%s" does not exist',u[2][s]));o=o[u[2][s]]}else o=u[1]?i[u[1]]:i[p++];if(/[^s]/.test(u[8])&&"number"!=e(o))throw new Error(f("[_.sprintf] expecting number but found %s",e(o)));switch(u[8]){case"b":o=o.toString(2);break;case"c":o=t.fromCharCode(o);break;case"d":o=parseInt(o,10);break;case"e":o=u[7]?o.toExponential(u[7]):o.toExponential();break;case"f":o=u[7]?parseFloat(o).toFixed(u[7]):parseFloat(o);break;case"o":o=o.toString(8);break;case"s":o=(o=t(o))&&u[7]?o.substring(0,u[7]):o;break;case"u":o=Math.abs(o);break;case"x":o=o.toString(16);break;case"X":o=o.toString(16).toUpperCase()}o=/[def]/.test(u[8])&&u[3]&&o>=0?"+"+o:o,c=u[4]?"0"==u[4]?"0":u[4].charAt(1):" ",d=u[6]-t(o).length,l=u[6]?n(c,d):"",g.push(u[5]?o+l:l+o)}return g.join("")},r.cache={},r.parse=function(e){for(var t=e,n=[],r=[],i=0;t;){if(null!==(n=/^[^\x25]+/.exec(t)))r.push(n[0]);else if(null!==(n=/^\x25{2}/.exec(t)))r.push("%");else{if(null===(n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(t)))throw new Error("[_.sprintf] huh?");if(n[2]){i|=1;var o=[],a=n[2],s=[];if(null===(s=/^([a-z_][a-z_\d]*)/i.exec(a)))throw new Error("[_.sprintf] huh?");for(o.push(s[1]);""!==(a=a.substring(s[0].length));)if(null!==(s=/^\.([a-z_][a-z_\d]*)/i.exec(a)))o.push(s[1]);else{if(null===(s=/^\[(\d+)\]/.exec(a)))throw new Error("[_.sprintf] huh?");o.push(s[1])}n[2]=o}else i|=2;if(3===i)throw new Error("[_.sprintf] mixing positional and named placeholders is not (yet) supported");r.push(n)}t=t.substring(n[0].length)}return r},r}(),h={VERSION:"2.3.0",isBlank:function(e){return null==e&&(e=""),/^\s*$/.test(e)},stripTags:function(e){return null==e?"":t(e).replace(/<\/?[^>]+>/g,"")},capitalize:function(e){return e=null==e?"":t(e),e.charAt(0).toUpperCase()+e.slice(1)},chop:function(e,n){return null==e?[]:(e=t(e),n=~~n,n>0?e.match(new RegExp(".{1,"+n+"}","g")):[e])},clean:function(e){return h.strip(e).replace(/\s+/g," ")},count:function(e,n){if(null==e||null==n)return 0;e=t(e),n=t(n);for(var r=0,i=0,o=n.length;;){if(i=e.indexOf(n,i),-1===i)break;r++,i+=o}return r},chars:function(e){return null==e?[]:t(e).split("")},swapCase:function(e){return null==e?"":t(e).replace(/\S/g,function(e){return e===e.toUpperCase()?e.toLowerCase():e.toUpperCase()})},escapeHTML:function(e){return null==e?"":t(e).replace(/[&<>"']/g,function(e){return"&"+d[e]+";"})},unescapeHTML:function(e){return null==e?"":t(e).replace(/\&([^;]+);/g,function(e,n){var r;return n in c?c[n]:(r=n.match(/^#x([\da-fA-F]+)$/))?t.fromCharCode(parseInt(r[1],16)):(r=n.match(/^#(\d+)$/))?t.fromCharCode(~~r[1]):e})},escapeRegExp:function(e){return null==e?"":t(e).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")},splice:function(e,t,n,r){var i=h.chars(e);return i.splice(~~t,~~n,r),i.join("")},insert:function(e,t,n){return h.splice(e,t,0,n)},include:function(e,n){return""===n?!0:null==e?!1:-1!==t(e).indexOf(n)},join:function(){var e=u.call(arguments),t=e.shift();return null==t&&(t=""),e.join(t)},lines:function(e){return null==e?[]:t(e).split("\n")},reverse:function(e){return h.chars(e).reverse().join("")},startsWith:function(e,n){return""===n?!0:null==e||null==n?!1:(e=t(e),n=t(n),e.length>=n.length&&e.slice(0,n.length)===n)},endsWith:function(e,n){return""===n?!0:null==e||null==n?!1:(e=t(e),n=t(n),e.length>=n.length&&e.slice(e.length-n.length)===n)},succ:function(e){return null==e?"":(e=t(e),e.slice(0,-1)+t.fromCharCode(e.charCodeAt(e.length-1)+1))},titleize:function(e){return null==e?"":(e=t(e).toLowerCase(),e.replace(/(?:^|\s|-)\S/g,function(e){return e.toUpperCase()}))},camelize:function(e){return h.trim(e).replace(/[-_\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""})},underscored:function(e){return h.trim(e).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()},dasherize:function(e){return h.trim(e).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()},classify:function(e){return h.titleize(t(e).replace(/[\W_]/g," ")).replace(/\s/g,"")},humanize:function(e){return h.capitalize(h.underscored(e).replace(/_id$/,"").replace(/_/g," "))},trim:function(e,n){return null==e?"":!n&&r?r.call(e):(n=l(n),t(e).replace(new RegExp("^"+n+"+|"+n+"+$","g"),""))},ltrim:function(e,n){return null==e?"":!n&&o?o.call(e):(n=l(n),t(e).replace(new RegExp("^"+n+"+"),""))},rtrim:function(e,n){return null==e?"":!n&&i?i.call(e):(n=l(n),t(e).replace(new RegExp(n+"+$"),""))},truncate:function(e,n,r){return null==e?"":(e=t(e),r=r||"...",n=~~n,e.length>n?e.slice(0,n)+r:e)},prune:function(e,n,r){if(null==e)return"";if(e=t(e),n=~~n,r=null!=r?t(r):"...",e.length<=n)return e;var i=function(e){return e.toUpperCase()!==e.toLowerCase()?"A":" "},o=e.slice(0,n+1).replace(/.(?=\W*\w*$)/g,i);return o=o.slice(o.length-2).match(/\w\w/)?o.replace(/\s*\S+$/,""):h.rtrim(o.slice(0,o.length-1)),(o+r).length>e.length?e:e.slice(0,o.length)+r},words:function(e,t){return h.isBlank(e)?[]:h.trim(e,t).split(t||/\s+/)},pad:function(e,n,r,i){e=null==e?"":t(e),n=~~n;var o=0;switch(r?r.length>1&&(r=r.charAt(0)):r=" ",i){case"right":return o=n-e.length,e+s(r,o);case"both":return o=n-e.length,s(r,Math.ceil(o/2))+e+s(r,Math.floor(o/2));default:return o=n-e.length,s(r,o)+e}},lpad:function(e,t,n){return h.pad(e,t,n)},rpad:function(e,t,n){return h.pad(e,t,n,"right")},lrpad:function(e,t,n){return h.pad(e,t,n,"both")},sprintf:f,vsprintf:function(e,t){return t.unshift(e),f.apply(null,t)},toNumber:function(e,t){return e?(e=h.trim(e),e.match(/^-?\d+(?:\.\d+)?$/)?a(a(e).toFixed(~~t)):NaN):0},numberFormat:function(e,t,n,r){if(isNaN(e)||null==e)return"";e=e.toFixed(~~t),r="string"==typeof r?r:",";var i=e.split("."),o=i[0],a=i[1]?(n||".")+i[1]:"";return o.replace(/(\d)(?=(?:\d{3})+$)/g,"$1"+r)+a},strRight:function(e,n){if(null==e)return"";e=t(e),n=null!=n?t(n):n;var r=n?e.indexOf(n):-1;return~r?e.slice(r+n.length,e.length):e},strRightBack:function(e,n){if(null==e)return"";e=t(e),n=null!=n?t(n):n;var r=n?e.lastIndexOf(n):-1;return~r?e.slice(r+n.length,e.length):e},strLeft:function(e,n){if(null==e)return"";e=t(e),n=null!=n?t(n):n;var r=n?e.indexOf(n):-1;return~r?e.slice(0,r):e},strLeftBack:function(e,t){if(null==e)return"";e+="",t=null!=t?""+t:t;var n=e.lastIndexOf(t);return~n?e.slice(0,n):e},toSentence:function(e,t,n,r){t=t||", ",n=n||" and ";var i=e.slice(),o=i.pop();return e.length>2&&r&&(n=h.rtrim(t)+n),i.length?i.join(t)+n+o:o},toSentenceSerial:function(){var e=u.call(arguments);return e[3]=!0,h.toSentence.apply(h,e)},slugify:function(e){if(null==e)return"";var n="ąàáäâãåæăćęèéëêìíïîłńòóöôõøśșțùúüûñçżź",r="aaaaaaaaaceeeeeiiiilnoooooosstuuuunczz",i=new RegExp(l(n),"g");return e=t(e).toLowerCase().replace(i,function(e){var t=n.indexOf(e);return r.charAt(t)||"-"}),h.dasherize(e.replace(/[^\w\s-]/g,""))},surround:function(e,t){return[t,e,t].join("")},quote:function(e,t){return h.surround(e,t||'"')},unquote:function(e,t){return t=t||'"',e[0]===t&&e[e.length-1]===t?e.slice(1,e.length-1):e},exports:function(){var e={};for(var t in this)this.hasOwnProperty(t)&&!t.match(/^(?:include|contains|reverse)$/)&&(e[t]=this[t]);return e},repeat:function(e,n,r){if(null==e)return"";if(n=~~n,null==r)return s(t(e),n);for(var i=[];n>0;i[--n]=e);return i.join(r)},naturalCmp:function(e,n){if(e==n)return 0;if(!e)return-1;if(!n)return 1;for(var r=/(\.\d+)|(\d+)|(\D+)/g,i=t(e).toLowerCase().match(r),o=t(n).toLowerCase().match(r),a=Math.min(i.length,o.length),s=0;a>s;s++){var u=i[s],l=o[s];if(u!==l){var c=parseInt(u,10);if(!isNaN(c)){var d=parseInt(l,10);if(!isNaN(d)&&c-d)return c-d}return l>u?-1:1}}return i.length===o.length?i.length-o.length:n>e?-1:1},levenshtein:function(e,n){if(null==e&&null==n)return 0;if(null==e)return t(n).length;if(null==n)return t(e).length;e=t(e),n=t(n);for(var r,i,o=[],a=0;a<=n.length;a++)for(var s=0;s<=e.length;s++)i=a&&s?e.charAt(s-1)===n.charAt(a-1)?r:Math.min(o[s],o[s-1],r)+1:a+s,r=o[s],o[s]=i;return o.pop()},toBoolean:function(e,t,r){return"number"==typeof e&&(e=""+e),"string"!=typeof e?!!e:(e=h.trim(e),n(e,t||["true","1"])?!0:n(e,r||["false","0"])?!1:void 0)}};h.strip=h.trim,h.lstrip=h.ltrim,h.rstrip=h.rtrim,h.center=h.lrpad,h.rjust=h.lpad,h.ljust=h.rpad,h.contains=h.include,h.q=h.quote,h.toBool=h.toBoolean,"undefined"!=typeof exports&&("undefined"!=typeof module&&module.exports&&(module.exports=h),exports._s=h),"function"==typeof define&&define.amd&&define("underscore.string",[],function(){return h}),e._=e._||{},e._.string=e._.str=h}(this,String),function(){_.mixin(_.str.exports()),angular.module("guanlecoja.ui",["ui.bootstrap","ui.router","ngAnimate"])}.call(this),function(){var e;e=function(){function e(e){this.$rootScope=e}return e.prototype.setBreadcrumb=function(e){return this.$rootScope.$broadcast("glBreadcrumb",e)},e}(),angular.module("guanlecoja.ui").service("glBreadcrumbService",["$rootScope",e])}.call(this),function(){var e;e=function(){function e(){this.groups={},this.footer=[]}return e.prototype.appTitle="set AppTitle using GlMenuServiceProvider.setAppTitle",e.prototype.addGroup=function(e){return e.items=[],null==e.order&&(e.order=99),this.groups[e.name]=e,this.groups},e.prototype.setFooter=function(e){return this.footer=e},e.prototype.setAppTitle=function(e){return this.appTitle=e},e.prototype.$get=["$state",function(e){var t,n,r,i,o,a,s,u,l,c;for(l=e.get().slice(1),s=0,u=l.length;u>s;s++)if(a=l[s],t=a.data.group,null!=t){if(!this.groups.hasOwnProperty(t))throw Error("group "+t+" has not been defined with glMenuProvider.group(). has: "+_.keys(this.groups));this.groups[t].items.push({caption:a.data.caption||_.string.humanize(a.name),sref:a.name})}c=this.groups;for(i in c)t=c[i],0!==t.items.length||t.separator?1===t.items.length?(r=t.items[0],t.caption=r.caption,t.sref=r.sref,t.items=[]):t.sref=".":delete this.groups[i];return n=_.values(this.groups),n.sort(function(e,t){return e.order-t.order}),o=this,{getGroups:function(){return n},getFooter:function(){return o.footer},getAppTitle:function(){return o.appTitle}}}],e}(),angular.module("guanlecoja.ui").provider("glMenuService",[e])}.call(this),function(){var e;e=function(){function e(e,t,n){return function(r){var i;return i=function(r){var i,o;try{o=""+r.status+":"+r.data.error+" "+("when:"+r.config.method+" "+r.config.url)}catch(a){i=a,o=r.toString()}return n(function(){return e.network(o)},100),t.reject(r)},r.then(angular.identity,i)}}return e}(),angular.module("guanlecoja.ui").factory("glHttpInterceptor",["glNotificationService","$q","$timeout",e])}.call(this),function(){var e;e=function(){function e(e,t){this.$rootScope=e,this.$timeout=t,this.notifications=[],this.curid=0}return e.prototype.notify=function(e){var t,n,r,i;if(this.curid+=1,null==e.title&&(e.title="Info"),e.id=this.curid,n=this.curid,null!=e.group){i=this.notifications;for(t in i)r=i[t],e.group===r.group&&(n=t,r.msg+="\n"+e.msg)}return n===this.curid&&this.notifications.push(e),null},e.prototype.error=function(e){return null==e.title&&(e.title="Error"),this.notify(e)},e.prototype.network=function(e){return null==e.title&&(e.title="Network issue"),null==e.group&&(e.group="Network"),this.notify(e)},e.prototype.dismiss=function(e){var t,n,r;r=this.notifications;for(t in r)if(n=r[t],n.id===e)return this.notifications.splice(t,1),null;return null},e}(),angular.module("guanlecoja.ui").service("glNotificationService",["$rootScope","$timeout",e])}.call(this),function(){var e,t;e=function(){function e(){return{replace:!0,transclude:!0,restrict:"E",scope:!1,controllerAs:"n",templateUrl:"guanlecoja.ui/views/notification.html",controller:"_glNotificationController"}}return e}(),t=function(){function e(e,t,n){this.$scope=e,this.glNotificationService=t,this.dropdownService=n,this.notifications=this.glNotificationService.notifications}return e.prototype.dismiss=function(e,t){return this.glNotificationService.dismiss(e),t.stopPropagation(),null},e}(),angular.module("guanlecoja.ui").directive("glNotification",[e]).controller("_glNotificationController",["$scope","glNotificationService","dropdownService",t])}.call(this),function(){var e,t;e=function(){function e(){return{replace:!0,transclude:!0,restrict:"E",scope:!1,controllerAs:"page",templateUrl:"guanlecoja.ui/views/page_with_sidebar.html",controller:"_glPageWithSidebarController"}}return e}(),t=function(){function e(e,t,n,r){this.$scope=e,this.$timeout=n,this.$window=r,this.sidebarPinned=this.$window.innerWidth>800,this.groups=t.getGroups(),this.footer=t.getFooter(),this.appTitle=t.getAppTitle(),this.activeGroup=null,this.inSidebar=!1,this.sidebarActive=this.sidebarPinned}return e.prototype.toggleGroup=function(e){return this.activeGroup!==e?this.activeGroup=e:this.activeGroup=null},e.prototype.enterSidebar=function(){return this.sidebarActive=!0,this.inSidebar=!0},e.prototype.hideSidebar=function(){return this.sidebarActive=!1,this.inSidebar=!1},e.prototype.leaveSidebar=function(){return this.inSidebar=!1,null!=this.timeout&&(this.$timeout.cancel(this.timeout),this.timeout=void 0),this.timeout=this.$timeout(function(e){return function(){return e.inSidebar||e.sidebarPinned?void 0:(e.sidebarActive=!1,e.activeGroup=null)}}(this),500)},e}(),angular.module("guanlecoja.ui").directive("glPageWithSidebar",[e]).controller("_glPageWithSidebarController",["$scope","glMenuService","$timeout","$window",t])}.call(this),function(){var e,t;e=function(){function e(){return{replace:!0,transclude:!0,restrict:"E",scope:!1,controllerAs:"page",templateUrl:"guanlecoja.ui/views/topbar.html",controller:"_glTopbarController"}}return e}(),t=function(){function e(e,t,n){var r;r=t.getGroups(),r=_.zipObject(_.map(r,function(e){return e.name}),r),e.appTitle=t.getAppTitle(),e.$on("$stateChangeStart",function(t,i){var o,a,s;return e.breadcrumb=[],(null!=(o=i.data)?o.group:void 0)&&(null!=(a=i.data)?a.caption:void 0)!==r[i.data.group].caption&&e.breadcrumb.push({caption:r[i.data.group].caption}),e.breadcrumb.push({caption:(null!=(s=i.data)?s.caption:void 0)||_.humanize(i.name),href:"#"+n.hash()})}),e.$on("glBreadcrumb",function(t,n){return e.breadcrumb=n})}return e}(),angular.module("guanlecoja.ui").directive("glTopbar",[e]).controller("_glTopbarController",["$scope","glMenuService","$location",t])}.call(this),function(){var e,t,n;e=function(){function e(){return{replace:!0,restrict:"E",scope:!0,templateUrl:"guanlecoja.ui/views/topbar-contextual-actions.html",controller:"_glTopbarContextualActionsController"}}return e}(),n=function(){function e(e,t){e.$on("$stateChangeStart",function(t,n){return e.actions=[]}),e.$on("glSetContextualActions",function(t,n){var r,i,o;for(i=0,o=n.length;o>i;i++)r=n[i],null==r.extra_class&&(r.extra_class="");return e.actions=n})}return e}(),t=function(){function e(e){this.$rootScope=e}return e.prototype.setContextualActions=function(e){return this.$rootScope.$broadcast("glSetContextualActions",e)},e}(),angular.module("guanlecoja.ui").directive("glTopbarContextualActions",[e]).controller("_glTopbarContextualActionsController",["$scope","$sce",n]).service("glTopbarContextualActionsService",["$rootScope",t])}.call(this),angular.module("guanlecoja.ui").run(["$templateCache",function(e){e.put("guanlecoja.ui/views/notification.html",'<li class="dropdown notifications"><a class="dropdown-toggle"><i ng-class="{\'fa-ringing\': n.notifications.length &gt; 0 }" class="fa fa-bell-o fa-lg"></i></a><ul class="dropdown-menu dropdown-menu-right"><li class="dropdown-header">Notifications</li><li class="divider"></li><div ng-repeat="msg in n.notifications"><li><div class="item"><button ng-click="n.dismiss(msg.id, $event)" class="close">&times;</button><div class="title">{{msg.title}}:</div><div class="msg">{{msg.msg}}</div></div></li><li class="divider"></li></div><li ng-hide="n.notifications.length&gt;0"><div class="item"><small class="msg"> all caught up!</small></div></li></ul></li>'),e.put("guanlecoja.ui/views/page_with_sidebar.html",'<div ng-class="{\'active\': page.sidebarActive, \'pinned\': page.sidebarPinned}" class="gl-page-with-sidebar"><div ng-mouseenter="page.enterSidebar()" ng-mouseleave="page.leaveSidebar()" class="sidebar sidebar-blue"><ul><li class="sidebar-main"><a href="javascript:">{{page.appTitle}}<span ng-hide="page.sidebarActive" ng-click="page.sidebarActive=!page.sidebarActive" class="menu-icon fa fa-bars"></span><span ng-show="page.sidebarActive" ng-click="page.sidebarPinned=!page.sidebarPinned" ng-class="{\'fa-45\': !page.sidebarPinned}" class="menu-icon fa fa-thumb-tack"></span></a></li><li class="sidebar-title"><span>NAVIGATION</span></li><div ng-repeat="group in page.groups"><div ng-if="group.items.length &gt; 0"><li class="sidebar-list"><a ng-click="page.toggleGroup(group)"><i class="fa fa-angle-right"></i>&nbsp;{{group.caption}}<span ng-class="\'fa-\' + group.icon" class="menu-icon fa"></span></a></li><li ng-class="{\'active\': page.activeGroup==group}" ng-repeat="item in group.items" class="sidebar-list subitem"><a ui-sref="{{item.sref}}" ng-click="page.hideSidebar()">{{item.caption}}</a></li></div><div ng-if="group.items.length == 0"><div ng-if="group.separator"><li class="sidebar-title"><span>{{group.caption}}</span></li></div><div ng-if="!group.separator"><li ng-if="!$first" class="sidebar-separator"></li><li class="sidebar-list"><a ui-sref="{{group.sref}}" ng-click="page.toggleGroup(group)">{{group.caption}}<span ng-class="\'fa-\' + group.icon" class="menu-icon fa"></span></a></li></div></div></div></ul><div class="sidebar-footer"><div ng-repeat="item in page.footer" class="col-xs-4"><a ng-href="{{item.href}}">{{item.caption}}</a></div></div></div><div class="content"><div ng-transclude="ng-transclude"></div></div></div>'),e.put("guanlecoja.ui/views/topbar.html",'<div class="navbar navbar-default navbar-static-top"><div class="container-fluid"><a class="navbar-brand">{{appTitle}}</a><ol class="breadcrumb"><li ng-repeat="b in breadcrumb"><a ng-if="b.sref" ui-sref="{{b.sref}}">{{b.caption}}</a><a ng-if="b.href" ng-href="{{b.href}}">{{b.caption}}</a><span ng-if="b.href == undefined &amp;&amp; b.sref == undefined" ng-href="{{b.href}}">{{b.caption}}</span></li></ol><ul ng-transclude="ng-transclude" class="nav navbar-nav pull-right"></ul></div></div>'),e.put("guanlecoja.ui/views/topbar-contextual-actions.html",'<form class="navbar-form navbar-left"><span ng-repeat="a in actions"><button type="button" ng-class="a.extra_class" ng-click="a.action()" title="{{a.help}}" class="btn btn-default"><i ng-if="a.icon" ng-class="\'fa-\' + a.icon" class="fa"></i><span ng-if="a.icon&amp;&amp;a.caption">&nbsp;</span>{{::a.caption}}</button>&nbsp;</span></form>')}]),function(e){function t(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function n(e,t){function n(){ue.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}var r=!0;return u(function(){return r&&(n(),r=!1),t.apply(this,arguments)},t)}function r(e,t){return function(n){return d(e.call(this,n),t)}}function i(e,t){return function(n){return this.lang().ordinal(e.call(this,n),t)}}function o(){}function a(e){D(e),u(this,e)}function s(e){var t=v(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,u=t.minute||0,l=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*l+6e4*u+36e5*s,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._bubble()}function u(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return t.hasOwnProperty("toString")&&(e.toString=t.toString),t.hasOwnProperty("valueOf")&&(e.valueOf=t.valueOf),e}function l(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&xe.hasOwnProperty(t)&&(n[t]=e[t]);return n}function c(e){return 0>e?Math.ceil(e):Math.floor(e)}function d(e,t,n){for(var r=""+Math.abs(e),i=e>=0;r.length<t;)r="0"+r;return(i?n?"+":"":"-")+r}function p(e,t,n,r){var i=t._milliseconds,o=t._days,a=t._months;r=null==r?!0:r,i&&e._d.setTime(+e._d+i*n),o&&re(e,"Date",ne(e,"Date")+o*n),a&&te(e,ne(e,"Month")+a*n),r&&ue.updateOffset(e,o||a)}function f(e){return"[object Array]"===Object.prototype.toString.call(e)}function h(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function m(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(r=0;i>r;r++)(n&&e[r]!==t[r]||!n&&y(e[r])!==y(t[r]))&&a++;return a+o}function g(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=Ze[e]||Je[t]||t}return e}function v(e){var t,n,r={};for(n in e)e.hasOwnProperty(n)&&(t=g(n),t&&(r[t]=e[n]));return r}function b(t){var n,r;if(0===t.indexOf("week"))n=7,r="day";else{if(0!==t.indexOf("month"))return;n=12,r="month"}ue[t]=function(i,o){var a,s,u=ue.fn._lang[t],l=[];if("number"==typeof i&&(o=i,i=e),s=function(e){var t=ue().utc().set(r,e);return u.call(ue.fn._lang,t,i||"")},null!=o)return s(o);for(a=0;n>a;a++)l.push(s(a));return l}}function y(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function w(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function _(e,t,n){return J(ue([e,11,31+t-n]),t,n).week}function x(e){return C(e)?366:365}function C(e){return e%4===0&&e%100!==0||e%400===0}function D(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[me]<0||e._a[me]>11?me:e._a[ge]<1||e._a[ge]>w(e._a[he],e._a[me])?ge:e._a[ve]<0||e._a[ve]>23?ve:e._a[be]<0||e._a[be]>59?be:e._a[ye]<0||e._a[ye]>59?ye:e._a[we]<0||e._a[we]>999?we:-1,e._pf._overflowDayOfYear&&(he>t||t>ge)&&(t=ge),e._pf.overflow=t)}function k(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length)),e._isValid}function A(e){return e?e.toLowerCase().replace("_","-"):e}function $(e,t){return t._isUTC?ue(e).zone(t._offset||0):ue(e).local()}function S(e,t){return t.abbr=e,_e[e]||(_e[e]=new o),_e[e].set(t),_e[e]}function E(e){delete _e[e]}function T(e){var t,n,r,i,o=0,a=function(e){if(!_e[e]&&Ce)try{require("./lang/"+e)}catch(t){}return _e[e]};if(!e)return ue.fn._lang;if(!f(e)){if(n=a(e))return n;e=[e]}for(;o<e.length;){for(i=A(e[o]).split("-"),t=i.length,r=A(e[o+1]),r=r?r.split("-"):null;t>0;){if(n=a(i.slice(0,t).join("-")))return n;if(r&&r.length>=t&&m(i,r,!0)>=t-1)break;t--}o++}return ue.fn._lang}function P(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function R(e){var t,n,r=e.match($e);for(t=0,n=r.length;n>t;t++)nt[r[t]]?r[t]=nt[r[t]]:r[t]=P(r[t]);return function(i){var o="";for(t=0;n>t;t++)o+=r[t]instanceof Function?r[t].call(i,e):r[t];return o}}function M(e,t){return e.isValid()?(t=N(t,e.lang()),Qe[t]||(Qe[t]=R(t)),Qe[t](e)):e.lang().invalidDate()}function N(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(Se.lastIndex=0;r>=0&&Se.test(e);)e=e.replace(Se,n),Se.lastIndex=0,r-=1;return e}function F(e,t){var n,r=t._strict;switch(e){case"Q":return Be;case"DDDD":return Le;case"YYYY":case"GGGG":case"gggg":return r?je:Pe;case"Y":case"G":case"g":return He;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return r?Ve:Re;case"S":if(r)return Be;case"SS":if(r)return We;case"SSS":if(r)return Le;case"DDD":return Te;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Ne;case"a":case"A":return T(t._l)._meridiemParse;case"X":return Ge;case"Z":case"ZZ":return Fe;case"T":return Oe;case"SSSS":return Me;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return r?We:Ee;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Ee;case"Do":return Ie;default:return n=new RegExp(V(j(e.replace("\\","")),"i"))}}function O(e){e=e||"";var t=e.match(Fe)||[],n=t[t.length-1]||[],r=(n+"").match(Xe)||["-",0,0],i=+(60*r[1])+y(r[2]);return"+"===r[0]?-i:i}function G(e,t,n){var r,i=n._a;switch(e){case"Q":null!=t&&(i[me]=3*(y(t)-1));break;case"M":case"MM":null!=t&&(i[me]=y(t)-1);break;case"MMM":case"MMMM":r=T(n._l).monthsParse(t),null!=r?i[me]=r:n._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(i[ge]=y(t));break;case"Do":null!=t&&(i[ge]=y(parseInt(t,10)));break;case"DDD":case"DDDD":null!=t&&(n._dayOfYear=y(t));break;case"YY":i[he]=ue.parseTwoDigitYear(t);break;case"YYYY":case"YYYYY":case"YYYYYY":i[he]=y(t);break;case"a":case"A":n._isPm=T(n._l).isPM(t);break;case"H":case"HH":case"h":case"hh":i[ve]=y(t);break;case"m":case"mm":i[be]=y(t);break;case"s":case"ss":i[ye]=y(t);break;case"S":case"SS":case"SSS":case"SSSS":i[we]=y(1e3*("0."+t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=O(t);break;case"w":case"ww":case"W":case"WW":case"d":case"dd":case"ddd":case"dddd":case"e":case"E":e=e.substr(0,1);case"gg":case"gggg":case"GG":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(n._w=n._w||{},n._w[e]=t)}}function I(e){var t,n,r,i,o,a,s,u,l,c,d=[];if(!e._d){for(r=W(e),e._w&&null==e._a[ge]&&null==e._a[me]&&(o=function(t){var n=parseInt(t,10);return t?t.length<3?n>68?1900+n:2e3+n:n:null==e._a[he]?ue().weekYear():e._a[he]},a=e._w,null!=a.GG||null!=a.W||null!=a.E?s=Q(o(a.GG),a.W||1,a.E,4,1):(u=T(e._l),l=null!=a.d?X(a.d,u):null!=a.e?parseInt(a.e,10)+u._week.dow:0,c=parseInt(a.w,10)||1,null!=a.d&&l<u._week.dow&&c++,s=Q(o(a.gg),c,l,u._week.doy,u._week.dow)),e._a[he]=s.year,e._dayOfYear=s.dayOfYear),e._dayOfYear&&(i=null==e._a[he]?r[he]:e._a[he],e._dayOfYear>x(i)&&(e._pf._overflowDayOfYear=!0),n=Y(i,0,e._dayOfYear),e._a[me]=n.getUTCMonth(),e._a[ge]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=d[t]=r[t];for(;7>t;t++)e._a[t]=d[t]=null==e._a[t]?2===t?1:0:e._a[t];d[ve]+=y((e._tzm||0)/60),d[be]+=y((e._tzm||0)%60),e._d=(e._useUTC?Y:z).apply(null,d)}}function B(e){var t;e._d||(t=v(e._i),e._a=[t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond],I(e))}function W(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function L(e){e._a=[],e._pf.empty=!0;var t,n,r,i,o,a=T(e._l),s=""+e._i,u=s.length,l=0;for(r=N(e._f,a).match($e)||[],t=0;t<r.length;t++)i=r[t],n=(s.match(F(i,e))||[])[0],n&&(o=s.substr(0,s.indexOf(n)),o.length>0&&e._pf.unusedInput.push(o),s=s.slice(s.indexOf(n)+n.length),l+=n.length),nt[i]?(n?e._pf.empty=!1:e._pf.unusedTokens.push(i),G(i,n,e)):e._strict&&!n&&e._pf.unusedTokens.push(i);e._pf.charsLeftOver=u-l,s.length>0&&e._pf.unusedInput.push(s),e._isPm&&e._a[ve]<12&&(e._a[ve]+=12),e._isPm===!1&&12===e._a[ve]&&(e._a[ve]=0),I(e),D(e)}function j(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i})}function V(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function H(e){var n,r,i,o,a;if(0===e._f.length)return e._pf.invalidFormat=!0,void(e._d=new Date(NaN));for(o=0;o<e._f.length;o++)a=0,n=u({},e),n._pf=t(),n._f=e._f[o],L(n),k(n)&&(a+=n._pf.charsLeftOver,a+=10*n._pf.unusedTokens.length,n._pf.score=a,(null==i||i>a)&&(i=a,r=n));u(e,r||n)}function q(e){var t,n,r=e._i,i=qe.exec(r);if(i){for(e._pf.iso=!0,t=0,n=ze.length;n>t;t++)if(ze[t][1].exec(r)){e._f=ze[t][0]+(i[6]||" ");break}for(t=0,n=Ye.length;n>t;t++)if(Ye[t][1].exec(r)){e._f+=Ye[t][0];break}r.match(Fe)&&(e._f+="Z"),L(e)}else ue.createFromInputFallback(e)}function U(t){var n=t._i,r=De.exec(n);n===e?t._d=new Date:r?t._d=new Date(+r[1]):"string"==typeof n?q(t):f(n)?(t._a=n.slice(0),I(t)):h(n)?t._d=new Date(+n):"object"==typeof n?B(t):"number"==typeof n?t._d=new Date(n):ue.createFromInputFallback(t)}function z(e,t,n,r,i,o,a){var s=new Date(e,t,n,r,i,o,a);return 1970>e&&s.setFullYear(e),s}function Y(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function X(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function K(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function Z(e,t,n){var r=fe(Math.abs(e)/1e3),i=fe(r/60),o=fe(i/60),a=fe(o/24),s=fe(a/365),u=45>r&&["s",r]||1===i&&["m"]||45>i&&["mm",i]||1===o&&["h"]||22>o&&["hh",o]||1===a&&["d"]||25>=a&&["dd",a]||45>=a&&["M"]||345>a&&["MM",fe(a/30)]||1===s&&["y"]||["yy",s];return u[2]=t,u[3]=e>0,u[4]=n,K.apply({},u)}function J(e,t,n){var r,i=n-t,o=n-e.day();return o>i&&(o-=7),i-7>o&&(o+=7),r=ue(e).add("d",o),{week:Math.ceil(r.dayOfYear()/7),year:r.year()}}function Q(e,t,n,r,i){var o,a,s=Y(e,0,1).getUTCDay();return n=null!=n?n:i,o=i-s+(s>r?7:0)-(i>s?7:0),a=7*(t-1)+(n-i)+o+1,{year:a>0?e:e-1,dayOfYear:a>0?a:x(e-1)+a}}function ee(t){var n=t._i,r=t._f;return null===n||r===e&&""===n?ue.invalid({nullInput:!0}):("string"==typeof n&&(t._i=n=T().preparse(n)),ue.isMoment(n)?(t=l(n),t._d=new Date(+n._d)):r?f(r)?H(t):L(t):U(t),new a(t))}function te(e,t){var n;return"string"==typeof t&&(t=e.lang().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),w(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function ne(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function re(e,t,n){return"Month"===t?te(e,n):e._d["set"+(e._isUTC?"UTC":"")+t](n)}function ie(e,t){return function(n){return null!=n?(re(this,e,n),ue.updateOffset(this,t),this):ne(this,e)}}function oe(e){ue.duration.fn[e]=function(){return this._data[e]}}function ae(e,t){ue.duration.fn["as"+e]=function(){return+this/t}}function se(e){"undefined"==typeof ender&&(le=pe.moment,e?pe.moment=n("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",ue):pe.moment=ue)}for(var ue,le,ce,de="2.6.0",pe="undefined"!=typeof global?global:this,fe=Math.round,he=0,me=1,ge=2,ve=3,be=4,ye=5,we=6,_e={},xe={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_isUTC:null,_offset:null,_pf:null,_lang:null},Ce="undefined"!=typeof module&&module.exports,De=/^\/?Date\((\-?\d+)/i,ke=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Ae=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,$e=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,Se=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,Ee=/\d\d?/,Te=/\d{1,3}/,Pe=/\d{1,4}/,Re=/[+\-]?\d{1,6}/,Me=/\d+/,Ne=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Fe=/Z|[\+\-]\d\d:?\d\d/gi,Oe=/T/i,Ge=/[\+\-]?\d+(\.\d{1,3})?/,Ie=/\d{1,2}/,Be=/\d/,We=/\d\d/,Le=/\d{3}/,je=/\d{4}/,Ve=/[+-]?\d{6}/,He=/[+-]?\d+/,qe=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ue="YYYY-MM-DDTHH:mm:ssZ",ze=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],Ye=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Xe=/([\+\-]|\d\d)/gi,Ke=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),
{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),Ze={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},Je={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},Qe={},et="DDD w W M D d".split(" "),tt="M D H h m s w W".split(" "),nt={M:function(){return this.month()+1},MMM:function(e){return this.lang().monthsShort(this,e)},MMMM:function(e){return this.lang().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.lang().weekdaysMin(this,e)},ddd:function(e){return this.lang().weekdaysShort(this,e)},dddd:function(e){return this.lang().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return d(this.year()%100,2)},YYYY:function(){return d(this.year(),4)},YYYYY:function(){return d(this.year(),5)},YYYYYY:function(){var e=this.year(),t=e>=0?"+":"-";return t+d(Math.abs(e),6)},gg:function(){return d(this.weekYear()%100,2)},gggg:function(){return d(this.weekYear(),4)},ggggg:function(){return d(this.weekYear(),5)},GG:function(){return d(this.isoWeekYear()%100,2)},GGGG:function(){return d(this.isoWeekYear(),4)},GGGGG:function(){return d(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return y(this.milliseconds()/100)},SS:function(){return d(y(this.milliseconds()/10),2)},SSS:function(){return d(this.milliseconds(),3)},SSSS:function(){return d(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+d(y(e/60),2)+":"+d(y(e)%60,2)},ZZ:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+d(y(e/60),2)+d(y(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},rt=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];et.length;)ce=et.pop(),nt[ce+"o"]=i(nt[ce],ce);for(;tt.length;)ce=tt.pop(),nt[ce+ce]=r(nt[ce],2);for(nt.DDDD=r(nt.DDD,3),u(o.prototype,{set:function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var t,n,r;for(this._monthsParse||(this._monthsParse=[]),t=0;12>t;t++)if(this._monthsParse[t]||(n=ue.utc([2e3,t]),r="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[t]=new RegExp(r.replace(".",""),"i")),this._monthsParse[t].test(e))return t},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,r;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=ue([2e3,1]).day(t),r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(r.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var n=this._calendar[e];return"function"==typeof n?n.apply(t):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,r){var i=this._relativeTime[n];return"function"==typeof i?i(e,t,n,r):i.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return J(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),ue=function(n,r,i,o){var a;return"boolean"==typeof i&&(o=i,i=e),a={},a._isAMomentObject=!0,a._i=n,a._f=r,a._l=i,a._strict=o,a._isUTC=!1,a._pf=t(),ee(a)},ue.suppressDeprecationWarnings=!1,ue.createFromInputFallback=n("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i)}),ue.utc=function(n,r,i,o){var a;return"boolean"==typeof i&&(o=i,i=e),a={},a._isAMomentObject=!0,a._useUTC=!0,a._isUTC=!0,a._l=i,a._i=n,a._f=r,a._strict=o,a._pf=t(),ee(a).utc()},ue.unix=function(e){return ue(1e3*e)},ue.duration=function(e,t){var n,r,i,o=e,a=null;return ue.isDuration(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(o={},t?o[t]=e:o.milliseconds=e):(a=ke.exec(e))?(n="-"===a[1]?-1:1,o={y:0,d:y(a[ge])*n,h:y(a[ve])*n,m:y(a[be])*n,s:y(a[ye])*n,ms:y(a[we])*n}):(a=Ae.exec(e))&&(n="-"===a[1]?-1:1,i=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*n},o={y:i(a[2]),M:i(a[3]),d:i(a[4]),h:i(a[5]),m:i(a[6]),s:i(a[7]),w:i(a[8])}),r=new s(o),ue.isDuration(e)&&e.hasOwnProperty("_lang")&&(r._lang=e._lang),r},ue.version=de,ue.defaultFormat=Ue,ue.momentProperties=xe,ue.updateOffset=function(){},ue.lang=function(e,t){var n;return e?(t?S(A(e),t):null===t?(E(e),e="en"):_e[e]||T(e),n=ue.duration.fn._lang=ue.fn._lang=T(e),n._abbr):ue.fn._lang._abbr},ue.langData=function(e){return e&&e._lang&&e._lang._abbr&&(e=e._lang._abbr),T(e)},ue.isMoment=function(e){return e instanceof a||null!=e&&e.hasOwnProperty("_isAMomentObject")},ue.isDuration=function(e){return e instanceof s},ce=rt.length-1;ce>=0;--ce)b(rt[ce]);ue.normalizeUnits=function(e){return g(e)},ue.invalid=function(e){var t=ue.utc(NaN);return null!=e?u(t._pf,e):t._pf.userInvalidated=!0,t},ue.parseZone=function(){return ue.apply(null,arguments).parseZone()},ue.parseTwoDigitYear=function(e){return y(e)+(y(e)>68?1900:2e3)},u(ue.fn=a.prototype,{clone:function(){return ue(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var e=ue(this).utc();return 0<e.year()&&e.year()<=9999?M(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):M(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return k(this)},isDSTShifted:function(){return this._a?this.isValid()&&m(this._a,(this._isUTC?ue.utc(this._a):ue(this._a)).toArray())>0:!1},parsingFlags:function(){return u({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(e){var t=M(this,e||ue.defaultFormat);return this.lang().postformat(t)},add:function(e,t){var n;return n="string"==typeof e?ue.duration(+t,e):ue.duration(e,t),p(this,n,1),this},subtract:function(e,t){var n;return n="string"==typeof e?ue.duration(+t,e):ue.duration(e,t),p(this,n,-1),this},diff:function(e,t,n){var r,i,o=$(e,this),a=6e4*(this.zone()-o.zone());return t=g(t),"year"===t||"month"===t?(r=432e5*(this.daysInMonth()+o.daysInMonth()),i=12*(this.year()-o.year())+(this.month()-o.month()),i+=(this-ue(this).startOf("month")-(o-ue(o).startOf("month")))/r,i-=6e4*(this.zone()-ue(this).startOf("month").zone()-(o.zone()-ue(o).startOf("month").zone()))/r,"year"===t&&(i/=12)):(r=this-o,i="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-a)/864e5:"week"===t?(r-a)/6048e5:r),n?i:c(i)},from:function(e,t){return ue.duration(this.diff(e)).lang(this.lang()._abbr).humanize(!t)},fromNow:function(e){return this.from(ue(),e)},calendar:function(){var e=$(ue(),this).startOf("day"),t=this.diff(e,"days",!0),n=-6>t?"sameElse":-1>t?"lastWeek":0>t?"lastDay":1>t?"sameDay":2>t?"nextDay":7>t?"nextWeek":"sameElse";return this.format(this.lang().calendar(n,this))},isLeapYear:function(){return C(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=X(e,this.lang()),this.add({d:e-t})):t},month:ie("Month",!0),startOf:function(e){switch(e=g(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(e){return e=g(e),this.startOf(e).add("isoWeek"===e?"week":e,1).subtract("ms",1)},isAfter:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)>+ue(e).startOf(t)},isBefore:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)<+ue(e).startOf(t)},isSame:function(e,t){return t=t||"ms",+this.clone().startOf(t)===+$(e,this).startOf(t)},min:function(e){return e=ue.apply(null,arguments),this>e?this:e},max:function(e){return e=ue.apply(null,arguments),e>this?this:e},zone:function(e,t){var n=this._offset||0;return null==e?this._isUTC?n:this._d.getTimezoneOffset():("string"==typeof e&&(e=O(e)),Math.abs(e)<16&&(e=60*e),this._offset=e,this._isUTC=!0,n!==e&&(!t||this._changeInProgress?p(this,ue.duration(n-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,ue.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(e){return e=e?ue(e).zone():0,(this.zone()-e)%60===0},daysInMonth:function(){return w(this.year(),this.month())},dayOfYear:function(e){var t=fe((ue(this).startOf("day")-ue(this).startOf("year"))/864e5)+1;return null==e?t:this.add("d",e-t)},quarter:function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},weekYear:function(e){var t=J(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==e?t:this.add("y",e-t)},isoWeekYear:function(e){var t=J(this,1,4).year;return null==e?t:this.add("y",e-t)},week:function(e){var t=this.lang().week(this);return null==e?t:this.add("d",7*(e-t))},isoWeek:function(e){var t=J(this,1,4).week;return null==e?t:this.add("d",7*(e-t))},weekday:function(e){var t=(this.day()+7-this.lang()._week.dow)%7;return null==e?t:this.add("d",e-t)},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},isoWeeksInYear:function(){return _(this.year(),1,4)},weeksInYear:function(){var e=this._lang._week;return _(this.year(),e.dow,e.doy)},get:function(e){return e=g(e),this[e]()},set:function(e,t){return e=g(e),"function"==typeof this[e]&&this[e](t),this},lang:function(t){return t===e?this._lang:(this._lang=T(t),this)}}),ue.fn.millisecond=ue.fn.milliseconds=ie("Milliseconds",!1),ue.fn.second=ue.fn.seconds=ie("Seconds",!1),ue.fn.minute=ue.fn.minutes=ie("Minutes",!1),ue.fn.hour=ue.fn.hours=ie("Hours",!0),ue.fn.date=ie("Date",!0),ue.fn.dates=n("dates accessor is deprecated. Use date instead.",ie("Date",!0)),ue.fn.year=ie("FullYear",!0),ue.fn.years=n("years accessor is deprecated. Use year instead.",ie("FullYear",!0)),ue.fn.days=ue.fn.day,ue.fn.months=ue.fn.month,ue.fn.weeks=ue.fn.week,ue.fn.isoWeeks=ue.fn.isoWeek,ue.fn.quarters=ue.fn.quarter,ue.fn.toJSON=ue.fn.toISOString,u(ue.duration.fn=s.prototype,{_bubble:function(){var e,t,n,r,i=this._milliseconds,o=this._days,a=this._months,s=this._data;s.milliseconds=i%1e3,e=c(i/1e3),s.seconds=e%60,t=c(e/60),s.minutes=t%60,n=c(t/60),s.hours=n%24,o+=c(n/24),s.days=o%30,a+=c(o/30),s.months=a%12,r=c(a/12),s.years=r},weeks:function(){return c(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*y(this._months/12)},humanize:function(e){var t=+this,n=Z(t,!e,this.lang());return e&&(n=this.lang().pastFuture(t,n)),this.lang().postformat(n)},add:function(e,t){var n=ue.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(e,t){var n=ue.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(e){return e=g(e),this[e.toLowerCase()+"s"]()},as:function(e){return e=g(e),this["as"+e.charAt(0).toUpperCase()+e.slice(1)+"s"]()},lang:ue.fn.lang,toIsoString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),n=Math.abs(this.days()),r=Math.abs(this.hours()),i=Math.abs(this.minutes()),o=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(r||i||o?"T":"")+(r?r+"H":"")+(i?i+"M":"")+(o?o+"S":""):"P0D"}});for(ce in Ke)Ke.hasOwnProperty(ce)&&(ae(ce,Ke[ce]),oe(ce.toLowerCase()));ae("Weeks",6048e5),ue.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},ue.lang("en",{ordinal:function(e){var t=e%10,n=1===y(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),Ce?module.exports=ue:"function"==typeof define&&define.amd?(define("moment",function(e,t,n){return n.config&&n.config()&&n.config().noGlobal===!0&&(pe.moment=le),ue}),se(!0)):se()}.call(this),!function(){function e(e,t){return t>e?-1:e>t?1:e>=t?0:NaN}function t(e){return null!=e&&!isNaN(e)}function n(e){return{left:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);i>r;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);i>r;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}function r(e){return e.length}function i(e){for(var t=1;e*t%1;)t*=10;return t}function o(e,t){try{for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}catch(r){e.prototype=t}}function a(){}function s(e){return aa+e in this}function u(e){return e=aa+e,e in this&&delete this[e]}function l(){var e=[];return this.forEach(function(t){e.push(t)}),e}function c(){var e=0;for(var t in this)t.charCodeAt(0)===sa&&++e;return e}function d(){for(var e in this)if(e.charCodeAt(0)===sa)return!1;return!0}function p(){}function f(e,t,n){return function(){var r=n.apply(t,arguments);return r===t?e:r}}function h(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.substring(1);for(var n=0,r=ua.length;r>n;++n){var i=ua[n]+t;if(i in e)return i}}function m(){}function g(){}function v(e){function t(){for(var t,r=n,i=-1,o=r.length;++i<o;)(t=r[i].on)&&t.apply(this,arguments);return e}var n=[],r=new a;return t.on=function(t,i){var o,a=r.get(t);return arguments.length<2?a&&a.on:(a&&(a.on=null,n=n.slice(0,o=n.indexOf(a)).concat(n.slice(o+1)),r.remove(t)),i&&n.push(r.set(t,{on:i})),e)},t}function b(){qo.event.preventDefault()}function y(){for(var e,t=qo.event;e=t.sourceEvent;)t=e;return t}function w(e){for(var t=new g,n=0,r=arguments.length;++n<r;)t[arguments[n]]=v(t);return t.of=function(n,r){return function(i){try{var o=i.sourceEvent=qo.event;i.target=e,qo.event=i,t[i.type].apply(n,r)}finally{qo.event=o}}},t}function _(e){return ca(e,ma),e}function x(e){return"function"==typeof e?e:function(){return da(e,this)}}function C(e){return"function"==typeof e?e:function(){return pa(e,this)}}function D(e,t){function n(){this.removeAttribute(e)}function r(){this.removeAttributeNS(e.space,e.local)}function i(){this.setAttribute(e,t)}function o(){this.setAttributeNS(e.space,e.local,t)}function a(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}function s(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}return e=qo.ns.qualify(e),null==t?e.local?r:n:"function"==typeof t?e.local?s:a:e.local?o:i}function k(e){return e.trim().replace(/\s+/g," ")}function A(e){return new RegExp("(?:^|\\s+)"+qo.requote(e)+"(?:\\s+|$)","g")}function $(e){return(e+"").trim().split(/^|\s+/)}function S(e,t){function n(){for(var n=-1;++n<i;)e[n](this,t)}function r(){for(var n=-1,r=t.apply(this,arguments);++n<i;)e[n](this,r)}e=$(e).map(E);var i=e.length;return"function"==typeof t?r:n}function E(e){var t=A(e);return function(n,r){if(i=n.classList)return r?i.add(e):i.remove(e);var i=n.getAttribute("class")||"";r?(t.lastIndex=0,t.test(i)||n.setAttribute("class",k(i+" "+e))):n.setAttribute("class",k(i.replace(t," ")))}}function T(e,t,n){function r(){this.style.removeProperty(e)}function i(){this.style.setProperty(e,t,n)}function o(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}return null==t?r:"function"==typeof t?o:i}function P(e,t){function n(){delete this[e]}function r(){this[e]=t}function i(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}return null==t?n:"function"==typeof t?i:r}function R(e){return"function"==typeof e?e:(e=qo.ns.qualify(e)).local?function(){return this.ownerDocument.createElementNS(e.space,e.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,e)}}function M(e){return{__data__:e}}function N(e){return function(){return ha(this,e)}}function F(t){return arguments.length||(t=e),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function O(e,t){for(var n=0,r=e.length;r>n;n++)for(var i,o=e[n],a=0,s=o.length;s>a;a++)(i=o[a])&&t(i,a,n);return e}function G(e){return ca(e,va),e}function I(e){var t,n;return function(r,i,o){var a,s=e[o].update,u=s.length;for(o!=n&&(n=o,t=0),i>=t&&(t=i+1);!(a=s[t])&&++t<u;);return a}}function B(){var e=this.__transition__;e&&++e.active}function W(e,t,n){function r(){var t=this[a];t&&(this.removeEventListener(e,t,t.$),delete this[a])}function i(){var i=u(t,zo(arguments));r.call(this),this.addEventListener(e,this[a]=i,i.$=n),i._=t}function o(){var t,n=new RegExp("^__on([^.]+)"+qo.requote(e)+"$");for(var r in this)if(t=r.match(n)){var i=this[r];this.removeEventListener(t[1],i,i.$),delete this[r]}}var a="__on"+e,s=e.indexOf("."),u=L;s>0&&(e=e.substring(0,s));var l=ya.get(e);return l&&(e=l,u=j),s?t?i:r:t?m:o}function L(e,t){return function(n){var r=qo.event;qo.event=n,t[0]=this.__data__;try{e.apply(this,t)}finally{qo.event=r}}}function j(e,t){var n=L(e,t);return function(e){var t=this,r=e.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||n.call(t,e)}}function V(){var e=".dragsuppress-"+ ++_a,t="click"+e,n=qo.select(Ko).on("touchmove"+e,b).on("dragstart"+e,b).on("selectstart"+e,b);if(wa){var r=Xo.style,i=r[wa];r[wa]="none"}return function(o){function a(){n.on(t,null)}n.on(e,null),wa&&(r[wa]=i),o&&(n.on(t,function(){b(),a()},!0),setTimeout(a,0))}}function H(e,t){t.changedTouches&&(t=t.changedTouches[0]);var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();if(0>xa&&(Ko.scrollX||Ko.scrollY)){n=qo.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var i=n[0][0].getScreenCTM();xa=!(i.f||i.e),n.remove()}return xa?(r.x=t.pageX,r.y=t.pageY):(r.x=t.clientX,r.y=t.clientY),r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}function q(){return qo.event.changedTouches[0].identifier}function U(){return qo.event.target}function z(){return Ko}function Y(e){return e>0?1:0>e?-1:0}function X(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function K(e){return e>1?0:-1>e?Ca:Math.acos(e)}function Z(e){return e>1?ka:-1>e?-ka:Math.asin(e)}function J(e){return((e=Math.exp(e))-1/e)/2}function Q(e){return((e=Math.exp(e))+1/e)/2}function ee(e){return((e=Math.exp(2*e))-1)/(e+1)}function te(e){return(e=Math.sin(e/2))*e}function ne(){}function re(e,t,n){return this instanceof re?(this.h=+e,this.s=+t,void(this.l=+n)):arguments.length<2?e instanceof re?new re(e.h,e.s,e.l):ve(""+e,be,re):new re(e,t,n)}function ie(e,t,n){function r(e){return e>360?e-=360:0>e&&(e+=360),60>e?o+(a-o)*e/60:180>e?a:240>e?o+(a-o)*(240-e)/60:o}function i(e){return Math.round(255*r(e))}var o,a;return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)?0:0>t?0:t>1?1:t,n=0>n?0:n>1?1:n,a=.5>=n?n*(1+t):n+t-n*t,o=2*n-a,new fe(i(e+120),i(e),i(e-120))}function oe(e,t,n){return this instanceof oe?(this.h=+e,this.c=+t,void(this.l=+n)):arguments.length<2?e instanceof oe?new oe(e.h,e.c,e.l):e instanceof se?le(e.l,e.a,e.b):le((e=ye((e=qo.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new oe(e,t,n)}function ae(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new se(n,Math.cos(e*=Sa)*t,Math.sin(e)*t)}function se(e,t,n){return this instanceof se?(this.l=+e,this.a=+t,void(this.b=+n)):arguments.length<2?e instanceof se?new se(e.l,e.a,e.b):e instanceof oe?ae(e.l,e.c,e.h):ye((e=fe(e)).r,e.g,e.b):new se(e,t,n)}function ue(e,t,n){var r=(e+16)/116,i=r+t/500,o=r-n/200;return i=ce(i)*Ba,r=ce(r)*Wa,o=ce(o)*La,new fe(pe(3.2404542*i-1.5371385*r-.4985314*o),pe(-.969266*i+1.8760108*r+.041556*o),pe(.0556434*i-.2040259*r+1.0572252*o))}function le(e,t,n){return e>0?new oe(Math.atan2(n,t)*Ea,Math.sqrt(t*t+n*n),e):new oe(NaN,NaN,e)}function ce(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function de(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function pe(e){return Math.round(255*(.00304>=e?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function fe(e,t,n){return this instanceof fe?(this.r=~~e,this.g=~~t,void(this.b=~~n)):arguments.length<2?e instanceof fe?new fe(e.r,e.g,e.b):ve(""+e,fe,ie):new fe(e,t,n)}function he(e){return new fe(e>>16,e>>8&255,255&e)}function me(e){return he(e)+""}function ge(e){return 16>e?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function ve(e,t,n){var r,i,o,a=0,s=0,u=0;if(r=/([a-z]+)\((.*)\)/i.exec(e))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return t(_e(i[0]),_e(i[1]),_e(i[2]))}return(o=Ha.get(e))?t(o.r,o.g,o.b):(null==e||"#"!==e.charAt(0)||isNaN(o=parseInt(e.substring(1),16))||(4===e.length?(a=(3840&o)>>4,a=a>>4|a,s=240&o,s=s>>4|s,u=15&o,u=u<<4|u):7===e.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,u=255&o)),t(a,s,u))}function be(e,t,n){var r,i,o=Math.min(e/=255,t/=255,n/=255),a=Math.max(e,t,n),s=a-o,u=(a+o)/2;return s?(i=.5>u?s/(a+o):s/(2-a-o),r=e==a?(t-n)/s+(n>t?6:0):t==a?(n-e)/s+2:(e-t)/s+4,r*=60):(r=NaN,i=u>0&&1>u?0:r),new re(r,i,u)}function ye(e,t,n){e=we(e),t=we(t),n=we(n);var r=de((.4124564*e+.3575761*t+.1804375*n)/Ba),i=de((.2126729*e+.7151522*t+.072175*n)/Wa),o=de((.0193339*e+.119192*t+.9503041*n)/La);return se(116*i-16,500*(r-i),200*(i-o))}function we(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function _e(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}function xe(e){return"function"==typeof e?e:function(){return e}}function Ce(e){return e}function De(e){return function(t,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),ke(t,n,e,r)}}function ke(e,t,n,r){function i(){var e,t=u.status;if(!t&&u.responseText||t>=200&&300>t||304===t){try{e=n.call(o,u)}catch(r){return void a.error.call(o,r)}a.load.call(o,e)}else a.error.call(o,u)}var o={},a=qo.dispatch("beforesend","progress","load","error"),s={},u=new XMLHttpRequest,l=null;return!Ko.XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(e)||(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=i:u.onreadystatechange=function(){u.readyState>3&&i()},u.onprogress=function(e){var t=qo.event;qo.event=e;try{a.progress.call(o,u)}finally{qo.event=t}},o.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?s[e]:(null==t?delete s[e]:s[e]=t+"",o)},o.mimeType=function(e){return arguments.length?(t=null==e?null:e+"",o):t},o.responseType=function(e){return arguments.length?(l=e,o):l},o.response=function(e){return n=e,o},["get","post"].forEach(function(e){o[e]=function(){return o.send.apply(o,[e].concat(zo(arguments)))}}),o.send=function(n,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),u.open(n,e,!0),null==t||"accept"in s||(s.accept=t+",*/*"),u.setRequestHeader)for(var c in s)u.setRequestHeader(c,s[c]);return null!=t&&u.overrideMimeType&&u.overrideMimeType(t),null!=l&&(u.responseType=l),null!=i&&o.on("error",i).on("load",function(e){i(null,e)}),a.beforesend.call(o,u),u.send(null==r?null:r),o},o.abort=function(){return u.abort(),o},qo.rebind(o,a,"on"),null==r?o:o.get(Ae(r))}function Ae(e){return 1===e.length?function(t,n){e(null==t?n:null)}:e}function $e(){var e=Se(),t=Ee()-e;t>24?(isFinite(t)&&(clearTimeout(Ya),Ya=setTimeout($e,t)),za=0):(za=1,Ka($e))}function Se(){var e=Date.now();for(Xa=qa;Xa;)e>=Xa.t&&(Xa.f=Xa.c(e-Xa.t)),Xa=Xa.n;return e}function Ee(){for(var e,t=qa,n=1/0;t;)t.f?t=e?e.n=t.n:qa=t.n:(t.t<n&&(n=t.t),t=(e=t).n);return Ua=e,n}function Te(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}function Pe(e,t){var n=Math.pow(10,3*oa(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}function Re(e){var t=e.decimal,n=e.thousands,r=e.grouping,i=e.currency,o=r?function(e){for(var t=e.length,i=[],o=0,a=r[0];t>0&&a>0;)i.push(e.substring(t-=a,t+a)),a=r[o=(o+1)%r.length];return i.reverse().join(n)}:Ce;return function(e){var n=Ja.exec(e),r=n[1]||" ",a=n[2]||">",s=n[3]||"",u=n[4]||"",l=n[5],c=+n[6],d=n[7],p=n[8],f=n[9],h=1,m="",g="",v=!1;switch(p&&(p=+p.substring(1)),(l||"0"===r&&"="===a)&&(l=r="0",a="=",d&&(c-=Math.floor((c-1)/4))),f){case"n":d=!0,f="g";break;case"%":h=100,g="%",f="f";break;case"p":h=100,g="%",f="r";break;case"b":case"o":case"x":case"X":"#"===u&&(m="0"+f.toLowerCase());case"c":case"d":v=!0,p=0;break;case"s":h=-1,f="r"}"$"===u&&(m=i[0],g=i[1]),"r"!=f||p||(f="g"),null!=p&&("g"==f?p=Math.max(1,Math.min(21,p)):("e"==f||"f"==f)&&(p=Math.max(0,Math.min(20,p)))),f=Qa.get(f)||Me;var b=l&&d;return function(e){var n=g;if(v&&e%1)return"";var i=0>e||0===e&&0>1/e?(e=-e,"-"):s;if(0>h){var u=qo.formatPrefix(e,p);e=u.scale(e),n=u.symbol+g}else e*=h;e=f(e,p);var y=e.lastIndexOf("."),w=0>y?e:e.substring(0,y),_=0>y?"":t+e.substring(y+1);!l&&d&&(w=o(w));var x=m.length+w.length+_.length+(b?0:i.length),C=c>x?new Array(x=c-x+1).join(r):"";return b&&(w=o(C+w)),i+=m,e=w+_,("<"===a?i+e+C:">"===a?C+i+e:"^"===a?C.substring(0,x>>=1)+i+e+C.substring(x):i+(b?e:C+e))+n}}}function Me(e){return e+""}function Ne(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Fe(e,t,n){function r(t){var n=e(t),r=o(n,1);return r-t>t-n?n:r}function i(n){return t(n=e(new ts(n-1)),1),n}function o(e,n){return t(e=new ts(+e),n),e}function a(e,r,o){var a=i(e),s=[];if(o>1)for(;r>a;)n(a)%o||s.push(new Date(+a)),t(a,1);else for(;r>a;)s.push(new Date(+a)),t(a,1);return s}function s(e,t,n){try{ts=Ne;var r=new Ne;return r._=e,a(r,t,n)}finally{ts=Date}}e.floor=e,e.round=r,e.ceil=i,e.offset=o,e.range=a;var u=e.utc=Oe(e);return u.floor=u,u.round=Oe(r),u.ceil=Oe(i),u.offset=Oe(o),u.range=s,e}function Oe(e){return function(t,n){try{ts=Ne;var r=new Ne;return r._=t,e(r,n)._}finally{ts=Date}}}function Ge(e){function t(e){function t(t){for(var n,i,o,a=[],s=-1,u=0;++s<r;)37===e.charCodeAt(s)&&(a.push(e.substring(u,s)),null!=(i=rs[n=e.charAt(++s)])&&(n=e.charAt(++s)),(o=S[n])&&(n=o(t,null==i?"e"===n?" ":"0":i)),a.push(n),u=s+1);return a.push(e.substring(u,s)),a.join("")}var r=e.length;return t.parse=function(t){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i=n(r,e,t,0);if(i!=t.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var o=null!=r.Z&&ts!==Ne,a=new(o?Ne:ts);return"j"in r?a.setFullYear(r.y,0,r.j):"w"in r&&("W"in r||"U"in r)?(a.setFullYear(r.y,0,1),a.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(a.getDay()+5)%7:r.w+7*r.U-(a.getDay()+6)%7)):a.setFullYear(r.y,r.m,r.d),a.setHours(r.H+Math.floor(r.Z/100),r.M+r.Z%100,r.S,r.L),o?a._:a},t.toString=function(){return e},t}function n(e,t,n,r){for(var i,o,a,s=0,u=t.length,l=n.length;u>s;){if(r>=l)return-1;if(i=t.charCodeAt(s++),37===i){if(a=t.charAt(s++),o=E[a in rs?t.charAt(s++):a],!o||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function r(e,t,n){x.lastIndex=0;var r=x.exec(t.substring(n));return r?(e.w=C.get(r[0].toLowerCase()),n+r[0].length):-1}function i(e,t,n){w.lastIndex=0;var r=w.exec(t.substring(n));return r?(e.w=_.get(r[0].toLowerCase()),n+r[0].length):-1}function o(e,t,n){A.lastIndex=0;var r=A.exec(t.substring(n));return r?(e.m=$.get(r[0].toLowerCase()),n+r[0].length):-1}function a(e,t,n){D.lastIndex=0;var r=D.exec(t.substring(n));return r?(e.m=k.get(r[0].toLowerCase()),n+r[0].length):-1}function s(e,t,r){return n(e,S.c.toString(),t,r)}function u(e,t,r){return n(e,S.x.toString(),t,r)}function l(e,t,r){return n(e,S.X.toString(),t,r)}function c(e,t,n){var r=y.get(t.substring(n,n+=2).toLowerCase());return null==r?-1:(e.p=r,n)}var d=e.dateTime,p=e.date,f=e.time,h=e.periods,m=e.days,g=e.shortDays,v=e.months,b=e.shortMonths;t.utc=function(e){function n(e){try{ts=Ne;var t=new ts;return t._=e,r(t)}finally{ts=Date}}var r=t(e);return n.parse=function(e){try{ts=Ne;var t=r.parse(e);return t&&t._}finally{ts=Date}},n.toString=r.toString,n},t.multi=t.utc.multi=rt;var y=qo.map(),w=Be(m),_=We(m),x=Be(g),C=We(g),D=Be(v),k=We(v),A=Be(b),$=We(b);h.forEach(function(e,t){y.set(e.toLowerCase(),t)});var S={a:function(e){return g[e.getDay()]},A:function(e){return m[e.getDay()]},b:function(e){return b[e.getMonth()]},B:function(e){return v[e.getMonth()]},c:t(d),d:function(e,t){return Ie(e.getDate(),t,2)},e:function(e,t){return Ie(e.getDate(),t,2)},H:function(e,t){return Ie(e.getHours(),t,2)},I:function(e,t){return Ie(e.getHours()%12||12,t,2)},j:function(e,t){return Ie(1+es.dayOfYear(e),t,3)},L:function(e,t){return Ie(e.getMilliseconds(),t,3)},m:function(e,t){return Ie(e.getMonth()+1,t,2)},M:function(e,t){return Ie(e.getMinutes(),t,2)},p:function(e){return h[+(e.getHours()>=12)]},S:function(e,t){return Ie(e.getSeconds(),t,2)},U:function(e,t){return Ie(es.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return Ie(es.mondayOfYear(e),t,2)},x:t(p),X:t(f),y:function(e,t){return Ie(e.getFullYear()%100,t,2)},Y:function(e,t){return Ie(e.getFullYear()%1e4,t,4)},Z:tt,"%":function(){return"%"}},E={a:r,A:i,b:o,B:a,c:s,d:Xe,e:Xe,H:Ze,I:Ze,j:Ke,L:et,m:Ye,M:Je,p:c,S:Qe,U:je,w:Le,W:Ve,x:u,X:l,y:qe,Y:He,Z:Ue,"%":nt};return t}function Ie(e,t,n){var r=0>e?"-":"",i=(r?-e:e)+"",o=i.length;return r+(n>o?new Array(n-o+1).join(t)+i:i)}function Be(e){return new RegExp("^(?:"+e.map(qo.requote).join("|")+")","i");
}function We(e){for(var t=new a,n=-1,r=e.length;++n<r;)t.set(e[n].toLowerCase(),n);return t}function Le(e,t,n){is.lastIndex=0;var r=is.exec(t.substring(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function je(e,t,n){is.lastIndex=0;var r=is.exec(t.substring(n));return r?(e.U=+r[0],n+r[0].length):-1}function Ve(e,t,n){is.lastIndex=0;var r=is.exec(t.substring(n));return r?(e.W=+r[0],n+r[0].length):-1}function He(e,t,n){is.lastIndex=0;var r=is.exec(t.substring(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function qe(e,t,n){is.lastIndex=0;var r=is.exec(t.substring(n,n+2));return r?(e.y=ze(+r[0]),n+r[0].length):-1}function Ue(e,t,n){return/^[+-]\d{4}$/.test(t=t.substring(n,n+5))?(e.Z=-t,n+5):-1}function ze(e){return e+(e>68?1900:2e3)}function Ye(e,t,n){is.lastIndex=0;var r=is.exec(t.substring(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Xe(e,t,n){is.lastIndex=0;var r=is.exec(t.substring(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Ke(e,t,n){is.lastIndex=0;var r=is.exec(t.substring(n,n+3));return r?(e.j=+r[0],n+r[0].length):-1}function Ze(e,t,n){is.lastIndex=0;var r=is.exec(t.substring(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Je(e,t,n){is.lastIndex=0;var r=is.exec(t.substring(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Qe(e,t,n){is.lastIndex=0;var r=is.exec(t.substring(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function et(e,t,n){is.lastIndex=0;var r=is.exec(t.substring(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function tt(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",r=~~(oa(t)/60),i=oa(t)%60;return n+Ie(r,"0",2)+Ie(i,"0",2)}function nt(e,t,n){os.lastIndex=0;var r=os.exec(t.substring(n,n+1));return r?n+r[0].length:-1}function rt(e){for(var t=e.length,n=-1;++n<t;)e[n][0]=this(e[n][0]);return function(t){for(var n=0,r=e[n];!r[1](t);)r=e[++n];return r[0](t)}}function it(){}function ot(e,t,n){var r=n.s=e+t,i=r-e,o=r-i;n.t=e-o+(t-i)}function at(e,t){e&&ls.hasOwnProperty(e.type)&&ls[e.type](e,t)}function st(e,t,n){var r,i=-1,o=e.length-n;for(t.lineStart();++i<o;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function ut(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)st(e[n],t,1);t.polygonEnd()}function lt(){function e(e,t){e*=Sa,t=t*Sa/2+Ca/4;var n=e-r,a=n>=0?1:-1,s=a*n,u=Math.cos(t),l=Math.sin(t),c=o*l,d=i*u+c*Math.cos(s),p=c*a*Math.sin(s);ds.add(Math.atan2(p,d)),r=e,i=u,o=l}var t,n,r,i,o;ps.point=function(a,s){ps.point=e,r=(t=a)*Sa,i=Math.cos(s=(n=s)*Sa/2+Ca/4),o=Math.sin(s)},ps.lineEnd=function(){e(t,n)}}function ct(e){var t=e[0],n=e[1],r=Math.cos(n);return[r*Math.cos(t),r*Math.sin(t),Math.sin(n)]}function dt(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function pt(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function ft(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function ht(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function mt(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function gt(e){return[Math.atan2(e[1],e[0]),Z(e[2])]}function vt(e,t){return oa(e[0]-t[0])<Aa&&oa(e[1]-t[1])<Aa}function bt(e,t){e*=Sa;var n=Math.cos(t*=Sa);yt(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function yt(e,t,n){++fs,ms+=(e-ms)/fs,gs+=(t-gs)/fs,vs+=(n-vs)/fs}function wt(){function e(e,i){e*=Sa;var o=Math.cos(i*=Sa),a=o*Math.cos(e),s=o*Math.sin(e),u=Math.sin(i),l=Math.atan2(Math.sqrt((l=n*u-r*s)*l+(l=r*a-t*u)*l+(l=t*s-n*a)*l),t*a+n*s+r*u);hs+=l,bs+=l*(t+(t=a)),ys+=l*(n+(n=s)),ws+=l*(r+(r=u)),yt(t,n,r)}var t,n,r;Ds.point=function(i,o){i*=Sa;var a=Math.cos(o*=Sa);t=a*Math.cos(i),n=a*Math.sin(i),r=Math.sin(o),Ds.point=e,yt(t,n,r)}}function _t(){Ds.point=bt}function xt(){function e(e,t){e*=Sa;var n=Math.cos(t*=Sa),a=n*Math.cos(e),s=n*Math.sin(e),u=Math.sin(t),l=i*u-o*s,c=o*a-r*u,d=r*s-i*a,p=Math.sqrt(l*l+c*c+d*d),f=r*a+i*s+o*u,h=p&&-K(f)/p,m=Math.atan2(p,f);_s+=h*l,xs+=h*c,Cs+=h*d,hs+=m,bs+=m*(r+(r=a)),ys+=m*(i+(i=s)),ws+=m*(o+(o=u)),yt(r,i,o)}var t,n,r,i,o;Ds.point=function(a,s){t=a,n=s,Ds.point=e,a*=Sa;var u=Math.cos(s*=Sa);r=u*Math.cos(a),i=u*Math.sin(a),o=Math.sin(s),yt(r,i,o)},Ds.lineEnd=function(){e(t,n),Ds.lineEnd=_t,Ds.point=bt}}function Ct(){return!0}function Dt(e,t,n,r,i){var o=[],a=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n=e[0],r=e[t];if(vt(n,r)){i.lineStart();for(var s=0;t>s;++s)i.point((n=e[s])[0],n[1]);return void i.lineEnd()}var u=new At(n,e,null,!0),l=new At(n,null,u,!1);u.o=l,o.push(u),a.push(l),u=new At(r,e,null,!1),l=new At(r,null,u,!0),u.o=l,o.push(u),a.push(l)}}),a.sort(t),kt(o),kt(a),o.length){for(var s=0,u=n,l=a.length;l>s;++s)a[s].e=u=!u;for(var c,d,p=o[0];;){for(var f=p,h=!0;f.v;)if((f=f.n)===p)return;c=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(h)for(var s=0,l=c.length;l>s;++s)i.point((d=c[s])[0],d[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(h){c=f.p.z;for(var s=c.length-1;s>=0;--s)i.point((d=c[s])[0],d[1])}else r(f.x,f.p.x,-1,i);f=f.p}f=f.o,c=f.z,h=!h}while(!f.v);i.lineEnd()}}}function kt(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function At(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function $t(e,t,n,r){return function(i,o){function a(t,n){var r=i(t,n);e(t=r[0],n=r[1])&&o.point(t,n)}function s(e,t){var n=i(e,t);g.point(n[0],n[1])}function u(){b.point=s,g.lineStart()}function l(){b.point=a,g.lineEnd()}function c(e,t){m.push([e,t]);var n=i(e,t);w.point(n[0],n[1])}function d(){w.lineStart(),m=[]}function p(){c(m[0][0],m[0][1]),w.lineEnd();var e,t=w.clean(),n=y.buffer(),r=n.length;if(m.pop(),h.push(m),m=null,r)if(1&t){e=n[0];var i,r=e.length-1,a=-1;if(r>0){for(_||(o.polygonStart(),_=!0),o.lineStart();++a<r;)o.point((i=e[a])[0],i[1]);o.lineEnd()}}else r>1&&2&t&&n.push(n.pop().concat(n.shift())),f.push(n.filter(St))}var f,h,m,g=t(o),v=i.invert(r[0],r[1]),b={point:a,lineStart:u,lineEnd:l,polygonStart:function(){b.point=c,b.lineStart=d,b.lineEnd=p,f=[],h=[]},polygonEnd:function(){b.point=a,b.lineStart=u,b.lineEnd=l,f=qo.merge(f);var e=Pt(v,h);f.length?(_||(o.polygonStart(),_=!0),Dt(f,Tt,e,n,o)):e&&(_||(o.polygonStart(),_=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),_&&(o.polygonEnd(),_=!1),f=h=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}},y=Et(),w=t(y),_=!1;return b}}function St(e){return e.length>1}function Et(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:m,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function Tt(e,t){return((e=e.x)[0]<0?e[1]-ka-Aa:ka-e[1])-((t=t.x)[0]<0?t[1]-ka-Aa:ka-t[1])}function Pt(e,t){var n=e[0],r=e[1],i=[Math.sin(n),-Math.cos(n),0],o=0,a=0;ds.reset();for(var s=0,u=t.length;u>s;++s){var l=t[s],c=l.length;if(c)for(var d=l[0],p=d[0],f=d[1]/2+Ca/4,h=Math.sin(f),m=Math.cos(f),g=1;;){g===c&&(g=0),e=l[g];var v=e[0],b=e[1]/2+Ca/4,y=Math.sin(b),w=Math.cos(b),_=v-p,x=_>=0?1:-1,C=x*_,D=C>Ca,k=h*y;if(ds.add(Math.atan2(k*x*Math.sin(C),m*w+k*Math.cos(C))),o+=D?_+x*Da:_,D^p>=n^v>=n){var A=pt(ct(d),ct(e));mt(A);var $=pt(i,A);mt($);var S=(D^_>=0?-1:1)*Z($[2]);(r>S||r===S&&(A[0]||A[1]))&&(a+=D^_>=0?1:-1)}if(!g++)break;p=v,h=y,m=w,d=e}}return(-Aa>o||Aa>o&&0>ds)^1&a}function Rt(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(o,a){var s=o>0?Ca:-Ca,u=oa(o-n);oa(u-Ca)<Aa?(e.point(n,r=(r+a)/2>0?ka:-ka),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),e.point(o,r),t=0):i!==s&&u>=Ca&&(oa(n-i)<Aa&&(n-=i*Aa),oa(o-s)<Aa&&(o-=s*Aa),r=Mt(n,r,o,a),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),t=0),e.point(n=o,r=a),i=s},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}function Mt(e,t,n,r){var i,o,a=Math.sin(e-n);return oa(a)>Aa?Math.atan((Math.sin(t)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(t))*Math.sin(e))/(i*o*a)):(t+r)/2}function Nt(e,t,n,r){var i;if(null==e)i=n*ka,r.point(-Ca,i),r.point(0,i),r.point(Ca,i),r.point(Ca,0),r.point(Ca,-i),r.point(0,-i),r.point(-Ca,-i),r.point(-Ca,0),r.point(-Ca,i);else if(oa(e[0]-t[0])>Aa){var o=e[0]<t[0]?Ca:-Ca;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}function Ft(e){function t(e,t){return Math.cos(e)*Math.cos(t)>o}function n(e){var n,o,u,l,c;return{lineStart:function(){l=u=!1,c=1},point:function(d,p){var f,h=[d,p],m=t(d,p),g=a?m?0:i(d,p):m?i(d+(0>d?Ca:-Ca),p):0;if(!n&&(l=u=m)&&e.lineStart(),m!==u&&(f=r(n,h),(vt(n,f)||vt(h,f))&&(h[0]+=Aa,h[1]+=Aa,m=t(h[0],h[1]))),m!==u)c=0,m?(e.lineStart(),f=r(h,n),e.point(f[0],f[1])):(f=r(n,h),e.point(f[0],f[1]),e.lineEnd()),n=f;else if(s&&n&&a^m){var v;g&o||!(v=r(h,n,!0))||(c=0,a?(e.lineStart(),e.point(v[0][0],v[0][1]),e.point(v[1][0],v[1][1]),e.lineEnd()):(e.point(v[1][0],v[1][1]),e.lineEnd(),e.lineStart(),e.point(v[0][0],v[0][1])))}!m||n&&vt(n,h)||e.point(h[0],h[1]),n=h,u=m,o=g},lineEnd:function(){u&&e.lineEnd(),n=null},clean:function(){return c|(l&&u)<<1}}}function r(e,t,n){var r=ct(e),i=ct(t),a=[1,0,0],s=pt(r,i),u=dt(s,s),l=s[0],c=u-l*l;if(!c)return!n&&e;var d=o*u/c,p=-o*l/c,f=pt(a,s),h=ht(a,d),m=ht(s,p);ft(h,m);var g=f,v=dt(h,g),b=dt(g,g),y=v*v-b*(dt(h,h)-1);if(!(0>y)){var w=Math.sqrt(y),_=ht(g,(-v-w)/b);if(ft(_,h),_=gt(_),!n)return _;var x,C=e[0],D=t[0],k=e[1],A=t[1];C>D&&(x=C,C=D,D=x);var $=D-C,S=oa($-Ca)<Aa,E=S||Aa>$;if(!S&&k>A&&(x=k,k=A,A=x),E?S?k+A>0^_[1]<(oa(_[0]-C)<Aa?k:A):k<=_[1]&&_[1]<=A:$>Ca^(C<=_[0]&&_[0]<=D)){var T=ht(g,(-v+w)/b);return ft(T,h),[_,gt(T)]}}}function i(t,n){var r=a?e:Ca-e,i=0;return-r>t?i|=1:t>r&&(i|=2),-r>n?i|=4:n>r&&(i|=8),i}var o=Math.cos(e),a=o>0,s=oa(o)>Aa,u=cn(e,6*Sa);return $t(t,n,u,a?[0,-e]:[-Ca,e-Ca])}function Ot(e,t,n,r){return function(i){var o,a=i.a,s=i.b,u=a.x,l=a.y,c=s.x,d=s.y,p=0,f=1,h=c-u,m=d-l;if(o=e-u,h||!(o>0)){if(o/=h,0>h){if(p>o)return;f>o&&(f=o)}else if(h>0){if(o>f)return;o>p&&(p=o)}if(o=n-u,h||!(0>o)){if(o/=h,0>h){if(o>f)return;o>p&&(p=o)}else if(h>0){if(p>o)return;f>o&&(f=o)}if(o=t-l,m||!(o>0)){if(o/=m,0>m){if(p>o)return;f>o&&(f=o)}else if(m>0){if(o>f)return;o>p&&(p=o)}if(o=r-l,m||!(0>o)){if(o/=m,0>m){if(o>f)return;o>p&&(p=o)}else if(m>0){if(p>o)return;f>o&&(f=o)}return p>0&&(i.a={x:u+p*h,y:l+p*m}),1>f&&(i.b={x:u+f*h,y:l+f*m}),i}}}}}}function Gt(e,t,n,r){function i(r,i){return oa(r[0]-e)<Aa?i>0?0:3:oa(r[0]-n)<Aa?i>0?2:1:oa(r[1]-t)<Aa?i>0?1:0:i>0?3:2}function o(e,t){return a(e.x,t.x)}function a(e,t){var n=i(e,1),r=i(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(s){function u(e){for(var t=0,n=g.length,r=e[1],i=0;n>i;++i)for(var o,a=1,s=g[i],u=s.length,l=s[0];u>a;++a)o=s[a],l[1]<=r?o[1]>r&&X(l,o,e)>0&&++t:o[1]<=r&&X(l,o,e)<0&&--t,l=o;return 0!==t}function l(o,s,u,l){var c=0,d=0;if(null==o||(c=i(o,u))!==(d=i(s,u))||a(o,s)<0^u>0){do l.point(0===c||3===c?e:n,c>1?r:t);while((c=(c+u+4)%4)!==d)}else l.point(s[0],s[1])}function c(i,o){return i>=e&&n>=i&&o>=t&&r>=o}function d(e,t){c(e,t)&&s.point(e,t)}function p(){E.point=h,g&&g.push(v=[]),D=!0,C=!1,_=x=NaN}function f(){m&&(h(b,y),w&&C&&$.rejoin(),m.push($.buffer())),E.point=d,C&&s.lineEnd()}function h(e,t){e=Math.max(-As,Math.min(As,e)),t=Math.max(-As,Math.min(As,t));var n=c(e,t);if(g&&v.push([e,t]),D)b=e,y=t,w=n,D=!1,n&&(s.lineStart(),s.point(e,t));else if(n&&C)s.point(e,t);else{var r={a:{x:_,y:x},b:{x:e,y:t}};S(r)?(C||(s.lineStart(),s.point(r.a.x,r.a.y)),s.point(r.b.x,r.b.y),n||s.lineEnd(),k=!1):n&&(s.lineStart(),s.point(e,t),k=!1)}_=e,x=t,C=n}var m,g,v,b,y,w,_,x,C,D,k,A=s,$=Et(),S=Ot(e,t,n,r),E={point:d,lineStart:p,lineEnd:f,polygonStart:function(){s=$,m=[],g=[],k=!0},polygonEnd:function(){s=A,m=qo.merge(m);var t=u([e,r]),n=k&&t,i=m.length;(n||i)&&(s.polygonStart(),n&&(s.lineStart(),l(null,null,1,s),s.lineEnd()),i&&Dt(m,o,t,l,s),s.polygonEnd()),m=g=v=null}};return E}}function It(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return n=t.invert(n,r),n&&e.invert(n[0],n[1])}),n}function Bt(e){var t=0,n=Ca/3,r=tn(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*Ca/180,n=e[1]*Ca/180):[t/Ca*180,n/Ca*180]},i}function Wt(e,t){function n(e,t){var n=Math.sqrt(o-2*i*Math.sin(t))/i;return[n*Math.sin(e*=i),a-n*Math.cos(e)]}var r=Math.sin(e),i=(r+Math.sin(t))/2,o=1+r*(2*i-r),a=Math.sqrt(o)/i;return n.invert=function(e,t){var n=a-t;return[Math.atan2(e,n)/i,Z((o-(e*e+n*n)*i*i)/(2*i))]},n}function Lt(){function e(e,t){Ss+=i*e-r*t,r=e,i=t}var t,n,r,i;Ms.point=function(o,a){Ms.point=e,t=r=o,n=i=a},Ms.lineEnd=function(){e(t,n)}}function jt(e,t){Es>e&&(Es=e),e>Ps&&(Ps=e),Ts>t&&(Ts=t),t>Rs&&(Rs=t)}function Vt(){function e(e,t){a.push("M",e,",",t,o)}function t(e,t){a.push("M",e,",",t),s.point=n}function n(e,t){a.push("L",e,",",t)}function r(){s.point=e}function i(){a.push("Z")}var o=Ht(4.5),a=[],s={point:e,lineStart:function(){s.point=t},lineEnd:r,polygonStart:function(){s.lineEnd=i},polygonEnd:function(){s.lineEnd=r,s.point=e},pointRadius:function(e){return o=Ht(e),s},result:function(){if(a.length){var e=a.join("");return a=[],e}}};return s}function Ht(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function qt(e,t){ms+=e,gs+=t,++vs}function Ut(){function e(e,r){var i=e-t,o=r-n,a=Math.sqrt(i*i+o*o);bs+=a*(t+e)/2,ys+=a*(n+r)/2,ws+=a,qt(t=e,n=r)}var t,n;Fs.point=function(r,i){Fs.point=e,qt(t=r,n=i)}}function zt(){Fs.point=qt}function Yt(){function e(e,t){var n=e-r,o=t-i,a=Math.sqrt(n*n+o*o);bs+=a*(r+e)/2,ys+=a*(i+t)/2,ws+=a,a=i*e-r*t,_s+=a*(r+e),xs+=a*(i+t),Cs+=3*a,qt(r=e,i=t)}var t,n,r,i;Fs.point=function(o,a){Fs.point=e,qt(t=r=o,n=i=a)},Fs.lineEnd=function(){e(t,n)}}function Xt(e){function t(t,n){e.moveTo(t,n),e.arc(t,n,a,0,Da)}function n(t,n){e.moveTo(t,n),s.point=r}function r(t,n){e.lineTo(t,n)}function i(){s.point=t}function o(){e.closePath()}var a=4.5,s={point:t,lineStart:function(){s.point=n},lineEnd:i,polygonStart:function(){s.lineEnd=o},polygonEnd:function(){s.lineEnd=i,s.point=t},pointRadius:function(e){return a=e,s},result:m};return s}function Kt(e){function t(e){return(s?r:n)(e)}function n(t){return Qt(t,function(n,r){n=e(n,r),t.point(n[0],n[1])})}function r(t){function n(n,r){n=e(n,r),t.point(n[0],n[1])}function r(){y=NaN,D.point=o,t.lineStart()}function o(n,r){var o=ct([n,r]),a=e(n,r);i(y,w,b,_,x,C,y=a[0],w=a[1],b=n,_=o[0],x=o[1],C=o[2],s,t),t.point(y,w)}function a(){D.point=n,t.lineEnd()}function u(){r(),D.point=l,D.lineEnd=c}function l(e,t){o(d=e,p=t),f=y,h=w,m=_,g=x,v=C,D.point=o}function c(){i(y,w,b,_,x,C,f,h,d,m,g,v,s,t),D.lineEnd=a,a()}var d,p,f,h,m,g,v,b,y,w,_,x,C,D={point:n,lineStart:r,lineEnd:a,polygonStart:function(){t.polygonStart(),D.lineStart=u},polygonEnd:function(){t.polygonEnd(),D.lineStart=r}};return D}function i(t,n,r,s,u,l,c,d,p,f,h,m,g,v){var b=c-t,y=d-n,w=b*b+y*y;if(w>4*o&&g--){var _=s+f,x=u+h,C=l+m,D=Math.sqrt(_*_+x*x+C*C),k=Math.asin(C/=D),A=oa(oa(C)-1)<Aa||oa(r-p)<Aa?(r+p)/2:Math.atan2(x,_),$=e(A,k),S=$[0],E=$[1],T=S-t,P=E-n,R=y*T-b*P;(R*R/w>o||oa((b*T+y*P)/w-.5)>.3||a>s*f+u*h+l*m)&&(i(t,n,r,s,u,l,S,E,A,_/=D,x/=D,C,g,v),v.point(S,E),i(S,E,A,_,x,C,c,d,p,f,h,m,g,v))}}var o=.5,a=Math.cos(30*Sa),s=16;return t.precision=function(e){return arguments.length?(s=(o=e*e)>0&&16,t):Math.sqrt(o)},t}function Zt(e){var t=Kt(function(t,n){return e([t*Ea,n*Ea])});return function(e){return nn(t(e))}}function Jt(e){this.stream=e}function Qt(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function en(e){return tn(function(){return e})()}function tn(e){function t(e){return e=s(e[0]*Sa,e[1]*Sa),[e[0]*p+u,l-e[1]*p]}function n(e){return e=s.invert((e[0]-u)/p,(l-e[1])/p),e&&[e[0]*Ea,e[1]*Ea]}function r(){s=It(a=an(v,b,y),o);var e=o(m,g);return u=f-e[0]*p,l=h+e[1]*p,i()}function i(){return c&&(c.valid=!1,c=null),t}var o,a,s,u,l,c,d=Kt(function(e,t){return e=o(e,t),[e[0]*p+u,l-e[1]*p]}),p=150,f=480,h=250,m=0,g=0,v=0,b=0,y=0,w=ks,_=Ce,x=null,C=null;return t.stream=function(e){return c&&(c.valid=!1),c=nn(w(a,d(_(e)))),c.valid=!0,c},t.clipAngle=function(e){return arguments.length?(w=null==e?(x=e,ks):Ft((x=+e)*Sa),i()):x},t.clipExtent=function(e){return arguments.length?(C=e,_=e?Gt(e[0][0],e[0][1],e[1][0],e[1][1]):Ce,i()):C},t.scale=function(e){return arguments.length?(p=+e,r()):p},t.translate=function(e){return arguments.length?(f=+e[0],h=+e[1],r()):[f,h]},t.center=function(e){return arguments.length?(m=e[0]%360*Sa,g=e[1]%360*Sa,r()):[m*Ea,g*Ea]},t.rotate=function(e){return arguments.length?(v=e[0]%360*Sa,b=e[1]%360*Sa,y=e.length>2?e[2]%360*Sa:0,r()):[v*Ea,b*Ea,y*Ea]},qo.rebind(t,d,"precision"),function(){return o=e.apply(this,arguments),t.invert=o.invert&&n,r()}}function nn(e){return Qt(e,function(t,n){e.point(t*Sa,n*Sa)})}function rn(e,t){return[e,t]}function on(e,t){return[e>Ca?e-Da:-Ca>e?e+Da:e,t]}function an(e,t,n){return e?t||n?It(un(e),ln(t,n)):un(e):t||n?ln(t,n):on}function sn(e){return function(t,n){return t+=e,[t>Ca?t-Da:-Ca>t?t+Da:t,n]}}function un(e){var t=sn(e);return t.invert=sn(-e),t}function ln(e,t){function n(e,t){var n=Math.cos(t),s=Math.cos(e)*n,u=Math.sin(e)*n,l=Math.sin(t),c=l*r+s*i;return[Math.atan2(u*o-c*a,s*r-l*i),Z(c*o+u*a)]}var r=Math.cos(e),i=Math.sin(e),o=Math.cos(t),a=Math.sin(t);return n.invert=function(e,t){var n=Math.cos(t),s=Math.cos(e)*n,u=Math.sin(e)*n,l=Math.sin(t),c=l*o-u*a;return[Math.atan2(u*o+l*a,s*r+c*i),Z(c*r-s*i)]},n}function cn(e,t){var n=Math.cos(e),r=Math.sin(e);return function(i,o,a,s){var u=a*t;null!=i?(i=dn(n,i),o=dn(n,o),(a>0?o>i:i>o)&&(i+=a*Da)):(i=e+a*Da,o=e-.5*u);for(var l,c=i;a>0?c>o:o>c;c-=u)s.point((l=gt([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],l[1])}}function dn(e,t){var n=ct(t);n[0]-=e,mt(n);var r=K(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Aa)%(2*Math.PI)}function pn(e,t,n){var r=qo.range(e,t-Aa,n).concat(t);return function(e){return r.map(function(t){return[e,t]})}}function fn(e,t,n){var r=qo.range(e,t-Aa,n).concat(t);return function(e){return r.map(function(t){return[t,e]})}}function hn(e){return e.source}function mn(e){return e.target}function gn(e,t,n,r){var i=Math.cos(t),o=Math.sin(t),a=Math.cos(r),s=Math.sin(r),u=i*Math.cos(e),l=i*Math.sin(e),c=a*Math.cos(n),d=a*Math.sin(n),p=2*Math.asin(Math.sqrt(te(r-t)+i*a*te(n-e))),f=1/Math.sin(p),h=p?function(e){var t=Math.sin(e*=p)*f,n=Math.sin(p-e)*f,r=n*u+t*c,i=n*l+t*d,a=n*o+t*s;return[Math.atan2(i,r)*Ea,Math.atan2(a,Math.sqrt(r*r+i*i))*Ea]}:function(){return[e*Ea,t*Ea]};return h.distance=p,h}function vn(){function e(e,i){var o=Math.sin(i*=Sa),a=Math.cos(i),s=oa((e*=Sa)-t),u=Math.cos(s);Os+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=r*o-n*a*u)*s),n*o+r*a*u),t=e,n=o,r=a}var t,n,r;Gs.point=function(i,o){t=i*Sa,n=Math.sin(o*=Sa),r=Math.cos(o),Gs.point=e},Gs.lineEnd=function(){Gs.point=Gs.lineEnd=m}}function bn(e,t){function n(t,n){var r=Math.cos(t),i=Math.cos(n),o=e(r*i);return[o*i*Math.sin(t),o*Math.sin(n)]}return n.invert=function(e,n){var r=Math.sqrt(e*e+n*n),i=t(r),o=Math.sin(i),a=Math.cos(i);return[Math.atan2(e*o,r*a),Math.asin(r&&n*o/r)]},n}function yn(e,t){function n(e,t){a>0?-ka+Aa>t&&(t=-ka+Aa):t>ka-Aa&&(t=ka-Aa);var n=a/Math.pow(i(t),o);return[n*Math.sin(o*e),a-n*Math.cos(o*e)]}var r=Math.cos(e),i=function(e){return Math.tan(Ca/4+e/2)},o=e===t?Math.sin(e):Math.log(r/Math.cos(t))/Math.log(i(t)/i(e)),a=r*Math.pow(i(e),o)/o;return o?(n.invert=function(e,t){var n=a-t,r=Y(o)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/o,2*Math.atan(Math.pow(a/r,1/o))-ka]},n):_n}function wn(e,t){function n(e,t){var n=o-t;return[n*Math.sin(i*e),o-n*Math.cos(i*e)]}var r=Math.cos(e),i=e===t?Math.sin(e):(r-Math.cos(t))/(t-e),o=r/i+e;return oa(i)<Aa?rn:(n.invert=function(e,t){var n=o-t;return[Math.atan2(e,n)/i,o-Y(i)*Math.sqrt(e*e+n*n)]},n)}function _n(e,t){return[e,Math.log(Math.tan(Ca/4+t/2))]}function xn(e){var t,n=en(e),r=n.scale,i=n.translate,o=n.clipExtent;return n.scale=function(){var e=r.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.translate=function(){var e=i.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.clipExtent=function(e){var a=o.apply(n,arguments);if(a===n){if(t=null==e){var s=Ca*r(),u=i();o([[u[0]-s,u[1]-s],[u[0]+s,u[1]+s]])}}else t&&(a=null);return a},n.clipExtent(null)}function Cn(e,t){return[Math.log(Math.tan(Ca/4+t/2)),-e]}function Dn(e){return e[0]}function kn(e){return e[1]}function An(e){for(var t=e.length,n=[0,1],r=2,i=2;t>i;i++){for(;r>1&&X(e[n[r-2]],e[n[r-1]],e[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function $n(e,t){return e[0]-t[0]||e[1]-t[1]}function Sn(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function En(e,t,n,r){var i=e[0],o=n[0],a=t[0]-i,s=r[0]-o,u=e[1],l=n[1],c=t[1]-u,d=r[1]-l,p=(s*(u-l)-d*(i-o))/(d*a-s*c);return[i+p*a,u+p*c]}function Tn(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}function Pn(){Jn(this),this.edge=this.site=this.circle=null}function Rn(e){var t=Xs.pop()||new Pn;return t.site=e,t}function Mn(e){Vn(e),Us.remove(e),Xs.push(e),Jn(e)}function Nn(e){var t=e.circle,n=t.x,r=t.cy,i={x:n,y:r},o=e.P,a=e.N,s=[e];Mn(e);for(var u=o;u.circle&&oa(n-u.circle.x)<Aa&&oa(r-u.circle.cy)<Aa;)o=u.P,s.unshift(u),Mn(u),u=o;s.unshift(u),Vn(u);for(var l=a;l.circle&&oa(n-l.circle.x)<Aa&&oa(r-l.circle.cy)<Aa;)a=l.N,s.push(l),Mn(l),l=a;s.push(l),Vn(l);var c,d=s.length;for(c=1;d>c;++c)l=s[c],u=s[c-1],Xn(l.edge,u.site,l.site,i);u=s[0],l=s[d-1],l.edge=zn(u.site,l.site,null,i),jn(u),jn(l)}function Fn(e){for(var t,n,r,i,o=e.x,a=e.y,s=Us._;s;)if(r=On(s,a)-o,r>Aa)s=s.L;else{if(i=o-Gn(s,a),!(i>Aa)){r>-Aa?(t=s.P,n=s):i>-Aa?(t=s,n=s.N):t=n=s;break}if(!s.R){t=s;break}s=s.R}var u=Rn(e);if(Us.insert(t,u),t||n){if(t===n)return Vn(t),n=Rn(t.site),Us.insert(u,n),u.edge=n.edge=zn(t.site,u.site),jn(t),void jn(n);if(!n)return void(u.edge=zn(t.site,u.site));Vn(t),Vn(n);var l=t.site,c=l.x,d=l.y,p=e.x-c,f=e.y-d,h=n.site,m=h.x-c,g=h.y-d,v=2*(p*g-f*m),b=p*p+f*f,y=m*m+g*g,w={x:(g*b-f*y)/v+c,y:(p*y-m*b)/v+d};Xn(n.edge,l,h,w),u.edge=zn(l,e,null,w),n.edge=zn(e,h,null,w),jn(t),jn(n)}}function On(e,t){var n=e.site,r=n.x,i=n.y,o=i-t;if(!o)return r;var a=e.P;if(!a)return-(1/0);n=a.site;var s=n.x,u=n.y,l=u-t;if(!l)return s;var c=s-r,d=1/o-1/l,p=c/l;return d?(-p+Math.sqrt(p*p-2*d*(c*c/(-2*l)-u+l/2+i-o/2)))/d+r:(r+s)/2}function Gn(e,t){var n=e.N;if(n)return On(n,t);var r=e.site;return r.y===t?r.x:1/0}function In(e){this.site=e,this.edges=[]}function Bn(e){for(var t,n,r,i,o,a,s,u,l,c,d=e[0][0],p=e[1][0],f=e[0][1],h=e[1][1],m=qs,g=m.length;g--;)if(o=m[g],o&&o.prepare())for(s=o.edges,u=s.length,a=0;u>a;)c=s[a].end(),r=c.x,i=c.y,l=s[++a%u].start(),t=l.x,n=l.y,(oa(r-t)>Aa||oa(i-n)>Aa)&&(s.splice(a,0,new Kn(Yn(o.site,c,oa(r-d)<Aa&&h-i>Aa?{x:d,y:oa(t-d)<Aa?n:h}:oa(i-h)<Aa&&p-r>Aa?{x:oa(n-h)<Aa?t:p,y:h}:oa(r-p)<Aa&&i-f>Aa?{x:p,y:oa(t-p)<Aa?n:f}:oa(i-f)<Aa&&r-d>Aa?{x:oa(n-f)<Aa?t:d,y:f}:null),o.site,null)),++u)}function Wn(e,t){return t.angle-e.angle}function Ln(){Jn(this),this.x=this.y=this.arc=this.site=this.cy=null}function jn(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,i=e.site,o=n.site;if(r!==o){var a=i.x,s=i.y,u=r.x-a,l=r.y-s,c=o.x-a,d=o.y-s,p=2*(u*d-l*c);if(!(p>=-$a)){var f=u*u+l*l,h=c*c+d*d,m=(d*f-l*h)/p,g=(u*h-c*f)/p,d=g+s,v=Ks.pop()||new Ln;v.arc=e,v.site=i,v.x=m+a,v.y=d+Math.sqrt(m*m+g*g),v.cy=d,e.circle=v;for(var b=null,y=Ys._;y;)if(v.y<y.y||v.y===y.y&&v.x<=y.x){if(!y.L){b=y.P;break}y=y.L}else{if(!y.R){b=y;break}y=y.R}Ys.insert(b,v),b||(zs=v)}}}}function Vn(e){var t=e.circle;t&&(t.P||(zs=t.N),Ys.remove(t),Ks.push(t),Jn(t),e.circle=null)}function Hn(e){for(var t,n=Hs,r=Ot(e[0][0],e[0][1],e[1][0],e[1][1]),i=n.length;i--;)t=n[i],(!qn(t,e)||!r(t)||oa(t.a.x-t.b.x)<Aa&&oa(t.a.y-t.b.y)<Aa)&&(t.a=t.b=null,n.splice(i,1))}function qn(e,t){var n=e.b;if(n)return!0;var r,i,o=e.a,a=t[0][0],s=t[1][0],u=t[0][1],l=t[1][1],c=e.l,d=e.r,p=c.x,f=c.y,h=d.x,m=d.y,g=(p+h)/2,v=(f+m)/2;if(m===f){if(a>g||g>=s)return;if(p>h){if(o){if(o.y>=l)return}else o={x:g,y:u};n={x:g,y:l}}else{if(o){if(o.y<u)return}else o={x:g,y:l};n={x:g,y:u}}}else if(r=(p-h)/(m-f),i=v-r*g,-1>r||r>1)if(p>h){if(o){if(o.y>=l)return}else o={x:(u-i)/r,y:u};n={x:(l-i)/r,y:l}}else{if(o){if(o.y<u)return}else o={x:(l-i)/r,y:l};n={x:(u-i)/r,y:u}}else if(m>f){if(o){if(o.x>=s)return}else o={x:a,y:r*a+i};n={x:s,y:r*s+i}}else{if(o){if(o.x<a)return}else o={x:s,y:r*s+i};n={x:a,y:r*a+i}}return e.a=o,e.b=n,!0}function Un(e,t){this.l=e,this.r=t,this.a=this.b=null}function zn(e,t,n,r){var i=new Un(e,t);return Hs.push(i),n&&Xn(i,e,t,n),r&&Xn(i,t,e,r),qs[e.i].edges.push(new Kn(i,e,t)),qs[t.i].edges.push(new Kn(i,t,e)),i}function Yn(e,t,n){var r=new Un(e,null);return r.a=t,r.b=n,Hs.push(r),r}function Xn(e,t,n,r){e.a||e.b?e.l===n?e.b=r:e.a=r:(e.a=r,e.l=t,e.r=n)}function Kn(e,t,n){var r=e.a,i=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function Zn(){this._=null}function Jn(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function Qn(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function er(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function tr(e){for(;e.L;)e=e.L;return e}function nr(e,t){var n,r,i,o=e.sort(rr).pop();for(Hs=[],qs=new Array(e.length),Us=new Zn,Ys=new Zn;;)if(i=zs,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))(o.x!==n||o.y!==r)&&(qs[o.i]=new In(o),Fn(o),n=o.x,r=o.y),o=e.pop();else{if(!i)break;Nn(i.arc)}t&&(Hn(t),Bn(t));var a={cells:qs,edges:Hs};return Us=Ys=Hs=qs=null,a}function rr(e,t){return t.y-e.y||t.x-e.x}function ir(e,t,n){return(e.x-n.x)*(t.y-e.y)-(e.x-t.x)*(n.y-e.y)}function or(e){return e.x}function ar(e){return e.y}function sr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function ur(e,t,n,r,i,o){if(!e(t,n,r,i,o)){var a=.5*(n+i),s=.5*(r+o),u=t.nodes;u[0]&&ur(e,u[0],n,r,a,s),u[1]&&ur(e,u[1],a,r,i,s),u[2]&&ur(e,u[2],n,s,a,o),u[3]&&ur(e,u[3],a,s,i,o)}}function lr(e,t){e=qo.rgb(e),t=qo.rgb(t);var n=e.r,r=e.g,i=e.b,o=t.r-n,a=t.g-r,s=t.b-i;return function(e){return"#"+ge(Math.round(n+o*e))+ge(Math.round(r+a*e))+ge(Math.round(i+s*e))}}function cr(e,t){var n,r={},i={};for(n in e)n in t?r[n]=fr(e[n],t[n]):i[n]=e[n];for(n in t)n in e||(i[n]=t[n]);return function(e){for(n in r)i[n]=r[n](e);return i}}function dr(e,t){return t-=e=+e,function(n){return e+t*n}}function pr(e,t){var n,r,i,o=Js.lastIndex=Qs.lastIndex=0,a=-1,s=[],u=[];for(e+="",t+="";(n=Js.exec(e))&&(r=Qs.exec(t));)(i=r.index)>o&&(i=t.substring(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:dr(n,r)})),o=Qs.lastIndex;return o<t.length&&(i=t.substring(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?(t=u[0].x,function(e){return t(e)+""}):function(){return t}:(t=u.length,function(e){for(var n,r=0;t>r;++r)s[(n=u[r]).i]=n.x(e);return s.join("")})}function fr(e,t){for(var n,r=qo.interpolators.length;--r>=0&&!(n=qo.interpolators[r](e,t)););return n}function hr(e,t){var n,r=[],i=[],o=e.length,a=t.length,s=Math.min(e.length,t.length);for(n=0;s>n;++n)r.push(fr(e[n],t[n]));for(;o>n;++n)i[n]=e[n];for(;a>n;++n)i[n]=t[n];return function(e){for(n=0;s>n;++n)i[n]=r[n](e);return i}}function mr(e){return function(t){return 0>=t?0:t>=1?1:e(t)}}function gr(e){return function(t){return 1-e(1-t)}}function vr(e){return function(t){return.5*(.5>t?e(2*t):2-e(2-2*t))}}function br(e){return e*e}function yr(e){return e*e*e}function wr(e){if(0>=e)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(.5>e?n:3*(e-t)+n-.75)}function _r(e){return function(t){return Math.pow(t,e)}}function xr(e){return 1-Math.cos(e*ka)}function Cr(e){return Math.pow(2,10*(e-1))}function Dr(e){return 1-Math.sqrt(1-e*e)}function kr(e,t){var n;return arguments.length<2&&(t=.45),arguments.length?n=t/Da*Math.asin(1/e):(e=1,n=t/4),function(r){return 1+e*Math.pow(2,-10*r)*Math.sin((r-n)*Da/t)}}function Ar(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function $r(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function Sr(e,t){e=qo.hcl(e),t=qo.hcl(t);var n=e.h,r=e.c,i=e.l,o=t.h-n,a=t.c-r,s=t.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?t.c:r),isNaN(o)?(o=0,n=isNaN(n)?t.h:n):o>180?o-=360:-180>o&&(o+=360),function(e){return ae(n+o*e,r+a*e,i+s*e)+""}}function Er(e,t){e=qo.hsl(e),t=qo.hsl(t);var n=e.h,r=e.s,i=e.l,o=t.h-n,a=t.s-r,s=t.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?t.s:r),isNaN(o)?(o=0,n=isNaN(n)?t.h:n):o>180?o-=360:-180>o&&(o+=360),function(e){return ie(n+o*e,r+a*e,i+s*e)+""}}function Tr(e,t){e=qo.lab(e),t=qo.lab(t);var n=e.l,r=e.a,i=e.b,o=t.l-n,a=t.a-r,s=t.b-i;return function(e){return ue(n+o*e,r+a*e,i+s*e)+""}}function Pr(e,t){return t-=e,function(n){return Math.round(e+t*n)}}function Rr(e){var t=[e.a,e.b],n=[e.c,e.d],r=Nr(t),i=Mr(t,n),o=Nr(Fr(n,t,-i))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*Ea,this.translate=[e.e,e.f],this.scale=[r,o],this.skew=o?Math.atan2(i,o)*Ea:0}function Mr(e,t){return e[0]*t[0]+e[1]*t[1]}function Nr(e){var t=Math.sqrt(Mr(e,e));return t&&(e[0]/=t,e[1]/=t),t}function Fr(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}function Or(e,t){var n,r=[],i=[],o=qo.transform(e),a=qo.transform(t),s=o.translate,u=a.translate,l=o.rotate,c=a.rotate,d=o.skew,p=a.skew,f=o.scale,h=a.scale;return s[0]!=u[0]||s[1]!=u[1]?(r.push("translate(",null,",",null,")"),i.push({i:1,x:dr(s[0],u[0])},{i:3,x:dr(s[1],u[1])})):u[0]||u[1]?r.push("translate("+u+")"):r.push(""),l!=c?(l-c>180?c+=360:c-l>180&&(l+=360),i.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:dr(l,c)})):c&&r.push(r.pop()+"rotate("+c+")"),d!=p?i.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:dr(d,p)}):p&&r.push(r.pop()+"skewX("+p+")"),f[0]!=h[0]||f[1]!=h[1]?(n=r.push(r.pop()+"scale(",null,",",null,")"),i.push({i:n-4,x:dr(f[0],h[0])},{i:n-2,x:dr(f[1],h[1])})):(1!=h[0]||1!=h[1])&&r.push(r.pop()+"scale("+h+")"),n=i.length,function(e){for(var t,o=-1;++o<n;)r[(t=i[o]).i]=t.x(e);return r.join("")}}function Gr(e,t){return t=t-(e=+e)?1/(t-e):0,function(n){return(n-e)*t}}function Ir(e,t){return t=t-(e=+e)?1/(t-e):0,function(n){return Math.max(0,Math.min(1,(n-e)*t))}}function Br(e){for(var t=e.source,n=e.target,r=Lr(t,n),i=[t];t!==r;)t=t.parent,i.push(t);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}function Wr(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function Lr(e,t){if(e===t)return e;for(var n=Wr(e),r=Wr(t),i=n.pop(),o=r.pop(),a=null;i===o;)a=i,i=n.pop(),o=r.pop();return a}function jr(e){e.fixed|=2}function Vr(e){e.fixed&=-7}function Hr(e){e.fixed|=4,e.px=e.x,e.py=e.y}function qr(e){e.fixed&=-5}function Ur(e,t,n){var r=0,i=0;if(e.charge=0,!e.leaf)for(var o,a=e.nodes,s=a.length,u=-1;++u<s;)o=a[u],null!=o&&(Ur(o,t,n),e.charge+=o.charge,r+=o.charge*o.cx,i+=o.charge*o.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var l=t*n[e.point.index];e.charge+=e.pointCharge=l,r+=l*e.point.x,i+=l*e.point.y}e.cx=r/e.charge,e.cy=i/e.charge}function zr(e,t){return qo.rebind(e,t,"sort","children","value"),e.nodes=e,e.links=Qr,e}function Yr(e,t){for(var n=[e];null!=(e=n.pop());)if(t(e),(i=e.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function Xr(e,t){for(var n=[e],r=[];null!=(e=n.pop());)if(r.push(e),(o=e.children)&&(i=o.length))for(var i,o,a=-1;++a<i;)n.push(o[a]);for(;null!=(e=r.pop());)t(e)}function Kr(e){return e.children}function Zr(e){return e.value}function Jr(e,t){return t.value-e.value}function Qr(e){return qo.merge(e.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function ei(e){return e.x}function ti(e){return e.y}function ni(e,t,n){e.y0=t,e.y=n}function ri(e){return qo.range(e.length)}function ii(e){for(var t=-1,n=e[0].length,r=[];++t<n;)r[t]=0;return r}function oi(e){for(var t,n=1,r=0,i=e[0][1],o=e.length;o>n;++n)(t=e[n][1])>i&&(r=n,i=t);return r}function ai(e){return e.reduce(si,0)}function si(e,t){return e+t[1]}function ui(e,t){return li(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function li(e,t){for(var n=-1,r=+e[0],i=(e[1]-r)/t,o=[];++n<=t;)o[n]=i*n+r;return o}function ci(e){return[qo.min(e),qo.max(e)]}function di(e,t){return e.value-t.value}function pi(e,t){var n=e._pack_next;
e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function fi(e,t){e._pack_next=t,t._pack_prev=e}function hi(e,t){var n=t.x-e.x,r=t.y-e.y,i=e.r+t.r;return.999*i*i>n*n+r*r}function mi(e){function t(e){c=Math.min(e.x-e.r,c),d=Math.max(e.x+e.r,d),p=Math.min(e.y-e.r,p),f=Math.max(e.y+e.r,f)}if((n=e.children)&&(l=n.length)){var n,r,i,o,a,s,u,l,c=1/0,d=-(1/0),p=1/0,f=-(1/0);if(n.forEach(gi),r=n[0],r.x=-r.r,r.y=0,t(r),l>1&&(i=n[1],i.x=i.r,i.y=0,t(i),l>2))for(o=n[2],yi(r,i,o),t(o),pi(r,o),r._pack_prev=o,pi(o,i),i=r._pack_next,a=3;l>a;a++){yi(r,i,o=n[a]);var h=0,m=1,g=1;for(s=i._pack_next;s!==i;s=s._pack_next,m++)if(hi(s,o)){h=1;break}if(1==h)for(u=r._pack_prev;u!==s._pack_prev&&!hi(u,o);u=u._pack_prev,g++);h?(g>m||m==g&&i.r<r.r?fi(r,i=s):fi(r=u,i),a--):(pi(r,o),i=o,t(o))}var v=(c+d)/2,b=(p+f)/2,y=0;for(a=0;l>a;a++)o=n[a],o.x-=v,o.y-=b,y=Math.max(y,o.r+Math.sqrt(o.x*o.x+o.y*o.y));e.r=y,n.forEach(vi)}}function gi(e){e._pack_next=e._pack_prev=e}function vi(e){delete e._pack_next,delete e._pack_prev}function bi(e,t,n,r){var i=e.children;if(e.x=t+=r*e.x,e.y=n+=r*e.y,e.r*=r,i)for(var o=-1,a=i.length;++o<a;)bi(i[o],t,n,r)}function yi(e,t,n){var r=e.r+n.r,i=t.x-e.x,o=t.y-e.y;if(r&&(i||o)){var a=t.r+n.r,s=i*i+o*o;a*=a,r*=r;var u=.5+(r-a)/(2*s),l=Math.sqrt(Math.max(0,2*a*(r+s)-(r-=s)*r-a*a))/(2*s);n.x=e.x+u*i+l*o,n.y=e.y+u*o-l*i}else n.x=e.x+r,n.y=e.y}function wi(e,t){return e.parent==t.parent?1:2}function _i(e){var t=e.children;return t.length?t[0]:e.t}function xi(e){var t,n=e.children;return(t=n.length)?n[t-1]:e.t}function Ci(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function Di(e){for(var t,n=0,r=0,i=e.children,o=i.length;--o>=0;)t=i[o],t.z+=n,t.m+=n,n+=t.s+(r+=t.c)}function ki(e,t,n){return e.a.parent===t.parent?e.a:n}function Ai(e){return 1+qo.max(e,function(e){return e.y})}function $i(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}function Si(e){var t=e.children;return t&&t.length?Si(t[0]):e}function Ei(e){var t,n=e.children;return n&&(t=n.length)?Ei(n[t-1]):e}function Ti(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function Pi(e,t){var n=e.x+t[3],r=e.y+t[0],i=e.dx-t[1]-t[3],o=e.dy-t[0]-t[2];return 0>i&&(n+=i/2,i=0),0>o&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function Ri(e){var t=e[0],n=e[e.length-1];return n>t?[t,n]:[n,t]}function Mi(e){return e.rangeExtent?e.rangeExtent():Ri(e.range())}function Ni(e,t,n,r){var i=n(e[0],e[1]),o=r(t[0],t[1]);return function(e){return o(i(e))}}function Fi(e,t){var n,r=0,i=e.length-1,o=e[r],a=e[i];return o>a&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function Oi(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:cu}function Gi(e,t,n,r){var i=[],o=[],a=0,s=Math.min(e.length,t.length)-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<=s;)i.push(n(e[a-1],e[a])),o.push(r(t[a-1],t[a]));return function(t){var n=qo.bisect(e,t,1,s)-1;return o[n](i[n](t))}}function Ii(e,t,n,r){function i(){var i=Math.min(e.length,t.length)>2?Gi:Ni,u=r?Ir:Gr;return a=i(e,t,u,n),s=i(t,e,u,fr),o}function o(e){return a(e)}var a,s;return o.invert=function(e){return s(e)},o.domain=function(t){return arguments.length?(e=t.map(Number),i()):e},o.range=function(e){return arguments.length?(t=e,i()):t},o.rangeRound=function(e){return o.range(e).interpolate(Pr)},o.clamp=function(e){return arguments.length?(r=e,i()):r},o.interpolate=function(e){return arguments.length?(n=e,i()):n},o.ticks=function(t){return ji(e,t)},o.tickFormat=function(t,n){return Vi(e,t,n)},o.nice=function(t){return Wi(e,t),i()},o.copy=function(){return Ii(e,t,n,r)},i()}function Bi(e,t){return qo.rebind(e,t,"range","rangeRound","interpolate","clamp")}function Wi(e,t){return Fi(e,Oi(Li(e,t)[2]))}function Li(e,t){null==t&&(t=10);var n=Ri(e),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),o=t/r*i;return.15>=o?i*=10:.35>=o?i*=5:.75>=o&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function ji(e,t){return qo.range.apply(qo,Li(e,t))}function Vi(e,t,n){var r=Li(e,t);if(n){var i=Ja.exec(n);if(i.shift(),"s"===i[8]){var o=qo.formatPrefix(Math.max(oa(r[0]),oa(r[1])));return i[7]||(i[7]="."+Hi(o.scale(r[2]))),i[8]="f",n=qo.format(i.join("")),function(e){return n(o.scale(e))+o.symbol}}i[7]||(i[7]="."+qi(i[8],r)),n=i.join("")}else n=",."+Hi(r[2])+"f";return qo.format(n)}function Hi(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function qi(e,t){var n=Hi(t[2]);return e in du?Math.abs(n-Hi(Math.max(oa(t[0]),oa(t[1]))))+ +("e"!==e):n-2*("%"===e)}function Ui(e,t,n,r){function i(e){return(n?Math.log(0>e?0:e):-Math.log(e>0?0:-e))/Math.log(t)}function o(e){return n?Math.pow(t,e):-Math.pow(t,-e)}function a(t){return e(i(t))}return a.invert=function(t){return o(e.invert(t))},a.domain=function(t){return arguments.length?(n=t[0]>=0,e.domain((r=t.map(Number)).map(i)),a):r},a.base=function(n){return arguments.length?(t=+n,e.domain(r.map(i)),a):t},a.nice=function(){var t=Fi(r.map(i),n?Math:fu);return e.domain(t),r=t.map(o),a},a.ticks=function(){var e=Ri(r),a=[],s=e[0],u=e[1],l=Math.floor(i(s)),c=Math.ceil(i(u)),d=t%1?2:t;if(isFinite(c-l)){if(n){for(;c>l;l++)for(var p=1;d>p;p++)a.push(o(l)*p);a.push(o(l))}else for(a.push(o(l));l++<c;)for(var p=d-1;p>0;p--)a.push(o(l)*p);for(l=0;a[l]<s;l++);for(c=a.length;a[c-1]>u;c--);a=a.slice(l,c)}return a},a.tickFormat=function(e,t){if(!arguments.length)return pu;arguments.length<2?t=pu:"function"!=typeof t&&(t=qo.format(t));var r,s=Math.max(.1,e/a.ticks().length),u=n?(r=1e-12,Math.ceil):(r=-1e-12,Math.floor);return function(e){return e/o(u(i(e)+r))<=s?t(e):""}},a.copy=function(){return Ui(e.copy(),t,n,r)},Bi(a,e)}function zi(e,t,n){function r(t){return e(i(t))}var i=Yi(t),o=Yi(1/t);return r.invert=function(t){return o(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain((n=t.map(Number)).map(i)),r):n},r.ticks=function(e){return ji(n,e)},r.tickFormat=function(e,t){return Vi(n,e,t)},r.nice=function(e){return r.domain(Wi(n,e))},r.exponent=function(a){return arguments.length?(i=Yi(t=a),o=Yi(1/t),e.domain(n.map(i)),r):t},r.copy=function(){return zi(e.copy(),t,n)},Bi(r,e)}function Yi(e){return function(t){return 0>t?-Math.pow(-t,e):Math.pow(t,e)}}function Xi(e,t){function n(n){return o[((i.get(n)||("range"===t.t?i.set(n,e.push(n)):NaN))-1)%o.length]}function r(t,n){return qo.range(e.length).map(function(e){return t+n*e})}var i,o,s;return n.domain=function(r){if(!arguments.length)return e;e=[],i=new a;for(var o,s=-1,u=r.length;++s<u;)i.has(o=r[s])||i.set(o,e.push(o));return n[t.t].apply(n,t.a)},n.range=function(e){return arguments.length?(o=e,s=0,t={t:"range",a:arguments},n):o},n.rangePoints=function(i,a){arguments.length<2&&(a=0);var u=i[0],l=i[1],c=(l-u)/(Math.max(1,e.length-1)+a);return o=r(e.length<2?(u+l)/2:u+c*a/2,c),s=0,t={t:"rangePoints",a:arguments},n},n.rangeBands=function(i,a,u){arguments.length<2&&(a=0),arguments.length<3&&(u=a);var l=i[1]<i[0],c=i[l-0],d=i[1-l],p=(d-c)/(e.length-a+2*u);return o=r(c+p*u,p),l&&o.reverse(),s=p*(1-a),t={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(i,a,u){arguments.length<2&&(a=0),arguments.length<3&&(u=a);var l=i[1]<i[0],c=i[l-0],d=i[1-l],p=Math.floor((d-c)/(e.length-a+2*u)),f=d-c-(e.length-a)*p;return o=r(c+Math.round(f/2),p),l&&o.reverse(),s=Math.round(p*(1-a)),t={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return s},n.rangeExtent=function(){return Ri(t.a[0])},n.copy=function(){return Xi(e,t)},n.domain(e)}function Ki(n,r){function i(){var e=0,t=r.length;for(a=[];++e<t;)a[e-1]=qo.quantile(n,e/t);return o}function o(e){return isNaN(e=+e)?void 0:r[qo.bisect(a,e)]}var a;return o.domain=function(r){return arguments.length?(n=r.filter(t).sort(e),i()):n},o.range=function(e){return arguments.length?(r=e,i()):r},o.quantiles=function(){return a},o.invertExtent=function(e){return e=r.indexOf(e),0>e?[NaN,NaN]:[e>0?a[e-1]:n[0],e<a.length?a[e]:n[n.length-1]]},o.copy=function(){return Ki(n,r)},i()}function Zi(e,t,n){function r(t){return n[Math.max(0,Math.min(a,Math.floor(o*(t-e))))]}function i(){return o=n.length/(t-e),a=n.length-1,r}var o,a;return r.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],i()):[e,t]},r.range=function(e){return arguments.length?(n=e,i()):n},r.invertExtent=function(t){return t=n.indexOf(t),t=0>t?NaN:t/o+e,[t,t+1/o]},r.copy=function(){return Zi(e,t,n)},i()}function Ji(e,t){function n(n){return n>=n?t[qo.bisect(e,n)]:void 0}return n.domain=function(t){return arguments.length?(e=t,n):e},n.range=function(e){return arguments.length?(t=e,n):t},n.invertExtent=function(n){return n=t.indexOf(n),[e[n-1],e[n]]},n.copy=function(){return Ji(e,t)},n}function Qi(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=n.map(t),t):e},t.ticks=function(t){return ji(e,t)},t.tickFormat=function(t,n){return Vi(e,t,n)},t.copy=function(){return Qi(e)},t}function eo(e){return e.innerRadius}function to(e){return e.outerRadius}function no(e){return e.startAngle}function ro(e){return e.endAngle}function io(e){function t(t){function a(){l.push("M",o(e(c),s))}for(var u,l=[],c=[],d=-1,p=t.length,f=xe(n),h=xe(r);++d<p;)i.call(this,u=t[d],d)?c.push([+f.call(this,u,d),+h.call(this,u,d)]):c.length&&(a(),c=[]);return c.length&&a(),l.length?l.join(""):null}var n=Dn,r=kn,i=Ct,o=oo,a=o.key,s=.7;return t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(r=e,t):r},t.defined=function(e){return arguments.length?(i=e,t):i},t.interpolate=function(e){return arguments.length?(a="function"==typeof e?o=e:(o=wu.get(e)||oo).key,t):a},t.tension=function(e){return arguments.length?(s=e,t):s},t}function oo(e){return e.join("L")}function ao(e){return oo(e)+"Z"}function so(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r[0]+(r=e[t])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")}function uo(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("V",(r=e[t])[1],"H",r[0]);return i.join("")}function lo(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r=e[t])[0],"V",r[1]);return i.join("")}function co(e,t){return e.length<4?oo(e):e[1]+ho(e.slice(1,e.length-1),mo(e,t))}function po(e,t){return e.length<3?oo(e):e[0]+ho((e.push(e[0]),e),mo([e[e.length-2]].concat(e,[e[1]]),t))}function fo(e,t){return e.length<3?oo(e):e[0]+ho(e,mo(e,t))}function ho(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return oo(e);var n=e.length!=t.length,r="",i=e[0],o=e[1],a=t[0],s=a,u=1;if(n&&(r+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=e[1],u=2),t.length>1){s=t[1],o=e[u],u++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var l=2;l<t.length;l++,u++)o=e[u],s=t[l],r+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var c=e[u];r+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+c[0]+","+c[1]}return r}function mo(e,t){for(var n,r=[],i=(1-t)/2,o=e[0],a=e[1],s=1,u=e.length;++s<u;)n=o,o=a,a=e[s],r.push([i*(a[0]-n[0]),i*(a[1]-n[1])]);return r}function go(e){if(e.length<3)return oo(e);var t=1,n=e.length,r=e[0],i=r[0],o=r[1],a=[i,i,i,(r=e[1])[0]],s=[o,o,o,r[1]],u=[i,",",o,"L",wo(Cu,a),",",wo(Cu,s)];for(e.push(e[n-1]);++t<=n;)r=e[t],a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),_o(u,a,s);return e.pop(),u.push("L",r),u.join("")}function vo(e){if(e.length<4)return oo(e);for(var t,n=[],r=-1,i=e.length,o=[0],a=[0];++r<3;)t=e[r],o.push(t[0]),a.push(t[1]);for(n.push(wo(Cu,o)+","+wo(Cu,a)),--r;++r<i;)t=e[r],o.shift(),o.push(t[0]),a.shift(),a.push(t[1]),_o(n,o,a);return n.join("")}function bo(e){for(var t,n,r=-1,i=e.length,o=i+4,a=[],s=[];++r<4;)n=e[r%i],a.push(n[0]),s.push(n[1]);for(t=[wo(Cu,a),",",wo(Cu,s)],--r;++r<o;)n=e[r%i],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),_o(t,a,s);return t.join("")}function yo(e,t){var n=e.length-1;if(n)for(var r,i,o=e[0][0],a=e[0][1],s=e[n][0]-o,u=e[n][1]-a,l=-1;++l<=n;)r=e[l],i=l/n,r[0]=t*r[0]+(1-t)*(o+i*s),r[1]=t*r[1]+(1-t)*(a+i*u);return go(e)}function wo(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function _o(e,t,n){e.push("C",wo(_u,t),",",wo(_u,n),",",wo(xu,t),",",wo(xu,n),",",wo(Cu,t),",",wo(Cu,n))}function xo(e,t){return(t[1]-e[1])/(t[0]-e[0])}function Co(e){for(var t=0,n=e.length-1,r=[],i=e[0],o=e[1],a=r[0]=xo(i,o);++t<n;)r[t]=(a+(a=xo(i=o,o=e[t+1])))/2;return r[t]=a,r}function Do(e){for(var t,n,r,i,o=[],a=Co(e),s=-1,u=e.length-1;++s<u;)t=xo(e[s],e[s+1]),oa(t)<Aa?a[s]=a[s+1]=0:(n=a[s]/t,r=a[s+1]/t,i=n*n+r*r,i>9&&(i=3*t/Math.sqrt(i),a[s]=i*n,a[s+1]=i*r));for(s=-1;++s<=u;)i=(e[Math.min(u,s+1)][0]-e[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([i||0,a[s]*i||0]);return o}function ko(e){return e.length<3?oo(e):e[0]+ho(e,Do(e))}function Ao(e){for(var t,n,r,i=-1,o=e.length;++i<o;)t=e[i],n=t[0],r=t[1]+bu,t[0]=n*Math.cos(r),t[1]=n*Math.sin(r);return e}function $o(e){function t(t){function u(){m.push("M",s(e(v),d),c,l(e(g.reverse()),d),"Z")}for(var p,f,h,m=[],g=[],v=[],b=-1,y=t.length,w=xe(n),_=xe(i),x=n===r?function(){return f}:xe(r),C=i===o?function(){return h}:xe(o);++b<y;)a.call(this,p=t[b],b)?(g.push([f=+w.call(this,p,b),h=+_.call(this,p,b)]),v.push([+x.call(this,p,b),+C.call(this,p,b)])):g.length&&(u(),g=[],v=[]);return g.length&&u(),m.length?m.join(""):null}var n=Dn,r=Dn,i=0,o=kn,a=Ct,s=oo,u=s.key,l=s,c="L",d=.7;return t.x=function(e){return arguments.length?(n=r=e,t):r},t.x0=function(e){return arguments.length?(n=e,t):n},t.x1=function(e){return arguments.length?(r=e,t):r},t.y=function(e){return arguments.length?(i=o=e,t):o},t.y0=function(e){return arguments.length?(i=e,t):i},t.y1=function(e){return arguments.length?(o=e,t):o},t.defined=function(e){return arguments.length?(a=e,t):a},t.interpolate=function(e){return arguments.length?(u="function"==typeof e?s=e:(s=wu.get(e)||oo).key,l=s.reverse||s,c=s.closed?"M":"L",t):u},t.tension=function(e){return arguments.length?(d=e,t):d},t}function So(e){return e.radius}function Eo(e){return[e.x,e.y]}function To(e){return function(){var t=e.apply(this,arguments),n=t[0],r=t[1]+bu;return[n*Math.cos(r),n*Math.sin(r)]}}function Po(){return 64}function Ro(){return"circle"}function Mo(e){var t=Math.sqrt(e/Ca);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function No(e,t){return ca(e,Eu),e.id=t,e}function Fo(e,t,n,r){var i=e.id;return O(e,"function"==typeof n?function(e,o,a){e.__transition__[i].tween.set(t,r(n.call(e,e.__data__,o,a)))}:(n=r(n),function(e){e.__transition__[i].tween.set(t,n)}))}function Oo(e){return null==e&&(e=""),function(){this.textContent=e}}function Go(e,t,n,r){var i=e.__transition__||(e.__transition__={active:0,count:0}),o=i[n];if(!o){var s=r.time;o=i[n]={tween:new a,time:s,ease:r.ease,delay:r.delay,duration:r.duration},++i.count,qo.timer(function(r){function a(r){return i.active>n?l():(i.active=n,o.event&&o.event.start.call(e,c,t),o.tween.forEach(function(n,r){(r=r.call(e,c,t))&&m.push(r)}),void qo.timer(function(){return h.c=u(r||1)?Ct:u,1},0,s))}function u(r){if(i.active!==n)return l();for(var a=r/f,s=d(a),u=m.length;u>0;)m[--u].call(e,s);return a>=1?(o.event&&o.event.end.call(e,c,t),l()):void 0}function l(){return--i.count?delete i[n]:delete e.__transition__,1}var c=e.__data__,d=o.ease,p=o.delay,f=o.duration,h=Xa,m=[];return h.t=p+s,r>=p?a(r-p):void(h.c=a)},0,s)}}function Io(e,t){e.attr("transform",function(e){return"translate("+t(e)+",0)"})}function Bo(e,t){e.attr("transform",function(e){return"translate(0,"+t(e)+")"})}function Wo(e){return e.toISOString()}function Lo(e,t,n){function r(t){return e(t)}function i(e,n){var r=e[1]-e[0],i=r/n,o=qo.bisect(Iu,i);return o==Iu.length?[t.year,Li(e.map(function(e){return e/31536e6}),n)[2]]:o?t[i/Iu[o-1]<Iu[o]/i?o-1:o]:[Lu,Li(e,n)[2]]}return r.invert=function(t){return jo(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain(t),r):e.domain().map(jo)},r.nice=function(e,t){function n(n){return!isNaN(n)&&!e.range(n,jo(+n+1),t).length}var o=r.domain(),a=Ri(o),s=null==e?i(a,10):"number"==typeof e&&i(a,e);return s&&(e=s[0],t=s[1]),r.domain(Fi(o,t>1?{floor:function(t){for(;n(t=e.floor(t));)t=jo(t-1);return t},ceil:function(t){for(;n(t=e.ceil(t));)t=jo(+t+1);return t}}:e))},r.ticks=function(e,t){var n=Ri(r.domain()),o=null==e?i(n,10):"number"==typeof e?i(n,e):!e.range&&[{range:e},t];return o&&(e=o[0],t=o[1]),e.range(n[0],jo(+n[1]+1),1>t?1:t)},r.tickFormat=function(){return n},r.copy=function(){return Lo(e.copy(),t,n)},Bi(r,e)}function jo(e){return new Date(e)}function Vo(e){return JSON.parse(e.responseText)}function Ho(e){var t=Yo.createRange();return t.selectNode(Yo.body),t.createContextualFragment(e.responseText)}var qo={version:"3.4.11"};Date.now||(Date.now=function(){return+new Date});var Uo=[].slice,zo=function(e){return Uo.call(e)},Yo=document,Xo=Yo.documentElement,Ko=window;try{zo(Xo.childNodes)[0].nodeType}catch(Zo){zo=function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n}}try{Yo.createElement("div").style.setProperty("opacity",0,"")}catch(Jo){var Qo=Ko.Element.prototype,ea=Qo.setAttribute,ta=Qo.setAttributeNS,na=Ko.CSSStyleDeclaration.prototype,ra=na.setProperty;Qo.setAttribute=function(e,t){ea.call(this,e,t+"")},Qo.setAttributeNS=function(e,t,n){ta.call(this,e,t,n+"")},na.setProperty=function(e,t,n){ra.call(this,e,t+"",n)}}qo.ascending=e,qo.descending=function(e,t){return e>t?-1:t>e?1:t>=e?0:NaN},qo.min=function(e,t){var n,r,i=-1,o=e.length;if(1===arguments.length){for(;++i<o&&!(null!=(n=e[i])&&n>=n);)n=void 0;for(;++i<o;)null!=(r=e[i])&&n>r&&(n=r)}else{for(;++i<o&&!(null!=(n=t.call(e,e[i],i))&&n>=n);)n=void 0;for(;++i<o;)null!=(r=t.call(e,e[i],i))&&n>r&&(n=r)}return n},qo.max=function(e,t){var n,r,i=-1,o=e.length;if(1===arguments.length){for(;++i<o&&!(null!=(n=e[i])&&n>=n);)n=void 0;for(;++i<o;)null!=(r=e[i])&&r>n&&(n=r)}else{for(;++i<o&&!(null!=(n=t.call(e,e[i],i))&&n>=n);)n=void 0;for(;++i<o;)null!=(r=t.call(e,e[i],i))&&r>n&&(n=r)}return n},qo.extent=function(e,t){var n,r,i,o=-1,a=e.length;if(1===arguments.length){for(;++o<a&&!(null!=(n=i=e[o])&&n>=n);)n=i=void 0;for(;++o<a;)null!=(r=e[o])&&(n>r&&(n=r),r>i&&(i=r))}else{for(;++o<a&&!(null!=(n=i=t.call(e,e[o],o))&&n>=n);)n=void 0;for(;++o<a;)null!=(r=t.call(e,e[o],o))&&(n>r&&(n=r),r>i&&(i=r))}return[n,i]},qo.sum=function(e,t){var n,r=0,i=e.length,o=-1;if(1===arguments.length)for(;++o<i;)isNaN(n=+e[o])||(r+=n);else for(;++o<i;)isNaN(n=+t.call(e,e[o],o))||(r+=n);return r},qo.mean=function(e,n){var r,i=0,o=e.length,a=-1,s=o;if(1===arguments.length)for(;++a<o;)t(r=e[a])?i+=r:--s;else for(;++a<o;)t(r=n.call(e,e[a],a))?i+=r:--s;return s?i/s:void 0},qo.quantile=function(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),i=+e[r-1],o=n-r;return o?i+o*(e[r]-i):i},qo.median=function(n,r){return arguments.length>1&&(n=n.map(r)),n=n.filter(t),n.length?qo.quantile(n.sort(e),.5):void 0};var ia=n(e);qo.bisectLeft=ia.left,qo.bisect=qo.bisectRight=ia.right,qo.bisector=function(t){return n(1===t.length?function(n,r){return e(t(n),r)}:t)},qo.shuffle=function(e){for(var t,n,r=e.length;r;)n=Math.random()*r--|0,t=e[r],e[r]=e[n],e[n]=t;return e},qo.permute=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},qo.pairs=function(e){for(var t,n=0,r=e.length-1,i=e[0],o=new Array(0>r?0:r);r>n;)o[n]=[t=i,i=e[++n]];return o},qo.zip=function(){if(!(i=arguments.length))return[];for(var e=-1,t=qo.min(arguments,r),n=new Array(t);++e<t;)for(var i,o=-1,a=n[e]=new Array(i);++o<i;)a[o]=arguments[o][e];return n},qo.transpose=function(e){return qo.zip.apply(qo,e)},qo.keys=function(e){var t=[];for(var n in e)t.push(n);return t},qo.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},qo.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},qo.merge=function(e){for(var t,n,r,i=e.length,o=-1,a=0;++o<i;)a+=e[o].length;for(n=new Array(a);--i>=0;)for(r=e[i],t=r.length;--t>=0;)n[--a]=r[t];return n};var oa=Math.abs;qo.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n===1/0)throw new Error("infinite range");var r,o=[],a=i(oa(n)),s=-1;if(e*=a,t*=a,n*=a,0>n)for(;(r=e+n*++s)>t;)o.push(r/a);else for(;(r=e+n*++s)<t;)o.push(r/a);return o},qo.map=function(e){var t=new a;if(e instanceof a)e.forEach(function(e,n){t.set(e,n)});else for(var n in e)t.set(n,e[n]);return t},o(a,{has:s,get:function(e){return this[aa+e]},set:function(e,t){return this[aa+e]=t},remove:u,keys:l,values:function(){var e=[];return this.forEach(function(t,n){e.push(n)}),e},entries:function(){var e=[];return this.forEach(function(t,n){e.push({key:t,value:n})}),e},size:c,empty:d,forEach:function(e){for(var t in this)t.charCodeAt(0)===sa&&e.call(this,t.substring(1),this[t])}});var aa="\x00",sa=aa.charCodeAt(0);qo.nest=function(){function e(t,s,u){if(u>=o.length)return r?r.call(i,s):n?s.sort(n):s;for(var l,c,d,p,f=-1,h=s.length,m=o[u++],g=new a;++f<h;)(p=g.get(l=m(c=s[f])))?p.push(c):g.set(l,[c]);return t?(c=t(),d=function(n,r){c.set(n,e(t,r,u))}):(c={},d=function(n,r){c[n]=e(t,r,u)}),g.forEach(d),c}function t(e,n){if(n>=o.length)return e;var r=[],i=s[n++];return e.forEach(function(e,i){r.push({key:e,values:t(i,n)})}),i?r.sort(function(e,t){return i(e.key,t.key)}):r}var n,r,i={},o=[],s=[];return i.map=function(t,n){return e(n,t,0)},i.entries=function(n){return t(e(qo.map,n,0),0)},i.key=function(e){return o.push(e),i},i.sortKeys=function(e){return s[o.length-1]=e,i},i.sortValues=function(e){return n=e,i},i.rollup=function(e){return r=e,i},i},qo.set=function(e){var t=new p;if(e)for(var n=0,r=e.length;r>n;++n)t.add(e[n]);return t},o(p,{has:s,add:function(e){return this[aa+e]=!0,e},remove:function(e){return e=aa+e,e in this&&delete this[e]},values:l,size:c,empty:d,forEach:function(e){for(var t in this)t.charCodeAt(0)===sa&&e.call(this,t.substring(1))}}),qo.behavior={},qo.rebind=function(e,t){for(var n,r=1,i=arguments.length;++r<i;)e[n=arguments[r]]=f(e,t,t[n]);return e};var ua=["webkit","ms","moz","Moz","o","O"];qo.dispatch=function(){for(var e=new g,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=v(e);return e},g.prototype.on=function(e,t){var n=e.indexOf("."),r="";if(n>=0&&(r=e.substring(n+1),e=e.substring(0,n)),e)return arguments.length<2?this[e].on(r):this[e].on(r,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(r,null);return this}},qo.event=null,qo.requote=function(e){return e.replace(la,"\\$&")};var la=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,ca={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]},da=function(e,t){return t.querySelector(e)},pa=function(e,t){return t.querySelectorAll(e)},fa=Xo.matches||Xo[h(Xo,"matchesSelector")],ha=function(e,t){return fa.call(e,t)};"function"==typeof Sizzle&&(da=function(e,t){return Sizzle(e,t)[0]||null},pa=Sizzle,ha=Sizzle.matchesSelector),qo.selection=function(){return ba};var ma=qo.selection.prototype=[];ma.select=function(e){var t,n,r,i,o=[];e=x(e);for(var a=-1,s=this.length;++a<s;){o.push(t=[]),t.parentNode=(r=this[a]).parentNode;for(var u=-1,l=r.length;++u<l;)(i=r[u])?(t.push(n=e.call(i,i.__data__,u,a)),n&&"__data__"in i&&(n.__data__=i.__data__)):t.push(null)}return _(o)},ma.selectAll=function(e){var t,n,r=[];e=C(e);for(var i=-1,o=this.length;++i<o;)for(var a=this[i],s=-1,u=a.length;++s<u;)(n=a[s])&&(r.push(t=zo(e.call(n,n.__data__,s,i))),t.parentNode=n);return _(r)};var ga={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};qo.ns={prefix:ga,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&(n=e.substring(0,t),e=e.substring(t+1)),ga.hasOwnProperty(n)?{space:ga[n],local:e}:e}},ma.attr=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node();return e=qo.ns.qualify(e),e.local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(D(t,e[t]));return this}return this.each(D(e,t))},ma.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node(),r=(e=$(e)).length,i=-1;if(t=n.classList){for(;++i<r;)if(!t.contains(e[i]))return!1}else for(t=n.getAttribute("class");++i<r;)if(!A(e[i]).test(t))return!1;return!0}for(t in e)this.each(S(t,e[t]));return this}return this.each(S(e,t))},ma.style=function(e,t,n){var r=arguments.length;if(3>r){if("string"!=typeof e){2>r&&(t="");for(n in e)this.each(T(n,e[n],t));return this}if(2>r)return Ko.getComputedStyle(this.node(),null).getPropertyValue(e);n=""}return this.each(T(e,t,n))},ma.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each(P(t,e[t]));return this}return this.each(P(e,t))},ma.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},ma.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},ma.append=function(e){return e=R(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},ma.insert=function(e,t){return e=R(e),t=x(t),this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)})},ma.remove=function(){return this.each(function(){var e=this.parentNode;e&&e.removeChild(this)})},ma.data=function(e,t){function n(e,n){var r,i,o,s=e.length,d=n.length,p=Math.min(s,d),f=new Array(d),h=new Array(d),m=new Array(s);if(t){var g,v=new a,b=new a,y=[];for(r=-1;++r<s;)g=t.call(i=e[r],i.__data__,r),v.has(g)?m[r]=i:v.set(g,i),y.push(g);for(r=-1;++r<d;)g=t.call(n,o=n[r],r),(i=v.get(g))?(f[r]=i,i.__data__=o):b.has(g)||(h[r]=M(o)),b.set(g,o),v.remove(g);for(r=-1;++r<s;)v.has(y[r])&&(m[r]=e[r])}else{for(r=-1;++r<p;)i=e[r],o=n[r],i?(i.__data__=o,f[r]=i):h[r]=M(o);for(;d>r;++r)h[r]=M(n[r]);for(;s>r;++r)m[r]=e[r]}h.update=f,h.parentNode=f.parentNode=m.parentNode=e.parentNode,u.push(h),l.push(f),c.push(m)}var r,i,o=-1,s=this.length;if(!arguments.length){for(e=new Array(s=(r=this[0]).length);++o<s;)(i=r[o])&&(e[o]=i.__data__);return e}var u=G([]),l=_([]),c=_([]);if("function"==typeof e)for(;++o<s;)n(r=this[o],e.call(r,r.parentNode.__data__,o));else for(;++o<s;)n(r=this[o],e);return l.enter=function(){return u},l.exit=function(){return c},l},ma.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},ma.filter=function(e){var t,n,r,i=[];"function"!=typeof e&&(e=N(e));for(var o=0,a=this.length;a>o;o++){i.push(t=[]),t.parentNode=(n=this[o]).parentNode;for(var s=0,u=n.length;u>s;s++)(r=n[s])&&e.call(r,r.__data__,s,o)&&t.push(r)}return _(i)},ma.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,r=this[e],i=r.length-1,o=r[i];--i>=0;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},ma.sort=function(e){e=F.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},ma.each=function(e){return O(this,function(t,n,r){e.call(t,t.__data__,n,r)})},ma.call=function(e){var t=zo(arguments);return e.apply(t[0]=this,t),this},ma.empty=function(){return!this.node()},ma.node=function(){for(var e=0,t=this.length;t>e;e++)for(var n=this[e],r=0,i=n.length;i>r;r++){var o=n[r];if(o)return o}return null},ma.size=function(){var e=0;return this.each(function(){++e}),e};var va=[];qo.selection.enter=G,qo.selection.enter.prototype=va,va.append=ma.append,va.empty=ma.empty,va.node=ma.node,va.call=ma.call,va.size=ma.size,va.select=function(e){for(var t,n,r,i,o,a=[],s=-1,u=this.length;++s<u;){r=(i=this[s]).update,a.push(t=[]),t.parentNode=i.parentNode;for(var l=-1,c=i.length;++l<c;)(o=i[l])?(t.push(r[l]=n=e.call(i.parentNode,o.__data__,l,s)),n.__data__=o.__data__):t.push(null)}return _(a)},va.insert=function(e,t){return arguments.length<2&&(t=I(this)),ma.insert.call(this,e,t)},ma.transition=function(){for(var e,t,n=ku||++Tu,r=[],i=Au||{time:Date.now(),ease:wr,delay:0,duration:250},o=-1,a=this.length;++o<a;){r.push(e=[]);for(var s=this[o],u=-1,l=s.length;++u<l;)(t=s[u])&&Go(t,u,n,i),e.push(t)}return No(r,n)},ma.interrupt=function(){return this.each(B)},qo.select=function(e){var t=["string"==typeof e?da(e,Yo):e];return t.parentNode=Xo,_([t])},qo.selectAll=function(e){var t=zo("string"==typeof e?pa(e,Yo):e);return t.parentNode=Xo,_([t])};var ba=qo.select(Xo);ma.on=function(e,t,n){var r=arguments.length;if(3>r){if("string"!=typeof e){2>r&&(t=!1);for(n in e)this.each(W(n,e[n],t));return this}if(2>r)return(r=this.node()["__on"+e])&&r._;n=!1}return this.each(W(e,t,n))};var ya=qo.map({mouseenter:"mouseover",mouseleave:"mouseout"});ya.forEach(function(e){"on"+e in Yo&&ya.remove(e)});var wa="onselectstart"in Yo?null:h(Xo.style,"userSelect"),_a=0;qo.mouse=function(e){return H(e,y())};var xa=/WebKit/.test(Ko.navigator.userAgent)?-1:0;qo.touches=function(e,t){return arguments.length<2&&(t=y().touches),t?zo(t).map(function(t){var n=H(e,t);return n.identifier=t.identifier,n}):[]},qo.behavior.drag=function(){function e(){this.on("mousedown.drag",i).on("touchstart.drag",o)}function t(e,t,i,o,a){return function(){function s(){var e,n,r=t(p,m);r&&(e=r[0]-y[0],n=r[1]-y[1],h|=e|n,y=r,f({type:"drag",x:r[0]+l[0],y:r[1]+l[1],dx:e,dy:n}))}function u(){t(p,m)&&(v.on(o+g,null).on(a+g,null),b(h&&qo.event.target===d),f({type:"dragend"}))}var l,c=this,d=qo.event.target,p=c.parentNode,f=n.of(c,arguments),h=0,m=e(),g=".drag"+(null==m?"":"-"+m),v=qo.select(i()).on(o+g,s).on(a+g,u),b=V(),y=t(p,m);r?(l=r.apply(c,arguments),l=[l.x-y[0],l.y-y[1]]):l=[0,0],f({type:"dragstart"})}}var n=w(e,"drag","dragstart","dragend"),r=null,i=t(m,qo.mouse,z,"mousemove","mouseup"),o=t(q,qo.touch,U,"touchmove","touchend");return e.origin=function(t){return arguments.length?(r=t,e):r},qo.rebind(e,n,"on")};var Ca=Math.PI,Da=2*Ca,ka=Ca/2,Aa=1e-6,$a=Aa*Aa,Sa=Ca/180,Ea=180/Ca,Ta=Math.SQRT2,Pa=2,Ra=4;qo.interpolateZoom=function(e,t){function n(e){var t=e*b;if(v){var n=Q(m),a=o/(Pa*p)*(n*ee(Ta*t+m)-J(m));return[r+a*l,i+a*c,o*n/Q(Ta*t+m)]}return[r+e*l,i+e*c,o*Math.exp(Ta*t)]}var r=e[0],i=e[1],o=e[2],a=t[0],s=t[1],u=t[2],l=a-r,c=s-i,d=l*l+c*c,p=Math.sqrt(d),f=(u*u-o*o+Ra*d)/(2*o*Pa*p),h=(u*u-o*o-Ra*d)/(2*u*Pa*p),m=Math.log(Math.sqrt(f*f+1)-f),g=Math.log(Math.sqrt(h*h+1)-h),v=g-m,b=(v||Math.log(u/o))/Ta;return n.duration=1e3*b,n},qo.behavior.zoom=function(){function e(e){e.on($,l).on(Fa+".zoom",d).on("dblclick.zoom",p).on(T,c)}function t(e){return[(e[0]-D.x)/D.k,(e[1]-D.y)/D.k]}function n(e){return[e[0]*D.k+D.x,e[1]*D.k+D.y]}function r(e){D.k=Math.max(A[0],Math.min(A[1],e))}function i(e,t){t=n(t),D.x+=e[0]-t[0],D.y+=e[1]-t[1]}function o(){_&&_.domain(y.range().map(function(e){return(e-D.x)/D.k}).map(y.invert)),C&&C.domain(x.range().map(function(e){return(e-D.y)/D.k}).map(x.invert))}function a(e){e({type:"zoomstart"})}function s(e){o(),e({type:"zoom",scale:D.k,translate:[D.x,D.y]})}function u(e){e({type:"zoomend"})}function l(){function e(){c=1,i(qo.mouse(r),p),s(l)}function n(){d.on(S,null).on(E,null),f(c&&qo.event.target===o),u(l)}var r=this,o=qo.event.target,l=P.of(r,arguments),c=0,d=qo.select(Ko).on(S,e).on(E,n),p=t(qo.mouse(r)),f=V();B.call(r),a(l)}function c(){function e(){var e=qo.touches(f);return p=D.k,e.forEach(function(e){e.identifier in m&&(m[e.identifier]=t(e))}),e}function n(){var t=qo.event.target;qo.select(t).on(w,o).on(_,d),x.push(t);for(var n=qo.event.changedTouches,a=0,u=n.length;u>a;++a)m[n[a].identifier]=null;var l=e(),c=Date.now();if(1===l.length){if(500>c-v){var p=l[0],f=m[p.identifier];r(2*D.k),i(p,f),b(),s(h)}v=c}else if(l.length>1){var p=l[0],y=l[1],C=p[0]-y[0],k=p[1]-y[1];g=C*C+k*k}}function o(){for(var e,t,n,o,a=qo.touches(f),u=0,l=a.length;l>u;++u,o=null)if(n=a[u],o=m[n.identifier]){if(t)break;e=n,t=o}if(o){var c=(c=n[0]-e[0])*c+(c=n[1]-e[1])*c,d=g&&Math.sqrt(c/g);e=[(e[0]+n[0])/2,(e[1]+n[1])/2],t=[(t[0]+o[0])/2,(t[1]+o[1])/2],r(d*p)}v=null,i(e,t),s(h)}function d(){if(qo.event.touches.length){for(var t=qo.event.changedTouches,n=0,r=t.length;r>n;++n)delete m[t[n].identifier];
for(var i in m)return void e()}qo.selectAll(x).on(y,null),C.on($,l).on(T,c),k(),u(h)}var p,f=this,h=P.of(f,arguments),m={},g=0,y=".zoom-"+qo.event.changedTouches[0].identifier,w="touchmove"+y,_="touchend"+y,x=[],C=qo.select(f).on($,null).on(T,n),k=V();B.call(f),n(),a(h)}function d(){var e=P.of(this,arguments);g?clearTimeout(g):(f=t(h=m||qo.mouse(this)),B.call(this),a(e)),g=setTimeout(function(){g=null,u(e)},50),b(),r(Math.pow(2,.002*Ma())*D.k),i(h,f),s(e)}function p(){var e=P.of(this,arguments),n=qo.mouse(this),o=t(n),l=Math.log(D.k)/Math.LN2;a(e),r(Math.pow(2,qo.event.shiftKey?Math.ceil(l)-1:Math.floor(l)+1)),i(n,o),s(e),u(e)}var f,h,m,g,v,y,_,x,C,D={x:0,y:0,k:1},k=[960,500],A=Na,$="mousedown.zoom",S="mousemove.zoom",E="mouseup.zoom",T="touchstart.zoom",P=w(e,"zoomstart","zoom","zoomend");return e.event=function(e){e.each(function(){var e=P.of(this,arguments),t=D;ku?qo.select(this).transition().each("start.zoom",function(){D=this.__chart__||{x:0,y:0,k:1},a(e)}).tween("zoom:zoom",function(){var n=k[0],r=k[1],i=n/2,o=r/2,a=qo.interpolateZoom([(i-D.x)/D.k,(o-D.y)/D.k,n/D.k],[(i-t.x)/t.k,(o-t.y)/t.k,n/t.k]);return function(t){var r=a(t),u=n/r[2];this.__chart__=D={x:i-r[0]*u,y:o-r[1]*u,k:u},s(e)}}).each("end.zoom",function(){u(e)}):(this.__chart__=D,a(e),s(e),u(e))})},e.translate=function(t){return arguments.length?(D={x:+t[0],y:+t[1],k:D.k},o(),e):[D.x,D.y]},e.scale=function(t){return arguments.length?(D={x:D.x,y:D.y,k:+t},o(),e):D.k},e.scaleExtent=function(t){return arguments.length?(A=null==t?Na:[+t[0],+t[1]],e):A},e.center=function(t){return arguments.length?(m=t&&[+t[0],+t[1]],e):m},e.size=function(t){return arguments.length?(k=t&&[+t[0],+t[1]],e):k},e.x=function(t){return arguments.length?(_=t,y=t.copy(),D={x:0,y:0,k:1},e):_},e.y=function(t){return arguments.length?(C=t,x=t.copy(),D={x:0,y:0,k:1},e):C},qo.rebind(e,P,"on")};var Ma,Na=[0,1/0],Fa="onwheel"in Yo?(Ma=function(){return-qo.event.deltaY*(qo.event.deltaMode?120:1)},"wheel"):"onmousewheel"in Yo?(Ma=function(){return qo.event.wheelDelta},"mousewheel"):(Ma=function(){return-qo.event.detail},"MozMousePixelScroll");qo.color=ne,ne.prototype.toString=function(){return this.rgb()+""},qo.hsl=re;var Oa=re.prototype=new ne;Oa.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new re(this.h,this.s,this.l/e)},Oa.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new re(this.h,this.s,e*this.l)},Oa.rgb=function(){return ie(this.h,this.s,this.l)},qo.hcl=oe;var Ga=oe.prototype=new ne;Ga.brighter=function(e){return new oe(this.h,this.c,Math.min(100,this.l+Ia*(arguments.length?e:1)))},Ga.darker=function(e){return new oe(this.h,this.c,Math.max(0,this.l-Ia*(arguments.length?e:1)))},Ga.rgb=function(){return ae(this.h,this.c,this.l).rgb()},qo.lab=se;var Ia=18,Ba=.95047,Wa=1,La=1.08883,ja=se.prototype=new ne;ja.brighter=function(e){return new se(Math.min(100,this.l+Ia*(arguments.length?e:1)),this.a,this.b)},ja.darker=function(e){return new se(Math.max(0,this.l-Ia*(arguments.length?e:1)),this.a,this.b)},ja.rgb=function(){return ue(this.l,this.a,this.b)},qo.rgb=fe;var Va=fe.prototype=new ne;Va.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,r=this.b,i=30;return t||n||r?(t&&i>t&&(t=i),n&&i>n&&(n=i),r&&i>r&&(r=i),new fe(Math.min(255,t/e),Math.min(255,n/e),Math.min(255,r/e))):new fe(i,i,i)},Va.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new fe(e*this.r,e*this.g,e*this.b)},Va.hsl=function(){return be(this.r,this.g,this.b)},Va.toString=function(){return"#"+ge(this.r)+ge(this.g)+ge(this.b)};var Ha=qo.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Ha.forEach(function(e,t){Ha.set(e,he(t))}),qo.functor=xe,qo.xhr=De(Ce),qo.dsv=function(e,t){function n(e,n,o){arguments.length<3&&(o=n,n=null);var a=ke(e,t,null==n?r:i(n),o);return a.row=function(e){return arguments.length?a.response(null==(n=e)?r:i(e)):n},a}function r(e){return n.parse(e.responseText)}function i(e){return function(t){return n.parse(t.responseText,e)}}function o(t){return t.map(a).join(e)}function a(e){return s.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}var s=new RegExp('["'+e+"\n]"),u=e.charCodeAt(0);return n.parse=function(e,t){var r;return n.parseRows(e,function(e,n){if(r)return r(e,n-1);var i=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");r=t?function(e,n){return t(i(e),n)}:i})},n.parseRows=function(e,t){function n(){if(c>=l)return a;if(i)return i=!1,o;var t=c;if(34===e.charCodeAt(t)){for(var n=t;n++<l;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}c=n+2;var r=e.charCodeAt(n+1);return 13===r?(i=!0,10===e.charCodeAt(n+2)&&++c):10===r&&(i=!0),e.substring(t+1,n).replace(/""/g,'"')}for(;l>c;){var r=e.charCodeAt(c++),s=1;if(10===r)i=!0;else if(13===r)i=!0,10===e.charCodeAt(c)&&(++c,++s);else if(r!==u)continue;return e.substring(t,c-s)}return e.substring(t)}for(var r,i,o={},a={},s=[],l=e.length,c=0,d=0;(r=n())!==a;){for(var p=[];r!==o&&r!==a;)p.push(r),r=n();(!t||(p=t(p,d++)))&&s.push(p)}return s},n.format=function(t){if(Array.isArray(t[0]))return n.formatRows(t);var r=new p,i=[];return t.forEach(function(e){for(var t in e)r.has(t)||i.push(r.add(t))}),[i.map(a).join(e)].concat(t.map(function(t){return i.map(function(e){return a(t[e])}).join(e)})).join("\n")},n.formatRows=function(e){return e.map(o).join("\n")},n},qo.csv=qo.dsv(",","text/csv"),qo.tsv=qo.dsv("	","text/tab-separated-values"),qo.touch=function(e,t,n){if(arguments.length<3&&(n=t,t=y().changedTouches),t)for(var r,i=0,o=t.length;o>i;++i)if((r=t[i]).identifier===n)return H(e,r)};var qa,Ua,za,Ya,Xa,Ka=Ko[h(Ko,"requestAnimationFrame")]||function(e){setTimeout(e,17)};qo.timer=function(e,t,n){var r=arguments.length;2>r&&(t=0),3>r&&(n=Date.now());var i=n+t,o={c:e,t:i,f:!1,n:null};Ua?Ua.n=o:qa=o,Ua=o,za||(Ya=clearTimeout(Ya),za=1,Ka($e))},qo.timer.flush=function(){Se(),Ee()},qo.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var Za=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(Pe);qo.formatPrefix=function(e,t){var n=0;return e&&(0>e&&(e*=-1),t&&(e=qo.round(e,Te(e,t))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),Za[8+n/3]};var Ja=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Qa=qo.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return(e=qo.round(e,Te(e,t))).toFixed(Math.max(0,Math.min(20,Te(e*(1+1e-15),t))))}}),es=qo.time={},ts=Date;Ne.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ns.setUTCDate.apply(this._,arguments)},setDay:function(){ns.setUTCDay.apply(this._,arguments)},setFullYear:function(){ns.setUTCFullYear.apply(this._,arguments)},setHours:function(){ns.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ns.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ns.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ns.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ns.setUTCSeconds.apply(this._,arguments)},setTime:function(){ns.setTime.apply(this._,arguments)}};var ns=Date.prototype;es.year=Fe(function(e){return e=es.day(e),e.setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),es.years=es.year.range,es.years.utc=es.year.utc.range,es.day=Fe(function(e){var t=new ts(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),es.days=es.day.range,es.days.utc=es.day.utc.range,es.dayOfYear=function(e){var t=es.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(e,t){t=7-t;var n=es[e]=Fe(function(e){return(e=es.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e},function(e,t){e.setDate(e.getDate()+7*Math.floor(t))},function(e){var n=es.year(e).getDay();return Math.floor((es.dayOfYear(e)+(n+t)%7)/7)-(n!==t)});es[e+"s"]=n.range,es[e+"s"].utc=n.utc.range,es[e+"OfYear"]=function(e){var n=es.year(e).getDay();return Math.floor((es.dayOfYear(e)+(n+t)%7)/7)}}),es.week=es.sunday,es.weeks=es.sunday.range,es.weeks.utc=es.sunday.utc.range,es.weekOfYear=es.sundayOfYear;var rs={"-":"",_:" ",0:"0"},is=/^\s*\d+/,os=/^%/;qo.locale=function(e){return{numberFormat:Re(e),timeFormat:Ge(e)}};var as=qo.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});qo.format=as.numberFormat,qo.geo={},it.prototype={s:0,t:0,add:function(e){ot(e,this.t,ss),ot(ss.s,this.s,this),this.s?this.t+=ss.t:this.s=ss.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var ss=new it;qo.geo.stream=function(e,t){e&&us.hasOwnProperty(e.type)?us[e.type](e,t):at(e,t)};var us={Feature:function(e,t){at(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)at(n[r].geometry,t)}},ls={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){st(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)st(n[r],t,0)},Polygon:function(e,t){ut(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)ut(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)at(n[r],t)}};qo.geo.area=function(e){return cs=0,qo.geo.stream(e,ps),cs};var cs,ds=new it,ps={sphere:function(){cs+=4*Ca},point:m,lineStart:m,lineEnd:m,polygonStart:function(){ds.reset(),ps.lineStart=lt},polygonEnd:function(){var e=2*ds;cs+=0>e?4*Ca+e:e,ps.lineStart=ps.lineEnd=ps.point=m}};qo.geo.bounds=function(){function e(e,t){y.push(w=[c=e,p=e]),d>t&&(d=t),t>f&&(f=t)}function t(t,n){var r=ct([t*Sa,n*Sa]);if(v){var i=pt(v,r),o=[i[1],-i[0],0],a=pt(o,i);mt(a),a=gt(a);var u=t-h,l=u>0?1:-1,m=a[0]*Ea*l,g=oa(u)>180;if(g^(m>l*h&&l*t>m)){var b=a[1]*Ea;b>f&&(f=b)}else if(m=(m+360)%360-180,g^(m>l*h&&l*t>m)){var b=-a[1]*Ea;d>b&&(d=b)}else d>n&&(d=n),n>f&&(f=n);g?h>t?s(c,t)>s(c,p)&&(p=t):s(t,p)>s(c,p)&&(c=t):p>=c?(c>t&&(c=t),t>p&&(p=t)):t>h?s(c,t)>s(c,p)&&(p=t):s(t,p)>s(c,p)&&(c=t)}else e(t,n);v=r,h=t}function n(){_.point=t}function r(){w[0]=c,w[1]=p,_.point=e,v=null}function i(e,n){if(v){var r=e-h;b+=oa(r)>180?r+(r>0?360:-360):r}else m=e,g=n;ps.point(e,n),t(e,n)}function o(){ps.lineStart()}function a(){i(m,g),ps.lineEnd(),oa(b)>Aa&&(c=-(p=180)),w[0]=c,w[1]=p,v=null}function s(e,t){return(t-=e)<0?t+360:t}function u(e,t){return e[0]-t[0]}function l(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var c,d,p,f,h,m,g,v,b,y,w,_={point:e,lineStart:n,lineEnd:r,polygonStart:function(){_.point=i,_.lineStart=o,_.lineEnd=a,b=0,ps.polygonStart()},polygonEnd:function(){ps.polygonEnd(),_.point=e,_.lineStart=n,_.lineEnd=r,0>ds?(c=-(p=180),d=-(f=90)):b>Aa?f=90:-Aa>b&&(d=-90),w[0]=c,w[1]=p}};return function(e){f=p=-(c=d=1/0),y=[],qo.geo.stream(e,_);var t=y.length;if(t){y.sort(u);for(var n,r=1,i=y[0],o=[i];t>r;++r)n=y[r],l(n[0],i)||l(n[1],i)?(s(i[0],n[1])>s(i[0],i[1])&&(i[1]=n[1]),s(n[0],i[1])>s(i[0],i[1])&&(i[0]=n[0])):o.push(i=n);for(var a,n,h=-(1/0),t=o.length-1,r=0,i=o[t];t>=r;i=n,++r)n=o[r],(a=s(i[1],n[0]))>h&&(h=a,c=n[0],p=i[1])}return y=w=null,c===1/0||d===1/0?[[NaN,NaN],[NaN,NaN]]:[[c,d],[p,f]]}}(),qo.geo.centroid=function(e){fs=hs=ms=gs=vs=bs=ys=ws=_s=xs=Cs=0,qo.geo.stream(e,Ds);var t=_s,n=xs,r=Cs,i=t*t+n*n+r*r;return $a>i&&(t=bs,n=ys,r=ws,Aa>hs&&(t=ms,n=gs,r=vs),i=t*t+n*n+r*r,$a>i)?[NaN,NaN]:[Math.atan2(n,t)*Ea,Z(r/Math.sqrt(i))*Ea]};var fs,hs,ms,gs,vs,bs,ys,ws,_s,xs,Cs,Ds={sphere:m,point:bt,lineStart:wt,lineEnd:_t,polygonStart:function(){Ds.lineStart=xt},polygonEnd:function(){Ds.lineStart=wt}},ks=$t(Ct,Rt,Nt,[-Ca,-Ca/2]),As=1e9;qo.geo.clipExtent=function(){var e,t,n,r,i,o,a={stream:function(e){return i&&(i.valid=!1),i=o(e),i.valid=!0,i},extent:function(s){return arguments.length?(o=Gt(e=+s[0][0],t=+s[0][1],n=+s[1][0],r=+s[1][1]),i&&(i.valid=!1,i=null),a):[[e,t],[n,r]]}};return a.extent([[0,0],[960,500]])},(qo.geo.conicEqualArea=function(){return Bt(Wt)}).raw=Wt,qo.geo.albers=function(){return qo.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},qo.geo.albersUsa=function(){function e(e){var o=e[0],a=e[1];return t=null,n(o,a),t||(r(o,a),t)||i(o,a),t}var t,n,r,i,o=qo.geo.albers(),a=qo.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=qo.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(e,n){t=[e,n]}};return e.invert=function(e){var t=o.scale(),n=o.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&.234>i&&r>=-.425&&-.214>r?a:i>=.166&&.234>i&&r>=-.214&&-.115>r?s:o).invert(e)},e.stream=function(e){var t=o.stream(e),n=a.stream(e),r=s.stream(e);return{point:function(e,i){t.point(e,i),n.point(e,i),r.point(e,i)},sphere:function(){t.sphere(),n.sphere(),r.sphere()},lineStart:function(){t.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},e.precision=function(t){return arguments.length?(o.precision(t),a.precision(t),s.precision(t),e):o.precision()},e.scale=function(t){return arguments.length?(o.scale(t),a.scale(.35*t),s.scale(t),e.translate(o.translate())):o.scale()},e.translate=function(t){if(!arguments.length)return o.translate();var l=o.scale(),c=+t[0],d=+t[1];return n=o.translate(t).clipExtent([[c-.455*l,d-.238*l],[c+.455*l,d+.238*l]]).stream(u).point,r=a.translate([c-.307*l,d+.201*l]).clipExtent([[c-.425*l+Aa,d+.12*l+Aa],[c-.214*l-Aa,d+.234*l-Aa]]).stream(u).point,i=s.translate([c-.205*l,d+.212*l]).clipExtent([[c-.214*l+Aa,d+.166*l+Aa],[c-.115*l-Aa,d+.234*l-Aa]]).stream(u).point,e},e.scale(1070)};var $s,Ss,Es,Ts,Ps,Rs,Ms={point:m,lineStart:m,lineEnd:m,polygonStart:function(){Ss=0,Ms.lineStart=Lt},polygonEnd:function(){Ms.lineStart=Ms.lineEnd=Ms.point=m,$s+=oa(Ss/2)}},Ns={point:jt,lineStart:m,lineEnd:m,polygonStart:m,polygonEnd:m},Fs={point:qt,lineStart:Ut,lineEnd:zt,polygonStart:function(){Fs.lineStart=Yt},polygonEnd:function(){Fs.point=qt,Fs.lineStart=Ut,Fs.lineEnd=zt}};qo.geo.path=function(){function e(e){return e&&("function"==typeof s&&o.pointRadius(+s.apply(this,arguments)),a&&a.valid||(a=i(o)),qo.geo.stream(e,a)),o.result()}function t(){return a=null,e}var n,r,i,o,a,s=4.5;return e.area=function(e){return $s=0,qo.geo.stream(e,i(Ms)),$s},e.centroid=function(e){return ms=gs=vs=bs=ys=ws=_s=xs=Cs=0,qo.geo.stream(e,i(Fs)),Cs?[_s/Cs,xs/Cs]:ws?[bs/ws,ys/ws]:vs?[ms/vs,gs/vs]:[NaN,NaN]},e.bounds=function(e){return Ps=Rs=-(Es=Ts=1/0),qo.geo.stream(e,i(Ns)),[[Es,Ts],[Ps,Rs]]},e.projection=function(e){return arguments.length?(i=(n=e)?e.stream||Zt(e):Ce,t()):n},e.context=function(e){return arguments.length?(o=null==(r=e)?new Vt:new Xt(e),"function"!=typeof s&&o.pointRadius(s),t()):r},e.pointRadius=function(t){return arguments.length?(s="function"==typeof t?t:(o.pointRadius(+t),+t),e):s},e.projection(qo.geo.albersUsa()).context(null)},qo.geo.transform=function(e){return{stream:function(t){var n=new Jt(t);for(var r in e)n[r]=e[r];return n}}},Jt.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},qo.geo.projection=en,qo.geo.projectionMutator=tn,(qo.geo.equirectangular=function(){return en(rn)}).raw=rn.invert=rn,qo.geo.rotation=function(e){function t(t){return t=e(t[0]*Sa,t[1]*Sa),t[0]*=Ea,t[1]*=Ea,t}return e=an(e[0]%360*Sa,e[1]*Sa,e.length>2?e[2]*Sa:0),t.invert=function(t){return t=e.invert(t[0]*Sa,t[1]*Sa),t[0]*=Ea,t[1]*=Ea,t},t},on.invert=rn,qo.geo.circle=function(){function e(){var e="function"==typeof r?r.apply(this,arguments):r,t=an(-e[0]*Sa,-e[1]*Sa,0).invert,i=[];return n(null,null,1,{point:function(e,n){i.push(e=t(e,n)),e[0]*=Ea,e[1]*=Ea}}),{type:"Polygon",coordinates:[i]}}var t,n,r=[0,0],i=6;return e.origin=function(t){return arguments.length?(r=t,e):r},e.angle=function(r){return arguments.length?(n=cn((t=+r)*Sa,i*Sa),e):t},e.precision=function(r){return arguments.length?(n=cn(t*Sa,(i=+r)*Sa),e):i},e.angle(90)},qo.geo.distance=function(e,t){var n,r=(t[0]-e[0])*Sa,i=e[1]*Sa,o=t[1]*Sa,a=Math.sin(r),s=Math.cos(r),u=Math.sin(i),l=Math.cos(i),c=Math.sin(o),d=Math.cos(o);return Math.atan2(Math.sqrt((n=d*a)*n+(n=l*c-u*d*s)*n),u*c+l*d*s)},qo.geo.graticule=function(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return qo.range(Math.ceil(o/g)*g,i,g).map(p).concat(qo.range(Math.ceil(l/v)*v,u,v).map(f)).concat(qo.range(Math.ceil(r/h)*h,n,h).filter(function(e){return oa(e%g)>Aa}).map(c)).concat(qo.range(Math.ceil(s/m)*m,a,m).filter(function(e){return oa(e%v)>Aa}).map(d))}var n,r,i,o,a,s,u,l,c,d,p,f,h=10,m=h,g=90,v=360,b=2.5;return e.lines=function(){return t().map(function(e){return{type:"LineString",coordinates:e}})},e.outline=function(){return{type:"Polygon",coordinates:[p(o).concat(f(u).slice(1),p(i).reverse().slice(1),f(l).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.majorExtent(t).minorExtent(t):e.minorExtent()},e.majorExtent=function(t){return arguments.length?(o=+t[0][0],i=+t[1][0],l=+t[0][1],u=+t[1][1],o>i&&(t=o,o=i,i=t),l>u&&(t=l,l=u,u=t),e.precision(b)):[[o,l],[i,u]]},e.minorExtent=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],s=+t[0][1],a=+t[1][1],r>n&&(t=r,r=n,n=t),s>a&&(t=s,s=a,a=t),e.precision(b)):[[r,s],[n,a]]},e.step=function(t){return arguments.length?e.majorStep(t).minorStep(t):e.minorStep()},e.majorStep=function(t){return arguments.length?(g=+t[0],v=+t[1],e):[g,v]},e.minorStep=function(t){return arguments.length?(h=+t[0],m=+t[1],e):[h,m]},e.precision=function(t){return arguments.length?(b=+t,c=pn(s,a,90),d=fn(r,n,b),p=pn(l,u,90),f=fn(o,i,b),e):b},e.majorExtent([[-180,-90+Aa],[180,90-Aa]]).minorExtent([[-180,-80-Aa],[180,80+Aa]])},qo.geo.greatArc=function(){function e(){return{type:"LineString",coordinates:[t||r.apply(this,arguments),n||i.apply(this,arguments)]}}var t,n,r=hn,i=mn;return e.distance=function(){return qo.geo.distance(t||r.apply(this,arguments),n||i.apply(this,arguments))},e.source=function(n){return arguments.length?(r=n,t="function"==typeof n?null:n,e):r},e.target=function(t){return arguments.length?(i=t,n="function"==typeof t?null:t,e):i},e.precision=function(){return arguments.length?e:0},e},qo.geo.interpolate=function(e,t){return gn(e[0]*Sa,e[1]*Sa,t[0]*Sa,t[1]*Sa)},qo.geo.length=function(e){return Os=0,qo.geo.stream(e,Gs),Os};var Os,Gs={sphere:m,point:m,lineStart:vn,lineEnd:m,polygonStart:m,polygonEnd:m},Is=bn(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(qo.geo.azimuthalEqualArea=function(){return en(Is)}).raw=Is;var Bs=bn(function(e){var t=Math.acos(e);return t&&t/Math.sin(t)},Ce);(qo.geo.azimuthalEquidistant=function(){return en(Bs)}).raw=Bs,(qo.geo.conicConformal=function(){return Bt(yn)}).raw=yn,(qo.geo.conicEquidistant=function(){return Bt(wn)}).raw=wn;var Ws=bn(function(e){return 1/e},Math.atan);(qo.geo.gnomonic=function(){return en(Ws)}).raw=Ws,_n.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-ka]},(qo.geo.mercator=function(){return xn(_n)}).raw=_n;var Ls=bn(function(){return 1},Math.asin);(qo.geo.orthographic=function(){return en(Ls)}).raw=Ls;var js=bn(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});(qo.geo.stereographic=function(){return en(js)}).raw=js,Cn.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-ka]},(qo.geo.transverseMercator=function(){var e=xn(Cn),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):(e=t(),[e[1],-e[0]])},e.rotate=function(e){return e?n([e[0],e[1],e.length>2?e[2]+90:90]):(e=n(),[e[0],e[1],e[2]-90])},n([0,0,90])}).raw=Cn,qo.geom={},qo.geom.hull=function(e){function t(e){if(e.length<3)return[];var t,i=xe(n),o=xe(r),a=e.length,s=[],u=[];for(t=0;a>t;t++)s.push([+i.call(this,e[t],t),+o.call(this,e[t],t),t]);for(s.sort($n),t=0;a>t;t++)u.push([s[t][0],-s[t][1]]);var l=An(s),c=An(u),d=c[0]===l[0],p=c[c.length-1]===l[l.length-1],f=[];for(t=l.length-1;t>=0;--t)f.push(e[s[l[t]][2]]);for(t=+d;t<c.length-p;++t)f.push(e[s[c[t]][2]]);return f}var n=Dn,r=kn;return arguments.length?t(e):(t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(r=e,t):r},t)},qo.geom.polygon=function(e){return ca(e,Vs),e};var Vs=qo.geom.polygon.prototype=[];Vs.area=function(){for(var e,t=-1,n=this.length,r=this[n-1],i=0;++t<n;)e=r,r=this[t],i+=e[1]*r[0]-e[0]*r[1];return.5*i},Vs.centroid=function(e){var t,n,r=-1,i=this.length,o=0,a=0,s=this[i-1];for(arguments.length||(e=-1/(6*this.area()));++r<i;)t=s,s=this[r],n=t[0]*s[1]-s[0]*t[1],o+=(t[0]+s[0])*n,a+=(t[1]+s[1])*n;return[o*e,a*e]},Vs.clip=function(e){for(var t,n,r,i,o,a,s=Tn(e),u=-1,l=this.length-Tn(this),c=this[l-1];++u<l;){for(t=e.slice(),e.length=0,i=this[u],o=t[(r=t.length-s)-1],n=-1;++n<r;)a=t[n],Sn(a,c,i)?(Sn(o,c,i)||e.push(En(o,a,c,i)),e.push(a)):Sn(o,c,i)&&e.push(En(o,a,c,i)),o=a;s&&e.push(e[0]),c=i}return e};var Hs,qs,Us,zs,Ys,Xs=[],Ks=[];In.prototype.prepare=function(){for(var e,t=this.edges,n=t.length;n--;)e=t[n].edge,e.b&&e.a||t.splice(n,1);return t.sort(Wn),t.length},Kn.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Zn.prototype={insert:function(e,t){var n,r,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=tr(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&(Qn(this,n),e=n,n=e.U),n.C=!1,r.C=!0,er(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&(er(this,n),e=n,n=e.U),n.C=!1,r.C=!0,Qn(this,r))),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,i=e.U,o=e.L,a=e.R;if(n=o?a?tr(a):o:a,i?i.L===e?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=e.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=e.U,e=n.R,i.L=e,n.R=a,a.U=n):(n.U=i,i=n,e=n.R)):(r=e.C,e=n),e&&(e.U=i),!r){if(e&&e.C)return void(e.C=!1);do{if(e===this._)break;if(e===i.L){if(t=i.R,t.C&&(t.C=!1,i.C=!0,Qn(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,er(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,Qn(this,i),e=this._;break}}else if(t=i.L,t.C&&(t.C=!1,i.C=!0,er(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,Qn(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,er(this,i),e=this._;break}t.C=!0,e=i,i=i.U}while(!e.C);e&&(e.C=!1)}}},qo.geom.voronoi=function(e){function t(e){var t=new Array(e.length),r=s[0][0],i=s[0][1],o=s[1][0],a=s[1][1];return nr(n(e),s).cells.forEach(function(n,s){var u=n.edges,l=n.site,c=t[s]=u.length?u.map(function(e){var t=e.start();return[t.x,t.y]}):l.x>=r&&l.x<=o&&l.y>=i&&l.y<=a?[[r,a],[o,a],[o,i],[r,i]]:[];c.point=e[s]}),t}function n(e){return e.map(function(e,t){return{x:Math.round(o(e,t)/Aa)*Aa,y:Math.round(a(e,t)/Aa)*Aa,i:t}})}var r=Dn,i=kn,o=r,a=i,s=Zs;return e?t(e):(t.links=function(e){return nr(n(e)).edges.filter(function(e){return e.l&&e.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},t.triangles=function(e){var t=[];return nr(n(e)).cells.forEach(function(n,r){for(var i,o,a=n.site,s=n.edges.sort(Wn),u=-1,l=s.length,c=s[l-1].edge,d=c.l===a?c.r:c.l;++u<l;)i=c,o=d,c=s[u].edge,d=c.l===a?c.r:c.l,r<o.i&&r<d.i&&ir(a,o,d)<0&&t.push([e[r],e[o.i],e[d.i]])}),t},t.x=function(e){return arguments.length?(o=xe(r=e),t):r},t.y=function(e){return arguments.length?(a=xe(i=e),t):i},t.clipExtent=function(e){return arguments.length?(s=null==e?Zs:e,t):s===Zs?null:s},t.size=function(e){return arguments.length?t.clipExtent(e&&[[0,0],e]):s===Zs?null:s&&s[1]},t)};var Zs=[[-1e6,-1e6],[1e6,1e6]];qo.geom.delaunay=function(e){return qo.geom.voronoi().triangles(e)},qo.geom.quadtree=function(e,t,n,r,i){function o(e){function o(e,t,n,r,i,o,a,s){if(!isNaN(n)&&!isNaN(r))if(e.leaf){var u=e.x,c=e.y;if(null!=u)if(oa(u-n)+oa(c-r)<.01)l(e,t,n,r,i,o,a,s);else{var d=e.point;e.x=e.y=e.point=null,l(e,d,u,c,i,o,a,s),l(e,t,n,r,i,o,a,s)}else e.x=n,e.y=r,e.point=t}else l(e,t,n,r,i,o,a,s)}function l(e,t,n,r,i,a,s,u){var l=.5*(i+s),c=.5*(a+u),d=n>=l,p=r>=c,f=(p<<1)+d;e.leaf=!1,e=e.nodes[f]||(e.nodes[f]=sr()),d?i=l:s=l,p?a=c:u=c,o(e,t,n,r,i,a,s,u)}var c,d,p,f,h,m,g,v,b,y=xe(s),w=xe(u);if(null!=t)m=t,g=n,v=r,b=i;else if(v=b=-(m=g=1/0),d=[],p=[],h=e.length,a)for(f=0;h>f;++f)c=e[f],c.x<m&&(m=c.x),c.y<g&&(g=c.y),c.x>v&&(v=c.x),c.y>b&&(b=c.y),d.push(c.x),p.push(c.y);else for(f=0;h>f;++f){var _=+y(c=e[f],f),x=+w(c,f);m>_&&(m=_),g>x&&(g=x),_>v&&(v=_),x>b&&(b=x),d.push(_),p.push(x)}var C=v-m,D=b-g;C>D?b=g+C:v=m+D;var k=sr();if(k.add=function(e){o(k,e,+y(e,++f),+w(e,f),m,g,v,b)},k.visit=function(e){ur(e,k,m,g,v,b)},f=-1,null==t){for(;++f<h;)o(k,e[f],d[f],p[f],m,g,v,b);--f}else e.forEach(k.add);return d=p=e=c=null,k}var a,s=Dn,u=kn;return(a=arguments.length)?(s=or,u=ar,3===a&&(i=n,r=t,n=t=0),o(e)):(o.x=function(e){return arguments.length?(s=e,o):s},o.y=function(e){return arguments.length?(u=e,o):u},o.extent=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),o):null==t?null:[[t,n],[r,i]]},o.size=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=n=0,r=+e[0],i=+e[1]),o):null==t?null:[r-t,i-n]},o)},qo.interpolateRgb=lr,qo.interpolateObject=cr,qo.interpolateNumber=dr,qo.interpolateString=pr;var Js=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Qs=new RegExp(Js.source,"g");qo.interpolate=fr,qo.interpolators=[function(e,t){var n=typeof t;return("string"===n?Ha.has(t)||/^(#|rgb\(|hsl\()/.test(t)?lr:pr:t instanceof ne?lr:Array.isArray(t)?hr:"object"===n&&isNaN(t)?cr:dr)(e,t)}],qo.interpolateArray=hr;var eu=function(){return Ce},tu=qo.map({linear:eu,poly:_r,quad:function(){return br},cubic:function(){return yr},sin:function(){return xr},exp:function(){return Cr},circle:function(){return Dr},elastic:kr,back:Ar,bounce:function(){return $r}}),nu=qo.map({"in":Ce,out:gr,"in-out":vr,"out-in":function(e){return vr(gr(e))}});qo.ease=function(e){var t=e.indexOf("-"),n=t>=0?e.substring(0,t):e,r=t>=0?e.substring(t+1):"in";return n=tu.get(n)||eu,r=nu.get(r)||Ce,mr(r(n.apply(null,Uo.call(arguments,1))))},qo.interpolateHcl=Sr,qo.interpolateHsl=Er,qo.interpolateLab=Tr,qo.interpolateRound=Pr,qo.transform=function(e){var t=Yo.createElementNS(qo.ns.prefix.svg,"g");return(qo.transform=function(e){if(null!=e){t.setAttribute("transform",e);var n=t.transform.baseVal.consolidate()}return new Rr(n?n.matrix:ru)})(e)},Rr.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ru={a:1,b:0,c:0,d:1,e:0,f:0};qo.interpolateTransform=Or,qo.layout={},qo.layout.bundle=function(){return function(e){for(var t=[],n=-1,r=e.length;++n<r;)t.push(Br(e[n]));return t}},qo.layout.chord=function(){function e(){var e,l,d,p,f,h={},m=[],g=qo.range(o),v=[];for(n=[],r=[],e=0,p=-1;++p<o;){for(l=0,f=-1;++f<o;)l+=i[p][f];m.push(l),v.push(qo.range(o)),e+=l}for(a&&g.sort(function(e,t){return a(m[e],m[t])}),s&&v.forEach(function(e,t){e.sort(function(e,n){return s(i[t][e],i[t][n])})}),e=(Da-c*o)/e,l=0,p=-1;++p<o;){for(d=l,f=-1;++f<o;){var b=g[p],y=v[b][f],w=i[b][y],_=l,x=l+=w*e;h[b+"-"+y]={index:b,subindex:y,startAngle:_,endAngle:x,value:w}}r[b]={index:b,startAngle:d,endAngle:l,value:(l-d)/e},l+=c}for(p=-1;++p<o;)for(f=p-1;++f<o;){var C=h[p+"-"+f],D=h[f+"-"+p];(C.value||D.value)&&n.push(C.value<D.value?{source:D,target:C}:{source:C,target:D})}u&&t()}function t(){n.sort(function(e,t){return u((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}var n,r,i,o,a,s,u,l={},c=0;return l.matrix=function(e){return arguments.length?(o=(i=e)&&i.length,n=r=null,l):i},l.padding=function(e){return arguments.length?(c=e,n=r=null,l):c},l.sortGroups=function(e){return arguments.length?(a=e,n=r=null,l):a},l.sortSubgroups=function(e){
return arguments.length?(s=e,n=null,l):s},l.sortChords=function(e){return arguments.length?(u=e,n&&t(),l):u},l.chords=function(){return n||e(),n},l.groups=function(){return r||e(),r},l},qo.layout.force=function(){function e(e){return function(t,n,r,i){if(t.point!==e){var o=t.cx-e.x,a=t.cy-e.y,s=i-n,u=o*o+a*a;if(u>s*s/g){if(h>u){var l=t.charge/u;e.px-=o*l,e.py-=a*l}return!0}if(t.point&&u&&h>u){var l=t.pointCharge/u;e.px-=o*l,e.py-=a*l}}return!t.charge}}function t(e){e.px=qo.event.x,e.py=qo.event.y,s.resume()}var n,r,i,o,a,s={},u=qo.dispatch("start","tick","end"),l=[1,1],c=.9,d=iu,p=ou,f=-30,h=au,m=.1,g=.64,v=[],b=[];return s.tick=function(){if((r*=.99)<.005)return u.end({type:"end",alpha:r=0}),!0;var t,n,s,d,p,h,g,y,w,_=v.length,x=b.length;for(n=0;x>n;++n)s=b[n],d=s.source,p=s.target,y=p.x-d.x,w=p.y-d.y,(h=y*y+w*w)&&(h=r*o[n]*((h=Math.sqrt(h))-i[n])/h,y*=h,w*=h,p.x-=y*(g=d.weight/(p.weight+d.weight)),p.y-=w*g,d.x+=y*(g=1-g),d.y+=w*g);if((g=r*m)&&(y=l[0]/2,w=l[1]/2,n=-1,g))for(;++n<_;)s=v[n],s.x+=(y-s.x)*g,s.y+=(w-s.y)*g;if(f)for(Ur(t=qo.geom.quadtree(v),r,a),n=-1;++n<_;)(s=v[n]).fixed||t.visit(e(s));for(n=-1;++n<_;)s=v[n],s.fixed?(s.x=s.px,s.y=s.py):(s.x-=(s.px-(s.px=s.x))*c,s.y-=(s.py-(s.py=s.y))*c);u.tick({type:"tick",alpha:r})},s.nodes=function(e){return arguments.length?(v=e,s):v},s.links=function(e){return arguments.length?(b=e,s):b},s.size=function(e){return arguments.length?(l=e,s):l},s.linkDistance=function(e){return arguments.length?(d="function"==typeof e?e:+e,s):d},s.distance=s.linkDistance,s.linkStrength=function(e){return arguments.length?(p="function"==typeof e?e:+e,s):p},s.friction=function(e){return arguments.length?(c=+e,s):c},s.charge=function(e){return arguments.length?(f="function"==typeof e?e:+e,s):f},s.chargeDistance=function(e){return arguments.length?(h=e*e,s):Math.sqrt(h)},s.gravity=function(e){return arguments.length?(m=+e,s):m},s.theta=function(e){return arguments.length?(g=e*e,s):Math.sqrt(g)},s.alpha=function(e){return arguments.length?(e=+e,r?r=e>0?e:0:e>0&&(u.start({type:"start",alpha:r=e}),qo.timer(s.tick)),s):r},s.start=function(){function e(e,r){if(!n){for(n=new Array(u),s=0;u>s;++s)n[s]=[];for(s=0;l>s;++s){var i=b[s];n[i.source.index].push(i.target),n[i.target.index].push(i.source)}}for(var o,a=n[t],s=-1,l=a.length;++s<l;)if(!isNaN(o=a[s][e]))return o;return Math.random()*r}var t,n,r,u=v.length,c=b.length,h=l[0],m=l[1];for(t=0;u>t;++t)(r=v[t]).index=t,r.weight=0;for(t=0;c>t;++t)r=b[t],"number"==typeof r.source&&(r.source=v[r.source]),"number"==typeof r.target&&(r.target=v[r.target]),++r.source.weight,++r.target.weight;for(t=0;u>t;++t)r=v[t],isNaN(r.x)&&(r.x=e("x",h)),isNaN(r.y)&&(r.y=e("y",m)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(i=[],"function"==typeof d)for(t=0;c>t;++t)i[t]=+d.call(this,b[t],t);else for(t=0;c>t;++t)i[t]=d;if(o=[],"function"==typeof p)for(t=0;c>t;++t)o[t]=+p.call(this,b[t],t);else for(t=0;c>t;++t)o[t]=p;if(a=[],"function"==typeof f)for(t=0;u>t;++t)a[t]=+f.call(this,v[t],t);else for(t=0;u>t;++t)a[t]=f;return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){return n||(n=qo.behavior.drag().origin(Ce).on("dragstart.force",jr).on("drag.force",t).on("dragend.force",Vr)),arguments.length?void this.on("mouseover.force",Hr).on("mouseout.force",qr).call(n):n},qo.rebind(s,u,"on")};var iu=20,ou=1,au=1/0;qo.layout.hierarchy=function(){function e(i){var o,a=[i],s=[];for(i.depth=0;null!=(o=a.pop());)if(s.push(o),(l=n.call(e,o,o.depth))&&(u=l.length)){for(var u,l,c;--u>=0;)a.push(c=l[u]),c.parent=o,c.depth=o.depth+1;r&&(o.value=0),o.children=l}else r&&(o.value=+r.call(e,o,o.depth)||0),delete o.children;return Xr(i,function(e){var n,i;t&&(n=e.children)&&n.sort(t),r&&(i=e.parent)&&(i.value+=e.value)}),s}var t=Jr,n=Kr,r=Zr;return e.sort=function(n){return arguments.length?(t=n,e):t},e.children=function(t){return arguments.length?(n=t,e):n},e.value=function(t){return arguments.length?(r=t,e):r},e.revalue=function(t){return r&&(Yr(t,function(e){e.children&&(e.value=0)}),Xr(t,function(t){var n;t.children||(t.value=+r.call(e,t,t.depth)||0),(n=t.parent)&&(n.value+=t.value)})),t},e},qo.layout.partition=function(){function e(t,n,r,i){var o=t.children;if(t.x=n,t.y=t.depth*i,t.dx=r,t.dy=i,o&&(a=o.length)){var a,s,u,l=-1;for(r=t.value?r/t.value:0;++l<a;)e(s=o[l],n,u=s.value*r,i),n+=u}}function t(e){var n=e.children,r=0;if(n&&(i=n.length))for(var i,o=-1;++o<i;)r=Math.max(r,t(n[o]));return 1+r}function n(n,o){var a=r.call(this,n,o);return e(a[0],0,i[0],i[1]/t(a[0])),a}var r=qo.layout.hierarchy(),i=[1,1];return n.size=function(e){return arguments.length?(i=e,n):i},zr(n,r)},qo.layout.pie=function(){function e(o){var a=o.map(function(n,r){return+t.call(e,n,r)}),s=+("function"==typeof r?r.apply(this,arguments):r),u=(("function"==typeof i?i.apply(this,arguments):i)-s)/qo.sum(a),l=qo.range(o.length);null!=n&&l.sort(n===su?function(e,t){return a[t]-a[e]}:function(e,t){return n(o[e],o[t])});var c=[];return l.forEach(function(e){var t;c[e]={data:o[e],value:t=a[e],startAngle:s,endAngle:s+=t*u}}),c}var t=Number,n=su,r=0,i=Da;return e.value=function(n){return arguments.length?(t=n,e):t},e.sort=function(t){return arguments.length?(n=t,e):n},e.startAngle=function(t){return arguments.length?(r=t,e):r},e.endAngle=function(t){return arguments.length?(i=t,e):i},e};var su={};qo.layout.stack=function(){function e(s,u){var l=s.map(function(n,r){return t.call(e,n,r)}),c=l.map(function(t){return t.map(function(t,n){return[o.call(e,t,n),a.call(e,t,n)]})}),d=n.call(e,c,u);l=qo.permute(l,d),c=qo.permute(c,d);var p,f,h,m=r.call(e,c,u),g=l.length,v=l[0].length;for(f=0;v>f;++f)for(i.call(e,l[0][f],h=m[f],c[0][f][1]),p=1;g>p;++p)i.call(e,l[p][f],h+=c[p-1][f][1],c[p][f][1]);return s}var t=Ce,n=ri,r=ii,i=ni,o=ei,a=ti;return e.values=function(n){return arguments.length?(t=n,e):t},e.order=function(t){return arguments.length?(n="function"==typeof t?t:uu.get(t)||ri,e):n},e.offset=function(t){return arguments.length?(r="function"==typeof t?t:lu.get(t)||ii,e):r},e.x=function(t){return arguments.length?(o=t,e):o},e.y=function(t){return arguments.length?(a=t,e):a},e.out=function(t){return arguments.length?(i=t,e):i},e};var uu=qo.map({"inside-out":function(e){var t,n,r=e.length,i=e.map(oi),o=e.map(ai),a=qo.range(r).sort(function(e,t){return i[e]-i[t]}),s=0,u=0,l=[],c=[];for(t=0;r>t;++t)n=a[t],u>s?(s+=o[n],l.push(n)):(u+=o[n],c.push(n));return c.reverse().concat(l)},reverse:function(e){return qo.range(e.length).reverse()},"default":ri}),lu=qo.map({silhouette:function(e){var t,n,r,i=e.length,o=e[0].length,a=[],s=0,u=[];for(n=0;o>n;++n){for(t=0,r=0;i>t;t++)r+=e[t][n][1];r>s&&(s=r),a.push(r)}for(n=0;o>n;++n)u[n]=(s-a[n])/2;return u},wiggle:function(e){var t,n,r,i,o,a,s,u,l,c=e.length,d=e[0],p=d.length,f=[];for(f[0]=u=l=0,n=1;p>n;++n){for(t=0,i=0;c>t;++t)i+=e[t][n][1];for(t=0,o=0,s=d[n][0]-d[n-1][0];c>t;++t){for(r=0,a=(e[t][n][1]-e[t][n-1][1])/(2*s);t>r;++r)a+=(e[r][n][1]-e[r][n-1][1])/s;o+=a*e[t][n][1]}f[n]=u-=i?o/i*s:0,l>u&&(l=u)}for(n=0;p>n;++n)f[n]-=l;return f},expand:function(e){var t,n,r,i=e.length,o=e[0].length,a=1/i,s=[];for(n=0;o>n;++n){for(t=0,r=0;i>t;t++)r+=e[t][n][1];if(r)for(t=0;i>t;t++)e[t][n][1]/=r;else for(t=0;i>t;t++)e[t][n][1]=a}for(n=0;o>n;++n)s[n]=0;return s},zero:ii});qo.layout.histogram=function(){function e(e,o){for(var a,s,u=[],l=e.map(n,this),c=r.call(this,l,o),d=i.call(this,c,l,o),o=-1,p=l.length,f=d.length-1,h=t?1:1/p;++o<f;)a=u[o]=[],a.dx=d[o+1]-(a.x=d[o]),a.y=0;if(f>0)for(o=-1;++o<p;)s=l[o],s>=c[0]&&s<=c[1]&&(a=u[qo.bisect(d,s,1,f)-1],a.y+=h,a.push(e[o]));return u}var t=!0,n=Number,r=ci,i=ui;return e.value=function(t){return arguments.length?(n=t,e):n},e.range=function(t){return arguments.length?(r=xe(t),e):r},e.bins=function(t){return arguments.length?(i="number"==typeof t?function(e){return li(e,t)}:xe(t),e):i},e.frequency=function(n){return arguments.length?(t=!!n,e):t},e},qo.layout.pack=function(){function e(e,o){var a=n.call(this,e,o),s=a[0],u=i[0],l=i[1],c=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(s.x=s.y=0,Xr(s,function(e){e.r=+c(e.value)}),Xr(s,mi),r){var d=r*(t?1:Math.max(2*s.r/u,2*s.r/l))/2;Xr(s,function(e){e.r+=d}),Xr(s,mi),Xr(s,function(e){e.r-=d})}return bi(s,u/2,l/2,t?1:1/Math.max(2*s.r/u,2*s.r/l)),a}var t,n=qo.layout.hierarchy().sort(di),r=0,i=[1,1];return e.size=function(t){return arguments.length?(i=t,e):i},e.radius=function(n){return arguments.length?(t=null==n||"function"==typeof n?n:+n,e):t},e.padding=function(t){return arguments.length?(r=+t,e):r},zr(e,n)},qo.layout.tree=function(){function e(e,i){var c=a.call(this,e,i),d=c[0],p=t(d);if(Xr(p,n),p.parent.m=-p.z,Yr(p,r),l)Yr(d,o);else{var f=d,h=d,m=d;Yr(d,function(e){e.x<f.x&&(f=e),e.x>h.x&&(h=e),e.depth>m.depth&&(m=e)});var g=s(f,h)/2-f.x,v=u[0]/(h.x+s(h,f)/2+g),b=u[1]/(m.depth||1);Yr(d,function(e){e.x=(e.x+g)*v,e.y=e.depth*b})}return c}function t(e){for(var t,n={A:null,children:[e]},r=[n];null!=(t=r.pop());)for(var i,o=t.children,a=0,s=o.length;s>a;++a)r.push((o[a]=i={_:o[a],parent:t,children:(i=o[a].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=i);return n.children[0]}function n(e){var t=e.children,n=e.parent.children,r=e.i?n[e.i-1]:null;if(t.length){Di(e);var o=(t[0].z+t[t.length-1].z)/2;r?(e.z=r.z+s(e._,r._),e.m=e.z-o):e.z=o}else r&&(e.z=r.z+s(e._,r._));e.parent.A=i(e,r,e.parent.A||n[0])}function r(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function i(e,t,n){if(t){for(var r,i=e,o=e,a=t,u=i.parent.children[0],l=i.m,c=o.m,d=a.m,p=u.m;a=xi(a),i=_i(i),a&&i;)u=_i(u),o=xi(o),o.a=e,r=a.z+d-i.z-l+s(a._,i._),r>0&&(Ci(ki(a,e,n),e,r),l+=r,c+=r),d+=a.m,l+=i.m,p+=u.m,c+=o.m;a&&!xi(o)&&(o.t=a,o.m+=d-c),i&&!_i(u)&&(u.t=i,u.m+=l-p,n=e)}return n}function o(e){e.x*=u[0],e.y=e.depth*u[1]}var a=qo.layout.hierarchy().sort(null).value(null),s=wi,u=[1,1],l=null;return e.separation=function(t){return arguments.length?(s=t,e):s},e.size=function(t){return arguments.length?(l=null==(u=t)?o:null,e):l?null:u},e.nodeSize=function(t){return arguments.length?(l=null==(u=t)?null:o,e):l?u:null},zr(e,a)},qo.layout.cluster=function(){function e(e,o){var a,s=t.call(this,e,o),u=s[0],l=0;Xr(u,function(e){var t=e.children;t&&t.length?(e.x=$i(t),e.y=Ai(t)):(e.x=a?l+=n(e,a):0,e.y=0,a=e)});var c=Si(u),d=Ei(u),p=c.x-n(c,d)/2,f=d.x+n(d,c)/2;return Xr(u,i?function(e){e.x=(e.x-u.x)*r[0],e.y=(u.y-e.y)*r[1]}:function(e){e.x=(e.x-p)/(f-p)*r[0],e.y=(1-(u.y?e.y/u.y:1))*r[1]}),s}var t=qo.layout.hierarchy().sort(null).value(null),n=wi,r=[1,1],i=!1;return e.separation=function(t){return arguments.length?(n=t,e):n},e.size=function(t){return arguments.length?(i=null==(r=t),e):i?null:r},e.nodeSize=function(t){return arguments.length?(i=null!=(r=t),e):i?r:null},zr(e,t)},qo.layout.treemap=function(){function e(e,t){for(var n,r,i=-1,o=e.length;++i<o;)r=(n=e[i]).value*(0>t?0:t),n.area=isNaN(r)||0>=r?0:r}function t(n){var o=n.children;if(o&&o.length){var a,s,u,l=d(n),c=[],p=o.slice(),h=1/0,m="slice"===f?l.dx:"dice"===f?l.dy:"slice-dice"===f?1&n.depth?l.dy:l.dx:Math.min(l.dx,l.dy);for(e(p,l.dx*l.dy/n.value),c.area=0;(u=p.length)>0;)c.push(a=p[u-1]),c.area+=a.area,"squarify"!==f||(s=r(c,m))<=h?(p.pop(),h=s):(c.area-=c.pop().area,i(c,m,l,!1),m=Math.min(l.dx,l.dy),c.length=c.area=0,h=1/0);c.length&&(i(c,m,l,!0),c.length=c.area=0),o.forEach(t)}}function n(t){var r=t.children;if(r&&r.length){var o,a=d(t),s=r.slice(),u=[];for(e(s,a.dx*a.dy/t.value),u.area=0;o=s.pop();)u.push(o),u.area+=o.area,null!=o.z&&(i(u,o.z?a.dx:a.dy,a,!s.length),u.length=u.area=0);r.forEach(n)}}function r(e,t){for(var n,r=e.area,i=0,o=1/0,a=-1,s=e.length;++a<s;)(n=e[a].area)&&(o>n&&(o=n),n>i&&(i=n));return r*=r,t*=t,r?Math.max(t*i*h/r,r/(t*o*h)):1/0}function i(e,t,n,r){var i,o=-1,a=e.length,s=n.x,l=n.y,c=t?u(e.area/t):0;if(t==n.dx){for((r||c>n.dy)&&(c=n.dy);++o<a;)i=e[o],i.x=s,i.y=l,i.dy=c,s+=i.dx=Math.min(n.x+n.dx-s,c?u(i.area/c):0);i.z=!0,i.dx+=n.x+n.dx-s,n.y+=c,n.dy-=c}else{for((r||c>n.dx)&&(c=n.dx);++o<a;)i=e[o],i.x=s,i.y=l,i.dx=c,l+=i.dy=Math.min(n.y+n.dy-l,c?u(i.area/c):0);i.z=!1,i.dy+=n.y+n.dy-l,n.x+=c,n.dx-=c}}function o(r){var i=a||s(r),o=i[0];return o.x=0,o.y=0,o.dx=l[0],o.dy=l[1],a&&s.revalue(o),e([o],o.dx*o.dy/o.value),(a?n:t)(o),p&&(a=i),i}var a,s=qo.layout.hierarchy(),u=Math.round,l=[1,1],c=null,d=Ti,p=!1,f="squarify",h=.5*(1+Math.sqrt(5));return o.size=function(e){return arguments.length?(l=e,o):l},o.padding=function(e){function t(t){var n=e.call(o,t,t.depth);return null==n?Ti(t):Pi(t,"number"==typeof n?[n,n,n,n]:n)}function n(t){return Pi(t,e)}if(!arguments.length)return c;var r;return d=null==(c=e)?Ti:"function"==(r=typeof e)?t:"number"===r?(e=[e,e,e,e],n):n,o},o.round=function(e){return arguments.length?(u=e?Math.round:Number,o):u!=Number},o.sticky=function(e){return arguments.length?(p=e,a=null,o):p},o.ratio=function(e){return arguments.length?(h=e,o):h},o.mode=function(e){return arguments.length?(f=e+"",o):f},zr(o,s)},qo.random={normal:function(e,t){var n=arguments.length;return 2>n&&(t=1),1>n&&(e=0),function(){var n,r,i;do n=2*Math.random()-1,r=2*Math.random()-1,i=n*n+r*r;while(!i||i>1);return e+t*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var e=qo.random.normal.apply(qo,arguments);return function(){return Math.exp(e())}},bates:function(e){var t=qo.random.irwinHall(e);return function(){return t()/e}},irwinHall:function(e){return function(){for(var t=0,n=0;e>n;n++)t+=Math.random();return t}}},qo.scale={};var cu={floor:Ce,ceil:Ce};qo.scale.linear=function(){return Ii([0,1],[0,1],fr,!1)};var du={s:1,g:1,p:1,r:1,e:1};qo.scale.log=function(){return Ui(qo.scale.linear().domain([0,1]),10,!0,[1,10])};var pu=qo.format(".0e"),fu={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};qo.scale.pow=function(){return zi(qo.scale.linear(),1,[0,1])},qo.scale.sqrt=function(){return qo.scale.pow().exponent(.5)},qo.scale.ordinal=function(){return Xi([],{t:"range",a:[[]]})},qo.scale.category10=function(){return qo.scale.ordinal().range(hu)},qo.scale.category20=function(){return qo.scale.ordinal().range(mu)},qo.scale.category20b=function(){return qo.scale.ordinal().range(gu)},qo.scale.category20c=function(){return qo.scale.ordinal().range(vu)};var hu=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(me),mu=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(me),gu=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(me),vu=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(me);qo.scale.quantile=function(){return Ki([],[])},qo.scale.quantize=function(){return Zi(0,1,[0,1])},qo.scale.threshold=function(){return Ji([.5],[0,1])},qo.scale.identity=function(){return Qi([0,1])},qo.svg={},qo.svg.arc=function(){function e(){var e=t.apply(this,arguments),o=n.apply(this,arguments),a=r.apply(this,arguments)+bu,s=i.apply(this,arguments)+bu,u=(a>s&&(u=a,a=s,s=u),s-a),l=Ca>u?"0":"1",c=Math.cos(a),d=Math.sin(a),p=Math.cos(s),f=Math.sin(s);return u>=yu?e?"M0,"+o+"A"+o+","+o+" 0 1,1 0,"+-o+"A"+o+","+o+" 0 1,1 0,"+o+"M0,"+e+"A"+e+","+e+" 0 1,0 0,"+-e+"A"+e+","+e+" 0 1,0 0,"+e+"Z":"M0,"+o+"A"+o+","+o+" 0 1,1 0,"+-o+"A"+o+","+o+" 0 1,1 0,"+o+"Z":e?"M"+o*c+","+o*d+"A"+o+","+o+" 0 "+l+",1 "+o*p+","+o*f+"L"+e*p+","+e*f+"A"+e+","+e+" 0 "+l+",0 "+e*c+","+e*d+"Z":"M"+o*c+","+o*d+"A"+o+","+o+" 0 "+l+",1 "+o*p+","+o*f+"L0,0Z"}var t=eo,n=to,r=no,i=ro;return e.innerRadius=function(n){return arguments.length?(t=xe(n),e):t},e.outerRadius=function(t){return arguments.length?(n=xe(t),e):n},e.startAngle=function(t){return arguments.length?(r=xe(t),e):r},e.endAngle=function(t){return arguments.length?(i=xe(t),e):i},e.centroid=function(){var e=(t.apply(this,arguments)+n.apply(this,arguments))/2,o=(r.apply(this,arguments)+i.apply(this,arguments))/2+bu;return[Math.cos(o)*e,Math.sin(o)*e]},e};var bu=-ka,yu=Da-Aa;qo.svg.line=function(){return io(Ce)};var wu=qo.map({linear:oo,"linear-closed":ao,step:so,"step-before":uo,"step-after":lo,basis:go,"basis-open":vo,"basis-closed":bo,bundle:yo,cardinal:fo,"cardinal-open":co,"cardinal-closed":po,monotone:ko});wu.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var _u=[0,2/3,1/3,0],xu=[0,1/3,2/3,0],Cu=[0,1/6,2/3,1/6];qo.svg.line.radial=function(){var e=io(Ao);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},uo.reverse=lo,lo.reverse=uo,qo.svg.area=function(){return $o(Ce)},qo.svg.area.radial=function(){var e=$o(Ao);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},qo.svg.chord=function(){function e(e,s){var u=t(this,o,e,s),l=t(this,a,e,s);return"M"+u.p0+r(u.r,u.p1,u.a1-u.a0)+(n(u,l)?i(u.r,u.p1,u.r,u.p0):i(u.r,u.p1,l.r,l.p0)+r(l.r,l.p1,l.a1-l.a0)+i(l.r,l.p1,u.r,u.p0))+"Z"}function t(e,t,n,r){var i=t.call(e,n,r),o=s.call(e,i,r),a=u.call(e,i,r)+bu,c=l.call(e,i,r)+bu;return{r:o,a0:a,a1:c,p0:[o*Math.cos(a),o*Math.sin(a)],p1:[o*Math.cos(c),o*Math.sin(c)]}}function n(e,t){return e.a0==t.a0&&e.a1==t.a1}function r(e,t,n){return"A"+e+","+e+" 0 "+ +(n>Ca)+",1 "+t}function i(e,t,n,r){return"Q 0,0 "+r}var o=hn,a=mn,s=So,u=no,l=ro;return e.radius=function(t){return arguments.length?(s=xe(t),e):s},e.source=function(t){return arguments.length?(o=xe(t),e):o},e.target=function(t){return arguments.length?(a=xe(t),e):a},e.startAngle=function(t){return arguments.length?(u=xe(t),e):u},e.endAngle=function(t){return arguments.length?(l=xe(t),e):l},e},qo.svg.diagonal=function(){function e(e,i){var o=t.call(this,e,i),a=n.call(this,e,i),s=(o.y+a.y)/2,u=[o,{x:o.x,y:s},{x:a.x,y:s},a];return u=u.map(r),"M"+u[0]+"C"+u[1]+" "+u[2]+" "+u[3]}var t=hn,n=mn,r=Eo;return e.source=function(n){return arguments.length?(t=xe(n),e):t},e.target=function(t){return arguments.length?(n=xe(t),e):n},e.projection=function(t){return arguments.length?(r=t,e):r},e},qo.svg.diagonal.radial=function(){var e=qo.svg.diagonal(),t=Eo,n=e.projection;return e.projection=function(e){return arguments.length?n(To(t=e)):t},e},qo.svg.symbol=function(){function e(e,r){return(Du.get(t.call(this,e,r))||Mo)(n.call(this,e,r))}var t=Ro,n=Po;return e.type=function(n){return arguments.length?(t=xe(n),e):t},e.size=function(t){return arguments.length?(n=xe(t),e):n},e};var Du=qo.map({circle:Mo,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*Su)),n=t*Su;return"M0,"+-t+"L"+n+",0 0,"+t+" "+-n+",0Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/$u),n=t*$u/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/$u),n=t*$u/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});qo.svg.symbolTypes=Du.keys();var ku,Au,$u=Math.sqrt(3),Su=Math.tan(30*Sa),Eu=[],Tu=0;Eu.call=ma.call,Eu.empty=ma.empty,Eu.node=ma.node,Eu.size=ma.size,qo.transition=function(e){return arguments.length?ku?e.transition():e:ba.transition()},qo.transition.prototype=Eu,Eu.select=function(e){var t,n,r,i=this.id,o=[];e=x(e);for(var a=-1,s=this.length;++a<s;){o.push(t=[]);for(var u=this[a],l=-1,c=u.length;++l<c;)(r=u[l])&&(n=e.call(r,r.__data__,l,a))?("__data__"in r&&(n.__data__=r.__data__),Go(n,l,i,r.__transition__[i]),t.push(n)):t.push(null)}return No(o,i)},Eu.selectAll=function(e){var t,n,r,i,o,a=this.id,s=[];e=C(e);for(var u=-1,l=this.length;++u<l;)for(var c=this[u],d=-1,p=c.length;++d<p;)if(r=c[d]){o=r.__transition__[a],n=e.call(r,r.__data__,d,u),s.push(t=[]);for(var f=-1,h=n.length;++f<h;)(i=n[f])&&Go(i,f,a,o),t.push(i)}return No(s,a)},Eu.filter=function(e){var t,n,r,i=[];"function"!=typeof e&&(e=N(e));for(var o=0,a=this.length;a>o;o++){i.push(t=[]);for(var n=this[o],s=0,u=n.length;u>s;s++)(r=n[s])&&e.call(r,r.__data__,s,o)&&t.push(r)}return No(i,this.id)},Eu.tween=function(e,t){var n=this.id;return arguments.length<2?this.node().__transition__[n].tween.get(e):O(this,null==t?function(t){t.__transition__[n].tween.remove(e)}:function(r){r.__transition__[n].tween.set(e,t)})},Eu.attr=function(e,t){function n(){this.removeAttribute(s)}function r(){this.removeAttributeNS(s.space,s.local)}function i(e){return null==e?n:(e+="",function(){var t,n=this.getAttribute(s);return n!==e&&(t=a(n,e),function(e){this.setAttribute(s,t(e))})})}function o(e){return null==e?r:(e+="",function(){var t,n=this.getAttributeNS(s.space,s.local);return n!==e&&(t=a(n,e),function(e){this.setAttributeNS(s.space,s.local,t(e))})})}if(arguments.length<2){for(t in e)this.attr(t,e[t]);return this}var a="transform"==e?Or:fr,s=qo.ns.qualify(e);return Fo(this,"attr."+e,t,s.local?o:i)},Eu.attrTween=function(e,t){function n(e,n){var r=t.call(this,e,n,this.getAttribute(i));return r&&function(e){this.setAttribute(i,r(e))}}function r(e,n){var r=t.call(this,e,n,this.getAttributeNS(i.space,i.local));return r&&function(e){this.setAttributeNS(i.space,i.local,r(e))}}var i=qo.ns.qualify(e);return this.tween("attr."+e,i.local?r:n)},Eu.style=function(e,t,n){function r(){this.style.removeProperty(e)}function i(t){return null==t?r:(t+="",function(){var r,i=Ko.getComputedStyle(this,null).getPropertyValue(e);return i!==t&&(r=fr(i,t),function(t){this.style.setProperty(e,r(t),n)})})}var o=arguments.length;if(3>o){if("string"!=typeof e){2>o&&(t="");for(n in e)this.style(n,e[n],t);return this}n=""}return Fo(this,"style."+e,t,i)},Eu.styleTween=function(e,t,n){function r(r,i){var o=t.call(this,r,i,Ko.getComputedStyle(this,null).getPropertyValue(e));return o&&function(t){this.style.setProperty(e,o(t),n)}}return arguments.length<3&&(n=""),this.tween("style."+e,r)},Eu.text=function(e){return Fo(this,"text",e,Oo)},Eu.remove=function(){return this.each("end.transition",function(){var e;this.__transition__.count<2&&(e=this.parentNode)&&e.removeChild(this)})},Eu.ease=function(e){var t=this.id;return arguments.length<1?this.node().__transition__[t].ease:("function"!=typeof e&&(e=qo.ease.apply(qo,arguments)),O(this,function(n){n.__transition__[t].ease=e}))},Eu.delay=function(e){var t=this.id;return arguments.length<1?this.node().__transition__[t].delay:O(this,"function"==typeof e?function(n,r,i){n.__transition__[t].delay=+e.call(n,n.__data__,r,i)}:(e=+e,function(n){n.__transition__[t].delay=e}))},Eu.duration=function(e){var t=this.id;return arguments.length<1?this.node().__transition__[t].duration:O(this,"function"==typeof e?function(n,r,i){n.__transition__[t].duration=Math.max(1,e.call(n,n.__data__,r,i))}:(e=Math.max(1,e),function(n){n.__transition__[t].duration=e}))},Eu.each=function(e,t){var n=this.id;if(arguments.length<2){var r=Au,i=ku;ku=n,O(this,function(t,r,i){Au=t.__transition__[n],e.call(t,t.__data__,r,i)}),Au=r,ku=i}else O(this,function(r){var i=r.__transition__[n];(i.event||(i.event=qo.dispatch("start","end"))).on(e,t)});return this},Eu.transition=function(){for(var e,t,n,r,i=this.id,o=++Tu,a=[],s=0,u=this.length;u>s;s++){a.push(e=[]);for(var t=this[s],l=0,c=t.length;c>l;l++)(n=t[l])&&(r=Object.create(n.__transition__[i]),r.delay+=r.duration,Go(n,l,o,r)),e.push(n)}return No(a,o)},qo.svg.axis=function(){function e(e){e.each(function(){var e,l=qo.select(this),c=this.__chart__||n,d=this.__chart__=n.copy(),p=null==u?d.ticks?d.ticks.apply(d,s):d.domain():u,f=null==t?d.tickFormat?d.tickFormat.apply(d,s):Ce:t,h=l.selectAll(".tick").data(p,d),m=h.enter().insert("g",".domain").attr("class","tick").style("opacity",Aa),g=qo.transition(h.exit()).style("opacity",Aa).remove(),v=qo.transition(h.order()).style("opacity",1),b=Mi(d),y=l.selectAll(".domain").data([0]),w=(y.enter().append("path").attr("class","domain"),qo.transition(y));m.append("line"),m.append("text");var _=m.select("line"),x=v.select("line"),C=h.select("text").text(f),D=m.select("text"),k=v.select("text");switch(r){case"bottom":e=Io,_.attr("y2",i),D.attr("y",Math.max(i,0)+a),x.attr("x2",0).attr("y2",i),k.attr("x",0).attr("y",Math.max(i,0)+a),C.attr("dy",".71em").style("text-anchor","middle"),w.attr("d","M"+b[0]+","+o+"V0H"+b[1]+"V"+o);break;case"top":e=Io,_.attr("y2",-i),D.attr("y",-(Math.max(i,0)+a)),x.attr("x2",0).attr("y2",-i),k.attr("x",0).attr("y",-(Math.max(i,0)+a)),C.attr("dy","0em").style("text-anchor","middle"),w.attr("d","M"+b[0]+","+-o+"V0H"+b[1]+"V"+-o);break;case"left":e=Bo,_.attr("x2",-i),D.attr("x",-(Math.max(i,0)+a)),x.attr("x2",-i).attr("y2",0),k.attr("x",-(Math.max(i,0)+a)).attr("y",0),C.attr("dy",".32em").style("text-anchor","end"),w.attr("d","M"+-o+","+b[0]+"H0V"+b[1]+"H"+-o);break;case"right":e=Bo,_.attr("x2",i),D.attr("x",Math.max(i,0)+a),x.attr("x2",i).attr("y2",0),k.attr("x",Math.max(i,0)+a).attr("y",0),C.attr("dy",".32em").style("text-anchor","start"),w.attr("d","M"+o+","+b[0]+"H0V"+b[1]+"H"+o)}if(d.rangeBand){var A=d,$=A.rangeBand()/2;c=d=function(e){return A(e)+$}}else c.rangeBand?c=d:g.call(e,d);m.call(e,c),v.call(e,d)})}var t,n=qo.scale.linear(),r=Pu,i=6,o=6,a=3,s=[10],u=null;return e.scale=function(t){return arguments.length?(n=t,e):n},e.orient=function(t){return arguments.length?(r=t in Ru?t+"":Pu,e):r},e.ticks=function(){return arguments.length?(s=arguments,e):s},e.tickValues=function(t){return arguments.length?(u=t,e):u},e.tickFormat=function(n){return arguments.length?(t=n,e):t},e.tickSize=function(t){var n=arguments.length;return n?(i=+t,o=+arguments[n-1],e):i},e.innerTickSize=function(t){return arguments.length?(i=+t,e):i},e.outerTickSize=function(t){return arguments.length?(o=+t,e):o},e.tickPadding=function(t){return arguments.length?(a=+t,e):a},e.tickSubdivide=function(){return arguments.length&&e},e};var Pu="bottom",Ru={top:1,right:1,bottom:1,left:1};qo.svg.brush=function(){function e(o){o.each(function(){var o=qo.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",i).on("touchstart.brush",i),a=o.selectAll(".background").data([0]);a.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),o.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=o.selectAll(".resize").data(h,Ce);s.exit().remove(),s.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return Mu[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",e.empty()?"none":null);var c,d=qo.transition(o),p=qo.transition(a);u&&(c=Mi(u),p.attr("x",c[0]).attr("width",c[1]-c[0]),n(d)),l&&(c=Mi(l),p.attr("y",c[0]).attr("height",c[1]-c[0]),r(d)),t(d)})}function t(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+c[+/e$/.test(e)]+","+d[+/^s/.test(e)]+")"})}function n(e){e.select(".extent").attr("x",c[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",c[1]-c[0])}function r(e){e.select(".extent").attr("y",d[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",d[1]-d[0])}function i(){function i(){32==qo.event.keyCode&&(S||(y=null,T[0]-=c[1],T[1]-=d[1],S=2),b())}function h(){32==qo.event.keyCode&&2==S&&(T[0]+=c[1],T[1]+=d[1],S=0,b())}function m(){var e=qo.mouse(_),i=!1;w&&(e[0]+=w[0],e[1]+=w[1]),S||(qo.event.altKey?(y||(y=[(c[0]+c[1])/2,(d[0]+d[1])/2]),T[0]=c[+(e[0]<y[0])],T[1]=d[+(e[1]<y[1])]):y=null),A&&g(e,u,0)&&(n(D),i=!0),$&&g(e,l,1)&&(r(D),i=!0),i&&(t(D),C({type:"brush",mode:S?"move":"resize"}))}function g(e,t,n){var r,i,s=Mi(t),u=s[0],l=s[1],h=T[n],m=n?d:c,g=m[1]-m[0];return S&&(u-=h,l-=g+h),r=(n?f:p)?Math.max(u,Math.min(l,e[n])):e[n],S?i=(r+=h)+g:(y&&(h=Math.max(u,Math.min(l,2*y[n]-r))),r>h?(i=r,r=h):i=h),m[0]!=r||m[1]!=i?(n?a=null:o=null,m[0]=r,m[1]=i,!0):void 0}function v(){m(),D.style("pointer-events","all").selectAll(".resize").style("display",e.empty()?"none":null),qo.select("body").style("cursor",null),P.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),E(),C({type:"brushend"})}var y,w,_=this,x=qo.select(qo.event.target),C=s.of(_,arguments),D=qo.select(_),k=x.datum(),A=!/^(n|s)$/.test(k)&&u,$=!/^(e|w)$/.test(k)&&l,S=x.classed("extent"),E=V(),T=qo.mouse(_),P=qo.select(Ko).on("keydown.brush",i).on("keyup.brush",h);if(qo.event.changedTouches?P.on("touchmove.brush",m).on("touchend.brush",v):P.on("mousemove.brush",m).on("mouseup.brush",v),D.interrupt().selectAll("*").interrupt(),S)T[0]=c[0]-T[0],T[1]=d[0]-T[1];else if(k){var R=+/w$/.test(k),M=+/^n/.test(k);w=[c[1-R]-T[0],d[1-M]-T[1]],T[0]=c[R],T[1]=d[M]}else qo.event.altKey&&(y=T.slice());D.style("pointer-events","none").selectAll(".resize").style("display",null),qo.select("body").style("cursor",x.style("cursor")),C({type:"brushstart"}),m()}var o,a,s=w(e,"brushstart","brush","brushend"),u=null,l=null,c=[0,0],d=[0,0],p=!0,f=!0,h=Nu[0];return e.event=function(e){e.each(function(){var e=s.of(this,arguments),t={x:c,y:d,i:o,j:a},n=this.__chart__||t;this.__chart__=t,ku?qo.select(this).transition().each("start.brush",function(){o=n.i,a=n.j,c=n.x,d=n.y,e({type:"brushstart"})}).tween("brush:brush",function(){var n=hr(c,t.x),r=hr(d,t.y);return o=a=null,function(i){c=t.x=n(i),d=t.y=r(i),e({type:"brush",mode:"resize"})}}).each("end.brush",function(){o=t.i,a=t.j,e({type:"brush",mode:"resize"}),e({type:"brushend"})}):(e({type:"brushstart"}),e({type:"brush",mode:"resize"}),e({type:"brushend"}))})},e.x=function(t){return arguments.length?(u=t,h=Nu[!u<<1|!l],e):u},e.y=function(t){return arguments.length?(l=t,h=Nu[!u<<1|!l],e):l},e.clamp=function(t){return arguments.length?(u&&l?(p=!!t[0],f=!!t[1]):u?p=!!t:l&&(f=!!t),e):u&&l?[p,f]:u?p:l?f:null},e.extent=function(t){var n,r,i,s,p;return arguments.length?(u&&(n=t[0],r=t[1],l&&(n=n[0],r=r[0]),o=[n,r],u.invert&&(n=u(n),r=u(r)),n>r&&(p=n,n=r,r=p),(n!=c[0]||r!=c[1])&&(c=[n,r])),l&&(i=t[0],s=t[1],u&&(i=i[1],s=s[1]),a=[i,s],l.invert&&(i=l(i),s=l(s)),i>s&&(p=i,i=s,s=p),(i!=d[0]||s!=d[1])&&(d=[i,s])),e):(u&&(o?(n=o[0],r=o[1]):(n=c[0],r=c[1],u.invert&&(n=u.invert(n),r=u.invert(r)),n>r&&(p=n,n=r,r=p))),l&&(a?(i=a[0],s=a[1]):(i=d[0],s=d[1],l.invert&&(i=l.invert(i),s=l.invert(s)),i>s&&(p=i,i=s,s=p))),u&&l?[[n,i],[r,s]]:u?[n,r]:l&&[i,s])},e.clear=function(){return e.empty()||(c=[0,0],d=[0,0],o=a=null),e},e.empty=function(){return!!u&&c[0]==c[1]||!!l&&d[0]==d[1]},qo.rebind(e,s,"on")};var Mu={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Nu=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Fu=es.format=as.timeFormat,Ou=Fu.utc,Gu=Ou("%Y-%m-%dT%H:%M:%S.%LZ");Fu.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Wo:Gu,Wo.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},Wo.toString=Gu.toString,es.second=Fe(function(e){return new ts(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))},function(e){return e.getSeconds()}),es.seconds=es.second.range,es.seconds.utc=es.second.utc.range,es.minute=Fe(function(e){return new ts(6e4*Math.floor(e/6e4))},function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))},function(e){return e.getMinutes()}),es.minutes=es.minute.range,es.minutes.utc=es.minute.utc.range,es.hour=Fe(function(e){var t=e.getTimezoneOffset()/60;return new ts(36e5*(Math.floor(e/36e5-t)+t))},function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))},function(e){return e.getHours()}),es.hours=es.hour.range,es.hours.utc=es.hour.utc.range,es.month=Fe(function(e){return e=es.day(e),e.setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),es.months=es.month.range,es.months.utc=es.month.utc.range;var Iu=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Bu=[[es.second,1],[es.second,5],[es.second,15],[es.second,30],[es.minute,1],[es.minute,5],[es.minute,15],[es.minute,30],[es.hour,1],[es.hour,3],[es.hour,6],[es.hour,12],[es.day,1],[es.day,2],[es.week,1],[es.month,1],[es.month,3],[es.year,1]],Wu=Fu.multi([[".%L",function(e){
return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",Ct]]),Lu={range:function(e,t,n){return qo.range(Math.ceil(e/n)*n,+t,n).map(jo)},floor:Ce,ceil:Ce};Bu.year=es.year,es.scale=function(){return Lo(qo.scale.linear(),Bu,Wu)};var ju=Bu.map(function(e){return[e[0].utc,e[1]]}),Vu=Ou.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",Ct]]);ju.year=es.year.utc,es.scale.utc=function(){return Lo(qo.scale.linear(),ju,Vu)},qo.text=De(function(e){return e.responseText}),qo.json=function(e,t){return ke(e,"application/json",Vo,t)},qo.html=function(e,t){return ke(e,"text/html",Ho,t)},qo.xml=De(function(e){return e.responseXML}),"function"==typeof define&&define.amd?define(qo):"object"==typeof module&&module.exports&&(module.exports=qo),this.d3=qo}(),function(e){function t(e){return e}function n(e,t){for(var n=0,r=t.length,i=new Array(r);r>n;++n)i[n]=e[t[n]];return i}function r(e){function t(t,n,r,i){for(;i>r;){var o=r+i>>>1;e(t[o])<n?r=o+1:i=o}return r}function n(t,n,r,i){for(;i>r;){var o=r+i>>>1;n<e(t[o])?i=o:r=o+1}return r}return n.right=n,n.left=t,n}function i(e){function t(e,t,n){for(var i=n-t,o=(i>>>1)+1;--o>0;)r(e,o,i,t);return e}function n(e,t,n){for(var i,o=n-t;--o>0;)i=e[t],e[t]=e[t+o],e[t+o]=i,r(e,1,o,t);return e}function r(t,n,r,i){for(var o,a=t[--i+n],s=e(a);(o=n<<1)<=r&&(r>o&&e(t[i+o])>e(t[i+o+1])&&o++,!(s<=e(t[i+o])));)t[i+n]=t[i+o],n=o;t[i+n]=a}return t.sort=n,t}function o(e){function t(t,r,i,o){var a,s,u,l,c=new Array(o=Math.min(i-r,o));for(s=0;o>s;++s)c[s]=t[r++];if(n(c,0,o),i>r){a=e(c[0]);do(u=e(l=t[r])>a)&&(c[0]=l,a=e(n(c,0,o)[0]));while(++r<i)}return c}var n=i(e);return t}function a(e){function t(t,n,r){for(var i=n+1;r>i;++i){for(var o=i,a=t[i],s=e(a);o>n&&e(t[o-1])>s;--o)t[o]=t[o-1];t[o]=a}return t}return t}function s(e){function t(e,t,i){return(E>i-t?r:n)(e,t,i)}function n(n,r,i){var o,a=(i-r)/6|0,s=r+a,u=i-1-a,l=r+i-1>>1,c=l-a,d=l+a,p=n[s],f=e(p),h=n[c],m=e(h),g=n[l],v=e(g),b=n[d],y=e(b),w=n[u],_=e(w);f>m&&(o=p,p=h,h=o,o=f,f=m,m=o),y>_&&(o=b,b=w,w=o,o=y,y=_,_=o),f>v&&(o=p,p=g,g=o,o=f,f=v,v=o),m>v&&(o=h,h=g,g=o,o=m,m=v,v=o),f>y&&(o=p,p=b,b=o,o=f,f=y,y=o),v>y&&(o=g,g=b,b=o,o=v,v=y,y=o),m>_&&(o=h,h=w,w=o,o=m,m=_,_=o),m>v&&(o=h,h=g,g=o,o=m,m=v,v=o),y>_&&(o=b,b=w,w=o,o=y,y=_,_=o);var x=h,C=m,D=b,k=y;n[s]=p,n[c]=n[r],n[l]=g,n[d]=n[i-1],n[u]=w;var A=r+1,$=i-2,S=k>=C&&C>=k;if(S)for(var E=A;$>=E;++E){var T=n[E],P=e(T);if(C>P)E!==A&&(n[E]=n[A],n[A]=T),++A;else if(P>C)for(;;){var R=e(n[$]);{if(!(R>C)){if(C>R){n[E]=n[A],n[A++]=n[$],n[$--]=T;break}n[E]=n[$],n[$--]=T;break}$--}}}else for(var E=A;$>=E;E++){var T=n[E],P=e(T);if(C>P)E!==A&&(n[E]=n[A],n[A]=T),++A;else if(P>k)for(;;){var R=e(n[$]);{if(!(R>k)){C>R?(n[E]=n[A],n[A++]=n[$],n[$--]=T):(n[E]=n[$],n[$--]=T);break}if($--,E>$)break}}}if(n[r]=n[A-1],n[A-1]=x,n[i-1]=n[$+1],n[$+1]=D,t(n,r,A-1),t(n,$+2,i),S)return n;if(s>A&&$>u){for(var M,R;(M=e(n[A]))<=C&&M>=C;)++A;for(;(R=e(n[$]))<=k&&R>=k;)--$;for(var E=A;$>=E;E++){var T=n[E],P=e(T);if(C>=P&&P>=C)E!==A&&(n[E]=n[A],n[A]=T),A++;else if(k>=P&&P>=k)for(;;){var R=e(n[$]);{if(!(k>=R&&R>=k)){C>R?(n[E]=n[A],n[A++]=n[$],n[$--]=T):(n[E]=n[$],n[$--]=T);break}if($--,E>$)break}}}}return t(n,A,$+1)}var r=a(e);return t}function u(e){for(var t=new Array(e),n=-1;++n<e;)t[n]=0;return t}function l(e,t){for(var n=e.length;t>n;)e[n++]=0;return e}function c(e,t){if(t>32)throw new Error("invalid array width!");return e}function d(e,t){return function(n){var r=n.length;return[e.left(n,t,0,r),e.right(n,t,0,r)]}}function p(e,t){var n=t[0],r=t[1];return function(t){var i=t.length;return[e.left(t,n,0,i),e.left(t,r,0,i)]}}function f(e){return[0,e.length]}function h(){return null}function m(){return 0}function g(e){return e+1}function v(e){return e-1}function b(e){return function(t,n){return t+ +e(n)}}function y(e){return function(t,n){return t-e(n)}}function w(){function e(e){var t=k,n=e.length;return n&&(w=w.concat(e),S=M(S,k+=n),P.forEach(function(r){r(e,t,n)})),c}function r(){for(var e=_(k,k),t=[],n=0,r=0;k>n;++n)S[n]?e[n]=r++:t.push(n);E.forEach(function(e){e(0,[],t)}),R.forEach(function(t){t(e)});for(var i,n=0,r=0;k>n;++n)(i=S[n])&&(n!==r&&(S[r]=i,w[r]=w[n]),++r);for(w.length=r;k>r;)S[--k]=0}function a(e){function r(t,r,i){U=t.map(e),z=J(x(i),0,i),U=n(U,z);var o,a=Q(U),s=a[0],u=a[1];if(Y)for(o=0;i>o;++o)Y(U[o],o)||(S[z[o]+r]|=K);else{for(o=0;s>o;++o)S[z[o]+r]|=K;for(o=u;i>o;++o)S[z[o]+r]|=K}if(!r)return H=U,q=z,ne=s,void(re=u);var l=H,c=q,d=0,p=0;for(H=new Array(k),q=_(k,k),o=0;r>d&&i>p;++o)l[d]<U[p]?(H[o]=l[d],q[o]=c[d++]):(H[o]=U[p],q[o]=z[p++]+r);for(;r>d;++d,++o)H[o]=l[d],q[o]=c[d];for(;i>p;++p,++o)H[o]=U[p],q[o]=z[p]+r;a=Q(H),ne=a[0],re=a[1]}function a(e,t,n){ee.forEach(function(e){e(U,z,t,n)}),U=z=null}function u(e){for(var t,n=0,r=0;k>n;++n)S[t=q[n]]&&(n!==r&&(H[r]=H[n]),q[r]=e[t],++r);for(H.length=r;k>r;)q[r++]=0;var i=Q(H);ne=i[0],re=i[1]}function l(e){var t=e[0],n=e[1];if(Y)return Y=null,I(function(e,r){return r>=t&&n>r}),ne=t,re=n,X;var r,i,o,a=[],s=[];if(ne>t)for(r=t,i=Math.min(ne,n);i>r;++r)S[o=q[r]]^=K,a.push(o);else if(t>ne)for(r=ne,i=Math.min(t,re);i>r;++r)S[o=q[r]]^=K,s.push(o);if(n>re)for(r=Math.max(t,re),i=n;i>r;++r)S[o=q[r]]^=K,a.push(o);else if(re>n)for(r=Math.max(ne,n),i=re;i>r;++r)S[o=q[r]]^=K,s.push(o);return ne=t,re=n,E.forEach(function(e){e(K,a,s)}),X}function c(e){return null==e?O():Array.isArray(e)?F(e):"function"==typeof e?G(e):T(e)}function T(e){return l((Q=d(D,e))(H))}function F(e){return l((Q=p(D,e))(H))}function O(){return l((Q=f)(H))}function G(e){return Q=f,I(Y=e),ne=0,re=k,X}function I(e){var t,n,r,i=[],o=[];for(t=0;k>t;++t)!(S[n=q[t]]&K)^!!(r=e(H[t],t))&&(r?(S[n]&=Z,i.push(n)):(S[n]|=K,o.push(n)));E.forEach(function(e){e(K,i,o)})}function B(e){for(var t,n=[],r=re;--r>=ne&&e>0;)S[t=q[r]]||(n.push(w[t]),--e);return n}function W(e){for(var t,n=[],r=ne;re>r&&e>0;)S[t=q[r]]||(n.push(w[t]),--e),r++;return n}function L(e){function n(t,n,r,i){function o(){++U===V&&(b=N(b,j<<=1),O=N(O,j),V=C(j))}var c,d,p,f,m,g,v=F,b=_(U,V),y=B,x=L,D=U,A=0,$=0;for(X&&(y=x=h),F=new Array(U),U=0,O=D>1?M(O,k):_(k,V),D&&(p=(d=v[0]).key);i>$&&!((f=e(t[$]))>=f);)++$;for(;i>$;){for(d&&f>=p?(m=d,g=p,b[A]=U,(d=v[++A])&&(p=d.key)):(m={key:f,value:x()},g=f),F[U]=m;!(f>g||(O[c=n[$]+r]=U,S[c]&Z||(m.value=y(m.value,w[c])),++$>=i));)f=e(t[$]);o()}for(;D>A;)F[b[A]=U]=v[A++],o();if(U>A)for(A=0;r>A;++A)O[A]=b[O[A]];c=E.indexOf(z),U>1?(z=a,Y=u):(!U&&J&&(U=1,F=[{key:null,value:x()}]),1===U?(z=s,Y=l):(z=h,Y=h),O=null),E[c]=z}function r(){if(U>1){for(var e=U,t=F,n=_(e,e),r=0,i=0;k>r;++r)S[r]&&(n[O[i]=O[r]]=1,++i);for(F=[],U=0,r=0;e>r;++r)n[r]&&(n[r]=U++,F.push(t[r]));if(U>1)for(var r=0;i>r;++r)O[r]=n[O[r]];else O=null;E[E.indexOf(z)]=U>1?(Y=u,z=a):1===U?(Y=l,z=s):Y=z=h}else if(1===U){if(J)return;for(var r=0;k>r;++r)if(S[r])return;F=[],U=0,E[E.indexOf(z)]=z=Y=h}}function a(e,t,n){if(e!==K&&!X){var r,i,o,a;for(r=0,o=t.length;o>r;++r)S[i=t[r]]&Z||(a=F[O[i]],a.value=B(a.value,w[i]));for(r=0,o=n.length;o>r;++r)(S[i=n[r]]&Z)===e&&(a=F[O[i]],a.value=W(a.value,w[i]))}}function s(e,t,n){if(e!==K&&!X){var r,i,o,a=F[0];for(r=0,o=t.length;o>r;++r)S[i=t[r]]&Z||(a.value=B(a.value,w[i]));for(r=0,o=n.length;o>r;++r)(S[i=n[r]]&Z)===e&&(a.value=W(a.value,w[i]))}}function u(){var e,t;for(e=0;U>e;++e)F[e].value=L();for(e=0;k>e;++e)S[e]&Z||(t=F[O[e]],t.value=B(t.value,w[e]))}function l(){var e,t=F[0];for(t.value=L(),e=0;k>e;++e)S[e]&Z||(t.value=B(t.value,w[e]))}function c(){return X&&(Y(),X=!1),F}function d(e){var t=G(c(),0,F.length,e);return I.sort(t,0,t.length)}function p(e,t,n){return B=e,W=t,L=n,X=!0,P}function f(){return p(g,v,m)}function x(e){return p(b(e),y(e),m)}function D(e){function t(t){return e(t.value)}return G=o(t),I=i(t),P}function A(){return D(t)}function $(){return U}function T(){var e=E.indexOf(z);return e>=0&&E.splice(e,1),e=ee.indexOf(n),e>=0&&ee.splice(e,1),e=R.indexOf(r),e>=0&&R.splice(e,1),P}var P={top:d,all:c,reduce:p,reduceCount:f,reduceSum:x,order:D,orderNatural:A,size:$,dispose:T,remove:T};te.push(P);var F,O,G,I,B,W,L,j=8,V=C(j),U=0,z=h,Y=h,X=!0,J=e===h;return arguments.length<1&&(e=t),E.push(z),ee.push(n),R.push(r),n(H,q,0,k),f().orderNatural()}function j(){var e=L(h),t=e.all;return delete e.all,delete e.top,delete e.order,delete e.orderNatural,delete e.size,e.value=function(){return t()[0].value},e}function V(){te.forEach(function(e){e.dispose()});var e=P.indexOf(r);return e>=0&&P.splice(e,1),e=P.indexOf(a),e>=0&&P.splice(e,1),e=R.indexOf(u),e>=0&&R.splice(e,1),A&=Z,O()}var H,q,U,z,Y,X={filter:c,filterExact:T,filterRange:F,filterFunction:G,filterAll:O,top:B,bottom:W,group:L,groupAll:j,dispose:V,remove:V},K=~A&-~A,Z=~K,J=s(function(e){return U[e]}),Q=f,ee=[],te=[],ne=0,re=0;return P.unshift(r),P.push(a),R.push(u),A|=K,($>=32?!K:A&(1<<$)-1)&&(S=N(S,$<<=1)),r(w,0,k),a(w,0,k),X}function u(){function e(e,t){var n;if(!f)for(n=t;k>n;++n)S[n]||(u=l(u,w[n]))}function t(e,t,n){var r,i,o;if(!f){for(r=0,o=t.length;o>r;++r)S[i=t[r]]||(u=l(u,w[i]));for(r=0,o=n.length;o>r;++r)S[i=n[r]]===e&&(u=c(u,w[i]))}}function n(){var e;for(u=d(),e=0;k>e;++e)S[e]||(u=l(u,w[e]))}function r(e,t,n){return l=e,c=t,d=n,f=!0,p}function i(){return r(g,v,m)}function o(e){return r(b(e),y(e),m)}function a(){return f&&(n(),f=!1),u}function s(){var n=E.indexOf(t);return n>=0&&E.splice(n),n=P.indexOf(e),n>=0&&P.splice(n),p}var u,l,c,d,p={reduce:r,reduceCount:i,reduceSum:o,value:a,dispose:s,remove:s},f=!0;return E.push(t),P.push(e),e(w,0,k),i()}function l(){return k}var c={add:e,remove:r,dimension:a,groupAll:u,size:l},w=[],k=0,A=0,$=8,S=T(0),E=[],P=[],R=[];return arguments.length?e(arguments[0]):c}function _(e,t){return(257>t?T:65537>t?P:R)(e)}function x(e){for(var t=_(e,e),n=-1;++n<e;)t[n]=n;return t}function C(e){return 8===e?256:16===e?65536:4294967296}w.version="1.3.11",w.permute=n;var D=w.bisect=r(t);D.by=r;var k=w.heap=i(t);k.by=i;var A=w.heapselect=o(t);A.by=o;var $=w.insertionsort=a(t);$.by=a;var S=w.quicksort=s(t);S.by=s;var E=32,T=u,P=u,R=u,M=l,N=c;"undefined"!=typeof Uint8Array&&(T=function(e){return new Uint8Array(e)},P=function(e){return new Uint16Array(e)},R=function(e){return new Uint32Array(e)},M=function(e,t){if(e.length>=t)return e;var n=new e.constructor(t);return n.set(e),n},N=function(e,t){var n;switch(t){case 16:n=P(e.length);break;case 32:n=R(e.length);break;default:throw new Error("invalid array width!")}return n.set(e),n}),e.crossfilter=w}("undefined"!=typeof exports&&exports||this),function(){function e(e,t){"use strict";var n={version:"2.1.10",constants:{CHART_CLASS:"dc-chart",DEBUG_GROUP_CLASS:"debug",STACK_CLASS:"stack",DESELECTED_CLASS:"deselected",SELECTED_CLASS:"selected",NODE_INDEX_NAME:"__index__",GROUP_INDEX_NAME:"__group_index__",DEFAULT_CHART_GROUP:"__default_chart_group__",EVENT_DELAY:40,NEGLIGIBLE_NUMBER:1e-10},_renderlet:null};n.chartRegistry=function(){function e(e){return e||(e=n.constants.DEFAULT_CHART_GROUP),t[e]||(t[e]=[]),e}var t={};return{has:function(e){for(var n in t)if(t[n].indexOf(e)>=0)return!0;return!1},register:function(n,r){r=e(r),t[r].push(n)},deregister:function(n,r){r=e(r);for(var i=0;i<t[r].length;i++)if(t[r][i].anchorName()===n.anchorName()){t[r].splice(i,1);break}},clear:function(e){e?delete t[e]:t={}},list:function(n){return n=e(n),t[n]}}}(),n.registerChart=function(e,t){n.chartRegistry.register(e,t)},n.deregisterChart=function(e,t){n.chartRegistry.deregister(e,t)},n.hasChart=function(e){return n.chartRegistry.has(e)},n.deregisterAllCharts=function(e){n.chartRegistry.clear(e)},n.filterAll=function(e){for(var t=n.chartRegistry.list(e),r=0;r<t.length;++r)t[r].filterAll()},n.refocusAll=function(e){for(var t=n.chartRegistry.list(e),r=0;r<t.length;++r)t[r].focus&&t[r].focus()},n.renderAll=function(e){for(var t=n.chartRegistry.list(e),r=0;r<t.length;++r)t[r].render();null!==n._renderlet&&n._renderlet(e)},n.redrawAll=function(e){for(var t=n.chartRegistry.list(e),r=0;r<t.length;++r)t[r].redraw();null!==n._renderlet&&n._renderlet(e)},n.disableTransitions=!1,n.transition=function(e,t,r,i){if(n.disableTransitions||0>=t)return e;var o=e.transition(i);return(t>=0||void 0!==t)&&(o=o.duration(t)),(r>=0||void 0!==r)&&(o=o.delay(r)),o},n.optionalTransition=function(e,t,r,i){return e?function(e){return n.transition(e,t,r,i)}:function(e){return e}},n.afterTransition=function(e,t){if(e.empty()||!e.duration)t.call(e);else{var n=0;e.each(function(){++n}).each("end",function(){--n||t.call(e)})}},n.units={},n.units.integers=function(e,t){return Math.abs(t-e)},n.units.ordinal=function(e,t,n){return n},n.units.fp={},n.units.fp.precision=function(e){var t=function(e,r){var i=Math.abs((r-e)/t.resolution);return n.utils.isNegligible(i-Math.floor(i))?Math.floor(i):Math.ceil(i)};return t.resolution=e,t},n.round={},n.round.floor=function(e){return Math.floor(e)},n.round.ceil=function(e){return Math.ceil(e)},n.round.round=function(e){return Math.round(e)},n.override=function(e,t,n){var r=e[t];e["_"+t]=r,e[t]=n},n.renderlet=function(e){return arguments.length?(n._renderlet=e,n):n._renderlet},n.instanceOfChart=function(e){return e instanceof Object&&e.__dcFlag__&&!0},n.errors={},n.errors.Exception=function(e){var t=e||"Unexpected internal error";this.message=t,this.toString=function(){return t},this.stack=(new Error).stack},n.errors.Exception.prototype=Object.create(Error.prototype),n.errors.Exception.prototype.constructor=n.errors.Exception,n.errors.InvalidStateException=function(){n.errors.Exception.apply(this,arguments)},n.errors.InvalidStateException.prototype=Object.create(n.errors.Exception.prototype),n.errors.InvalidStateException.prototype.constructor=n.errors.InvalidStateException,n.errors.BadArgumentException=function(){n.errors.Exception.apply(this,arguments)},n.errors.BadArgumentException.prototype=Object.create(n.errors.Exception.prototype),n.errors.BadArgumentException.prototype.constructor=n.errors.BadArgumentException,n.dateFormat=e.time.format("%m/%d/%Y"),n.printers={},n.printers.filters=function(e){for(var t="",r=0;r<e.length;++r)r>0&&(t+=", "),t+=n.printers.filter(e[r]);return t},n.printers.filter=function(e){var t="";return"undefined"!=typeof e&&null!==e&&(e instanceof Array?e.length>=2?t="["+n.utils.printSingleValue(e[0])+" -> "+n.utils.printSingleValue(e[1])+"]":e.length>=1&&(t=n.utils.printSingleValue(e[0])):t=n.utils.printSingleValue(e)),t},n.pluck=function(e,t){return t?function(n,r){return t.call(n,n[e],r)}:function(t){return t[e]}},n.utils={},n.utils.printSingleValue=function(e){var t=""+e;return e instanceof Date?t=n.dateFormat(e):"string"==typeof e?t=e:n.utils.isFloat(e)?t=n.utils.printSingleValue.fformat(e):n.utils.isInteger(e)&&(t=Math.round(e)),t},n.utils.printSingleValue.fformat=e.format(".2f"),n.utils.add=function(t,n,r){if("string"==typeof n&&(n=n.replace("%","")),t instanceof Date)return"string"==typeof n&&(n=+n),"millis"===r?new Date(t.getTime()+n):(r=r||"day",e.time[r].offset(t,n));if("string"==typeof n){var i=+n/100;return t>0?t*(1+i):t*(1-i)}return t+n},n.utils.subtract=function(t,n,r){if("string"==typeof n&&(n=n.replace("%","")),t instanceof Date)return"string"==typeof n&&(n=+n),"millis"===r?new Date(t.getTime()-n):(r=r||"day",e.time[r].offset(t,-n));if("string"==typeof n){var i=+n/100;return 0>t?t*(1+i):t*(1-i)}return t-n},n.utils.isNumber=function(e){return e===+e},n.utils.isFloat=function(e){return e===+e&&e!==(0|e)},n.utils.isInteger=function(e){return e===+e&&e===(0|e)},n.utils.isNegligible=function(e){return!n.utils.isNumber(e)||e<n.constants.NEGLIGIBLE_NUMBER&&e>-n.constants.NEGLIGIBLE_NUMBER},n.utils.clamp=function(e,t,n){return t>e?t:e>n?n:e};var r=0;return n.utils.uniqueId=function(){return++r},n.utils.nameToId=function(e){return e.toLowerCase().replace(/[\s]/g,"_").replace(/[\.']/g,"")},n.utils.appendOrSelect=function(e,t,n){n=n||t;var r=e.select(t);return r.empty()&&(r=e.append(n)),r},n.utils.safeNumber=function(e){return n.utils.isNumber(+e)?+e:0},n.logger={},n.logger.enableDebugLog=!1,n.logger.warn=function(e){return console&&(console.warn?console.warn(e):console.log&&console.log(e)),n.logger},n.logger.debug=function(e){return n.logger.enableDebugLog&&console&&(console.debug?console.debug(e):console.log&&console.log(e)),n.logger},n.logger.deprecate=function(e,t){function r(){return i||(n.logger.warn(t),i=!0),e.apply(this,arguments)}var i=!1;return r},n.events={current:null},n.events.trigger=function(e,t){return t?(n.events.current=e,void setTimeout(function(){e===n.events.current&&e()},t)):void e()},n.filters={},n.filters.RangedFilter=function(e,t){var n=new Array(e,t);return n.isFiltered=function(e){return e>=this[0]&&e<this[1]},n.filterType="RangedFilter",n},n.filters.TwoDimensionalFilter=function(e){if(null===e)return null;var t=e;return t.isFiltered=function(e){return e.length&&e.length===t.length&&e[0]===t[0]&&e[1]===t[1]},t.filterType="TwoDimensionalFilter",t},n.filters.RangedTwoDimensionalFilter=function(e){if(null===e)return null;var t,n=e;return t=n[0]instanceof Array?[[Math.min(e[0][0],e[1][0]),Math.min(e[0][1],e[1][1])],[Math.max(e[0][0],e[1][0]),Math.max(e[0][1],e[1][1])]]:[[e[0],-(1/0)],[e[1],1/0]],n.isFiltered=function(e){var n,r;return e instanceof Array?(n=e[0],r=e[1]):(n=e,r=t[0][1]),n>=t[0][0]&&n<t[1][0]&&r>=t[0][1]&&r<t[1][1]},n.filterType="RangedTwoDimensionalFilter",n},n.baseMixin=function(r){function i(){p&&(k?p.attr("viewBox")||p.attr("viewBox","0 0 "+r.width()+" "+r.height()):p.attr("width",r.width()).attr("height",r.height()))}function o(){return p=r.root().append("svg"),i(),p}function a(e){if(!r[e]||!r[e]())throw new n.errors.InvalidStateException("Mandatory attribute chart."+e+" is missing on chart[#"+r.anchorName()+"]")}function s(e){if(r.dimension()&&r.dimension().filter){var t=L(r.dimension(),e);t&&(e=t)}return e}r.__dcFlag__=n.utils.uniqueId();var u,l,c,d,p,f,h,m,g,v,b,y=200,w=function(e){var t=e&&e.getBoundingClientRect&&e.getBoundingClientRect().width;return t&&t>y?t:y},_=w,x=200,C=function(e){var t=e&&e.getBoundingClientRect&&e.getBoundingClientRect().height;return t&&t>x?t:x},D=C,k=!1,A=n.pluck("key"),$=n.pluck("value"),S=n.pluck("key"),E=n.pluck("key"),T=!1,P=function(e){return r.keyAccessor()(e)+": "+r.valueAccessor()(e)},R=!0,M=!1,N=750,F=0,O=n.printers.filters,G=["dimension","group"],I=n.constants.DEFAULT_CHART_GROUP,B=e.dispatch("preRender","postRender","preRedraw","postRedraw","filtered","zoomed","renderlet","pretransition"),W=[],L=function(e,t){return 0===t.length?e.filter(null):1!==t.length||t[0].isFiltered?1===t.length&&"RangedFilter"===t[0].filterType?e.filterRange(t[0]):e.filterFunction(function(e){for(var n=0;n<t.length;n++){var r=t[n];if(r.isFiltered&&r.isFiltered(e))return!0;if(e>=r&&r>=e)return!0}return!1}):e.filterExact(t[0]),t},j=function(e){return e.all()};r.height=function(t){return arguments.length?(D=e.functor(t||C),m=void 0,r):(n.utils.isNumber(m)||(m=D(d.node())),m)},r.width=function(t){return arguments.length?(_=e.functor(t||w),h=void 0,r):(n.utils.isNumber(h)||(h=_(d.node())),h)},r.minWidth=function(e){return arguments.length?(y=e,r):y},r.minHeight=function(e){return arguments.length?(x=e,r):x},r.useViewBoxResizing=function(e){return arguments.length?(k=e,r):k},r.dimension=function(e){return arguments.length?(u=e,r.expireCache(),r):u},r.data=function(t){return arguments.length?(j=e.functor(t),r.expireCache(),r):j.call(r,l)},r.group=function(e,t){return arguments.length?(l=e,r._groupName=t,r.expireCache(),r):l},r.ordering=function(e){return arguments.length?(E=e,g=t.quicksort.by(E),r.expireCache(),r):E},r._computeOrderedGroups=function(e){var n=e.slice(0);return n.length<=1?n:(g||(g=t.quicksort.by(E)),g(n,0,n.length))},r.filterAll=function(){return r.filter(null)},r.select=function(e){return d.select(e)},r.selectAll=function(e){return d?d.selectAll(e):null},r.anchor=function(t,i){if(!arguments.length)return c;if(n.instanceOfChart(t))c=t.anchor(),d=t.root(),f=!0;else{if(!t)throw new n.errors.BadArgumentException("parent must be defined");c=t.select&&t.classed?t.node():t,d=e.select(c),d.classed(n.constants.CHART_CLASS,!0),n.registerChart(r,i),f=!1}return I=i,r},r.anchorName=function(){var e=r.anchor();return e&&e.id?e.id:e&&e.replace?e.replace("#",""):"dc-chart"+r.chartID()},r.root=function(e){return arguments.length?(d=e,r):d},r.svg=function(e){return arguments.length?(p=e,r):p},r.resetSvg=function(){return r.select("svg").remove(),o()},r.filterPrinter=function(e){return arguments.length?(O=e,r):O},r.controlsUseVisibility=function(e){return arguments.length?(M=e,r):M},r.turnOnControls=function(){if(d){var e=r.controlsUseVisibility()?"visibility":"display";r.selectAll(".reset").style(e,null),r.selectAll(".filter").text(O(r.filters())).style(e,null)}return r},r.turnOffControls=function(){if(d){var e=r.controlsUseVisibility()?"visibility":"display",t=r.controlsUseVisibility()?"hidden":"none";r.selectAll(".reset").style(e,t),r.selectAll(".filter").style(e,t).text(r.filter())}return r},r.transitionDuration=function(e){return arguments.length?(N=e,r):N},r.transitionDelay=function(e){return arguments.length?(F=e,r):F},r._mandatoryAttributes=function(e){return arguments.length?(G=e,r):G},r.render=function(){m=h=void 0,B.preRender(r),G&&G.forEach(a);var e=r._doRender();return v&&v.render(),r._activateRenderlets("postRender"),e},r._activateRenderlets=function(e){B.pretransition(r),r.transitionDuration()>0&&p?p.transition().duration(r.transitionDuration()).delay(r.transitionDelay()).each("end",function(){B.renderlet(r),e&&B[e](r)}):(B.renderlet(r),e&&B[e](r))},r.redraw=function(){i(),B.preRedraw(r);var e=r._doRedraw();return v&&v.render(),r._activateRenderlets("postRedraw"),e},r.commitHandler=function(e){return arguments.length?(b=e,r):b},r.redrawGroup=function(){return b?b(!1,function(e,t){e?console.log(e):n.redrawAll(r.chartGroup())}):n.redrawAll(r.chartGroup()),r},r.renderGroup=function(){return b?b(!1,function(e,t){e?console.log(e):n.renderAll(r.chartGroup())}):n.renderAll(r.chartGroup()),r},r._invokeFilteredListener=function(e){void 0!==e&&B.filtered(r,e)},r._invokeZoomedListener=function(){B.zoomed(r)};var V=function(e,t){return null===t||"undefined"==typeof t?e.length>0:e.some(function(e){return e>=t&&t>=e})};r.hasFilterHandler=function(e){return arguments.length?(V=e,r):V},r.hasFilter=function(e){return V(W,e)};var H=function(e,t){for(var n=0;n<e.length;n++)if(e[n]<=t&&e[n]>=t){e.splice(n,1);break}return e};r.removeFilterHandler=function(e){return arguments.length?(H=e,r):H};var q=function(e,t){return e.push(t),e};r.addFilterHandler=function(e){return arguments.length?(q=e,r):q};var U=function(e){return[]};return r.resetFilterHandler=function(e){return arguments.length?(U=e,r):U},r.replaceFilter=function(e){return W=U(W),r.filter(e),r},r.filter=function(e){if(!arguments.length)return W.length>0?W[0]:null;var t=W;return e instanceof Array&&e[0]instanceof Array&&!e.isFiltered?e[0].forEach(function(e){t=V(t,e)?H(t,e):q(t,e)}):t=null===e?U(t):V(t,e)?H(t,e):q(t,e),W=s(t),r._invokeFilteredListener(e),null!==d&&r.hasFilter()?r.turnOnControls():r.turnOffControls(),r},r.filters=function(){return W},r.highlightSelected=function(t){e.select(t).classed(n.constants.SELECTED_CLASS,!0),e.select(t).classed(n.constants.DESELECTED_CLASS,!1)},r.fadeDeselected=function(t){e.select(t).classed(n.constants.SELECTED_CLASS,!1),e.select(t).classed(n.constants.DESELECTED_CLASS,!0)},r.resetHighlight=function(t){e.select(t).classed(n.constants.SELECTED_CLASS,!1),e.select(t).classed(n.constants.DESELECTED_CLASS,!1)},r.onClick=function(e){var t=r.keyAccessor()(e);n.events.trigger(function(){r.filter(t),r.redrawGroup()})},r.filterHandler=function(e){return arguments.length?(L=e,r):L},r._doRender=function(){return r},r._doRedraw=function(){return r},r.legendables=function(){return[]},r.legendHighlight=function(){},r.legendReset=function(){},r.legendToggle=function(){},r.isLegendableHidden=function(){return!1},r.keyAccessor=function(e){return arguments.length?(A=e,r):A},r.valueAccessor=function(e){return arguments.length?($=e,r):$},r.label=function(e,t){return arguments.length?(S=e,(void 0===t||t)&&(T=!0),r):S},r.renderLabel=function(e){return arguments.length?(T=e,r):T},r.title=function(e){return arguments.length?(P=e,r):P},r.renderTitle=function(e){return arguments.length?(R=e,r):R},r.renderlet=n.logger.deprecate(function(e){return r.on("renderlet."+n.utils.uniqueId(),e),r},'chart.renderlet has been deprecated.  Please use chart.on("renderlet.<renderletKey>", renderletFunction)'),r.chartGroup=function(e){return arguments.length?(f||n.deregisterChart(r,I),I=e,f||n.registerChart(r,I),r):I},r.expireCache=function(){return r},r.legend=function(e){return arguments.length?(v=e,v.parent(r),r):v},r.chartID=function(){return r.__dcFlag__},r.options=function(e){var t=["anchor","group","xAxisLabel","yAxisLabel","stack","title","point","getColor","overlayGeoJson"];for(var i in e)"function"==typeof r[i]?e[i]instanceof Array&&-1!==t.indexOf(i)?r[i].apply(r,e[i]):r[i].call(r,e[i]):n.logger.debug("Not a valid option setter name: "+i);return r},r.on=function(e,t){return B.on(e,t),r},r},n.marginMixin=function(e){var t={top:10,right:50,bottom:30,left:30};return e.margins=function(n){return arguments.length?(t=n,e):t},e.effectiveWidth=function(){return e.width()-e.margins().left-e.margins().right},e.effectiveHeight=function(){return e.height()-e.margins().top-e.margins().bottom},e},n.colorMixin=function(t){var r=e.scale.category20c(),i=!0,o=function(e){return t.keyAccessor()(e)};return t.colors=function(n){return arguments.length?(r=n instanceof Array?e.scale.quantize().range(n):e.functor(n),t):r},t.ordinalColors=function(n){return t.colors(e.scale.ordinal().range(n))},t.linearColors=function(n){return t.colors(e.scale.linear().range(n).interpolate(e.interpolateHcl))},t.colorAccessor=function(e){return arguments.length?(o=e,i=!1,t):o},t.defaultColorAccessor=function(){return i},t.colorDomain=function(e){return arguments.length?(r.domain(e),t):r.domain()},t.calculateColorDomain=function(){var n=[e.min(t.data(),t.colorAccessor()),e.max(t.data(),t.colorAccessor())];return r.domain(n),t},t.getColor=function(e,t){return r(o.call(this,e,t))},t.colorCalculator=n.logger.deprecate(function(e){return arguments.length?(t.getColor=e,t):t.getColor},"colorMixin.colorCalculator has been deprecated. Please colorMixin.colors and colorMixin.colorAccessor instead"),t},n.coordinateGridMixin=function(t){function r(e,t){return!e||!t||e.length!==t.length||e.some(function(e,n){return e&&t[n]?e.toString()!==t[n].toString():e===t[n]})}function i(e,n){t.isOrdinal()?(t.elasticX()||0===k.domain().length)&&k.domain(t._ordinalXDomain()):t.elasticX()&&k.domain([t.xAxisMin(),t.xAxisMax()]);var i=k.domain();(n||r(S,i))&&t.rescale(),S=i,t.isOrdinal()?k.rangeBands([0,t.xAxisLength()],oe,t._useOuterPadding()?ie:0):k.range([0,t.xAxisLength()]),F=F.scale(t.x()),o(e)}function o(e){var r=e.select("g."+b);if(Y){r.empty()&&(r=e.insert("g",":first-child").attr("class",g+" "+b).attr("transform","translate("+t.margins().left+","+t.margins().top+")"));var i=F.tickValues()?F.tickValues():"function"==typeof k.ticks?k.ticks(F.ticks()[0]):k.domain(),o=r.selectAll("line").data(i),a=o.enter().append("line").attr("x1",function(e){return k(e)}).attr("y1",t._xAxisY()-t.margins().top).attr("x2",function(e){return k(e)}).attr("y2",0).attr("opacity",0);n.transition(a,t.transitionDuration(),t.transitionDelay()).attr("opacity",1),n.transition(o,t.transitionDuration(),t.transitionDelay()).attr("x1",function(e){return k(e)}).attr("y1",t._xAxisY()-t.margins().top).attr("x2",function(e){return k(e)}).attr("y2",0),o.exit().remove()}else r.selectAll("line").remove()}function a(){return t._xAxisY()-t.margins().top}function s(){return t.anchorName().replace(/[ .#=\[\]"]/g,"-")+"-clip"}function u(){var e=n.utils.appendOrSelect(x,"defs"),r=s(),i=n.utils.appendOrSelect(e,"#"+r,"clipPath").attr("id",r),o=2*re;n.utils.appendOrSelect(i,"rect").attr("width",t.xAxisLength()+o).attr("height",t.yAxisHeight()+o).attr("transform","translate(-"+re+", -"+re+")")}function l(e){t.isOrdinal()&&(U=!1),i(t.g(),e),t._prepareYAxis(t.g()),t.plotData(),(t.elasticX()||K||e)&&t.renderXAxis(t.g()),(t.elasticY()||K||e)&&t.renderYAxis(t.g()),e?t.renderBrush(t.g(),!1):t.redrawBrush(t.g(),K),t.fadeDeselectedArea(),K=!1}function c(){ne?t._enableMouseZoom():te&&t._disableMouseZoom()}function d(){if(X=!0,J){var e=A;M&&(e=p(e,M.x().domain()));var r=f(t.x().domain(),e);r&&t.x().domain(r)}var i=t.x().domain(),o=n.filters.RangedFilter(i[0],i[1]);t.replaceFilter(o),t.rescale(),t.redraw(),M&&!h(t.filter(),M.filter())&&n.events.trigger(function(){M.replaceFilter(o),M.redraw()}),t._invokeZoomedListener(),n.events.trigger(function(){t.redrawGroup()},n.constants.EVENT_DELAY),X=!h(i,A)}function p(e,t){return(e[0]>t[1]||e[1]<t[0])&&console.warn("could not intersect extents"),[Math.max(e[0],t[0]),Math.min(e[1],t[1])]}function f(e,t){var r=e[1]-e[0];return e[0]<t[0]?[t[0],Math.min(t[1],n.utils.add(t[0],r,"millis"))]:e[1]>t[1]?[Math.max(t[0],n.utils.subtract(t[1],r,"millis")),t[1]]:null}function h(e,t){return e||t?e&&t?0===e.length&&0===t.length?!0:e[0].valueOf()===t[0].valueOf()&&e[1].valueOf()===t[1].valueOf()?!0:!1:!1:!0}function m(e){return e instanceof Array&&e.length>1}var g="grid-line",v="horizontal",b="vertical",y="y-axis-label",w="x-axis-label",_=12;t=n.colorMixin(n.marginMixin(n.baseMixin(t))),t.colors(e.scale.category10()),t._mandatoryAttributes().push("x");var x,C,D,k,A,$,S,E,T,P,R,M,N,F=e.svg.axis().orient("bottom"),O=n.units.integers,G=0,I="day",B=!1,W=0,L=e.svg.axis().orient("left"),j=0,V=!1,H=0,q=e.svg.brush(),U=!0,z=!1,Y=!1,X=!1,K=!1,Z=[1,1/0],J=!0,Q=e.behavior.zoom().on("zoom",d),ee=e.behavior.zoom().on("zoom",null),te=!1,ne=!1,re=0,ie=.5,oe=0,ae=!1;return t.rescale=function(){return R=void 0,K=!0,t},t.resizing=function(){return K},t.rangeChart=function(e){return arguments.length?(M=e,M.focusChart(t),t):M},t.zoomScale=function(e){return arguments.length?(Z=e,t):Z},t.zoomOutRestrict=function(e){return arguments.length?(Z[0]=e?1:0,J=e,t):J},t._generateG=function(e){x=void 0===e?t.svg():e;var n=window.location.href.split("#")[0];return C=x.append("g"),D=C.append("g").attr("class","chart-body").attr("transform","translate("+t.margins().left+", "+t.margins().top+")").attr("clip-path","url("+n+"#"+s()+")"),C},t.g=function(e){return arguments.length?(C=e,t):C},t.mouseZoomable=function(e){return arguments.length?(ne=e,t):ne},t.chartBodyG=function(e){return arguments.length?(D=e,t):D},t.x=function(e){return arguments.length?(k=e,A=k.domain(),t.rescale(),t):k},t.xOriginalDomain=function(){return A},t.xUnits=function(e){return arguments.length?(O=e,t):O},t.xAxis=function(e){return arguments.length?(F=e,t):F},t.elasticX=function(e){return arguments.length?(B=e,t):B},t.xAxisPadding=function(e){return arguments.length?(G=e,t):G},t.xAxisPaddingUnit=function(e){return arguments.length?(I=e,t):I},t.xUnitCount=function(){if(void 0===R){var e=t.xUnits()(t.x().domain()[0],t.x().domain()[1],t.x().domain());R=e instanceof Array?e.length:e}return R},t.useRightYAxis=function(e){return arguments.length?(ae=e,t):ae},t.isOrdinal=function(){return t.xUnits()===n.units.ordinal},t._useOuterPadding=function(){return!0},t._ordinalXDomain=function(){var e=t._computeOrderedGroups(t.data());return e.map(t.keyAccessor())},t.renderXAxis=function(e){var r=e.select("g.x");r.empty()&&(r=e.append("g").attr("class","axis x").attr("transform","translate("+t.margins().left+","+t._xAxisY()+")"));var i=e.select("text."+w);i.empty()&&t.xAxisLabel()&&(i=e.append("text").attr("class",w).attr("transform","translate("+(t.margins().left+t.xAxisLength()/2)+","+(t.height()-W)+")").attr("text-anchor","middle")),
t.xAxisLabel()&&i.text()!==t.xAxisLabel()&&i.text(t.xAxisLabel()),n.transition(r,t.transitionDuration(),t.transitionDelay()).attr("transform","translate("+t.margins().left+","+t._xAxisY()+")").call(F),n.transition(i,t.transitionDuration(),t.transitionDelay()).attr("transform","translate("+(t.margins().left+t.xAxisLength()/2)+","+(t.height()-W)+")")},t._xAxisY=function(){return t.height()-t.margins().bottom},t.xAxisLength=function(){return t.effectiveWidth()},t.xAxisLabel=function(e,n){return arguments.length?($=e,t.margins().bottom-=W,W=void 0===n?_:n,t.margins().bottom+=W,t):$},t._prepareYAxis=function(n){if(void 0===E||t.elasticY()){void 0===E&&(E=e.scale.linear());var r=t.yAxisMin()||0,i=t.yAxisMax()||0;E.domain([r,i]).rangeRound([t.yAxisHeight(),0])}E.range([t.yAxisHeight(),0]),L=L.scale(E),ae&&L.orient("right"),t._renderHorizontalGridLinesForAxis(n,E,L)},t.renderYAxisLabel=function(e,r,i,o){o=o||H;var a=t.g().select("text."+y+"."+e+"-label"),s=t.margins().top+t.yAxisHeight()/2;a.empty()&&r&&(a=t.g().append("text").attr("transform","translate("+o+","+s+"),rotate("+i+")").attr("class",y+" "+e+"-label").attr("text-anchor","middle").text(r)),r&&a.text()!==r&&a.text(r),n.transition(a,t.transitionDuration(),t.transitionDelay()).attr("transform","translate("+o+","+s+"),rotate("+i+")")},t.renderYAxisAt=function(e,r,i){var o=t.g().select("g."+e);o.empty()&&(o=t.g().append("g").attr("class","axis "+e).attr("transform","translate("+i+","+t.margins().top+")")),n.transition(o,t.transitionDuration(),t.transitionDelay()).attr("transform","translate("+i+","+t.margins().top+")").call(r)},t.renderYAxis=function(){var e=ae?t.width()-t.margins().right:t._yAxisX();t.renderYAxisAt("y",L,e);var n=ae?t.width()-H:H,r=ae?90:-90;t.renderYAxisLabel("y",t.yAxisLabel(),r,n)},t._renderHorizontalGridLinesForAxis=function(e,r,i){var o=e.select("g."+v);if(z){var a=i.tickValues()?i.tickValues():r.ticks(i.ticks()[0]);o.empty()&&(o=e.insert("g",":first-child").attr("class",g+" "+v).attr("transform","translate("+t.margins().left+","+t.margins().top+")"));var s=o.selectAll("line").data(a),u=s.enter().append("line").attr("x1",1).attr("y1",function(e){return r(e)}).attr("x2",t.xAxisLength()).attr("y2",function(e){return r(e)}).attr("opacity",0);n.transition(u,t.transitionDuration(),t.transitionDelay()).attr("opacity",1),n.transition(s,t.transitionDuration(),t.transitionDelay()).attr("x1",1).attr("y1",function(e){return r(e)}).attr("x2",t.xAxisLength()).attr("y2",function(e){return r(e)}),s.exit().remove()}else o.selectAll("line").remove()},t._yAxisX=function(){return t.useRightYAxis()?t.width()-t.margins().right:t.margins().left},t.yAxisLabel=function(e,n){return arguments.length?(T=e,t.margins().left-=H,H=void 0===n?_:n,t.margins().left+=H,t):T},t.y=function(e){return arguments.length?(E=e,t.rescale(),t):E},t.yAxis=function(e){return arguments.length?(L=e,t):L},t.elasticY=function(e){return arguments.length?(V=e,t):V},t.renderHorizontalGridLines=function(e){return arguments.length?(z=e,t):z},t.renderVerticalGridLines=function(e){return arguments.length?(Y=e,t):Y},t.xAxisMin=function(){var r=e.min(t.data(),function(e){return t.keyAccessor()(e)});return n.utils.subtract(r,G,I)},t.xAxisMax=function(){var r=e.max(t.data(),function(e){return t.keyAccessor()(e)});return n.utils.add(r,G,I)},t.yAxisMin=function(){var r=e.min(t.data(),function(e){return t.valueAccessor()(e)});return n.utils.subtract(r,j)},t.yAxisMax=function(){var r=e.max(t.data(),function(e){return t.valueAccessor()(e)});return n.utils.add(r,j)},t.yAxisPadding=function(e){return arguments.length?(j=e,t):j},t.yAxisHeight=function(){return t.effectiveHeight()},t.round=function(e){return arguments.length?(P=e,t):P},t._rangeBandPadding=function(e){return arguments.length?(oe=e,t):oe},t._outerRangeBandPadding=function(e){return arguments.length?(ie=e,t):ie},n.override(t,"filter",function(e){return arguments.length?(t._filter(e),e?t.brush().extent(e):t.brush().clear(),t):t._filter()}),t.brush=function(e){return arguments.length?(q=e,t):q},t.renderBrush=function(e){if(U){q.on("brush",t._brushing),q.on("brushstart",t._disableMouseZoom),q.on("brushend",c);var n=e.append("g").attr("class","brush").attr("transform","translate("+t.margins().left+","+t.margins().top+")").call(q.x(t.x()));t.setBrushY(n,!1),t.setHandlePaths(n),t.hasFilter()&&t.redrawBrush(e,!1)}},t.setHandlePaths=function(e){e.selectAll(".resize").append("path").attr("d",t.resizeHandlePath)},t.setBrushY=function(e){e.selectAll("rect").attr("height",a()),e.selectAll(".resize path").attr("d",t.resizeHandlePath)},t.extendBrush=function(){var e=q.extent();return t.round()&&(e[0]=e.map(t.round())[0],e[1]=e.map(t.round())[1],C.select(".brush").call(q.extent(e))),e},t.brushIsEmpty=function(e){return q.empty()||!e||e[1]<=e[0]},t._brushing=function(){var e=t.extendBrush();if(t.redrawBrush(C,!1),t.brushIsEmpty(e))n.events.trigger(function(){t.filter(null),t.redrawGroup()},n.constants.EVENT_DELAY);else{var r=n.filters.RangedFilter(e[0],e[1]);n.events.trigger(function(){t.replaceFilter(r),t.redrawGroup()},n.constants.EVENT_DELAY)}},t.redrawBrush=function(e,r){if(U){t.filter()&&t.brush().empty()&&t.brush().extent(t.filter());var i=n.optionalTransition(r,t.transitionDuration(),t.transitionDelay())(e.select("g.brush"));t.setBrushY(i),i.call(t.brush().x(t.x()).extent(t.brush().extent()))}t.fadeDeselectedArea()},t.fadeDeselectedArea=function(){},t.resizeHandlePath=function(e){var t=+("e"===e),n=t?1:-1,r=a()/3;return"M"+.5*n+","+r+"A6,6 0 0 "+t+" "+6.5*n+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+t+" "+.5*n+","+2*r+"ZM"+2.5*n+","+(r+8)+"V"+(2*r-8)+"M"+4.5*n+","+(r+8)+"V"+(2*r-8)},t.clipPadding=function(e){return arguments.length?(re=e,t):re},t._preprocessData=function(){},t._doRender=function(){return t.resetSvg(),t._preprocessData(),t._generateG(),u(),l(!0),c(),t},t._doRedraw=function(){return t._preprocessData(),l(!1),u(),t},t._enableMouseZoom=function(){te=!0,Q.x(t.x()).scaleExtent(Z).size([t.width(),t.height()]).duration(t.transitionDuration()),t.root().call(Q)},t._disableMouseZoom=function(){t.root().call(ee)},t.focus=function(e){m(e)?t.x().domain(e):t.x().domain(A),Q.x(t.x()),d()},t.refocused=function(){return X},t.focusChart=function(e){return arguments.length?(N=e,t.on("filtered",function(e){e.filter()?h(e.filter(),N.filter())||n.events.trigger(function(){N.focus(e.filter())}):n.events.trigger(function(){N.x().domain(N.xOriginalDomain())})}),t):N},t.brushOn=function(e){return arguments.length?(U=e,t):U},t},n.stackMixin=function(t){function r(e,n){var r=e.accessor||t.valueAccessor();return e.name=String(e.name||n),e.values=e.group.all().map(function(n,i){return{x:t.keyAccessor()(n,i),y:e.hidden?null:r(n,i),data:n,layer:e.name,hidden:e.hidden}}),e.values=e.values.filter(i()),e.values}function i(){if(!t.x()||p)return e.functor(!0);var n=t.x().domain();return t.isOrdinal()?function(){return!0}:t.elasticX()?function(){return!0}:function(e){return e.x>=n[0]&&e.x<=n[n.length-1]}}function o(e){var t=l.map(n.pluck("name")).indexOf(e);return l[t]}function a(){var e=t.data().map(function(e){return e.values});return Array.prototype.concat.apply([],e)}function s(e){return!e.hidden}var u=e.layout.stack().values(r),l=[],c={},d=!1,p=!1;return t.stack=function(e,n,r){if(!arguments.length)return l;arguments.length<=2&&(r=n);var i={group:e};return"string"==typeof n&&(i.name=n),"function"==typeof r&&(i.accessor=r),l.push(i),t},n.override(t,"group",function(e,n,r){return arguments.length?(l=[],c={},t.stack(e,n),r&&t.valueAccessor(r),t._group(e,n)):t._group()}),t.hidableStacks=function(e){return arguments.length?(d=e,t):d},t.hideStack=function(e){var n=o(e);return n&&(n.hidden=!0),t},t.showStack=function(e){var n=o(e);return n&&(n.hidden=!1),t},t.getValueAccessorByIndex=function(e){return l[e].accessor||t.valueAccessor()},t.yAxisMin=function(){var r=e.min(a(),function(e){return e.y<0?e.y+e.y0:e.y0});return n.utils.subtract(r,t.yAxisPadding())},t.yAxisMax=function(){var r=e.max(a(),function(e){return e.y>0?e.y+e.y0:e.y0});return n.utils.add(r,t.yAxisPadding())},t.xAxisMin=function(){var r=e.min(a(),n.pluck("x"));return n.utils.subtract(r,t.xAxisPadding(),t.xAxisPaddingUnit())},t.xAxisMax=function(){var r=e.max(a(),n.pluck("x"));return n.utils.add(r,t.xAxisPadding(),t.xAxisPaddingUnit())},n.override(t,"title",function(e,n){return e?"function"==typeof e?t._title(e):e===t._groupName&&"function"==typeof n?t._title(n):"function"!=typeof n?c[e]||t._title():(c[e]=n,t):t._title()}),t.stackLayout=function(n){return arguments.length?(u=n,u.values()===e.layout.stack().values()&&u.values(r),t):u},t.evadeDomainFilter=function(e){return arguments.length?(p=e,t):p},t.data(function(){var e=l.filter(s);return e.length?t.stackLayout()(e):[]}),t._ordinalXDomain=function(){var e=a().map(n.pluck("data")),r=t._computeOrderedGroups(e);return r.map(t.keyAccessor())},t.colorAccessor(function(e){var t=this.layer||this.name||e.name||e.layer;return t}),t.legendables=function(){return l.map(function(e,n){return{chart:t,name:e.name,hidden:e.hidden||!1,color:t.getColor.call(e,e.values,n)}})},t.isLegendableHidden=function(e){var t=o(e.name);return t?t.hidden:!1},t.legendToggle=function(e){d&&(t.isLegendableHidden(e)?t.showStack(e.name):t.hideStack(e.name),t.renderGroup())},t},n.capMixin=function(t){var r=1/0,i=!0,o="Others";t.ordering(function(e){return-e.value});var a=function(n,r){var i=e.sum(r,t.valueAccessor()),o=r.map(t.keyAccessor());return i>0?n.concat([{others:o,key:t.othersLabel(),value:i}]):n};return t.cappedKeyAccessor=function(e,n){return e.others?e.key:t.keyAccessor()(e,n)},t.cappedValueAccessor=function(e,n){return e.others?e.value:t.valueAccessor()(e,n)},t.data(function(e){if(r===1/0)return t._computeOrderedGroups(e.all());var n,o=e.all();if(o=t._computeOrderedGroups(o),r)if(i)n=o.slice(r),o=o.slice(0,r);else{var s=Math.max(0,o.length-r);n=o.slice(0,s),o=o.slice(s)}return a?a(o,n):o}),t.cap=function(e){return arguments.length?(r=e,t):r},t.takeFront=function(e){return arguments.length?(i=e,t):i},t.othersLabel=function(e){return arguments.length?(o=e,t):o},t.othersGrouper=function(e){return arguments.length?(a=e,t):a},n.override(t,"onClick",function(e){e.others&&t.filter([e.others]),t._onClick(e)}),t},n.bubbleMixin=function(t){var r=.3,i=10,o=!1,a=!1;t.BUBBLE_NODE_CLASS="node",t.BUBBLE_CLASS="bubble",t.MIN_RADIUS=10,t=n.colorMixin(t),t.renderLabel(!0),t.data(function(n){var r=n.all();if(o){var i=t.radiusValueAccessor();r.sort(function(t,n){return e.descending(i(t),i(n))})}return r});var s=e.scale.linear().domain([0,100]),u=function(e){return e.r};t.r=function(e){return arguments.length?(s=e,t):s},t.elasticRadius=function(e){return arguments.length?(a=e,t):a},t.calculateRadiusDomain=function(){a&&t.r().domain([t.rMin(),t.rMax()])},t.radiusValueAccessor=function(e){return arguments.length?(u=e,t):u},t.rMin=function(){var n=e.min(t.data(),function(e){return t.radiusValueAccessor()(e)});return n},t.rMax=function(){var n=e.max(t.data(),function(e){return t.radiusValueAccessor()(e)});return n},t.bubbleR=function(e){var n=t.radiusValueAccessor()(e),r=t.r()(n);return(isNaN(r)||0>=n)&&(r=0),r};var l=function(e){return t.label()(e)},c=function(e){return t.bubbleR(e)>i},d=function(e){return c(e)?1:0},p=function(e){return c(e)?"all":"none"};t._doRenderLabel=function(e){if(t.renderLabel()){var r=e.select("text");r.empty()&&(r=e.append("text").attr("text-anchor","middle").attr("dy",".3em").on("click",t.onClick)),r.attr("opacity",0).attr("pointer-events",p).text(l),n.transition(r,t.transitionDuration(),t.transitionDelay()).attr("opacity",d)}},t.doUpdateLabels=function(e){if(t.renderLabel()){var r=e.select("text").attr("pointer-events",p).text(l);n.transition(r,t.transitionDuration(),t.transitionDelay()).attr("opacity",d)}};var f=function(e){return t.title()(e)};return t._doRenderTitles=function(e){if(t.renderTitle()){var n=e.select("title");n.empty()&&e.append("title").text(f)}},t.doUpdateTitles=function(e){t.renderTitle()&&e.select("title").text(f)},t.sortBubbleSize=function(e){return arguments.length?(o=e,t):o},t.minRadius=function(e){return arguments.length?(t.MIN_RADIUS=e,t):t.MIN_RADIUS},t.minRadiusWithLabel=function(e){return arguments.length?(i=e,t):i},t.maxBubbleRelativeSize=function(e){return arguments.length?(r=e,t):r},t.fadeDeselectedArea=function(){t.hasFilter()?t.selectAll("g."+t.BUBBLE_NODE_CLASS).each(function(e){t.isSelectedNode(e)?t.highlightSelected(this):t.fadeDeselected(this)}):t.selectAll("g."+t.BUBBLE_NODE_CLASS).each(function(){t.resetHighlight(this)})},t.isSelectedNode=function(e){return t.hasFilter(e.key)},t.onClick=function(e){var r=e.key;n.events.trigger(function(){t.filter(r),t.redrawGroup()})},t},n.pieChart=function(t,r){function i(){var t=e.min([Y.width(),Y.height()])/2;P=R&&t>R?R:t;var r,i=y(),a=_();if(e.sum(Y.data(),Y.valueAccessor())?(r=a(Y.data()),M.classed(j,!1)):(r=a([{key:V,value:1,others:[V]}]),M.classed(j,!0)),M){var s=M.select("g."+W).selectAll("g."+I).data(r),u=M.select("g."+L).selectAll("text."+B).data(r);o(s,u,i,r),f(r,i),v(s,u),b(),n.transition(M,Y.transitionDuration(),Y.transitionDelay()).attr("transform","translate("+Y.cx()+","+Y.cy()+")")}}function o(e,t,n,r){var i=a(e);s(i,n),u(i),d(t,r,n)}function a(e){var t=e.enter().append("g").attr("class",function(e,t){return I+" _"+t});return t}function s(e,t){var r=e.append("path").attr("fill",A).on("click",$).attr("d",function(e,n){return S(e,n,t)}),i=n.transition(r,Y.transitionDuration(),Y.transitionDelay());i.attrTween&&i.attrTween("d",D)}function u(e){Y.renderTitle()&&e.append("title").text(function(e){return Y.title()(e.data)})}function l(e,t){Y._applyLabelText(e),n.transition(e,Y.transitionDuration(),Y.transitionDelay()).attr("transform",function(e){return E(e,t)}).attr("text-anchor","middle")}function c(e,t){Y.select("g.pie-slice._"+e).classed("highlight",t)}function d(e,t,n){if(Y.renderLabel()){var r=e.enter().append("text").attr("class",function(e,t){var n=I+" "+B+" _"+t;return O&&(n+=" external"),n}).on("click",$).on("mouseover",function(e,t){c(t,!0)}).on("mouseout",function(e,t){c(t,!1)});l(r,n),O&&z&&p(t,n)}}function p(t,r){var i=M.selectAll("polyline."+I).data(t);i.enter().append("polyline").attr("class",function(e,t){return"pie-path _"+t+" "+I}).on("click",$).on("mouseover",function(e,t){c(t,!0)}).on("mouseout",function(e,t){c(t,!1)}),i.exit().remove();var o=e.svg.arc().outerRadius(P-q+O).innerRadius(P-q),a=n.transition(i,Y.transitionDuration(),Y.transitionDelay());a.attrTween?a.attrTween("points",function(t){var n=this._current||t;n={startAngle:n.startAngle,endAngle:n.endAngle};var i=e.interpolate(n,t);return this._current=i(0),function(e){var t=i(e);return[r.centroid(t),o.centroid(t)]}}):a.attr("points",function(e){return[r.centroid(e),o.centroid(e)]}),a.style("visibility",function(e){return e.endAngle-e.startAngle<1e-4?"hidden":"visible"})}function f(e,t){h(e,t),m(e,t),g(e)}function h(e,t){var r=M.selectAll("g."+I).data(e).select("path").attr("d",function(e,n){return S(e,n,t)}),i=n.transition(r,Y.transitionDuration(),Y.transitionDelay());i.attrTween&&i.attrTween("d",D),i.attr("fill",A)}function m(e,t){if(Y.renderLabel()){var n=M.selectAll("text."+B).data(e);l(n,t),O&&z&&p(e,t)}}function g(e){Y.renderTitle()&&M.selectAll("g."+I).data(e).select("title").text(function(e){return Y.title()(e.data)})}function v(e,t){e.exit().remove(),t.exit().remove()}function b(){Y.hasFilter()?Y.selectAll("g."+I).each(function(e){w(e)?Y.highlightSelected(this):Y.fadeDeselected(this)}):Y.selectAll("g."+I).each(function(){Y.resetHighlight(this)})}function y(){return e.svg.arc().outerRadius(P-q).innerRadius(H)}function w(e){return Y.hasFilter(Y.cappedKeyAccessor(e.data))}function _(){return e.layout.pie().sort(null).value(Y.cappedValueAccessor)}function x(e){var t=e.endAngle-e.startAngle;return isNaN(t)||U>t}function C(e){return 0===Y.cappedValueAccessor(e)}function D(t){t.innerRadius=H;var n=this._current;n=k(n)?{startAngle:0,endAngle:0}:{startAngle:n.startAngle,endAngle:n.endAngle};var r=e.interpolate(n,t);return this._current=r(0),function(e){return S(r(e),0,y())}}function k(e){return!e||isNaN(e.startAngle)||isNaN(e.endAngle)}function A(e,t){return Y.getColor(e.data,t)}function $(e,t){M.attr("class")!==j&&Y.onClick(e.data,t)}function S(e,t,n){var r=n(e,t);return r.indexOf("NaN")>=0&&(r="M0,0"),r}function E(t,n){var r;return r=O?e.svg.arc().outerRadius(P-q+O).innerRadius(P-q+O).centroid(t):n.centroid(t),isNaN(r[0])||isNaN(r[1])?"translate(0,0)":"translate("+r+")"}function T(t,n){Y.selectAll("g.pie-slice").each(function(r){t.name===r.data.key&&e.select(this).classed("highlight",n)})}var P,R,M,N,F,O,G=.5,I="pie-slice",B="pie-label",W="pie-slice-group",L="pie-label-group",j="empty-chart",V="empty",H=0,q=0,U=G,z=!1,Y=n.capMixin(n.colorMixin(n.baseMixin({})));return Y.colorAccessor(Y.cappedKeyAccessor),Y.title(function(e){return Y.cappedKeyAccessor(e)+": "+Y.cappedValueAccessor(e)}),Y.slicesCap=Y.cap,Y.label(Y.cappedKeyAccessor),Y.renderLabel(!0),Y.transitionDuration(350),Y.transitionDelay(0),Y._doRender=function(){return Y.resetSvg(),M=Y.svg().append("g").attr("transform","translate("+Y.cx()+","+Y.cy()+")"),M.append("g").attr("class",W),M.append("g").attr("class",L),i(),Y},Y._applyLabelText=function(e){e.text(function(e){var t=e.data;return!C(t)&&!x(e)||w(e)?Y.label()(e.data):""})},Y.externalRadiusPadding=function(e){return arguments.length?(q=e,Y):q},Y.innerRadius=function(e){return arguments.length?(H=e,Y):H},Y.radius=function(e){return arguments.length?(R=e,Y):R},Y.cx=function(e){return arguments.length?(N=e,Y):N||Y.width()/2},Y.cy=function(e){return arguments.length?(F=e,Y):F||Y.height()/2},Y._doRedraw=function(){return i(),Y},Y.minAngleForLabel=function(e){return arguments.length?(U=e,Y):U},Y.emptyTitle=function(e){return 0===arguments.length?V:(V=e,Y)},Y.externalLabels=function(e){return 0===arguments.length?O:(O=e?e:void 0,Y)},Y.drawPaths=function(e){return 0===arguments.length?z:(z=e,Y)},Y.legendables=function(){return Y.data().map(function(e,t){var n={name:e.key,data:e.value,others:e.others,chart:Y};return n.color=Y.getColor(e,t),n})},Y.legendHighlight=function(e){T(e,!0)},Y.legendReset=function(e){T(e,!1)},Y.legendToggle=function(e){Y.onClick({key:e.name,others:e.others})},Y.anchor(t,r)},n.barChart=function(t,r){function i(e){return n.utils.safeNumber(Math.abs(f.y()(e.y+e.y0)-f.y()(e.y0)))}function o(e,t,r){var o=e.selectAll("text.barLabel").data(r.values,n.pluck("x"));o.enter().append("text").attr("class","barLabel").attr("text-anchor","middle"),f.isOrdinal()&&(o.on("click",f.onClick),o.attr("cursor","pointer")),n.transition(o,f.transitionDuration(),f.transitionDelay()).attr("x",function(e){var t=f.x()(e.x);return m||(t+=l/2),n.utils.safeNumber(t)}).attr("y",function(e){var t=f.y()(e.y+e.y0);return e.y<0&&(t-=i(e)),n.utils.safeNumber(t-p)}).text(function(e){return f.label()(e)}),n.transition(o.exit(),f.transitionDuration(),f.transitionDelay()).attr("height",0).remove()}function a(e,t,r){var o=e.selectAll("rect.bar").data(r.values,n.pluck("x")),a=o.enter().append("rect").attr("class","bar").attr("fill",n.pluck("data",f.getColor)).attr("y",f.yAxisHeight()).attr("height",0);f.renderTitle()&&a.append("title").text(n.pluck("data",f.title(r.name))),f.isOrdinal()&&o.on("click",f.onClick),n.transition(o,f.transitionDuration(),f.transitionDelay()).attr("x",function(e){var t=f.x()(e.x);return m&&(t-=l/2),f.isOrdinal()&&void 0!==h&&(t+=h/2),n.utils.safeNumber(t)}).attr("y",function(e){var t=f.y()(e.y+e.y0);return e.y<0&&(t-=i(e)),n.utils.safeNumber(t)}).attr("width",l).attr("height",function(e){return i(e)}).attr("fill",n.pluck("data",f.getColor)).select("title").text(n.pluck("data",f.title(r.name))),n.transition(o.exit(),f.transitionDuration(),f.transitionDelay()).attr("x",function(e){return f.x()(e.x)}).attr("width",.9*l).remove()}function s(){if(void 0===l){var e=f.xUnitCount();l=f.isOrdinal()&&void 0===h?Math.floor(f.x().rangeBand()):h?Math.floor((f.xAxisLength()-(e-1)*h)/e):Math.floor(f.xAxisLength()/(1+f.barPadding())/e),(l===1/0||isNaN(l)||c>l)&&(l=c)}}function u(t,n){return function(){var r=e.select(this),i=r.attr("fill")===t;return n?!i:i}}var l,c=1,d=2,p=3,f=n.stackMixin(n.coordinateGridMixin({})),h=d,m=!1,g=!1;return n.override(f,"rescale",function(){return f._rescale(),l=void 0,f}),n.override(f,"render",function(){return f.round()&&m&&!g&&n.logger.warn("By default, brush rounding is disabled if bars are centered. See dc.js bar chart API documentation for details."),f._render()}),f.label(function(e){return n.utils.printSingleValue(e.y0+e.y)},!1),f.plotData=function(){var t=f.chartBodyG().selectAll("g.stack").data(f.data());s(),t.enter().append("g").attr("class",function(e,t){return"stack _"+t});var n=t.size()-1;t.each(function(t,r){var i=e.select(this);a(i,r,t),f.renderLabel()&&n===r&&o(i,r,t)})},f.fadeDeselectedArea=function(){var e=f.chartBodyG().selectAll("rect.bar"),t=f.brush().extent();if(f.isOrdinal())f.hasFilter()?(e.classed(n.constants.SELECTED_CLASS,function(e){return f.hasFilter(e.x)}),e.classed(n.constants.DESELECTED_CLASS,function(e){return!f.hasFilter(e.x)})):(e.classed(n.constants.SELECTED_CLASS,!1),e.classed(n.constants.DESELECTED_CLASS,!1));else if(f.brushIsEmpty(t))e.classed(n.constants.DESELECTED_CLASS,!1);else{var r=t[0],i=t[1];e.classed(n.constants.DESELECTED_CLASS,function(e){return e.x<r||e.x>=i})}},f.centerBar=function(e){return arguments.length?(m=e,f):m},n.override(f,"onClick",function(e){f._onClick(e.data)}),f.barPadding=function(e){return arguments.length?(f._rangeBandPadding(e),h=void 0,f):f._rangeBandPadding()},f._useOuterPadding=function(){return void 0===h},f.outerPadding=f._outerRangeBandPadding,f.gap=function(e){return arguments.length?(h=e,f):h},f.extendBrush=function(){var e=f.brush().extent();return!f.round()||m&&!g||(e[0]=e.map(f.round())[0],e[1]=e.map(f.round())[1],f.chartBodyG().select(".brush").call(f.brush().extent(e))),e},f.alwaysUseRounding=function(e){return arguments.length?(g=e,f):g},f.legendHighlight=function(e){f.isLegendableHidden(e)||f.g().selectAll("rect.bar").classed("highlight",u(e.color)).classed("fadeout",u(e.color,!0))},f.legendReset=function(){f.g().selectAll("rect.bar").classed("highlight",!1).classed("fadeout",!1)},n.override(f,"xAxisMax",function(){var e=this._xAxisMax();if("resolution"in f.xUnits()){var t=f.xUnits().resolution;e+=t}return e}),f.anchor(t,r)},n.lineChart=function(t,r){function i(e,t){return $.getColor.call(e,e.values,t)}function o(t,r){var o=e.svg.line().x(function(e){return $.x()(e.x)}).y(function(e){return $.y()(e.y+e.y0)}).interpolate(M).tension(N);b&&o.defined(b);var a=t.append("path").attr("class","line").attr("stroke",i);y&&a.attr("stroke-dasharray",y),n.transition(r.select("path.line"),$.transitionDuration(),$.transitionDelay()).attr("stroke",i).attr("d",function(e){return s(o(e.values))})}function a(t,r){if(S){var o=e.svg.area().x(function(e){return $.x()(e.x)}).y(function(e){return $.y()(e.y+e.y0)}).y0(function(e){return $.y()(e.y0)}).interpolate(M).tension(N);b&&o.defined(b),t.append("path").attr("class","area").attr("fill",i).attr("d",function(e){return s(o(e.values))}),n.transition(r.select("path.area"),$.transitionDuration(),$.transitionDelay()).attr("fill",i).attr("d",function(e){return s(o(e.values))})}}function s(e){return!e||e.indexOf("NaN")>=0?"M0,0":e}function u(t,r){if("always"===$.xyTipsOn()||!$.brushOn()&&$.xyTipsOn()){var i=_+"-list",o=t.select("g."+i);o.empty()&&(o=t.append("g").attr("class",i)),r.each(function(t,r){var i=t.values;b&&(i=i.filter(b));var a=o.select("g."+_+"._"+r);a.empty()&&(a=o.append("g").attr("class",_+" _"+r)),c(a);var s=a.selectAll("circle."+x).data(i,n.pluck("x"));s.enter().append("circle").attr("class",x).attr("r",f()).style("fill-opacity",P).style("stroke-opacity",R).attr("fill",$.getColor).on("mousemove",function(){var t=e.select(this);d(t),p(t,a)}).on("mouseout",function(){var t=e.select(this);h(t),m(a)}),s.call(g,t),n.transition(s,$.transitionDuration()).attr("cx",function(e){return n.utils.safeNumber($.x()(e.x))}).attr("cy",function(e){return n.utils.safeNumber($.y()(e.y+e.y0))}).attr("fill",$.getColor),s.exit().remove()})}}function l(t){t.each(function(t,r){var i=e.select(this),o=i.selectAll("text.lineLabel").data(t.values,n.pluck("x"));o.enter().append("text").attr("class","lineLabel").attr("text-anchor","middle"),n.transition(o,$.transitionDuration()).attr("x",function(e){return n.utils.safeNumber($.x()(e.x))}).attr("y",function(e){var t=$.y()(e.y+e.y0)-A;return n.utils.safeNumber(t)}).text(function(e){return $.label()(e)}),n.transition(o.exit(),$.transitionDuration()).attr("height",0).remove()})}function c(e){var t=e.select("path."+C).empty()?e.append("path").attr("class",C):e.select("path."+C);t.style("display","none").attr("stroke-dasharray","5,5");var n=e.select("path."+D).empty()?e.append("path").attr("class",D):e.select("path."+D);n.style("display","none").attr("stroke-dasharray","5,5")}function d(e){return e.style("fill-opacity",.8),e.style("stroke-opacity",.8),e.attr("r",E),e}function p(e,t){var n=e.attr("cx"),r=e.attr("cy"),i=$._yAxisX()-$.margins().left,o="M"+i+" "+r+"L"+n+" "+r,a="M"+n+" "+$.yAxisHeight()+"L"+n+" "+r;t.select("path."+C).style("display","").attr("d",o),t.select("path."+D).style("display","").attr("d",a)}function f(){return T||E}function h(e){e.style("fill-opacity",P).style("stroke-opacity",R).attr("r",f())}function m(e){e.select("path."+C).style("display","none"),e.select("path."+D).style("display","none")}function g(e,t){$.renderTitle()&&(e.select("title").remove(),e.append("title").text(n.pluck("data",$.title(t.name))))}function v(t,n,r){return function(){var i=e.select(this),o=i.attr("stroke")===t&&i.attr("stroke-dasharray")===(n instanceof Array?n.join(","):null)||i.attr("fill")===t;return r?!o:o}}var b,y,w=5,_="dc-tooltip",x="dot",C="yRef",D="xRef",k=1e-6,A=3,$=n.stackMixin(n.coordinateGridMixin({})),S=!1,E=w,T=null,P=k,R=k,M="linear",N=.7,F=!0;return $.transitionDuration(500),$.transitionDelay(0),$._rangeBandPadding(1),$.plotData=function(){var e=$.chartBodyG(),t=e.select("g.stack-list");t.empty()&&(t=e.append("g").attr("class","stack-list"));var n=t.selectAll("g.stack").data($.data()),r=n.enter().append("g").attr("class",function(e,t){return"stack _"+t});o(r,n),a(r,n),u(e,n),$.renderLabel()&&l(n)},$.interpolate=function(e){return arguments.length?(M=e,$):M},$.tension=function(e){return arguments.length?(N=e,$):N},$.defined=function(e){return arguments.length?(b=e,$):b},$.dashStyle=function(e){return arguments.length?(y=e,$):y},$.renderArea=function(e){return arguments.length?(S=e,$):S},$.label(function(e){return n.utils.printSingleValue(e.y0+e.y)},!1),$.xyTipsOn=function(e){return arguments.length?(F=e,$):F},$.dotRadius=function(e){return arguments.length?(E=e,$):E},$.renderDataPoints=function(e){return arguments.length?(e?(P=e.fillOpacity||.8,R=e.strokeOpacity||.8,T=e.radius||2):(P=k,R=k,T=null),$):{fillOpacity:P,strokeOpacity:R,radius:T}},$.legendHighlight=function(e){$.isLegendableHidden(e)||$.g().selectAll("path.line, path.area").classed("highlight",v(e.color,e.dashstyle)).classed("fadeout",v(e.color,e.dashstyle,!0))},$.legendReset=function(){$.g().selectAll("path.line, path.area").classed("highlight",!1).classed("fadeout",!1)},n.override($,"legendables",function(){var e=$._legendables();return y?e.map(function(e){return e.dashstyle=y,e}):e}),$.anchor(t,r)},n.dataCount=function(t,r){var i=e.format(",d"),o=n.baseMixin({}),a={some:"",all:""};return o.html=function(e){return arguments.length?(e.all&&(a.all=e.all),e.some&&(a.some=e.some),o):a},o.formatNumber=function(e){return arguments.length?(i=e,o):i},o._doRender=function(){var e=o.dimension().size(),t=o.group().value(),n=i(e),r=i(t);return e===t&&""!==a.all?o.root().html(a.all.replace("%total-count",n).replace("%filter-count",r)):""!==a.some?o.root().html(a.some.replace("%total-count",n).replace("%filter-count",r)):(o.selectAll(".total-count").text(n),o.selectAll(".filter-count").text(r)),o},o._doRedraw=function(){return o._doRender()},o.anchor(t,r)},n.dataTable=function(t,r){function i(){var e=!0;if(m.forEach(function(t){e&="function"==typeof t}),!e){var t=f.selectAll("thead").data([0]);t.enter().append("thead"),t.exit().remove();var n=t.selectAll("tr").data([0]);n.enter().append("tr"),n.exit().remove();var r=n.selectAll("th").data(m);r.enter().append("th"),r.exit().remove(),r.attr("class",p).html(function(e){return f._doColumnHeaderFormat(e)})}var i=f.root().selectAll("tbody").data(o(),function(e){return f.keyAccessor()(e)}),a=i.enter().append("tbody");return y===!0&&a.append("tr").attr("class",d).append("td").attr("class",u).attr("colspan",m.length).html(function(e){return f.keyAccessor()(e)}),i.exit().remove(),a}function o(){var t;return t=v===e.ascending?f.dimension().bottom(h):f.dimension().top(h),e.nest().key(f.group()).sortKeys(v).entries(t.sort(function(e,t){return v(g(e),g(t))}).slice(b,s))}function a(e){var t=e.order().selectAll("tr."+l).data(function(e){return e.values}),n=t.enter().append("tr").attr("class",l);return m.forEach(function(e,t){n.append("td").attr("class",c+" _"+t).html(function(t){return f._doColumnValueFormat(e,t)})}),t.exit().remove(),t}var s,u="dc-table-label",l="dc-table-row",c="dc-table-column",d="dc-table-group",p="dc-table-head",f=n.baseMixin({}),h=25,m=[],g=function(e){return e},v=e.ascending,b=0,y=!0;return f._doRender=function(){return f.selectAll("tbody").remove(),a(i()),f},f._doColumnValueFormat=function(e,t){return"function"==typeof e?e(t):"string"==typeof e?t[e]:e.format(t)},f._doColumnHeaderFormat=function(e){return"function"==typeof e?f._doColumnHeaderFnToString(e):"string"==typeof e?f._doColumnHeaderCapitalize(e):String(e.label)},f._doColumnHeaderCapitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},f._doColumnHeaderFnToString=function(e){var t=String(e),n=t.indexOf("return ");if(n>=0){var r=t.lastIndexOf(";");if(r>=0){t=t.substring(n+7,r);var i=t.indexOf("numberFormat");i>=0&&(t=t.replace("numberFormat",""))}}return t},f._doRedraw=function(){return f._doRender()},f.size=function(e){return arguments.length?(h=e,f):h},f.beginSlice=function(e){return arguments.length?(b=e,f):b},f.endSlice=function(e){return arguments.length?(s=e,f):s},f.columns=function(e){return arguments.length?(m=e,f):m},f.sortBy=function(e){return arguments.length?(g=e,f):g},f.order=function(e){return arguments.length?(v=e,f):v},f.showGroups=function(e){return arguments.length?(y=e,f):y},f.anchor(t,r)},n.dataGrid=function(t,r){function i(){var e=p.root().selectAll("div."+d).data(o(),function(e){return p.keyAccessor()(e)}),t=e.enter().append("div").attr("class",d);return b&&t.html(function(e){return b(e)}),e.exit().remove(),t}function o(){var t=p.dimension().top(f);return e.nest().key(p.group()).sortKeys(g).entries(t.sort(function(e,t){return g(m(e),m(t))}).slice(v,s))}function a(e){var t=e.order().selectAll("div."+l).data(function(e){return e.values});return t.enter().append("div").attr("class",l).html(function(e){return h(e)}),t.exit().remove(),t}var s,u="dc-grid-label",l="dc-grid-item",c="dc-grid-group",d="dc-grid-top",p=n.baseMixin({}),f=999,h=function(e){return"you need to provide an html() handling param:  "+JSON.stringify(e)},m=function(e){return e},g=e.ascending,v=0,b=function(e){return"<div class='"+c+"'><h1 class='"+u+"'>"+p.keyAccessor()(e)+"</h1></div>"};return p._doRender=function(){return p.selectAll("div."+d).remove(),a(i()),p},p._doRedraw=function(){return p._doRender()},p.beginSlice=function(e){return arguments.length?(v=e,p):v},p.endSlice=function(e){return arguments.length?(s=e,p):s},p.size=function(e){return arguments.length?(f=e,p):f},p.html=function(e){return arguments.length?(h=e,p):h},p.htmlGroup=function(e){return arguments.length?(b=e,p):b},p.sortBy=function(e){return arguments.length?(m=e,p):m},p.order=function(e){return arguments.length?(g=e,p):g},p.anchor(t,r)},n.bubbleChart=function(e,t){function r(e){var t=e.enter().append("g");t.attr("class",u.BUBBLE_NODE_CLASS).attr("transform",l).append("circle").attr("class",function(e,t){
return u.BUBBLE_CLASS+" _"+t}).on("click",u.onClick).attr("fill",u.getColor).attr("r",0),n.transition(e,u.transitionDuration(),u.transitionDelay()).select("circle."+u.BUBBLE_CLASS).attr("r",function(e){return u.bubbleR(e)}).attr("opacity",function(e){return u.bubbleR(e)>0?1:0}),u._doRenderLabel(t),u._doRenderTitles(t)}function i(e){n.transition(e,u.transitionDuration(),u.transitionDelay()).attr("transform",l).select("circle."+u.BUBBLE_CLASS).attr("fill",u.getColor).attr("r",function(e){return u.bubbleR(e)}).attr("opacity",function(e){return u.bubbleR(e)>0?1:0}),u.doUpdateLabels(e),u.doUpdateTitles(e)}function o(e){e.exit().remove()}function a(e){var t=u.x()(u.keyAccessor()(e));return isNaN(t)&&(t=0),t}function s(e){var t=u.y()(u.valueAccessor()(e));return isNaN(t)&&(t=0),t}var u=n.bubbleMixin(n.coordinateGridMixin({}));u.transitionDuration(750),u.transitionDelay(0);var l=function(e){return"translate("+a(e)+","+s(e)+")"};return u.plotData=function(){u.calculateRadiusDomain(),u.r().range([u.MIN_RADIUS,u.xAxisLength()*u.maxBubbleRelativeSize()]);var e=u.data(),t=u.chartBodyG().selectAll("g."+u.BUBBLE_NODE_CLASS).data(e,function(e){return e.key});u.sortBubbleSize()&&t.order(),r(t),i(t),o(t),u.fadeDeselectedArea()},u.renderBrush=function(){},u.redrawBrush=function(){u.fadeDeselectedArea()},u.anchor(e,t)},n.compositeChart=function(t,r){function i(e,t){var n,r,i,a,s;return e&&(n=p(),r=m()),t&&(i=f(),a=g()),x.alignYAxes()&&e&&t&&(s=o(n,r,i,a)),s||{lyAxisMin:n,lyAxisMax:r,ryAxisMin:i,ryAxisMax:a}}function o(e,t,n,r){var i=(r-n)/(t-e);return{lyAxisMin:Math.min(e,n/i),lyAxisMax:Math.max(t,r/i),ryAxisMin:Math.min(n,e*i),ryAxisMax:Math.max(r,t*i)}}function a(t){var n=void 0===x.rightY()||x.elasticY(),r=n||x.resizing();void 0===x.rightY()&&x.rightY(e.scale.linear()),n&&x.rightY().domain([t.ryAxisMin,t.ryAxisMax]),r&&x.rightY().rangeRound([x.yAxisHeight(),0]),x.rightY().range([x.yAxisHeight(),0]),x.rightYAxis(x.rightYAxis().scale(x.rightY())),x.rightYAxis().orient("right")}function s(t){var n=void 0===x.y()||x.elasticY(),r=n||x.resizing();void 0===x.y()&&x.y(e.scale.linear()),n&&x.y().domain([t.lyAxisMin,t.lyAxisMax]),r&&x.y().rangeRound([x.yAxisHeight(),0]),x.y().range([x.yAxisHeight(),0]),x.yAxis(x.yAxis().scale(x.y())),x.yAxis().orient("left")}function u(e,t){e._generateG(x.g()),e.g().attr("class",w+" _"+t)}function l(){return C.filter(function(e){return!e.useRightYAxis()})}function c(){return C.filter(function(e){return e.useRightYAxis()})}function d(e){return e.map(function(e){return e.yAxisMin()})}function p(){return e.min(d(l()))}function f(){return e.min(d(c()))}function h(e){return e.map(function(e){return e.yAxisMax()})}function m(){return n.utils.add(e.max(h(l())),x.yAxisPadding())}function g(){return n.utils.add(e.max(h(c())),x.yAxisPadding())}function v(){return C.map(function(e){return e.xAxisMin()})}function b(){return C.map(function(e){return e.xAxisMax()})}var y,w="sub",_=12,x=n.coordinateGridMixin({}),C=[],D={},k=!1,A=!0,$=!1,S=e.svg.axis(),E=0,T=_,P=!1;return x._mandatoryAttributes([]),x.transitionDuration(500),x.transitionDelay(0),n.override(x,"_generateG",function(){for(var e=this.__generateG(),t=0;t<C.length;++t){var n=C[t];u(n,t),n.dimension()||n.dimension(x.dimension()),n.group()||n.group(x.group()),n.chartGroup(x.chartGroup()),n.svg(x.svg()),n.xUnits(x.xUnits()),n.transitionDuration(x.transitionDuration(),x.transitionDelay()),n.brushOn(x.brushOn()),n.renderTitle(x.renderTitle()),n.elasticX(x.elasticX())}return e}),x._brushing=function(){for(var e=x.extendBrush(),t=x.brushIsEmpty(e),n=0;n<C.length;++n)C[n].replaceFilter(t?null:e)},x._prepareYAxis=function(){var e=0!==l().length,t=0!==c().length,n=i(e,t);e&&s(n),t&&a(n),l().length>0&&!P?x._renderHorizontalGridLinesForAxis(x.g(),x.y(),x.yAxis()):c().length>0&&x._renderHorizontalGridLinesForAxis(x.g(),y,S)},x.renderYAxis=function(){0!==l().length&&(x.renderYAxisAt("y",x.yAxis(),x.margins().left),x.renderYAxisLabel("y",x.yAxisLabel(),-90)),0!==c().length&&(x.renderYAxisAt("yr",x.rightYAxis(),x.width()-x.margins().right),x.renderYAxisLabel("yr",x.rightYAxisLabel(),90,x.width()-T))},x.plotData=function(){for(var e=0;e<C.length;++e){var t=C[e];t.g()||u(t,e),k&&t.colors(x.colors()),t.x(x.x()),t.xAxis(x.xAxis()),t.useRightYAxis()?(t.y(x.rightY()),t.yAxis(x.rightYAxis())):(t.y(x.y()),t.yAxis(x.yAxis())),t.plotData(),t._activateRenderlets()}},x.useRightAxisGridLines=function(e){return arguments?(P=e,x):P},x.childOptions=function(e){return arguments.length?(D=e,C.forEach(function(e){e.options(D)}),x):D},x.fadeDeselectedArea=function(){for(var e=0;e<C.length;++e){var t=C[e];t.brush(x.brush()),t.fadeDeselectedArea()}},x.rightYAxisLabel=function(e,t){return arguments.length?(E=e,x.margins().right-=T,T=void 0===t?_:t,x.margins().right+=T,x):E},x.compose=function(e){return C=e,C.forEach(function(e){e.height(x.height()),e.width(x.width()),e.margins(x.margins()),A&&e.title(x.title()),e.options(D)}),x},x.children=function(){return C},x.shareColors=function(e){return arguments.length?(k=e,x):k},x.shareTitle=function(e){return arguments.length?(A=e,x):A},x.rightY=function(e){return arguments.length?(y=e,x.rescale(),x):y},x.alignYAxes=function(e){return arguments.length?($=e,x.rescale(),x):$},delete x.yAxisMin,delete x.yAxisMax,n.override(x,"xAxisMin",function(){return n.utils.subtract(e.min(v()),x.xAxisPadding())}),n.override(x,"xAxisMax",function(){return n.utils.add(e.max(b()),x.xAxisPadding())}),x.legendables=function(){return C.reduce(function(e,t){return k&&t.colors(x.colors()),e.push.apply(e,t.legendables()),e},[])},x.legendHighlight=function(e){for(var t=0;t<C.length;++t){var n=C[t];n.legendHighlight(e)}},x.legendReset=function(e){for(var t=0;t<C.length;++t){var n=C[t];n.legendReset(e)}},x.legendToggle=function(){console.log("composite should not be getting legendToggle itself")},x.rightYAxis=function(e){return arguments.length?(S=e,x):S},x.anchor(t,r)},n.seriesChart=function(t,r){function i(t,n){return e.ascending(u.keyAccessor()(t),u.keyAccessor()(n))}function o(e){l[e].g()&&l[e].g().remove(),delete l[e]}function a(){Object.keys(l).map(o),l={}}var s,u=n.compositeChart(t,r),l={},c=n.lineChart,d=e.ascending,p=i;return u._mandatoryAttributes().push("seriesAccessor","chart"),u.shareColors(!0),u._preprocessData=function(){var t,n=[],i=e.nest().key(s);d&&i.sortKeys(d),p&&i.sortValues(p);var a=i.entries(u.data()),f=a.map(function(i,o){var a=l[i.key]||c.call(u,u,r,i.key,o);return l[i.key]||(t=!0),l[i.key]=a,n.push(i.key),a.dimension(u.dimension()).group({all:e.functor(i.values)},i.key).keyAccessor(u.keyAccessor()).valueAccessor(u.valueAccessor()).brushOn(u.brushOn())});Object.keys(l).filter(function(e){return-1===n.indexOf(e)}).forEach(function(e){o(e),t=!0}),u._compose(f),t&&u.legend()&&u.legend().render()},u.chart=function(e){return arguments.length?(c=e,a(),u):c},u.seriesAccessor=function(e){return arguments.length?(s=e,a(),u):s},u.seriesSort=function(e){return arguments.length?(d=e,a(),u):d},u.valueSort=function(e){return arguments.length?(p=e,a(),u):p},u._compose=u.compose,delete u.compose,u},n.geoChoroplethChart=function(t,r){function i(e){var t=o();if(a(e)){var n=s(e);f(n,e,t),h(n,e,t)}}function o(){for(var e={},t=m.data(),n=0;n<t.length;++n)e[m.keyAccessor()(t[n])]=m.valueAccessor()(t[n]);return e}function a(e){return p(e).keyAccessor}function s(e){var t=m.svg().selectAll(u(e)).classed("selected",function(t){return l(e,t)}).classed("deselected",function(t){return c(e,t)}).attr("class",function(t){var r=p(e).name,i=n.utils.nameToId(p(e).keyAccessor(t)),o=r+" "+i;return l(e,t)&&(o+=" selected"),c(e,t)&&(o+=" deselected"),o});return t}function u(e){return"g.layer"+e+" g."+p(e).name}function l(e,t){return m.hasFilter()&&m.hasFilter(d(e,t))}function c(e,t){return m.hasFilter()&&!m.hasFilter(d(e,t))}function d(e,t){return p(e).keyAccessor(t)}function p(e){return b[e]}function f(t,r,i){var o=t.select("path").attr("fill",function(){var t=e.select(this).attr("fill");return t?t:"none"}).on("click",function(e){return m.onClick(e,r)});n.transition(o,m.transitionDuration(),m.transitionDelay()).attr("fill",function(e,t){return m.getColor(i[p(r).keyAccessor(e)],t)})}function h(e,t,n){m.renderTitle()&&e.selectAll("title").text(function(e){var r=d(t,e),i=n[r];return m.title()({key:r,value:i})})}var m=n.colorMixin(n.baseMixin({}));m.colorAccessor(function(e){return e||0});var g,v=e.geo.path(),b=[];return m._doRender=function(){m.resetSvg();for(var e=0;e<b.length;++e){var t=m.svg().append("g").attr("class","layer"+e),n=t.selectAll("g."+p(e).name).data(p(e).data).enter().append("g").attr("class",p(e).name);n.append("path").attr("fill","white").attr("d",v),n.append("title"),i(e)}g=!1},m.onClick=function(e,t){var r=p(t).keyAccessor(e);n.events.trigger(function(){m.filter(r),m.redrawGroup()})},m._doRedraw=function(){for(var e=0;e<b.length;++e)i(e),g&&m.svg().selectAll("g."+p(e).name+" path").attr("d",v);g=!1},m.overlayGeoJson=function(e,t,n){for(var r=0;r<b.length;++r)if(b[r].name===t)return b[r].data=e,b[r].keyAccessor=n,m;return b.push({name:t,data:e,keyAccessor:n}),m},m.projection=function(e){return v.projection(e),g=!0,m},m.geoJsons=function(){return b},m.geoPath=function(){return v},m.removeGeoJson=function(e){for(var t=[],n=0;n<b.length;++n){var r=b[n];r.name!==e&&t.push(r)}return b=t,m},m.anchor(t,r)},n.bubbleOverlay=function(t,r){function i(){return l=f.select("g."+c),l.empty()&&(l=f.svg().append("g").attr("class",c)),l}function o(){var e=a();f.calculateRadiusDomain(),h.forEach(function(t){var r=s(t,e),i=r.select("circle."+p);i.empty()&&(i=r.append("circle").attr("class",p).attr("r",0).attr("fill",f.getColor).on("click",f.onClick)),n.transition(i,f.transitionDuration(),f.transitionDelay()).attr("r",function(e){return f.bubbleR(e)}),f._doRenderLabel(r),f._doRenderTitles(r)})}function a(){var e={};return f.data().forEach(function(t){e[f.keyAccessor()(t)]=t}),e}function s(e,t){var r=d+" "+n.utils.nameToId(e.name),i=l.select("g."+n.utils.nameToId(e.name));return i.empty()&&(i=l.append("g").attr("class",r).attr("transform","translate("+e.x+","+e.y+")")),i.datum(t[e.name]),i}function u(){var e=a();f.calculateRadiusDomain(),h.forEach(function(t){var r=s(t,e),i=r.select("circle."+p);n.transition(i,f.transitionDuration(),f.transitionDelay()).attr("r",function(e){return f.bubbleR(e)}).attr("fill",f.getColor),f.doUpdateLabels(r),f.doUpdateTitles(r)})}var l,c="bubble-overlay",d="node",p="bubble",f=n.bubbleMixin(n.baseMixin({})),h=[];return f.transitionDuration(750),f.transitionDelay(0),f.radiusValueAccessor(function(e){return e.value}),f.point=function(e,t,n){return h.push({name:e,x:t,y:n}),f},f._doRender=function(){return l=i(),f.r().range([f.MIN_RADIUS,f.width()*f.maxBubbleRelativeSize()]),o(),f.fadeDeselectedArea(),f},f._doRedraw=function(){return u(),f.fadeDeselectedArea(),f},f.debug=function(t){if(t){var r=f.select("g."+n.constants.DEBUG_GROUP_CLASS);r.empty()&&(r=f.svg().append("g").attr("class",n.constants.DEBUG_GROUP_CLASS));var i=r.append("text").attr("x",10).attr("y",20);r.append("rect").attr("width",f.width()).attr("height",f.height()).on("mousemove",function(){var t=e.mouse(r.node()),n=t[0]+", "+t[1];i.text(n)})}else f.selectAll(".debug").remove();return f},f.anchor(t,r),f},n.rowChart=function(t,r){function i(){if(!y||w){var t=e.extent(_,R.cappedValueAccessor);t[0]>0&&(t[0]=0),t[1]<0&&(t[1]=0),y=e.scale.linear().domain(t).range([0,R.effectiveWidth()])}M.scale(y)}function o(){var e=b.select("g.axis");i(),e.empty()&&(e=b.append("g").attr("class","axis")),e.attr("transform","translate(0, "+R.effectiveHeight()+")"),n.transition(e,R.transitionDuration(),R.transitionDelay()).call(M)}function a(){b.selectAll("g.tick").select("line.grid-line").remove(),b.selectAll("g.tick").append("line").attr("class","grid-line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",function(){return-R.effectiveHeight()})}function s(){_=R.data(),o(),a();var e=b.selectAll("g."+E).data(_);u(e),l(e),d(e)}function u(e){var t=e.enter().append("g").attr("class",function(e,t){return E+" _"+t});t.append("rect").attr("width",0),f(t)}function l(e){e.exit().remove()}function c(){var e=y(0);return e===-(1/0)||e!==e?y(1):e}function d(e){var t,r=_.length;t=S?S:(R.effectiveHeight()-(r+1)*$)/r,D||(C=t/2);var i=e.attr("transform",function(e,n){return"translate(0,"+((n+1)*$+n*t)+")"}).select("rect").attr("height",t).attr("fill",R.getColor).on("click",m).classed("deselected",function(e){return R.hasFilter()?!v(e):!1}).classed("selected",function(e){return R.hasFilter()?v(e):!1});n.transition(i,R.transitionDuration(),R.transitionDelay()).attr("width",function(e){return Math.abs(c()-y(R.valueAccessor()(e)))}).attr("transform",g),p(e),h(e)}function p(e){R.renderTitle()&&(e.select("title").remove(),e.append("title").text(R.title()))}function f(e){R.renderLabel()&&e.append("text").on("click",m),R.renderTitleLabel()&&e.append("text").attr("class",T).on("click",m)}function h(e){if(R.renderLabel()){var t=e.select("text").attr("x",x).attr("y",C).attr("dy",k).on("click",m).attr("class",function(e,t){return E+" _"+t}).text(function(e){return R.label()(e)});n.transition(t,R.transitionDuration(),R.transitionDelay()).attr("transform",g)}if(R.renderTitleLabel()){var r=e.select("."+T).attr("x",R.effectiveWidth()-A).attr("y",C).attr("dy",k).attr("text-anchor","end").on("click",m).attr("class",function(e,t){return T+" _"+t}).text(function(e){return R.title()(e)});n.transition(r,R.transitionDuration(),R.transitionDelay()).attr("transform",g)}}function m(e){R.onClick(e)}function g(e){var t=y(R.cappedValueAccessor(e)),n=c(),r=t>n?n:t;return"translate("+r+",0)"}function v(e){return R.hasFilter(R.cappedKeyAccessor(e))}var b,y,w,_,x=10,C=15,D=!1,k="0.35em",A=2,$=5,S=!1,E="row",T="titlerow",P=!1,R=n.capMixin(n.marginMixin(n.colorMixin(n.baseMixin({})))),M=e.svg.axis().orient("bottom");return R.rowsCap=R.cap,R._doRender=function(){return R.resetSvg(),b=R.svg().append("g").attr("transform","translate("+R.margins().left+","+R.margins().top+")"),s(),R},R.title(function(e){return R.cappedKeyAccessor(e)+": "+R.cappedValueAccessor(e)}),R.label(R.cappedKeyAccessor),R.x=function(e){return arguments.length?(y=e,R):y},R.renderTitleLabel=function(e){return arguments.length?(P=e,R):P},R._doRedraw=function(){return s(),R},R.xAxis=function(){return M},R.fixedBarHeight=function(e){return arguments.length?(S=e,R):S},R.gap=function(e){return arguments.length?($=e,R):$},R.elasticX=function(e){return arguments.length?(w=e,R):w},R.labelOffsetX=function(e){return arguments.length?(x=e,R):x},R.labelOffsetY=function(e){return arguments.length?(C=e,D=!0,R):C},R.titleLabelOffsetX=function(e){return arguments.length?(A=e,R):A},R.anchor(t,r)},n.legend=function(){function e(){return c+l}var t,r,i,o=2,a={},s=0,u=0,l=12,c=5,d=!1,p=560,f=70,h=!1,m=n.pluck("name");return a.parent=function(e){return arguments.length?(t=e,a):t},a.render=function(){t.svg().select("g.dc-legend").remove(),i=t.svg().append("g").attr("class","dc-legend").attr("transform","translate("+s+","+u+")");var a=t.legendables();void 0!==r&&(a=a.slice(0,r));var g=i.selectAll("g.dc-legend-item").data(a).enter().append("g").attr("class","dc-legend-item").on("mouseover",function(e){t.legendHighlight(e)}).on("mouseout",function(e){t.legendReset(e)}).on("click",function(e){e.chart.legendToggle(e)});i.selectAll("g.dc-legend-item").classed("fadeout",function(e){return e.chart.isLegendableHidden(e)}),a.some(n.pluck("dashstyle"))?g.append("line").attr("x1",0).attr("y1",l/2).attr("x2",l).attr("y2",l/2).attr("stroke-width",2).attr("stroke-dasharray",n.pluck("dashstyle")).attr("stroke",n.pluck("color")):g.append("rect").attr("width",l).attr("height",l).attr("fill",function(e){return e?e.color:"blue"}),g.append("text").text(m).attr("x",l+o).attr("y",function(){return l/2+(this.clientHeight?this.clientHeight:13)/2-2});var v=0,b=0;g.attr("transform",function(t,n){if(d){var r=h===!0?this.getBBox().width+c:f;v+r>p&&v>0&&(++b,v=0);var i="translate("+v+","+b*e()+")";return v+=r,i}return"translate(0,"+n*e()+")"})},a.x=function(e){return arguments.length?(s=e,a):s},a.y=function(e){return arguments.length?(u=e,a):u},a.gap=function(e){return arguments.length?(c=e,a):c},a.itemHeight=function(e){return arguments.length?(l=e,a):l},a.horizontal=function(e){return arguments.length?(d=e,a):d},a.legendWidth=function(e){return arguments.length?(p=e,a):p},a.itemWidth=function(e){return arguments.length?(f=e,a):f},a.autoItemWidth=function(e){return arguments.length?(h=e,a):h},a.legendText=function(e){return arguments.length?(m=e,a):m},a.maxItems=function(e){return arguments.length?(r=n.utils.isNumber(e)?e:void 0,a):r},a},n.scatterPlot=function(t,r){function i(e,t){return l(e)?_[t]?Math.pow(f,2):Math.pow(h,2):Math.pow(v,2)}function o(e,t){s.renderTitle()&&(e.selectAll("title").remove(),e.append("title").text(function(e){return s.title()(e)}))}function a(t,r){var i=s.chartBodyG().selectAll(".chart-body path.symbol").filter(function(){return t(e.select(this))}),o=u.size();u.size(Math.pow(r,2)),n.transition(i,s.transitionDuration(),s.transitionDelay()).attr("d",u),u.size(o)}var s=n.coordinateGridMixin({}),u=e.svg.symbol(),l=function(e){return e.value},c=s.keyAccessor();s.keyAccessor(function(e){return c(e)[0]}),s.valueAccessor(function(e){return c(e)[1]}),s.colorAccessor(function(){return s._groupName}),s.title(function(e){return s.keyAccessor()(e)+","+s.valueAccessor()(e)+": "+s.existenceAccessor()(e)});var d=function(e){return"translate("+s.x()(s.keyAccessor()(e))+","+s.y()(s.valueAccessor()(e))+")"},p=7,f=5,h=3,m=null,g=1,v=0,b=0,y=1,w=null,_=[];return u.size(i),n.override(s,"_filter",function(e){return arguments.length?s.__filter(n.filters.RangedTwoDimensionalFilter(e)):s.__filter()}),s.plotData=function(){var e=s.chartBodyG().selectAll("path.symbol").data(s.data());e.enter().append("path").attr("class","symbol").attr("opacity",0).attr("fill",s.getColor).attr("transform",d),e.call(o,s.data()),e.each(function(e,t){_[t]=!s.filter()||s.filter().isFiltered([e.key[0],e.key[1]])}),n.transition(e,s.transitionDuration(),s.transitionDelay()).attr("opacity",function(e,t){return l(e)?_[t]?y:s.excludedOpacity():b}).attr("fill",function(e,t){return w&&!l(e)?w:s.excludedColor()&&!_[t]?s.excludedColor():s.getColor(e)}).attr("transform",d).attr("d",u),n.transition(e.exit(),s.transitionDuration(),s.transitionDelay()).attr("opacity",0).remove()},s.existenceAccessor=function(e){return arguments.length?(l=e,this):l},s.symbol=function(e){return arguments.length?(u.type(e),s):u.type()},s.customSymbol=function(e){return arguments.length?(u=e,u.size(i),s):u},s.symbolSize=function(e){return arguments.length?(f=e,s):f},s.highlightedSize=function(e){return arguments.length?(p=e,s):p},s.excludedSize=function(e){return arguments.length?(h=e,s):h},s.excludedColor=function(e){return arguments.length?(m=e,s):m},s.excludedOpacity=function(e){return arguments.length?(g=e,s):g},s.hiddenSize=s.emptySize=function(e){return arguments.length?(v=e,s):v},s.emptyColor=function(e){return arguments.length?(w=e,s):w},s.emptyOpacity=function(e){return arguments.length?(b=e,s):b},s.nonemptyOpacity=function(e){return arguments.length?(y=e,s):b},s.legendables=function(){return[{chart:s,name:s._groupName,color:s.getColor()}]},s.legendHighlight=function(t){a(function(e){return e.attr("fill")===t.color},p),s.chartBodyG().selectAll(".chart-body path.symbol").filter(function(){return e.select(this).attr("fill")!==t.color}).classed("fadeout",!0)},s.legendReset=function(t){a(function(e){return e.attr("fill")===t.color},f),s.chartBodyG().selectAll(".chart-body path.symbol").filter(function(){return e.select(this).attr("fill")!==t.color}).classed("fadeout",!1)},s.setHandlePaths=function(){},s.extendBrush=function(){var e=s.brush().extent();return s.round()&&(e[0]=e[0].map(s.round()),e[1]=e[1].map(s.round()),s.g().select(".brush").call(s.brush().extent(e))),e},s.brushIsEmpty=function(e){return s.brush().empty()||!e||e[0][0]>=e[1][0]||e[0][1]>=e[1][1]},s._brushing=function(){var e=s.extendBrush();if(s.redrawBrush(s.g()),s.brushIsEmpty(e))n.events.trigger(function(){s.filter(null),s.redrawGroup()});else{var t=n.filters.RangedTwoDimensionalFilter(e);n.events.trigger(function(){s.filter(null),s.filter(t),s.redrawGroup()},n.constants.EVENT_DELAY)}},s.setBrushY=function(e){e.call(s.brush().y(s.y()))},s.anchor(t,r)},n.numberDisplay=function(t,r){function i(e){if(!e.length)return null;var t=u._computeOrderedGroups(e);return t[t.length-1]}var o,a="number-display",s=e.format(".2s"),u=n.baseMixin({}),l={one:"",some:"",none:""};return u._mandatoryAttributes(["group"]),u.ordering(function(e){return e.value}),u.html=function(e){return arguments.length?(e.none?l.none=e.none:e.one?l.none=e.one:e.some&&(l.none=e.some),e.one?l.one=e.one:e.some&&(l.one=e.some),e.some?l.some=e.some:e.one&&(l.some=e.one),u):l},u.value=function(){return u.data()},u.data(function(e){var t=e.value?e.value():i(e.all());return u.valueAccessor()(t)}),u.transitionDuration(250),u.transitionDelay(0),u._doRender=function(){var t=u.value(),n=u.selectAll("."+a);n.empty()&&(n=n.data([0]).enter().append("span").attr("class",a)),n.transition().duration(u.transitionDuration()).delay(u.transitionDelay()).ease("quad-out-in").tween("text",function(){var n=isFinite(o)?o:0,r=e.interpolateNumber(n||0,t);return o=t,function(e){var n=null,i=u.formatNumber()(r(e));0===t&&""!==l.none?n=l.none:1===t&&""!==l.one?n=l.one:""!==l.some&&(n=l.some),this.innerHTML=n?n.replace("%number",i):i}})},u._doRedraw=function(){return u._doRender()},u.formatNumber=function(e){return arguments.length?(s=e,u):s},u.anchor(t,r)},n.heatMap=function(t,r){function i(e,t){var r=m.selectAll(".box-group").filter(function(n){return n.key[e]===t}),i=r.filter(function(e){return!m.hasFilter(e.key)});n.events.trigger(function(){var e=i.empty()?r:i,t=e.data().map(function(e){return n.filters.TwoDimensionalFilter(e.key)});m._filter([t]),m.redrawGroup()})}var o,a,s,u=6.75,l=e.ascending,c=e.ascending,d=e.scale.ordinal(),p=e.scale.ordinal(),f=u,h=u,m=n.colorMixin(n.marginMixin(n.baseMixin({})));m._mandatoryAttributes(["group"]),m.title(m.colorAccessor());var g=function(e){return e},v=function(e){return e};m.colsLabel=function(e){return arguments.length?(g=e,m):g},m.rowsLabel=function(e){return arguments.length?(v=e,m):v};var b=function(e){i(0,e)},y=function(e){i(1,e)},w=function(e){var t=e.key;n.events.trigger(function(){m.filter(t),m.redrawGroup()})};return n.override(m,"filter",function(e){return arguments.length?m._filter(n.filters.TwoDimensionalFilter(e)):m._filter()}),m.rows=function(e){return arguments.length?(s=e,m):s},m.rowOrdering=function(e){return arguments.length?(c=e,m):c},m.cols=function(e){return arguments.length?(a=e,m):a},m.colOrdering=function(e){return arguments.length?(l=e,m):l},m._doRender=function(){return m.resetSvg(),o=m.svg().append("g").attr("class","heatmap").attr("transform","translate("+m.margins().left+","+m.margins().top+")"),m._doRedraw()},m._doRedraw=function(){var e=m.data(),t=m.rows()||e.map(m.valueAccessor()),r=m.cols()||e.map(m.keyAccessor());c&&(t=t.sort(c)),l&&(r=r.sort(l)),t=p.domain(t),r=d.domain(r);var i=t.domain().length,a=r.domain().length,s=Math.floor(m.effectiveWidth()/a),u=Math.floor(m.effectiveHeight()/i);r.rangeRoundBands([0,m.effectiveWidth()]),t.rangeRoundBands([m.effectiveHeight(),0]);var g=o.selectAll("g.box-group").data(m.data(),function(e,t){return m.keyAccessor()(e,t)+"\x00"+m.valueAccessor()(e,t)}),v=g.enter().append("g").attr("class","box-group");v.append("rect").attr("class","heat-box").attr("fill","white").on("click",m.boxOnClick()),m.renderTitle()&&(v.append("title"),g.select("title").text(m.title())),n.transition(g.select("rect"),m.transitionDuration(),m.transitionDelay()).attr("x",function(e,t){return r(m.keyAccessor()(e,t))}).attr("y",function(e,n){return t(m.valueAccessor()(e,n))}).attr("rx",f).attr("ry",h).attr("fill",m.getColor).attr("width",s).attr("height",u),g.exit().remove();var b=o.select("g.cols");b.empty()&&(b=o.append("g").attr("class","cols axis"));var y=b.selectAll("text").data(r.domain());y.enter().append("text").attr("x",function(e){return r(e)+s/2}).style("text-anchor","middle").attr("y",m.effectiveHeight()).attr("dy",12).on("click",m.xAxisOnClick()).text(m.colsLabel()),n.transition(y,m.transitionDuration(),m.transitionDelay()).text(m.colsLabel()).attr("x",function(e){return r(e)+s/2}).attr("y",m.effectiveHeight()),y.exit().remove();var w=o.select("g.rows");w.empty()&&(w=o.append("g").attr("class","rows axis"));var _=w.selectAll("text").data(t.domain());return _.enter().append("text").attr("dy",6).style("text-anchor","end").attr("x",0).attr("dx",-2).on("click",m.yAxisOnClick()).text(m.rowsLabel()),n.transition(_,m.transitionDuration(),m.transitionDelay()).text(m.rowsLabel()).attr("y",function(e){return t(e)+u/2}),_.exit().remove(),m.hasFilter()?m.selectAll("g.box-group").each(function(e){m.isSelectedNode(e)?m.highlightSelected(this):m.fadeDeselected(this)}):m.selectAll("g.box-group").each(function(){m.resetHighlight(this)}),m},m.boxOnClick=function(e){return arguments.length?(w=e,m):w},m.xAxisOnClick=function(e){return arguments.length?(b=e,m):b},m.yAxisOnClick=function(e){return arguments.length?(y=e,m):y},m.xBorderRadius=function(e){return arguments.length?(f=e,m):f},m.yBorderRadius=function(e){return arguments.length?(h=e,m):h},m.isSelectedNode=function(e){return m.hasFilter(e.key)},m.anchor(t,r)},function(){function t(e){return[0,e.length-1]}function n(t){return[e.quantile(t,.25),e.quantile(t,.5),e.quantile(t,.75)]}e.box=function(){function r(t){t.each(function(t,n){t=t.map(l).sort(e.ascending);var r=e.select(this),f=t.length,h=t[0],m=t[f-1],g=t.quartiles=d(t),v=c&&c.call(this,t,n),b=v&&v.map(function(e){return t[e]}),y=v?e.range(0,v[0]).concat(e.range(v[1]+1,f)):e.range(f),w=e.scale.linear().domain(u&&u.call(this,t,n)||[h,m]).range([o,0]),_=this.__chart__||e.scale.linear().domain([0,1/0]).range(w.range());this.__chart__=w;var x=r.selectAll("line.center").data(b?[b]:[]);x.enter().insert("line","rect").attr("class","center").attr("x1",i/2).attr("y1",function(e){return _(e[0])}).attr("x2",i/2).attr("y2",function(e){return _(e[1])}).style("opacity",1e-6).transition().duration(a).delay(s).style("opacity",1).attr("y1",function(e){return w(e[0])}).attr("y2",function(e){return w(e[1])}),x.transition().duration(a).delay(s).style("opacity",1).attr("x1",i/2).attr("x2",i/2).attr("y1",function(e){return w(e[0])}).attr("y2",function(e){return w(e[1])}),x.exit().transition().duration(a).delay(s).style("opacity",1e-6).attr("y1",function(e){return w(e[0])}).attr("y2",function(e){return w(e[1])}).remove();var C=r.selectAll("rect.box").data([g]);C.enter().append("rect").attr("class","box").attr("x",0).attr("y",function(e){return _(e[2])}).attr("width",i).attr("height",function(e){return _(e[0])-_(e[2])}).transition().duration(a).delay(s).attr("y",function(e){return w(e[2])}).attr("height",function(e){return w(e[0])-w(e[2])}),C.transition().duration(a).delay(s).attr("width",i).attr("y",function(e){return w(e[2])}).attr("height",function(e){return w(e[0])-w(e[2])});var D=r.selectAll("line.median").data([g[1]]);D.enter().append("line").attr("class","median").attr("x1",0).attr("y1",_).attr("x2",i).attr("y2",_).transition().duration(a).delay(s).attr("y1",w).attr("y2",w),D.transition().duration(a).delay(s).attr("x1",0).attr("x2",i).attr("y1",w).attr("y2",w);var k=r.selectAll("line.whisker").data(b||[]);k.enter().insert("line","circle, text").attr("class","whisker").attr("x1",0).attr("y1",_).attr("x2",i).attr("y2",_).style("opacity",1e-6).transition().duration(a).delay(s).attr("y1",w).attr("y2",w).style("opacity",1),k.transition().duration(a).delay(s).attr("x1",0).attr("x2",i).attr("y1",w).attr("y2",w).style("opacity",1),k.exit().transition().duration(a).delay(s).attr("y1",w).attr("y2",w).style("opacity",1e-6).remove();var A=r.selectAll("circle.outlier").data(y,Number);A.enter().insert("circle","text").attr("class","outlier").attr("r",5).attr("cx",i/2).attr("cy",function(e){return _(t[e])}).style("opacity",1e-6).transition().duration(a).delay(s).attr("cy",function(e){return w(t[e])}).style("opacity",1),A.transition().duration(a).delay(s).attr("cx",i/2).attr("cy",function(e){return w(t[e])}).style("opacity",1),A.exit().transition().duration(a).delay(s).attr("cy",function(e){return w(t[e])}).style("opacity",1e-6).remove();var $=p||w.tickFormat(8),S=r.selectAll("text.box").data(g);S.enter().append("text").attr("class","box").attr("dy",".3em").attr("dx",function(e,t){return 1&t?6:-6}).attr("x",function(e,t){return 1&t?i:0}).attr("y",_).attr("text-anchor",function(e,t){return 1&t?"start":"end"}).text($).transition().duration(a).delay(s).attr("y",w),S.transition().duration(a).delay(s).text($).attr("x",function(e,t){return 1&t?i:0}).attr("y",w);var E=r.selectAll("text.whisker").data(b||[]);E.enter().append("text").attr("class","whisker").attr("dy",".3em").attr("dx",6).attr("x",i).attr("y",_).text($).style("opacity",1e-6).transition().duration(a).delay(s).attr("y",w).style("opacity",1),E.transition().duration(a).delay(s).text($).attr("x",i).attr("y",w).style("opacity",1),E.exit().transition().duration(a).delay(s).attr("y",w).style("opacity",1e-6).remove()}),e.timer.flush()}var i=1,o=1,a=0,s=0,u=null,l=Number,c=t,d=n,p=null;return r.width=function(e){return arguments.length?(i=e,r):i},r.height=function(e){return arguments.length?(o=e,r):o},r.tickFormat=function(e){return arguments.length?(p=e,r):p},r.duration=function(e){return arguments.length?(a=e,r):a},r.domain=function(t){return arguments.length?(u=null===t?t:e.functor(t),r):u},r.value=function(e){return arguments.length?(l=e,r):l},r.whiskers=function(e){return arguments.length?(c=e,r):c},r.quartiles=function(e){return arguments.length?(d=e,r):d},r}}(),n.boxPlot=function(t,r){function i(e){return function(t){var n=t.quartiles[0],r=t.quartiles[2],i=(r-n)*e,o=-1,a=t.length;do++o;while(t[o]<n-i);do--a;while(t[a]>r+i);return[o,a]}}function o(e){var t=e.enter().append("g");t.attr("class","box").attr("transform",m).call(p).on("click",function(e){u.filter(u.keyAccessor()(e)),u.redrawGroup()})}function a(t){n.transition(t,u.transitionDuration(),u.transitionDelay()).attr("transform",m).call(p).each(function(){e.select(this).select("rect.box").attr("fill",u.getColor)})}function s(e){e.exit().remove().call(p)}var u=n.coordinateGridMixin({}),l=1.5,c=i,d=c(l),p=e.box(),f=null,h=function(e,t){return u.isOrdinal()?u.x().rangeBand():e/(1+u.boxPadding())/t};u.yAxisPadding(12),u.x(e.scale.ordinal()),u.xUnits(n.units.ordinal),u.data(function(e){return e.all().map(function(e){return e.map=function(t){return t.call(e,e)},e}).filter(function(e){var t=u.valueAccessor()(e);return 0!==t.length})}),u.boxPadding=u._rangeBandPadding,u.boxPadding(.8),u.outerPadding=u._outerRangeBandPadding,u.outerPadding(.5),u.boxWidth=function(t){return arguments.length?(h=e.functor(t),u):h};var m=function(e,t){var n=u.x()(u.keyAccessor()(e,t));return"translate("+n+", 0)"};return u._preprocessData=function(){u.elasticX()&&u.x().domain([])},u.plotData=function(){var e=h(u.effectiveWidth(),u.xUnitCount());p.whiskers(d).width(e).height(u.effectiveHeight()).value(u.valueAccessor()).domain(u.y().domain()).duration(u.transitionDuration()).tickFormat(f);var t=u.chartBodyG().selectAll("g.box").data(u.data(),u.keyAccessor());o(t),a(t),s(t),u.fadeDeselectedArea()},u.fadeDeselectedArea=function(){if(u.hasFilter())if(u.isOrdinal())u.g().selectAll("g.box").each(function(e){u.isSelectedNode(e)?u.highlightSelected(this):u.fadeDeselected(this)});else{var e=u.brush().extent(),t=e[0],n=e[1],r=u.keyAccessor();u.g().selectAll("g.box").each(function(e){var i=r(e);t>i||i>=n?u.fadeDeselected(this):u.highlightSelected(this)})}else u.g().selectAll("g.box").each(function(){u.resetHighlight(this)})},u.isSelectedNode=function(e){return u.hasFilter(u.keyAccessor()(e))},u.yAxisMin=function(){var t=e.min(u.data(),function(t){return e.min(u.valueAccessor()(t))});return n.utils.subtract(t,u.yAxisPadding())},u.yAxisMax=function(){var t=e.max(u.data(),function(t){
return e.max(u.valueAccessor()(t))});return n.utils.add(t,u.yAxisPadding())},u.tickFormat=function(e){return arguments.length?(f=e,u):f},u.anchor(t,r)},n.selectMenu=function(t,r){function i(){var e=s.selectAll("option."+l).data(c.data(),function(e){return c.keyAccessor()(e)});return e.enter().append("option").classed(l,!0).attr("value",function(e){return c.keyAccessor()(e)}),e.text(c.title()),e.exit().remove(),s.selectAll("option."+l).sort(m),s.on("change",o),e}function o(t,n){var r,i=e.event.target;if(i.selectedOptions){var o=Array.prototype.slice.call(i.selectedOptions);r=o.map(function(e){return e.value})}else{var a=[].slice.call(e.event.target.options);r=a.filter(function(e){return e.selected}).map(function(e){return e.value})}1===r.length&&""===r[0]?r=f||null:p||1!==r.length||(r=r[0]),c.onChange(r)}function a(){p?s.attr("multiple",!0):s.attr("multiple",null),null!==h?s.attr("size",h):s.attr("size",null)}var s,u="dc-select-menu",l="dc-select-option",c=n.baseMixin({}),d="Select all",p=!1,f=null,h=null,m=function(e,t){return c.keyAccessor()(e)>c.keyAccessor()(t)?1:c.keyAccessor()(t)>c.keyAccessor()(e)?-1:0},g=function(e){return c.valueAccessor()(e)>0};c.data(function(e){return e.all().filter(g)}),c._doRender=function(){return c.select("select").remove(),s=c.root().append("select").classed(u,!0),s.append("option").text(d).attr("value",""),c._doRedraw(),c};var v=window.navigator.userAgent;return v.indexOf("Trident/")>0&&-1===v.indexOf("MSIE")&&(c.redraw=c.render),c._doRedraw=function(){return a(),i(),c.hasFilter()&&p?s.selectAll("option").property("selected",function(e){return"undefined"!=typeof e&&c.filters().indexOf(String(c.keyAccessor()(e)))>=0}):c.hasFilter()?s.property("value",c.filter()):s.property("value",""),c},c.onChange=function(e){e&&p?c.replaceFilter([e]):e?c.replaceFilter(e):c.filterAll(),n.events.trigger(function(){c.redrawGroup()})},c.order=function(e){return arguments.length?(m=e,c):m},c.promptText=function(e){return arguments.length?(d=e,c):d},c.filterDisplayed=function(e){return arguments.length?(g=e,c):g},c.multiple=function(e){return arguments.length?(p=e,c):p},c.promptValue=function(e){return arguments.length?(f=e,c):f},c.numberVisible=function(e){return arguments.length?(h=e,c):h},c.size=n.logger.deprecate(c.numberVisible,"selectMenu.size is ambiguous - use numberVisible instead"),c.anchor(t,r)},n.abstractBubbleChart=n.bubbleMixin,n.baseChart=n.baseMixin,n.capped=n.capMixin,n.colorChart=n.colorMixin,n.coordinateGridChart=n.coordinateGridMixin,n.marginable=n.marginMixin,n.stackableChart=n.stackMixin,n.d3=e,n.crossfilter=t,n}if("function"==typeof define&&define.amd)define(["d3","crossfilter2"],e);else if("object"==typeof module&&module.exports){var t=require("d3"),n=require("crossfilter2");"function"!=typeof n&&(n=n.crossfilter),module.exports=e(t,n)}else this.dc=e(d3,crossfilter)}(),angular.module("angularDc",[]).directive("dcChart",["$timeout",function(e){function t(e,t,i,o){var a=t[0],s=i.dcChart,u=i.dcChartGroup||void 0,l=dc[s],c=l(a,u),d=n(c),o=r(e,i,d);"options"in o&&(o=_.merge(o,o.options),o.options=void 0),"name"in o&&(e[o.name]=c,o.name=void 0),c.options(o);var p=_({preRender:o.onPreRender,postRender:o.onPostRender,preRedraw:o.onPreRedraw,postRedraw:o.onPostRedraw,filtered:o.onFiltered,zoomed:o.onZoomed}).omit(_.isUndefined);return p.each(function(e,t){c.on(t,e)}),_.isFunction(o.postSetupChart)&&o.postSetupChart(c,o),c}function n(e){return _(e).functions().extend(i).map(function(e){return"dc"+e.charAt(0).toUpperCase()+e.substring(1)}).value()}function r(e,t,n){return _(t.$attr).keys().intersection(n).map(function(n){var r=e.$eval(t[n]);return"dc"===n.substring(0,2)&&(n=n.charAt(2).toLowerCase()+n.substring(3)),[n,r]}).zipObject().value()}var i=["name","onFiltered","onPostRedraw","onPostRender","onPreRedraw","onPreRender","onZoomed","postSetupChart"];return{restrict:"A",link:function(n,r,i){var o=!1;n.dc=dc,n.d3=d3,n.DateTime=function(e,t,n,r,i,o){return new Date(e,t,n,r,i,o)},n.Date=function(e,t,n){return new Date(e,t,n)};var a=n.$watch(function(){var e=_(i.$attr).keys().filter(function(e){return"dc"===e.substring(0,2)&&"dcChart"!==e&&"dcChartGroup"!==e}).map(function(e){try{var t=n.$eval(i[e]);if(_.isUndefined(t))throw Error(i[e]+" is undefined");return t}catch(r){if(o)throw console.log("unable to eval"+e+":"+i[e]),r;return void 0}});return e.any(_.isUndefined)?void 0:e.value()},function(e){if(!_.isUndefined(e)){a();var o=t(n,r,i),s=angular.element(r[0].querySelector("a.reset"));s.on("click",function(){o.filterAll(),dc.redrawAll()}),s.attr("href","javascript:;"),s.css("display","none"),o.render()}});e(function(){o=!0},2e3)}}}]),angular.module("angularDc").directive("dcSelect",["$timeout",function(e){return{restrict:"E",scope:{dcDimension:"=",allLabel:"@"},template:"<select class='form-control' ng-model='selectModel' ng-options='d.key for d in selectOptions'>",link:function(e,t,n){return e.$watch("dcDimension",function(t){var n,r;null!=t&&(r=dc.baseMixin({}),r.dimension(t),r.group(t),r._doRender=function(){},r._doRedraw=function(){},e.selectModel={key:e.allLabel},n=t.group().orderNatural().all(),e.selectOptions=[e.selectModel].concat(n))}),e.$watch("selectModel",function(t){null!=e.dcDimension&&(null!==t&&t.key!==e.allLabel?e.dcDimension.filter(function(e){return e===t.key}):e.dcDimension.filter(null),dc.redrawAll())})}}}]),angular.module("isteven-multi-select",["ng"]).directive("istevenMultiSelect",["$sce","$timeout","$templateCache",function(e,t,n){return{restrict:"AE",scope:{inputModel:"=",outputModel:"=",isDisabled:"=",onClear:"&",onClose:"&",onSearchChange:"&",onItemClick:"&",onOpen:"&",onReset:"&",onSelectAll:"&",onSelectNone:"&",translation:"="},templateUrl:"isteven-multi-select.htm",link:function(n,r,i){function o(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",n="",r=0;e>r;r++)n+=t.charAt(Math.floor(Math.random()*t.length));return n}n.backUp=[],n.varButtonLabel="",n.spacingProperty="",n.indexProperty="",n.orientationH=!1,n.orientationV=!0,n.filteredModel=[],n.inputLabel={labelFilter:""},n.tabIndex=0,n.lang={},n.helperStatus={all:!0,none:!0,reset:!0,filter:!0};var a=0,s=[],u=0,l="",c=[],d=0,p=null;n.clearClicked=function(e){n.inputLabel.labelFilter="",n.updateFilter(),n.select("clear",e)},n.numberToArray=function(e){return new Array(e)},n.searchChanged=function(){return n.inputLabel.labelFilter.length<d&&n.inputLabel.labelFilter.length>0?!1:void n.updateFilter()},n.updateFilter=function(){n.filteredModel=[];var e=0;if("undefined"==typeof n.inputModel)return!1;for(e=n.inputModel.length-1;e>=0;e--){"undefined"!=typeof n.inputModel[e][i.groupProperty]&&n.inputModel[e][i.groupProperty]===!1&&n.filteredModel.push(n.inputModel[e]);var r=!1;if("undefined"==typeof n.inputModel[e][i.groupProperty]){if("undefined"!=typeof i.searchProperty&&""!==i.searchProperty){for(var o in n.inputModel[e])if("boolean"!=typeof n.inputModel[e][o]&&String(n.inputModel[e][o]).toUpperCase().indexOf(n.inputLabel.labelFilter.toUpperCase())>=0&&i.searchProperty.indexOf(o)>-1){r=!0;break}}else for(var o in n.inputModel[e])if("boolean"!=typeof n.inputModel[e][o]&&String(n.inputModel[e][o]).toUpperCase().indexOf(n.inputLabel.labelFilter.toUpperCase())>=0){r=!0;break}r===!0&&n.filteredModel.push(n.inputModel[e])}"undefined"!=typeof n.inputModel[e][i.groupProperty]&&n.inputModel[e][i.groupProperty]===!0&&("undefined"!=typeof n.filteredModel[n.filteredModel.length-1][i.groupProperty]&&n.filteredModel[n.filteredModel.length-1][i.groupProperty]===!1?n.filteredModel.pop():n.filteredModel.push(n.inputModel[e]))}n.filteredModel.reverse(),t(function(){if(n.getFormElements(),n.inputLabel.labelFilter.length>d){var e=[];angular.forEach(n.filteredModel,function(t,r){if("undefined"!=typeof t&&"undefined"==typeof t[i.groupProperty]){var o=angular.copy(t),a=e.push(o);delete e[a-1][n.indexProperty],delete e[a-1][n.spacingProperty]}}),n.onSearchChange({data:{keyword:n.inputLabel.labelFilter,result:e}})}},0)},n.getFormElements=function(){c=[];var e=[],t=[],i=[],o=[];n.helperStatus.all||n.helperStatus.none||n.helperStatus.reset?(e=r.children().children().next().children().children()[0].getElementsByTagName("button"),n.helperStatus.filter&&(t=r.children().children().next().children().children().next()[0].getElementsByTagName("input"),o=r.children().children().next().children().children().next()[0].getElementsByTagName("button"))):n.helperStatus.filter&&(t=r.children().children().next().children().children()[0].getElementsByTagName("input"),o=r.children().children().next().children().children()[0].getElementsByTagName("button")),i=n.helperStatus.all||n.helperStatus.none||n.helperStatus.reset||n.helperStatus.filter?r.children().children().next().children().next()[0].getElementsByTagName("input"):r.children().children().next()[0].getElementsByTagName("input");for(var a=0;a<e.length;a++)c.push(e[a]);for(var a=0;a<t.length;a++)c.push(t[a]);for(var a=0;a<o.length;a++)c.push(o[a]);for(var a=0;a<i.length;a++)c.push(i[a])},n.isGroupMarker=function(e,t){return"undefined"!=typeof e[i.groupProperty]&&e[i.groupProperty]===t?!0:!1},n.removeGroupEndMarker=function(e){return"undefined"!=typeof e[i.groupProperty]&&e[i.groupProperty]===!1?!1:!0},n.syncItems=function(e,r,o){if(r.preventDefault(),r.stopPropagation(),"undefined"!=typeof i.disableProperty&&e[i.disableProperty]===!0)return!1;if("undefined"!=typeof i.isDisabled&&n.isDisabled===!0)return!1;if("undefined"!=typeof e[i.groupProperty]&&e[i.groupProperty]===!1)return!1;var s=n.filteredModel.indexOf(e);if("undefined"!=typeof e[i.groupProperty]&&e[i.groupProperty]===!0){if("undefined"!=typeof i.selectionMode&&"SINGLE"===i.selectionMode.toUpperCase())return!1;var l,c,d=0,f=n.filteredModel.length-1,h=[],m=0;for(l=s;l<n.filteredModel.length&&!(0===m&&l>s);l++)if("undefined"!=typeof n.filteredModel[l][i.groupProperty]&&n.filteredModel[l][i.groupProperty]===!0)0===h.length&&(d=l+1),m+=1;else if("undefined"!=typeof n.filteredModel[l][i.groupProperty]&&n.filteredModel[l][i.groupProperty]===!1){if(m-=1,h.length>0&&0===m){var g=!0;for(f=l,c=0;c<h.length;c++)if("undefined"!=typeof h[c][n.tickProperty]&&h[c][n.tickProperty]===!1){g=!1;break}if(g===!0)for(c=d;f>=c;c++)"undefined"==typeof n.filteredModel[c][i.groupProperty]&&("undefined"==typeof i.disableProperty?(n.filteredModel[c][n.tickProperty]=!1,v=n.filteredModel[c][n.indexProperty],n.inputModel[v][n.tickProperty]=!1):n.filteredModel[c][i.disableProperty]!==!0&&(n.filteredModel[c][n.tickProperty]=!1,v=n.filteredModel[c][n.indexProperty],n.inputModel[v][n.tickProperty]=!1));else for(c=d;f>=c;c++)"undefined"==typeof n.filteredModel[c][i.groupProperty]&&("undefined"==typeof i.disableProperty?(n.filteredModel[c][n.tickProperty]=!0,v=n.filteredModel[c][n.indexProperty],n.inputModel[v][n.tickProperty]=!0):n.filteredModel[c][i.disableProperty]!==!0&&(n.filteredModel[c][n.tickProperty]=!0,v=n.filteredModel[c][n.indexProperty],n.inputModel[v][n.tickProperty]=!0))}}else h.push(n.filteredModel[l])}else{if("undefined"!=typeof i.selectionMode&&"SINGLE"===i.selectionMode.toUpperCase()){for(l=0;l<n.filteredModel.length;l++)n.filteredModel[l][n.tickProperty]=!1;for(l=0;l<n.inputModel.length;l++)n.inputModel[l][n.tickProperty]=!1;n.filteredModel[s][n.tickProperty]=!0}else n.filteredModel[s][n.tickProperty]=!n.filteredModel[s][n.tickProperty];var v=n.filteredModel[s][n.indexProperty];n.inputModel[v][n.tickProperty]=n.filteredModel[s][n.tickProperty]}p=angular.copy(e),null!==p&&t(function(){delete p[n.indexProperty],delete p[n.spacingProperty],n.onItemClick({data:p}),p=null},0),n.refreshOutputModel(),n.refreshButton(),a=n.tabIndex,n.tabIndex=o+u,r.target.focus(),n.removeFocusStyle(a),n.setFocusStyle(n.tabIndex),"undefined"!=typeof i.selectionMode&&"SINGLE"===i.selectionMode.toUpperCase()&&n.toggleCheckboxes(r)},n.refreshOutputModel=function(){n.outputModel=[];var e=[],t={};"undefined"!=typeof i.outputProperties?(e=i.outputProperties.split(" "),angular.forEach(n.inputModel,function(r,o){if("undefined"!=typeof r&&"undefined"==typeof r[i.groupProperty]&&r[n.tickProperty]===!0){t={},angular.forEach(r,function(n,r){e.indexOf(r)>-1&&(t[r]=n)});var a=n.outputModel.push(t);delete n.outputModel[a-1][n.indexProperty],delete n.outputModel[a-1][n.spacingProperty]}})):angular.forEach(n.inputModel,function(e,t){if("undefined"!=typeof e&&"undefined"==typeof e[i.groupProperty]&&e[n.tickProperty]===!0){var r=angular.copy(e),o=n.outputModel.push(r);delete n.outputModel[o-1][n.indexProperty],delete n.outputModel[o-1][n.spacingProperty]}})},n.refreshButton=function(){n.varButtonLabel="";var t=0;if(0===n.outputModel.length)n.varButtonLabel=n.lang.nothingSelected;else{var r=n.outputModel.length;"undefined"!=typeof i.maxLabels&&""!==i.maxLabels&&(r=i.maxLabels),n.outputModel.length>r?n.more=!0:n.more=!1,angular.forEach(n.inputModel,function(e,o){"undefined"!=typeof e&&e[i.tickProperty]===!0&&(r>t&&(n.varButtonLabel+=(n.varButtonLabel.length>0?'</div>, <div class="buttonLabel">':'<div class="buttonLabel">')+n.writeLabel(e,"buttonLabel")),t++)}),n.more===!0&&(r>0&&(n.varButtonLabel+=", ... "),n.varButtonLabel+="("+n.outputModel.length+")")}n.varButtonLabel=e.trustAsHtml(n.varButtonLabel+'<span class="caret"></span>')},n.itemIsDisabled=function(e){return"undefined"!=typeof i.disableProperty&&e[i.disableProperty]===!0?!0:n.isDisabled===!0?!0:!1},n.writeLabel=function(t,n){var r=i[n].split(" "),o="";return angular.forEach(r,function(e,n){t[e]&&(o+="&nbsp;"+e.split(".").reduce(function(e,t){return e[t]},t))}),"BUTTONLABEL"===n.toUpperCase()?o:e.trustAsHtml(o)},n.toggleCheckboxes=function(e){var i=r.children()[0];if(angular.element(document).off("click",n.externalClickListener),angular.element(document).off("keydown",n.keyboardListener),angular.element(l).hasClass("show"))angular.element(l).removeClass("show"),angular.element(i).removeClass("buttonClicked"),angular.element(document).off("click",n.externalClickListener),angular.element(document).off("keydown",n.keyboardListener),n.removeFocusStyle(n.tabIndex),"undefined"!=typeof c[n.tabIndex]&&c[n.tabIndex].blur(),t(function(){n.onClose()},0),r.children().children()[0].focus();else{n.inputLabel.labelFilter="",n.updateFilter(),s=[],u=0,angular.element(l).addClass("show"),angular.element(i).addClass("buttonClicked"),angular.element(document).on("click",n.externalClickListener),angular.element(document).on("keydown",n.keyboardListener),n.getFormElements(),n.tabIndex=0;var o=angular.element(r[0].querySelector(".helperContainer"))[0];if("undefined"!=typeof o){for(var a=0;a<o.getElementsByTagName("BUTTON").length;a++)s[a]=o.getElementsByTagName("BUTTON")[a];u=s.length+o.getElementsByTagName("INPUT").length}r[0].querySelector(".inputFilter")?(r[0].querySelector(".inputFilter").focus(),n.tabIndex=n.tabIndex+u-2,angular.element(r).children()[0].blur()):n.isDisabled||(n.tabIndex=n.tabIndex+u,n.inputModel.length>0&&(c[n.tabIndex].focus(),n.setFocusStyle(n.tabIndex),angular.element(r).children()[0].blur())),n.onOpen()}},n.externalClickListener=function(e){for(var i=r.find(e.target.tagName),o=0;o<i.length;o++)if(e.target==i[o])return;angular.element(l.previousSibling).removeClass("buttonClicked"),angular.element(l).removeClass("show"),angular.element(document).off("click",n.externalClickListener),angular.element(document).off("keydown",n.keyboardListener),t(function(){n.onClose()},0),r.children().children()[0].focus()},n.select=function(e,t){var r=s.indexOf(t.target);switch(n.tabIndex=r,e.toUpperCase()){case"ALL":angular.forEach(n.filteredModel,function(e,t){"undefined"!=typeof e&&e[i.disableProperty]!==!0&&"undefined"==typeof e[i.groupProperty]&&(e[n.tickProperty]=!0)}),n.refreshOutputModel(),n.refreshButton(),n.onSelectAll();break;case"NONE":angular.forEach(n.filteredModel,function(e,t){"undefined"!=typeof e&&e[i.disableProperty]!==!0&&"undefined"==typeof e[i.groupProperty]&&(e[n.tickProperty]=!1)}),n.refreshOutputModel(),n.refreshButton(),n.onSelectNone();break;case"RESET":angular.forEach(n.filteredModel,function(e,t){if("undefined"==typeof e[i.groupProperty]&&"undefined"!=typeof e&&e[i.disableProperty]!==!0){var r=e[n.indexProperty];e[n.tickProperty]=n.backUp[r][n.tickProperty]}}),n.refreshOutputModel(),n.refreshButton(),n.onReset();break;case"CLEAR":n.tabIndex=n.tabIndex+1,n.onClear();break;case"FILTER":n.tabIndex=s.length-1}},n.prepareGrouping=function(){var e=0;angular.forEach(n.filteredModel,function(t,r){t[n.spacingProperty]=e,t[i.groupProperty]===!0?e+=2:t[i.groupProperty]===!1&&(e-=2)})},n.prepareIndex=function(){var e=0;angular.forEach(n.filteredModel,function(t,r){t[n.indexProperty]=e,e++})},n.keyboardListener=function(e){var t=e.keyCode?e.keyCode:e.which,r=!1;if(27===t)e.preventDefault(),e.stopPropagation(),n.toggleCheckboxes(e);else if(40===t||39===t||!e.shiftKey&&9==t)for(r=!0,a=n.tabIndex,n.tabIndex++,n.tabIndex>c.length-1&&(n.tabIndex=0,a=c.length-1);c[n.tabIndex].disabled===!0&&(n.tabIndex++,n.tabIndex>c.length-1&&(n.tabIndex=0),n.tabIndex!==a););else if(38===t||37===t||e.shiftKey&&9==t)for(r=!0,a=n.tabIndex,n.tabIndex--,n.tabIndex<0&&(n.tabIndex=c.length-1,a=0);c[n.tabIndex].disabled===!0&&(n.tabIndex--,n.tabIndex!==a);)n.tabIndex<0&&(n.tabIndex=c.length-1);if(r===!0){e.preventDefault(),c[n.tabIndex].focus();var i=document.activeElement;"CHECKBOX"===i.type.toUpperCase()?(n.setFocusStyle(n.tabIndex),n.removeFocusStyle(a)):(n.removeFocusStyle(a),n.removeFocusStyle(u),n.removeFocusStyle(c.length-1))}r=!1},n.setFocusStyle=function(e){angular.element(c[e]).parent().parent().parent().addClass("multiSelectFocus")},n.removeFocusStyle=function(e){angular.element(c[e]).parent().parent().parent().removeClass("multiSelectFocus")},n.groupProperty=i.groupProperty,n.tickProperty=i.tickProperty,n.directiveId=i.directiveId;var f=o(5);if(n.indexProperty="idx_"+f,n.spacingProperty="spc_"+f,"undefined"!=typeof i.orientation&&("HORIZONTAL"===i.orientation.toUpperCase()?(n.orientationH=!0,n.orientationV=!1):(n.orientationH=!1,n.orientationV=!0)),l=r.children().children().next()[0],"undefined"!=typeof i.maxHeight){var h=r.children().children().children()[0];angular.element(h).attr("style","height:"+i.maxHeight+"; overflow-y:scroll;")}for(var m in n.helperStatus)n.helperStatus.hasOwnProperty(m)&&"undefined"!=typeof i.helperElements&&-1===i.helperElements.toUpperCase().indexOf(m.toUpperCase())&&(n.helperStatus[m]=!1);"undefined"!=typeof i.selectionMode&&"SINGLE"===i.selectionMode.toUpperCase()&&(n.helperStatus.all=!1,n.helperStatus.none=!1),n.icon={},n.icon.selectAll="&#10003;",n.icon.selectNone="&times;",n.icon.reset="&#8630;",n.icon.tickMark="&#10003;","undefined"!=typeof i.translation?(n.lang.selectAll=e.trustAsHtml(n.icon.selectAll+"&nbsp;&nbsp;"+n.translation.selectAll),n.lang.selectNone=e.trustAsHtml(n.icon.selectNone+"&nbsp;&nbsp;"+n.translation.selectNone),n.lang.reset=e.trustAsHtml(n.icon.reset+"&nbsp;&nbsp;"+n.translation.reset),n.lang.search=n.translation.search,n.lang.nothingSelected=e.trustAsHtml(n.translation.nothingSelected)):(n.lang.selectAll=e.trustAsHtml(n.icon.selectAll+"&nbsp;&nbsp;Select All"),n.lang.selectNone=e.trustAsHtml(n.icon.selectNone+"&nbsp;&nbsp;Select None"),n.lang.reset=e.trustAsHtml(n.icon.reset+"&nbsp;&nbsp;Reset"),n.lang.search="Search...",n.lang.nothingSelected="None Selected"),n.icon.tickMark=e.trustAsHtml(n.icon.tickMark),"undefined"!=typeof i.MinSearchLength&&parseInt(i.MinSearchLength)>0&&(d=Math.floor(parseInt(i.MinSearchLength))),n.$watch("inputModel",function(e){e&&(n.refreshOutputModel(),n.refreshButton())},!0),n.$watch("inputModel",function(e){e&&(n.backUp=angular.copy(n.inputModel),n.updateFilter(),n.prepareGrouping(),n.prepareIndex(),n.refreshOutputModel(),n.refreshButton())}),n.$watch("isDisabled",function(e){n.isDisabled=e});var g=function(e){n.$apply(function(){n.scrolled=!1})};angular.element(document).bind("touchstart",g);var v=function(e){n.$apply(function(){n.scrolled=!0})};angular.element(document).bind("touchmove",v),n.$on("$destroy",function(){angular.element(document).unbind("touchstart",g),angular.element(document).unbind("touchmove",v)})}}}]).run(["$templateCache",function(e){var t='<span class="multiSelect inlineBlock"><button id="{{directiveId}}" type="button"ng-click="toggleCheckboxes( $event ); refreshSelectedItems(); refreshButton(); prepareGrouping; prepareIndex();"ng-bind-html="varButtonLabel"ng-disabled="disable-button"></button><div class="checkboxLayer"><div class="helperContainer" ng-if="helperStatus.filter || helperStatus.all || helperStatus.none || helperStatus.reset "><div class="line" ng-if="helperStatus.all || helperStatus.none || helperStatus.reset "><button type="button" class="helperButton"ng-disabled="isDisabled"ng-if="helperStatus.all"ng-click="select( \'all\', $event );"ng-bind-html="lang.selectAll"></button><button type="button" class="helperButton"ng-disabled="isDisabled"ng-if="helperStatus.none"ng-click="select( \'none\', $event );"ng-bind-html="lang.selectNone"></button><button type="button" class="helperButton reset"ng-disabled="isDisabled"ng-if="helperStatus.reset"ng-click="select( \'reset\', $event );"ng-bind-html="lang.reset"></button></div><div class="line" style="position:relative" ng-if="helperStatus.filter"><input placeholder="{{lang.search}}" type="text"ng-click="select( \'filter\', $event )" ng-model="inputLabel.labelFilter" ng-change="searchChanged()" class="inputFilter"/><button type="button" class="clearButton" ng-click="clearClicked( $event )" >×</button> </div> </div> <div class="checkBoxContainer"><div ng-repeat="item in filteredModel | filter:removeGroupEndMarker" class="multiSelectItem"ng-class="{selected: item[ tickProperty ], horizontal: orientationH, vertical: orientationV, multiSelectGroup:item[ groupProperty ], disabled:itemIsDisabled( item )}"ng-click="syncItems( item, $event, $index );" ng-mouseleave="removeFocusStyle( tabIndex );"> <div class="acol" ng-if="item[ spacingProperty ] > 0" ng-repeat="i in numberToArray( item[ spacingProperty ] ) track by $index"></div>  <div class="acol"><label><input class="checkbox focusable" type="checkbox" ng-disabled="itemIsDisabled( item )" ng-checked="item[ tickProperty ]" ng-click="syncItems( item, $event, $index )" /><span ng-class="{disabled:itemIsDisabled( item )}" ng-bind-html="writeLabel( item, \'itemLabel\' )"></span></label></div><span class="tickMark" ng-if="item[ groupProperty ] !== true && item[ tickProperty ] === true" ng-bind-html="icon.tickMark"></span></div></div></div></span>';e.put("isteven-multi-select.htm",t)}]),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.reductio=e()}}(function(){return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return i(n?n:e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){function r(){function e(e){if(n={reduceAdd:function(e){return e},reduceRemove:function(e){return e},reduceInitial:function(){return{}}},i.build(t,n),t.groupAll)if(e.top)console.warn("'groupAll' is defined but attempting to run on a standard dimension.group(). Must run on dimension.groupAll().");else{var r,o,a=crossfilter.bisect.by(function(e){return e.key}).left;e.reduce(function(e,i){return o=t.groupAll(i),o.forEach(function(t){r=a(e,t,0,e.length),e[r]&&e[r].key===t||e.splice(r,0,{key:t,value:n.reduceInitial()}),n.reduceAdd(e[r].value,i)}),e},function(e,i){return o=t.groupAll(i),o.forEach(function(t){r=a(e,t,0,e.length),n.reduceRemove(e[r].value,i)}),e},function(){return[]}),e.all||(e.all=function(){return this.value()})}else e.reduce(n.reduceAdd,n.reduceRemove,n.reduceInitial);return e}var t=a(),n={};return o.build(e,t),e}var i=e("./build.js"),o=e("./accessors.js"),a=e("./parameters.js");t.exports=r},{"./accessors.js":2,"./build.js":6,"./parameters.js":16}],2:[function(e,t,n){function r(e,t){e.order=function(n){return arguments.length?(t.order=n,e):t.order},e.count=function(n){return arguments.length?(t.count=n,e):t.count},e.sum=function(n){return arguments.length?(t.sum=n,e):t.sum},e.avg=function(n){return arguments.length?("function"==typeof n?(t.sum&&console.warn("SUM aggregation is being overwritten by AVG aggregation"),t.sum=n,t.avg=!0,t.count=!0):t.avg=n,e):t.avg},e.exception=function(n){return arguments.length?(t.exceptionAccessor=n,e):t.exceptionAccessor},e.filter=function(n){return arguments.length?(t.filter=n,e):t.filter},e.valueList=function(n){return arguments.length?(t.valueList=n,e):t.valueList},e.median=function(n){return arguments.length?("function"==typeof n&&(t.valueList&&console.warn("VALUELIST accessor is being overwritten by median aggregation"),t.valueList=n),t.median=n,e):t.median},e.min=function(n){return arguments.length?("function"==typeof n&&(t.valueList&&console.warn("VALUELIST accessor is being overwritten by median aggregation"),t.valueList=n),t.min=n,e):t.min},e.max=function(n){return arguments.length?("function"==typeof n&&(t.valueList&&console.warn("VALUELIST accessor is being overwritten by median aggregation"),t.valueList=n),t.max=n,e):t.max},e.exceptionCount=function(n){return arguments.length?("function"==typeof n?(t.sum&&console.warn("EXCEPTION accessor is being overwritten by exception count aggregation"),t.exceptionAccessor=n,t.exceptionCount=!0):t.exceptionCount=n,e):t.exceptionCount},e.exceptionSum=function(n){return arguments.length?(t.exceptionSum=n,e):t.exceptionSum},e.histogramValue=function(n){return arguments.length?(t.histogramValue=n,e):t.histogramValue},e.histogramBins=function(n){return arguments.length?(t.histogramThresholds=n,e):t.histogramThresholds},e.std=function(n){return arguments.length?("function"==typeof n?(t.sumOfSquares=n,t.sum=n,t.count=!0,t.std=!0):t.std=n,e):t.std},e.sumOfSq=function(n){return arguments.length?(t.sumOfSquares=n,e):t.sumOfSquares},e.value=function(e,n){return arguments.length&&"string"==typeof e?(t.values||(t.values={}),t.values[e]={},t.values[e].parameters=i(),r(t.values[e],t.values[e].parameters),n&&(t.values[e].accessor=n),t.values[e]):void console.error("'value' requires a string argument.")},e.nest=function(n){return arguments.length?(t.nestKeys=n,e):t.nestKeys},e.alias=function(n){return arguments.length?(t.aliasKeys=n,e):t.aliasKeys},e.aliasProp=function(n){return arguments.length?(t.aliasPropKeys=n,e):t.aliasPropKeys},e.groupAll=function(n){return arguments.length?(t.groupAll=n,e):t.groupAll}}var i=e("./parameters.js"),o={build:r};t.exports=o},{"./parameters.js":16}],3:[function(e,t,n){var r={initial:function(e,t,n){return function(r){e&&(r=e(r));for(var i in n)t(r)[i]=function(){return n[i](t(r))};return r}}};t.exports=r},{}],4:[function(e,t,n){var r={add:function(e,t,n){return function(r,i){t&&t(r,i);for(var o in e)n(r)[o]=e[o](n(r),i);return r}}};t.exports=r},{}],5:[function(e,t,n){var r={add:function(e,t,n){return function(e,r){return t&&t(e,r),n(e).count>0?n(e).avg=n(e).sum/n(e).count:n(e).avg=0,e}},remove:function(e,t,n){return function(e,r){return t&&t(e,r),n(e).count>0?n(e).avg=n(e).sum/n(e).count:n(e).avg=0,e}},initial:function(e,t){return function(n){return n=e(n),t(n).avg=0,n}}};t.exports=r},{}],6:[function(e,t,n){function r(e,t,n){n||(n=function(e){return e});var _={reduceAdd:t.reduceAdd,reduceRemove:t.reduceRemove,reduceInitial:t.reduceInitial};(e.count||e.std)&&(t.reduceAdd=o.add(t.reduceAdd,n),t.reduceRemove=o.remove(t.reduceRemove,n),t.reduceInitial=o.initial(t.reduceInitial,n)),e.sum&&(t.reduceAdd=a.add(e.sum,t.reduceAdd,n),t.reduceRemove=a.remove(e.sum,t.reduceRemove,n),t.reduceInitial=a.initial(t.reduceInitial,n)),e.avg&&(e.count&&e.sum?(t.reduceAdd=s.add(e.sum,t.reduceAdd,n),t.reduceRemove=s.remove(e.sum,t.reduceRemove,n),t.reduceInitial=s.initial(t.reduceInitial,n)):console.error("You must set .count(true) and define a .sum(accessor) to use .avg(true).")),e.exceptionCount&&(e.exceptionAccessor?(t.reduceAdd=f.add(e.exceptionAccessor,t.reduceAdd,n),t.reduceRemove=f.remove(e.exceptionAccessor,t.reduceRemove,n),t.reduceInitial=f.initial(t.reduceInitial,n)):console.error("You must define an .exception(accessor) to use .exceptionCount(true).")),e.exceptionSum&&(e.exceptionAccessor?(t.reduceAdd=h.add(e.exceptionAccessor,e.exceptionSum,t.reduceAdd,n),t.reduceRemove=h.remove(e.exceptionAccessor,e.exceptionSum,t.reduceRemove,n),t.reduceInitial=h.initial(t.reduceInitial,n)):console.error("You must define an .exception(accessor) to use .exceptionSum(accessor).")),(e.valueList||e.median||e.min||e.max)&&(t.reduceAdd=p.add(e.valueList,t.reduceAdd,n),t.reduceRemove=p.remove(e.valueList,t.reduceRemove,n),t.reduceInitial=p.initial(t.reduceInitial,n)),e.median&&(t.reduceAdd=u.add(t.reduceAdd,n),t.reduceRemove=u.remove(t.reduceRemove,n),t.reduceInitial=u.initial(t.reduceInitial,n)),e.min&&(t.reduceAdd=l.add(t.reduceAdd,n),t.reduceRemove=l.remove(t.reduceRemove,n),t.reduceInitial=l.initial(t.reduceInitial,n)),e.max&&(t.reduceAdd=c.add(t.reduceAdd,n),t.reduceRemove=c.remove(t.reduceRemove,n),t.reduceInitial=c.initial(t.reduceInitial,n)),e.exceptionAccessor&&(t.reduceAdd=d.add(e.exceptionAccessor,t.reduceAdd,n),t.reduceRemove=d.remove(e.exceptionAccessor,t.reduceRemove,n),t.reduceInitial=d.initial(t.reduceInitial,n)),e.histogramValue&&e.histogramThresholds&&(t.reduceAdd=m.add(e.histogramValue,t.reduceAdd,n),t.reduceRemove=m.remove(e.histogramValue,t.reduceRemove,n),t.reduceInitial=m.initial(e.histogramThresholds,t.reduceInitial,n)),e.sumOfSquares&&(t.reduceAdd=g.add(e.sumOfSquares,t.reduceAdd,n),t.reduceRemove=g.remove(e.sumOfSquares,t.reduceRemove,n),t.reduceInitial=g.initial(t.reduceInitial,n)),e.std&&(e.sumOfSquares&&e.sum?(t.reduceAdd=v.add(t.reduceAdd,n),t.reduceRemove=v.remove(t.reduceRemove,n),t.reduceInitial=v.initial(t.reduceInitial,n)):console.error("You must set .sumOfSq(accessor) and define a .sum(accessor) to use .std(true). Or use .std(accessor).")),e.nestKeys&&(t.reduceAdd=b.add(e.nestKeys,t.reduceAdd,n),t.reduceRemove=b.remove(e.nestKeys,t.reduceRemove,n),t.reduceInitial=b.initial(t.reduceInitial,n)),e.aliasKeys&&(t.reduceInitial=y.initial(t.reduceInitial,n,e.aliasKeys)),e.aliasPropKeys&&(t.reduceAdd=w.add(e.aliasPropKeys,t.reduceAdd,n),t.reduceRemove=w.add(e.aliasPropKeys,t.reduceRemove,n)),e.filter&&(t.reduceAdd=i.add(e.filter,t.reduceAdd,_.reduceAdd,n),t.reduceRemove=i.remove(e.filter,t.reduceRemove,_.reduceRemove,n)),e.values&&Object.getOwnPropertyNames(e.values).forEach(function(i){var o=function(e){return function(t){return t=e(t),n(t)[i]={},t}};t.reduceInitial=o(t.reduceInitial),r(e.values[i].parameters,t,function(e){return e[i]})})}var i=e("./filter.js"),o=e("./count.js"),a=e("./sum.js"),s=e("./avg.js"),u=e("./median.js"),l=e("./min.js"),c=e("./max.js"),d=e("./value-count.js"),p=e("./value-list.js"),f=e("./exception-count.js"),h=e("./exception-sum.js"),m=e("./histogram.js"),g=e("./sum-of-squares.js"),v=e("./std.js"),b=e("./nest.js"),y=e("./alias.js"),w=e("./aliasProp.js"),_={build:r};t.exports=_},{"./alias.js":3,"./aliasProp.js":4,"./avg.js":5,"./count.js":7,"./exception-count.js":8,"./exception-sum.js":9,"./filter.js":10,"./histogram.js":11,"./max.js":12,"./median.js":13,"./min.js":14,"./nest.js":15,"./std.js":17,"./sum-of-squares.js":18,"./sum.js":19,"./value-count.js":20,"./value-list.js":21}],7:[function(e,t,n){var r={add:function(e,t){return function(n,r){return e&&e(n,r),t(n).count++,n}},remove:function(e,t){return function(n,r){return e&&e(n,r),t(n).count--,n}},initial:function(e,t){return function(n){return e&&(n=e(n)),t(n).count=0,n}}};t.exports=r},{}],8:[function(e,t,n){var r={add:function(e,t,n){var r,i;return function(o,a){return t&&t(o,a),r=n(o).bisect(n(o).values,e(a),0,n(o).values.length),
i=n(o).values[r],i&&i[0]===e(a)&&0!==i[1]||n(o).exceptionCount++,o}},remove:function(e,t,n){var r,i;return function(o,a){return t&&t(o,a),r=n(o).bisect(n(o).values,e(a),0,n(o).values.length),i=n(o).values[r],i&&i[0]===e(a)&&1===i[1]&&n(o).exceptionCount--,o}},initial:function(e,t){return function(n){return n=e(n),t(n).exceptionCount=0,n}}};t.exports=r},{}],9:[function(e,t,n){var r={add:function(e,t,n,r){var i,o;return function(a,s){return n&&n(a,s),i=r(a).bisect(r(a).values,e(s),0,r(a).values.length),o=r(a).values[i],o&&o[0]===e(s)&&0!==o[1]||(r(a).exceptionSum=r(a).exceptionSum+t(s)),a}},remove:function(e,t,n,r){var i,o;return function(a,s){return n&&n(a,s),i=r(a).bisect(r(a).values,e(s),0,r(a).values.length),o=r(a).values[i],o&&o[0]===e(s)&&1===o[1]&&(r(a).exceptionSum=r(a).exceptionSum-t(s)),a}},initial:function(e,t){return function(n){return n=e(n),t(n).exceptionSum=0,n}}};t.exports=r},{}],10:[function(e,t,n){var r={add:function(e,t,n){return function(r,i){return e(i)?t&&t(r,i):n&&n(r,i),r}},remove:function(e,t,n){return function(r,i){return e(i)?t&&t(r,i):n&&n(r,i),r}}};t.exports=r},{}],11:[function(e,t,n){(function(e){var n="undefined"!=typeof window?window.crossfilter:"undefined"!=typeof e?e.crossfilter:null,r={add:function(e,t,r){var i,o=n.bisect.by(function(e){return e}).left,a=n.bisect.by(function(e){return e.x}).right;return function(n,s){return t&&t(n,s),i=r(n).histogram[a(r(n).histogram,e(s),0,r(n).histogram.length)-1],i.y++,i.splice(o(i,e(s),0,i.length),0,e(s)),n}},remove:function(e,t,r){var i,o=n.bisect.by(function(e){return e}).left,a=n.bisect.by(function(e){return e.x}).right;return function(n,s){return t&&t(n,s),i=r(n).histogram[a(r(n).histogram,e(s),0,r(n).histogram.length)-1],i.y--,i.splice(o(i,e(s),0,i.length),1),n}},initial:function(e,t,n){return function(r){r=t(r),n(r).histogram=[];for(var i=[],o=1;o<e.length;o++)i=[],i.x=e[o-1],i.dx=e[o]-e[o-1],i.y=0,n(r).histogram.push(i);return r}}};t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],12:[function(e,t,n){var r={add:function(e,t){return function(n,r){return e&&e(n,r),t(n).max=t(n).valueList[t(n).valueList.length-1],n}},remove:function(e,t){return function(n,r){return e&&e(n,r),0===t(n).valueList.length?(t(n).max=void 0,n):(t(n).max=t(n).valueList[t(n).valueList.length-1],n)}},initial:function(e,t){return function(n){return n=e(n),t(n).max=void 0,n}}};t.exports=r},{}],13:[function(e,t,n){var r={add:function(e,t){var n;return function(r,i){return e&&e(r,i),n=Math.floor(t(r).valueList.length/2),t(r).valueList.length%2?t(r).median=t(r).valueList[n]:t(r).median=(t(r).valueList[n-1]+t(r).valueList[n])/2,r}},remove:function(e,t){var n;return function(r,i){return e&&e(r,i),n=Math.floor(t(r).valueList.length/2),0===t(r).valueList.length?(t(r).median=void 0,r):(1===t(r).valueList.length||t(r).valueList.length%2?t(r).median=t(r).valueList[n]:t(r).median=(t(r).valueList[n-1]+t(r).valueList[n])/2,r)}},initial:function(e,t){return function(n){return n=e(n),t(n).median=void 0,n}}};t.exports=r},{}],14:[function(e,t,n){var r={add:function(e,t){return function(n,r){return e&&e(n,r),t(n).min=t(n).valueList[0],n}},remove:function(e,t){return function(n,r){return e&&e(n,r),0===t(n).valueList.length?(t(n).min=void 0,n):(t(n).min=t(n).valueList[0],n)}},initial:function(e,t){return function(n){return n=e(n),t(n).min=void 0,n}}};t.exports=r},{}],15:[function(e,t,n){(function(e){var n=("undefined"!=typeof window?window.crossfilter:"undefined"!=typeof e?e.crossfilter:null,{add:function(e,t,n){var r,i;return function(o,a){return t&&t(o,a),r=n(o).nest,e.forEach(function(e){i=r.filter(function(t){return t.key===e(a)})[0],i?r=i.values:(i=[],r.push({key:e(a),values:i}),r=i)}),r.push(a),o}},remove:function(e,t,n){var r;return function(i,o){return t&&t(i,o),r=n(i).nest,e.forEach(function(e){r=r.filter(function(t){return t.key===e(o)})[0].values}),r.splice(r.indexOf(o),1),i}},initial:function(e,t){return function(n){return n=e(n),t(n).nest=[],n}}});t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],16:[function(e,t,n){var r=function(){return{order:!1,avg:!1,count:!1,sum:!1,exceptionAccessor:!1,exceptionCount:!1,exceptionSum:!1,filter:!1,valueList:!1,median:!1,histogramValue:!1,min:!1,max:!1,histogramThresholds:!1,std:!1,sumOfSquares:!1,values:!1,nestKeys:!1,aliasKeys:!1,aliasPropKeys:!1,groupAll:!1}};t.exports=r},{}],17:[function(e,t,n){var r={add:function(e,t){return function(n,r){if(e&&e(n,r),t(n).count>0){t(n).std=0;var i=t(n).sumOfSq-t(n).sum*t(n).sum/t(n).count;i>0&&(t(n).std=Math.sqrt(i/(t(n).count-1)))}else t(n).std=0;return n}},remove:function(e,t){return function(n,r){if(e&&e(n,r),t(n).count>0){t(n).std=0;var i=t(n).sumOfSq-t(n).sum*t(n).sum/t(n).count;i>0&&(t(n).std=Math.sqrt(i/(t(n).count-1)))}else t(n).std=0;return n}},initial:function(e,t){return function(n){return n=e(n),t(n).std=0,n}}};t.exports=r},{}],18:[function(e,t,n){var r={add:function(e,t,n){return function(r,i){return t&&t(r,i),n(r).sumOfSq=n(r).sumOfSq+e(i)*e(i),r}},remove:function(e,t,n){return function(r,i){return t&&t(r,i),n(r).sumOfSq=n(r).sumOfSq-e(i)*e(i),r}},initial:function(e,t){return function(n){return n=e(n),t(n).sumOfSq=0,n}}};t.exports=r},{}],19:[function(e,t,n){var r={add:function(e,t,n){return function(r,i){return t&&t(r,i),n(r).sum=n(r).sum+e(i),r}},remove:function(e,t,n){return function(r,i){return t&&t(r,i),n(r).sum=n(r).sum-e(i),r}},initial:function(e,t){return function(n){return n=e(n),t(n).sum=0,n}}};t.exports=r},{}],20:[function(e,t,n){(function(e){var n="undefined"!=typeof window?window.crossfilter:"undefined"!=typeof e?e.crossfilter:null,r={add:function(e,t,n){var r,i;return function(o,a){return t&&t(o,a),r=n(o).bisect(n(o).values,e(a),0,n(o).values.length),i=n(o).values[r],i&&i[0]===e(a)?i[1]++:n(o).values.splice(r,0,[e(a),1]),o}},remove:function(e,t,n){var r;return function(i,o){return t&&t(i,o),r=n(i).bisect(n(i).values,e(o),0,n(i).values.length),n(i).values[r][1]--,i}},initial:function(e,t){return function(r){return r=e(r),t(r).values=[],t(r).bisect=n.bisect.by(function(e){return e[0]}).left,r}}};t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],21:[function(e,t,n){(function(e){var n="undefined"!=typeof window?window.crossfilter:"undefined"!=typeof e?e.crossfilter:null,r={add:function(e,t,r){var i,o=n.bisect.by(function(e){return e}).left;return function(n,a){return t&&t(n,a),i=o(r(n).valueList,e(a),0,r(n).valueList.length),r(n).valueList.splice(i,0,e(a)),n}},remove:function(e,t,r){var i,o=n.bisect.by(function(e){return e}).left;return function(n,a){return t&&t(n,a),i=o(r(n).valueList,e(a),0,r(n).valueList.length),r(n).valueList.splice(i,1),n}},initial:function(e,t){return function(n){return n=e(n),t(n).valueList=[],n}}};t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)}),!function(){"use strict";angular.module("ui.grid.i18n",[]),angular.module("ui.grid",["ui.grid.i18n"])}(),function(){"use strict";angular.module("ui.grid").constant("uiGridConstants",{LOG_DEBUG_MESSAGES:!0,LOG_WARN_MESSAGES:!0,LOG_ERROR_MESSAGES:!0,CUSTOM_FILTERS:/CUSTOM_FILTERS/g,COL_FIELD:/COL_FIELD/g,MODEL_COL_FIELD:/MODEL_COL_FIELD/g,TOOLTIP:/title=\"TOOLTIP\"/g,DISPLAY_CELL_TEMPLATE:/DISPLAY_CELL_TEMPLATE/g,TEMPLATE_REGEXP:/<.+>/,FUNC_REGEXP:/(\([^)]*\))?$/,DOT_REGEXP:/\./g,APOS_REGEXP:/'/g,BRACKET_REGEXP:/^(.*)((?:\s*\[\s*\d+\s*\]\s*)|(?:\s*\[\s*"(?:[^"\\]|\\.)*"\s*\]\s*)|(?:\s*\[\s*'(?:[^'\\]|\\.)*'\s*\]\s*))(.*)$/,COL_CLASS_PREFIX:"ui-grid-col",events:{GRID_SCROLL:"uiGridScroll",COLUMN_MENU_SHOWN:"uiGridColMenuShown",ITEM_DRAGGING:"uiGridItemDragStart",COLUMN_HEADER_CLICK:"uiGridColumnHeaderClick"},keymap:{TAB:9,STRG:17,CAPSLOCK:20,CTRL:17,CTRLRIGHT:18,CTRLR:18,SHIFT:16,RETURN:13,ENTER:13,BACKSPACE:8,BCKSP:8,ALT:18,ALTR:17,ALTRIGHT:17,SPACE:32,WIN:91,MAC:91,FN:null,PG_UP:33,PG_DOWN:34,UP:38,DOWN:40,LEFT:37,RIGHT:39,ESC:27,DEL:46,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123},ASC:"asc",DESC:"desc",filter:{STARTS_WITH:2,ENDS_WITH:4,EXACT:8,CONTAINS:16,GREATER_THAN:32,GREATER_THAN_OR_EQUAL:64,LESS_THAN:128,LESS_THAN_OR_EQUAL:256,NOT_EQUAL:512,SELECT:"select",INPUT:"input"},aggregationTypes:{sum:2,count:4,avg:8,min:16,max:32},CURRENCY_SYMBOLS:["ƒ","$","£","$","¤","¥","៛","₩","₱","฿","₫"],scrollDirection:{UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",NONE:"none"},dataChange:{ALL:"all",EDIT:"edit",ROW:"row",COLUMN:"column",OPTIONS:"options"},scrollbars:{NEVER:0,ALWAYS:1}})}(),angular.module("ui.grid").directive("uiGridCell",["$compile","$parse","gridUtil","uiGridConstants",function(e,t,n,r){var i={priority:0,scope:!1,require:"?^uiGrid",compile:function(){return{pre:function(t,i,o,a){function s(){var e=t.col.compiledElementFn;e(t,function(e,t){i.append(e)})}if(a&&t.col.compiledElementFn)s();else if(a&&!t.col.compiledElementFn)t.col.getCompiledElementFn().then(function(e){e(t,function(e,t){i.append(e)})});else{var u=t.col.cellTemplate.replace(r.MODEL_COL_FIELD,"row.entity."+n.preEval(t.col.field)).replace(r.COL_FIELD,"grid.getCellValue(row, col)"),l=e(u)(t);i.append(l)}},post:function(e,t,n,i){var o=e.col.getColClass(!1);t.addClass(o);var a,s=function(n){var r=t;a&&(r.removeClass(a),a=null),a=angular.isFunction(e.col.cellClass)?e.col.cellClass(e.grid,e.row,e.col,e.rowRenderIndex,e.colRenderIndex):e.col.cellClass,r.addClass(a)};e.col.cellClass&&s();var u=e.grid.registerDataChangeCallback(s,[r.dataChange.COLUMN,r.dataChange.EDIT]),l=function(n,r){if(n!==r){(a||e.col.cellClass)&&s();var i=e.col.getColClass(!1);i!==o&&(t.removeClass(o),t.addClass(i),o=i)}},c=e.$watch("row",l),d=function(){u(),c()};e.$on("$destroy",d),t.on("$destroy",d)}}}};return i}]),function(){angular.module("ui.grid").service("uiGridColumnMenuService",["i18nService","uiGridConstants","gridUtil",function(e,t,n){var r={initialize:function(e,t){e.grid=t.grid,t.columnMenuScope=e,e.menuShown=!1},setColMenuItemWatch:function(e){var t=e.$watch("col.menuItems",function(t,n){"undefined"!=typeof t&&t&&angular.isArray(t)?(t.forEach(function(t){"undefined"!=typeof t.context&&t.context||(t.context={}),t.context.col=e.col}),e.menuItems=e.defaultMenuItems.concat(t)):e.menuItems=e.defaultMenuItems});e.$on("$destroy",t)},sortable:function(e){return e.grid.options.enableSorting&&"undefined"!=typeof e.col&&e.col&&e.col.enableSorting?!0:!1},isActiveSort:function(e,t){return"undefined"!=typeof e.col&&"undefined"!=typeof e.col.sort&&"undefined"!=typeof e.col.sort.direction&&e.col.sort.direction===t},suppressRemoveSort:function(e){return e.col&&e.col.suppressRemoveSort?!0:!1},hideable:function(e){return"undefined"!=typeof e.col&&e.col&&e.col.colDef&&e.col.colDef.enableHiding===!1?!1:!0},getDefaultMenuItems:function(n){return[{title:e.getSafeText("sort.ascending"),icon:"ui-grid-icon-sort-alt-up",action:function(e){e.stopPropagation(),n.sortColumn(e,t.ASC)},shown:function(){return r.sortable(n)},active:function(){return r.isActiveSort(n,t.ASC)}},{title:e.getSafeText("sort.descending"),icon:"ui-grid-icon-sort-alt-down",action:function(e){e.stopPropagation(),n.sortColumn(e,t.DESC)},shown:function(){return r.sortable(n)},active:function(){return r.isActiveSort(n,t.DESC)}},{title:e.getSafeText("sort.remove"),icon:"ui-grid-icon-cancel",action:function(e){e.stopPropagation(),n.unsortColumn()},shown:function(){return r.sortable(n)&&"undefined"!=typeof n.col&&"undefined"!=typeof n.col.sort&&"undefined"!=typeof n.col.sort.direction&&null!==n.col.sort.direction&&!r.suppressRemoveSort(n)}},{title:e.getSafeText("column.hide"),icon:"ui-grid-icon-cancel",shown:function(){return r.hideable(n)},action:function(e){e.stopPropagation(),n.hideColumn()}},{title:e.getSafeText("columnMenu.close"),screenReaderOnly:!0,shown:function(){return!0},action:function(e){e.stopPropagation()}}]},getColumnElementPosition:function(e,t,r){var i={};return i.left=r[0].offsetLeft,i.top=r[0].offsetTop,i.parentLeft=r[0].offsetParent.offsetLeft,i.offset=0,t.grid.options.offsetLeft&&(i.offset=t.grid.options.offsetLeft),i.height=n.elementHeight(r,!0),i.width=n.elementWidth(r,!0),i},repositionMenu:function(e,t,r,i,o){var a=i[0].querySelectorAll(".ui-grid-menu"),s=t.renderContainer?t.renderContainer:"body",u=(t.grid.renderContainers[s],n.closestElm(o,".ui-grid-render-container")),l=u.getBoundingClientRect().left-e.grid.element[0].getBoundingClientRect().left,c=u.querySelectorAll(".ui-grid-viewport")[0].scrollLeft,d=t.lastMenuWidth?t.lastMenuWidth:e.lastMenuWidth?e.lastMenuWidth:170,p=t.lastMenuPaddingRight?t.lastMenuPaddingRight:e.lastMenuPaddingRight?e.lastMenuPaddingRight:10;if(0!==a.length){var f=a[0].querySelectorAll(".ui-grid-menu-mid");0===f.length||angular.element(f).hasClass("ng-hide")||(d=n.elementWidth(a,!0),e.lastMenuWidth=d,t.lastMenuWidth=d,p=parseInt(n.getStyles(angular.element(a)[0]).paddingRight,10),e.lastMenuPaddingRight=p,t.lastMenuPaddingRight=p)}var h=r.left+l-c+r.parentLeft+r.width-d+p;h<r.offset&&(h=r.offset),i.css("left",h+"px"),i.css("top",r.top+r.height+"px")}};return r}]).directive("uiGridColumnMenu",["$timeout","gridUtil","uiGridConstants","uiGridColumnMenuService","$document",function(e,t,n,r,i){var o={priority:0,scope:!0,require:"^uiGrid",templateUrl:"ui-grid/uiGridColumnMenu",replace:!0,link:function(o,a,s,u){var l=this;r.initialize(o,u),o.defaultMenuItems=r.getDefaultMenuItems(o),o.menuItems=o.defaultMenuItems,r.setColMenuItemWatch(o),o.showMenu=function(e,t,n){o.col=e;var i=r.getColumnElementPosition(o,e,t);o.menuShown?(o.colElement=t,o.colElementPosition=i,o.hideThenShow=!0,o.$broadcast("hide-menu",{originalEvent:n})):(l.shown=o.menuShown=!0,r.repositionMenu(o,e,i,a,t),o.colElement=t,o.colElementPosition=i,o.$broadcast("show-menu",{originalEvent:n}))},o.hideMenu=function(e){o.menuShown=!1,e||o.$broadcast("hide-menu")},o.$on("menu-hidden",function(){o.hideThenShow?(delete o.hideThenShow,r.repositionMenu(o,o.col,o.colElementPosition,a,o.colElement),o.$broadcast("show-menu"),o.menuShown=!0):(o.hideMenu(!0),o.col&&t.focus.bySelector(i,".ui-grid-header-cell."+o.col.getColClass()+" .ui-grid-column-menu-button",o.col.grid,!1))}),o.$on("menu-shown",function(){e(function(){r.repositionMenu(o,o.col,o.colElementPosition,a,o.colElement),delete o.colElementPosition,delete o.columnElement},200)}),o.sortColumn=function(e,t){e.stopPropagation(),o.grid.sortColumn(o.col,t,!0).then(function(){o.grid.refresh(),o.hideMenu()})},o.unsortColumn=function(){o.col.unsort(),o.grid.refresh(),o.hideMenu()};var c=function(){e(function(){var e,n=function(){return t.focus.byId("grid-menu",o.grid)};o.grid.columns.some(function(t,n){return angular.equals(t,o.col)?(e=n,!0):void 0});var r;if(o.grid.columns.some(function(t,n){if(!t.visible)return!1;if(e>n)r=t;else{if(n>e&&!r)return r=t,!0;if(n>e&&r)return!0}}),r){var a=r.getColClass();t.focus.bySelector(i,".ui-grid-header-cell."+a+" .ui-grid-header-cell-primary-focus",!0).then(angular.noop,function(e){return"canceled"!==e?n():void 0})}else n()})};o.hideColumn=function(){o.col.colDef.visible=!1,o.col.visible=!1,o.grid.queueGridRefresh(),o.hideMenu(),o.grid.api.core.notifyDataChange(n.dataChange.COLUMN),o.grid.api.core.raise.columnVisibilityChanged(o.col),c()}},controller:["$scope",function(e){var t=this;e.$watch("menuItems",function(e,n){t.menuItems=e})}]};return o}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFilter",["$compile","$templateCache","i18nService","gridUtil",function(e,t,n,r){return{compile:function(){return{pre:function(t,n,r,i){t.col.updateFilters=function(r){if(n.children().remove(),r){var i=t.col.filterHeaderTemplate;n.append(e(i)(t))}},t.$on("$destroy",function(){delete t.col.updateFilters})},post:function(e,t,i,o){e.aria=n.getSafeText("headerCell.aria"),e.removeFilter=function(e,n){e.term=null,r.focus.bySelector(t,".ui-grid-filter-input-"+n)}}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFooterCell",["$timeout","gridUtil","uiGridConstants","$compile",function(e,t,n,r){var i={priority:0,scope:{col:"=",row:"=",renderIndex:"="},replace:!0,require:"^uiGrid",compile:function(e,t,i){return{pre:function(e,t,n,i){var o=r(e.col.footerCellTemplate)(e);t.append(o)},post:function(e,t,r,i){e.grid=i.grid;var o=e.col.getColClass(!1);t.addClass(o);var a,s=function(n){var r=t;a&&(r.removeClass(a),a=null),a=angular.isFunction(e.col.footerCellClass)?e.col.footerCellClass(e.grid,e.row,e.col,e.rowRenderIndex,e.colRenderIndex):e.col.footerCellClass,r.addClass(a)};e.col.footerCellClass&&s(),e.col.updateAggregationValue();var u=e.grid.registerDataChangeCallback(s,[n.dataChange.COLUMN]);e.grid.api.core.on.rowsRendered(e,e.col.updateAggregationValue),e.grid.api.core.on.rowsRendered(e,s),e.$on("$destroy",u)}}}};return i}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFooter",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(e,t,n,r,i){return{restrict:"EA",replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:!0,compile:function(e,n){return{pre:function(e,n,i,o){var a=o[0],s=o[1];e.grid=a.grid,e.colContainer=s.colContainer,s.footer=n;var u=e.grid.options.footerTemplate;r.getTemplate(u).then(function(r){var i=angular.element(r),o=t(i)(e);if(n.append(o),s){var a=n[0].getElementsByClassName("ui-grid-footer-viewport")[0];a&&(s.footerViewport=a)}})},post:function(e,t,n,i){var o=i[0],a=i[1];o.grid,r.disableAnimations(t),a.footer=t;var s=t[0].getElementsByClassName("ui-grid-footer-viewport")[0];s&&(a.footerViewport=s)}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridGridFooter",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(e,t,n,r,i){return{restrict:"EA",replace:!0,require:"^uiGrid",scope:!0,compile:function(e,n){return{pre:function(e,n,i,o){e.grid=o.grid;var a=e.grid.options.gridFooterTemplate;r.getTemplate(a).then(function(r){var i=angular.element(r),o=t(i)(e);n.append(o)})},post:function(e,t,n,r){}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridGroupPanel",["$compile","uiGridConstants","gridUtil",function(e,t,n){var r="ui-grid/ui-grid-group-panel";return{restrict:"EA",replace:!0,require:"?^uiGrid",scope:!1,compile:function(t,i){return{pre:function(t,i,o,a){var s=t.grid.options.groupPanelTemplate||r;n.getTemplate(s).then(function(n){var r=angular.element(n),o=e(r)(t);i.append(o)})},post:function(e,t,n,r){t.bind("$destroy",function(){})}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridHeaderCell",["$compile","$timeout","$window","$document","gridUtil","uiGridConstants","ScrollEvent","i18nService",function(e,t,n,r,i,o,a,s){var u=500,l=500,c={priority:0,scope:{col:"=",row:"=",renderIndex:"="},require:["^uiGrid","^uiGridRenderContainer"],replace:!0,compile:function(){return{pre:function(t,n,r){var i=e(t.col.headerCellTemplate)(t);n.append(i)},post:function(e,n,i,a){var c=a[0],d=a[1];e.i18n={headerCell:s.getSafeText("headerCell"),sort:s.getSafeText("sort")},e.getSortDirectionAriaLabel=function(){var t=e.col,n=t.sort.direction===o.ASC?e.i18n.sort.ascending:t.sort.direction===o.DESC?e.i18n.sort.descending:e.i18n.sort.none,r=n;return t.sort.priority&&(r=r+". "+e.i18n.headerCell.priority+" "+t.sort.priority),r},e.grid=c.grid,e.renderContainer=c.grid.renderContainers[d.containerId];var p=e.col.getColClass(!1);n.addClass(p),e.menuShown=!1,e.asc=o.ASC,e.desc=o.DESC;var f,h,m=(angular.element(n[0].querySelectorAll(".ui-grid-header-cell-menu")),angular.element(n[0].querySelectorAll(".ui-grid-cell-contents"))),g=[];e.downFn=function(i){i.stopPropagation(),"undefined"!=typeof i.originalEvent&&void 0!==i.originalEvent&&(i=i.originalEvent),i.button&&0!==i.button||(h=i.pageX,e.mousedownStartTime=(new Date).getTime(),e.mousedownTimeout=t(function(){},u),e.mousedownTimeout.then(function(){e.colMenu&&c.columnMenuScope.showMenu(e.col,n,i)}),c.fireEvent(o.events.COLUMN_HEADER_CLICK,{event:i,columnName:e.col.colDef.name}),e.offAllEvents(),"touchstart"===i.type?(r.on("touchend",e.upFn),r.on("touchmove",e.moveFn)):"mousedown"===i.type&&(r.on("mouseup",e.upFn),r.on("mousemove",e.moveFn)))},e.upFn=function(n){n.stopPropagation(),t.cancel(e.mousedownTimeout),e.offAllEvents(),e.onDownEvents(n.type);var r=(new Date).getTime(),i=r-e.mousedownStartTime;i>u||e.sortable&&e.handleClick(n)},e.moveFn=function(n){var r=n.pageX-h;0!==r&&(t.cancel(e.mousedownTimeout),e.offAllEvents(),e.onDownEvents(n.type))},e.clickFn=function(t){t.stopPropagation(),m.off("click",e.clickFn)},e.offAllEvents=function(){m.off("touchstart",e.downFn),m.off("mousedown",e.downFn),r.off("touchend",e.upFn),r.off("mouseup",e.upFn),r.off("touchmove",e.moveFn),r.off("mousemove",e.moveFn),m.off("click",e.clickFn)},e.onDownEvents=function(n){switch(n){case"touchmove":case"touchend":m.on("click",e.clickFn),m.on("touchstart",e.downFn),t(function(){m.on("mousedown",e.downFn)},l);break;case"mousemove":case"mouseup":m.on("click",e.clickFn),m.on("mousedown",e.downFn),t(function(){m.on("touchstart",e.downFn)},l);break;default:m.on("click",e.clickFn),m.on("touchstart",e.downFn),m.on("mousedown",e.downFn)}};var v=function(t){var r=n;f&&(r.removeClass(f),f=null),f=angular.isFunction(e.col.headerCellClass)?e.col.headerCellClass(e.grid,e.row,e.col,e.rowRenderIndex,e.colRenderIndex):e.col.headerCellClass,r.addClass(f);var i=e.grid.renderContainers.right?e.grid.renderContainers.right:e.grid.renderContainers.body;e.isLastCol=e.col===i.visibleColumnCache[i.visibleColumnCache.length-1],c.grid.options.enableSorting&&e.col.enableSorting?e.sortable=!0:e.sortable=!1;var a=e.filterable;c.grid.options.enableFiltering&&e.col.enableFiltering?e.filterable=!0:e.filterable=!1,a!==e.filterable&&("undefined"!=typeof e.col.updateFilters&&e.col.updateFilters(e.filterable),e.filterable?(e.col.filters.forEach(function(t,n){g.push(e.$watch("col.filters["+n+"].term",function(e,t){e!==t&&(c.grid.api.core.raise.filterChanged(),c.grid.api.core.notifyDataChange(o.dataChange.COLUMN),c.grid.queueGridRefresh())}))}),e.$on("$destroy",function(){g.forEach(function(e){e()})})):g.forEach(function(e){e()})),e.col.grid.options&&e.col.grid.options.enableColumnMenus!==!1&&e.col.colDef&&e.col.colDef.enableColumnMenu!==!1?e.colMenu=!0:e.colMenu=!1,e.offAllEvents(),(e.sortable||e.colMenu)&&(e.onDownEvents(),e.$on("$destroy",function(){e.offAllEvents()}))};v();var b=e.grid.registerDataChangeCallback(v,[o.dataChange.COLUMN]);e.$on("$destroy",b),e.handleClick=function(t){var n=!1;t.shiftKey&&(n=!0),c.grid.sortColumn(e.col,n).then(function(){c.columnMenuScope&&c.columnMenuScope.hideMenu(),c.grid.refresh()})},e.toggleMenu=function(t){t.stopPropagation(),c.columnMenuScope.menuShown&&c.columnMenuScope.col===e.col?c.columnMenuScope.hideMenu():c.columnMenuScope.showMenu(e.col,n)}}}}};return c}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridHeader",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout","ScrollEvent",function(e,t,n,r,i,o){var a="ui-grid/ui-grid-header",s="ui-grid/ui-grid-no-header";return{restrict:"EA",replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:!0,compile:function(e,n){return{pre:function(e,n,i,u){function l(){p.header=p.colContainer.header=n;var e=n[0].getElementsByClassName("ui-grid-header-canvas");e.length>0?p.headerCanvas=p.colContainer.headerCanvas=e[0]:p.headerCanvas=null}function c(e){if(!d.grid.isScrollingHorizontally){var t=r.normalizeScrollLeft(p.headerViewport,d.grid),n=p.colContainer.scrollHorizontal(t),i=new o(d.grid,null,p.colContainer,o.Sources.ViewPortScroll);i.newScrollLeft=t,n>-1&&(i.x={percentage:n}),d.grid.scrollContainers(null,i)}}var d=u[0],p=u[1];e.grid=d.grid,e.colContainer=p.colContainer,l();var f;f=e.grid.options.showHeader?e.grid.options.headerTemplate?e.grid.options.headerTemplate:a:s,r.getTemplate(f).then(function(r){var i=angular.element(r),o=t(i)(e);if(n.replaceWith(o),n=o,l(),p){var a=n[0].getElementsByClassName("ui-grid-header-viewport")[0];a&&(p.headerViewport=a,angular.element(a).on("scroll",c),e.$on("$destroy",function(){angular.element(a).off("scroll",c)}))}e.grid.queueRefresh()})},post:function(e,t,n,i){function o(){var e=s.colContainer.visibleColumnCache,t="",n=0;return e.forEach(function(e){t+=e.getColClassDefinition(),n+=e.drawnWidth}),s.colContainer.canvasWidth=n,t}var a=i[0],s=i[1];a.grid,r.disableAnimations(t),s.header=t;var u=t[0].getElementsByClassName("ui-grid-header-viewport")[0];u&&(s.headerViewport=u),a&&a.grid.registerStyleComputation({priority:15,func:o})}}}}}])}(),function(){angular.module("ui.grid").service("uiGridGridMenuService",["gridUtil","i18nService","uiGridConstants",function(e,t,n){var r={initialize:function(e,t){t.gridMenuScope=e,e.grid=t,e.registeredMenuItems=[],e.$on("$destroy",function(){e.grid&&e.grid.gridMenuScope&&(e.grid.gridMenuScope=null),e.grid&&(e.grid=null),e.registeredMenuItems&&(e.registeredMenuItems=null)}),e.registeredMenuItems=[],t.api.registerMethod("core","addToGridMenu",r.addToGridMenu),t.api.registerMethod("core","removeFromGridMenu",r.removeFromGridMenu)},addToGridMenu:function(t,n){angular.isArray(n)?t.gridMenuScope?(t.gridMenuScope.registeredMenuItems=t.gridMenuScope.registeredMenuItems?t.gridMenuScope.registeredMenuItems:[],t.gridMenuScope.registeredMenuItems=t.gridMenuScope.registeredMenuItems.concat(n)):e.logError("Asked to addToGridMenu, but gridMenuScope not present.  Timing issue?  Please log issue with ui-grid"):e.logError("addToGridMenu: menuItems must be an array, and is not, not adding any items")},removeFromGridMenu:function(t,n){var r=-1;t&&t.gridMenuScope&&t.gridMenuScope.registeredMenuItems.forEach(function(t,i){t.id===n&&(r>-1?e.logError("removeFromGridMenu: found multiple items with the same id, removing only the last"):r=i)}),r>-1&&t.gridMenuScope.registeredMenuItems.splice(r,1)},getMenuItems:function(n){var i=[];n.grid.options.gridMenuCustomItems&&(angular.isArray(n.grid.options.gridMenuCustomItems)?i=i.concat(n.grid.options.gridMenuCustomItems):e.logError("gridOptions.gridMenuCustomItems must be an array, and is not"));var o=[{title:t.getSafeText("gridMenu.clearAllFilters"),action:function(e){n.grid.clearAllFilters(void 0,!0,void 0)},shown:function(){return n.grid.options.enableFiltering},order:100}];return i=i.concat(o),i=i.concat(n.registeredMenuItems),n.grid.options.gridMenuShowHideColumns!==!1&&(i=i.concat(r.showHideColumns(n))),i.sort(function(e,t){return e.order-t.order}),i},showHideColumns:function(e){var n=[];return e.grid.options.columnDefs&&0!==e.grid.options.columnDefs.length&&0!==e.grid.columns.length?(n.push({title:t.getSafeText("gridMenu.columns"),order:300}),e.grid.options.gridMenuTitleFilter=e.grid.options.gridMenuTitleFilter?e.grid.options.gridMenuTitleFilter:function(e){return e},e.grid.options.columnDefs.forEach(function(t,i){if(t.enableHiding!==!1){var o={icon:"ui-grid-icon-ok",action:function(e){e.stopPropagation(),r.toggleColumnVisibility(this.context.gridCol)},shown:function(){return this.context.gridCol.colDef.visible===!0||void 0===this.context.gridCol.colDef.visible},context:{gridCol:e.grid.getColumn(t.name||t.field)},leaveOpen:!0,order:301+2*i};r.setMenuItemTitle(o,t,e.grid),n.push(o),o={icon:"ui-grid-icon-cancel",action:function(e){e.stopPropagation(),r.toggleColumnVisibility(this.context.gridCol)},shown:function(){return!(this.context.gridCol.colDef.visible===!0||void 0===this.context.gridCol.colDef.visible)},context:{gridCol:e.grid.getColumn(t.name||t.field)},leaveOpen:!0,order:301+2*i+1},r.setMenuItemTitle(o,t,e.grid),n.push(o)}}),n):n},setMenuItemTitle:function(t,n,r){var i=r.options.gridMenuTitleFilter(n.displayName||e.readableColumnName(n.name)||n.field);"string"==typeof i?t.title=i:i.then?(t.title="",i.then(function(e){t.title=e},function(e){t.title=e})):(e.logError("Expected gridMenuTitleFilter to return a string or a promise, it has returned neither, bad config"),t.title="badconfig")},toggleColumnVisibility:function(e){e.colDef.visible=!(e.colDef.visible===!0||void 0===e.colDef.visible),e.grid.refresh(),e.grid.api.core.notifyDataChange(n.dataChange.COLUMN),e.grid.api.core.raise.columnVisibilityChanged(e)}};return r}]).directive("uiGridMenuButton",["gridUtil","uiGridConstants","uiGridGridMenuService","i18nService",function(e,t,n,r){return{priority:0,scope:!0,require:["^uiGrid"],templateUrl:"ui-grid/ui-grid-menu-button",replace:!0,link:function(t,i,o,a){var s=a[0];t.i18n={aria:r.getSafeText("gridMenu.aria")},n.initialize(t,s.grid),t.shown=!1,t.toggleMenu=function(){t.shown?(t.$broadcast("hide-menu"),t.shown=!1):(t.menuItems=n.getMenuItems(t),t.$broadcast("show-menu"),t.shown=!0)},t.$on("menu-hidden",function(){t.shown=!1,e.focus.bySelector(i,".ui-grid-icon-container")})}}}])}(),function(){angular.module("ui.grid").directive("uiGridMenu",["$compile","$timeout","$window","$document","gridUtil","uiGridConstants","i18nService",function(e,t,n,r,i,o,a){var s={priority:0,scope:{menuItems:"=",autoHide:"=?"},require:"?^uiGrid",templateUrl:"ui-grid/uiGridMenu",replace:!1,link:function(e,r,s,u){var l=this;e.i18n={close:a.getSafeText("columnMenu.close")},l.showMenu=e.showMenu=function(n,o){e.shown?e.shownMid||(e.shownMid=!0,e.$emit("menu-shown")):(e.shown=!0,t(function(){e.shownMid=!0,e.$emit("menu-shown")}));var a="click";o&&o.originalEvent&&o.originalEvent.type&&"touchstart"===o.originalEvent.type&&(a=o.originalEvent.type),angular.element(document).off("click touchstart",c),t(function(){angular.element(document).on(a,c)}),i.focus.bySelector(r,"button[type=button]",!0)},l.hideMenu=e.hideMenu=function(n,r){e.shown&&(e.shownMid=!1,t(function(){e.shownMid||(e.shown=!1,e.$emit("menu-hidden"))},200)),angular.element(document).off("click touchstart",c)},e.$on("hide-menu",function(t,n){e.hideMenu(t,n)}),e.$on("show-menu",function(t,n){e.showMenu(t,n)});var c=function(){e.shown&&e.$apply(function(){e.hideMenu()})};("undefined"==typeof e.autoHide||void 0===e.autoHide)&&(e.autoHide=!0),e.autoHide&&angular.element(n).on("resize",c),e.$on("$destroy",function(){angular.element(document).off("click touchstart",c)}),e.$on("$destroy",function(){angular.element(n).off("resize",c)}),u&&e.$on("$destroy",u.grid.api.core.on.scrollBegin(e,c)),e.$on("$destroy",e.$on(o.events.ITEM_DRAGGING,c))},controller:["$scope","$element","$attrs",function(e,t,n){}]};return s}]).directive("uiGridMenuItem",["gridUtil","$compile","i18nService",function(e,t,n){var r={priority:0,scope:{name:"=",active:"=",action:"=",icon:"=",shown:"=",context:"=",templateUrl:"=",leaveOpen:"=",screenReaderOnly:"="},require:["?^uiGrid","^uiGridMenu"],templateUrl:"ui-grid/uiGridMenuItem",replace:!1,compile:function(r,i){return{pre:function(n,r,i,o){o[0],o[1],n.templateUrl&&e.getTemplate(n.templateUrl).then(function(e){var i=angular.element(e),o=t(i)(n);r.replaceWith(o)})},post:function(t,r,i,o){var a=o[0];o[1],("undefined"==typeof t.shown||null===t.shown)&&(t.shown=function(){return!0}),t.itemShown=function(){var e={};return t.context&&(e.context=t.context),"undefined"!=typeof a&&a&&(e.grid=a.grid),t.shown.call(e)},t.itemAction=function(n,i){if(e.logDebug("itemAction"),n.stopPropagation(),"function"==typeof t.action){var o={};t.context&&(o.context=t.context),"undefined"!=typeof a&&a&&(o.grid=a.grid),t.action.call(o,n,i),t.leaveOpen?e.focus.bySelector(angular.element(e.closestElm(r,".ui-grid-menu-items")),"button[type=button]",!0):t.$emit("hide-menu")}},t.i18n=n.get()}}}};return r}])}(),function(){"use strict";var e=angular.module("ui.grid");angular.forEach([{tag:"Src",method:"attr"},{tag:"Text",method:"text"},{tag:"Href",method:"attr"},{tag:"Class",method:"addClass"},{tag:"Html",method:"html"},{tag:"Alt",method:"attr"},{tag:"Style",method:"css"},{tag:"Value",method:"attr"},{tag:"Id",method:"attr"},{tag:"Id",directiveName:"IdGrid",method:"attr",appendGridId:!0},{tag:"Title",method:"attr"},{tag:"Label",method:"attr",aria:!0},{tag:"Labelledby",method:"attr",
aria:!0},{tag:"Labelledby",directiveName:"LabelledbyGrid",appendGridId:!0,method:"attr",aria:!0},{tag:"Describedby",method:"attr",aria:!0},{tag:"Describedby",directiveName:"DescribedbyGrid",appendGridId:!0,method:"attr",aria:!0}],function(t){var n="uiGridOneBind",r=(t.aria?n+"Aria":n)+(t.directiveName?t.directiveName:t.tag);e.directive(r,["gridUtil",function(e){return{restrict:"A",require:["?uiGrid","?^uiGrid"],link:function(n,i,o,a){var s=function(t){var i;if(n.grid)i=n.grid;else if(n.col&&n.col.grid)i=n.col.grid;else if(!a.some(function(e){return e&&e.grid?(i=e.grid,!0):void 0}))throw e.logError("["+r+"] A valid grid could not be found to bind id. Are you using this directive within the correct scope? Trying to generate id: [gridID]-"+t),new Error("No valid grid could be found");if(i){var o=new RegExp(i.id.toString());o.test(t)||(t=i.id.toString()+"-"+t)}return t},u=n.$watch(o[r],function(e){if(e){if(t.appendGridId){var n=null;angular.forEach(e.split(" "),function(e){n=(n?n+" ":"")+s(e)}),e=n}switch(t.method){case"attr":t.aria?i[t.method]("aria-"+t.tag.toLowerCase(),e):i[t.method](t.tag.toLowerCase(),e);break;case"addClass":if(angular.isObject(e)&&!angular.isArray(e)){var r=[],o=!1;if(angular.forEach(e,function(e,t){null!==e&&"undefined"!=typeof e&&(o=!0,e&&r.push(t))}),!o)return;e=r}if(!e)return;i.addClass(angular.isArray(e)?e.join(" "):e);break;default:i[t.method](e)}u()}},!0)}}}])})}(),function(){"use strict";var e=angular.module("ui.grid");e.directive("uiGridRenderContainer",["$timeout","$document","uiGridConstants","gridUtil","ScrollEvent",function(e,t,n,r,i){return{replace:!0,transclude:!0,templateUrl:"ui-grid/uiGridRenderContainer",require:["^uiGrid","uiGridRenderContainer"],scope:{containerId:"=",rowContainerName:"=",colContainerName:"=",bindScrollHorizontal:"=",bindScrollVertical:"=",enableVerticalScrollbar:"=",enableHorizontalScrollbar:"="},controller:"uiGridRenderContainer as RenderContainer",compile:function(){return{pre:function(e,t,n,r){var i=r[0],o=r[1],a=e.grid=i.grid;if(!e.rowContainerName)throw"No row render container name specified";if(!e.colContainerName)throw"No column render container name specified";if(!a.renderContainers[e.rowContainerName])throw"Row render container '"+e.rowContainerName+"' is not registered.";if(!a.renderContainers[e.colContainerName])throw"Column render container '"+e.colContainerName+"' is not registered.";var s=e.rowContainer=a.renderContainers[e.rowContainerName],u=e.colContainer=a.renderContainers[e.colContainerName];o.containerId=e.containerId,o.rowContainer=s,o.colContainer=u},post:function(e,t,n,o){function a(){var t="",n=d.canvasWidth,r=d.getViewportWidth(),i=c.getCanvasHeight(),o=c.getViewportHeight();d.needsHScrollbarPlaceholder()&&(o-=l.scrollbarHeight);var a,u;return a=u=d.getHeaderViewportWidth(),t+="\n .grid"+s.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-canvas { width: "+n+"px; height: "+i+"px; }",t+="\n .grid"+s.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-canvas { width: "+(n+l.scrollbarWidth)+"px; }",t+=h.explicitHeaderCanvasHeight?"\n .grid"+s.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-canvas { height: "+h.explicitHeaderCanvasHeight+"px; }":"\n .grid"+s.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-canvas { height: inherit; }",t+="\n .grid"+s.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-viewport { width: "+r+"px; height: "+o+"px; }",t+="\n .grid"+s.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-viewport { width: "+a+"px; }",t+="\n .grid"+s.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-footer-canvas { width: "+(n+l.scrollbarWidth)+"px; }",t+="\n .grid"+s.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-footer-viewport { width: "+u+"px; }"}var s=o[0],u=o[1],l=s.grid,c=u.rowContainer,d=u.colContainer,p=null,f=null,h=l.renderContainers[e.containerId];t.addClass("ui-grid-render-container-"+e.containerId),r.on.mousewheel(t,function(e){var t=new i(l,c,d,i.Sources.RenderContainerMouseWheel);if(0!==e.deltaY){var n=-1*e.deltaY*e.deltaFactor;p=u.viewport[0].scrollTop,t.verticalScrollLength=c.getVerticalScrollLength();var o=(p+n)/t.verticalScrollLength;o>=1&&p<t.verticalScrollLength&&(u.viewport[0].scrollTop=t.verticalScrollLength),0>o?o=0:o>1&&(o=1),t.y={percentage:o,pixels:n}}if(0!==e.deltaX){var a=e.deltaX*e.deltaFactor;f=r.normalizeScrollLeft(u.viewport,l),t.horizontalScrollLength=d.getCanvasWidth()-d.getViewportWidth();var s=(f+a)/t.horizontalScrollLength;0>s?s=0:s>1&&(s=1),t.x={percentage:s,pixels:a}}0!==e.deltaY&&(t.atTop(p)||t.atBottom(p))||0!==e.deltaX&&(t.atLeft(f)||t.atRight(f))||(e.preventDefault(),e.stopPropagation(),t.fireThrottledScrollingEvent("",t))}),t.bind("$destroy",function(){t.unbind("keydown"),["touchstart","touchmove","touchend","keydown","wheel","mousewheel","DomMouseScroll","MozMousePixelScroll"].forEach(function(e){t.unbind(e)})}),s.grid.registerStyleComputation({priority:6,func:a})}}}}}]),e.controller("uiGridRenderContainer",["$scope","gridUtil",function(e,t){}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridRow",["gridUtil",function(e){return{replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:{row:"=uiGridRow",rowRenderIndex:"="},compile:function(){return{pre:function(e,t,n,r){function i(){e.row.getRowTemplateFn.then(function(n){var r=e.$new();n(r,function(e,n){s&&(s.remove(),u.$destroy()),t.empty().append(e),s=e,u=r})})}var o=r[0],a=r[1];o.grid,e.grid=o.grid,e.colContainer=a.colContainer;var s,u;i(),e.$watch("row.getRowTemplateFn",function(e,t){e!==t&&i()})},post:function(e,t,n,r){}}}}}])}(),function(){angular.module("ui.grid").directive("uiGridStyle",["gridUtil","$interpolate",function(e,t){return{link:function(e,n,r,i){var o=t(n.text(),!0);o&&e.$watch(o,function(e){n.text(e)})}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridViewport",["gridUtil","ScrollEvent","uiGridConstants","$log",function(e,t,n,r){return{replace:!0,scope:{},controllerAs:"Viewport",templateUrl:"ui-grid/uiGridViewport",require:["^uiGrid","^uiGridRenderContainer"],link:function(n,r,i,o){function a(i){var o=r[0].scrollTop,a=e.normalizeScrollLeft(r,m),s=f.scrollVertical(o),u=h.scrollHorizontal(a),l=new t(m,f,h,t.Sources.ViewPortScroll);l.newScrollLeft=a,l.newScrollTop=o,u>-1&&(l.x={percentage:u}),s>-1&&(l.y={percentage:s}),m.scrollContainers(n.$parent.containerId,l)}function s(e){p.prevScrollArgs=e;var t=e.getNewScrollTop(f,p.viewport);r[0].scrollTop=t}function u(t){p.prevScrollArgs=t;var n=t.getNewScrollLeft(h,p.viewport);r[0].scrollLeft=e.denormalizeScrollLeft(p.viewport,n,m)}function l(t){var n=t.getNewScrollLeft(h,p.viewport);p.headerViewport&&(p.headerViewport.scrollLeft=e.denormalizeScrollLeft(p.viewport,n,m))}function c(t){var n=t.getNewScrollLeft(h,p.viewport);p.footerViewport&&(p.footerViewport.scrollLeft=e.denormalizeScrollLeft(p.viewport,n,m))}var d=o[0],p=o[1];n.containerCtrl=p;var f=p.rowContainer,h=p.colContainer,m=d.grid;n.grid=d.grid,n.rowContainer=p.rowContainer,n.colContainer=p.colContainer,p.viewport=r,r.on("scroll",a),n.$parent.bindScrollVertical&&m.addVerticalScrollSync(n.$parent.containerId,s),n.$parent.bindScrollHorizontal&&(m.addHorizontalScrollSync(n.$parent.containerId,u),m.addHorizontalScrollSync(n.$parent.containerId+"header",l),m.addHorizontalScrollSync(n.$parent.containerId+"footer",c))},controller:["$scope",function(e){this.rowStyle=function(t){var n=e.rowContainer,r=e.colContainer,i={};if(0===t&&0!==n.currentTopRow){var o=n.currentTopRow*n.grid.options.rowHeight;i["margin-top"]=o+"px"}return 0!==r.currentFirstColumn&&(r.grid.isRTL()?i["margin-right"]=r.columnOffset+"px":i["margin-left"]=r.columnOffset+"px"),i}}]}}])}(),function(){angular.module("ui.grid").directive("uiGridVisible",function(){return function(e,t,n){e.$watch(n.uiGridVisible,function(e){t[e?"removeClass":"addClass"]("ui-grid-invisible")})}})}(),function(){"use strict";function e(e,t,n,r,i,o){return{templateUrl:"ui-grid/ui-grid",scope:{uiGrid:"="},replace:!0,transclude:!0,controller:"uiGridController",compile:function(){return{post:function(e,t,a,s){function u(){t[0].offsetWidth<=0&&m>g?(setTimeout(u,h),g++):n(c)}function l(){angular.element(r).on("resize",p),t.on("$destroy",function(){angular.element(r).off("resize",p)}),e.$watch(function(){return f.hasLeftContainer()},function(e,t){e!==t&&f.refreshCanvas(!0)}),e.$watch(function(){return f.hasRightContainer()},function(e,t){e!==t&&f.refreshCanvas(!0)})}function c(){f.gridWidth=e.gridWidth=i.elementWidth(t),f.canvasWidth=s.grid.gridWidth,f.gridHeight=e.gridHeight=i.elementHeight(t),f.gridHeight<f.options.rowHeight&&f.options.enableMinHeightCheck&&d(),f.refreshCanvas(!0)}function d(){var n=f.options.minRowsToShow*f.options.rowHeight,r=f.options.showHeader?f.options.headerRowHeight:0,a=f.calcFooterHeight(),s=0;f.options.enableHorizontalScrollbar===o.scrollbars.ALWAYS&&(s=i.getScrollbarWidth());var u=0;if(angular.forEach(f.options.columnDefs,function(e){e.hasOwnProperty("filter")?1>u&&(u=1):e.hasOwnProperty("filters")&&u<e.filters.length&&(u=e.filters.length)}),f.options.enableFiltering){var l=f.options.columnDefs.every(function(e){return e.enableFiltering===!1});l||u++}var c=u*r,d=r+n+a+s+c;t.css("height",d+"px"),f.gridHeight=e.gridHeight=i.elementHeight(t)}function p(n){f.gridWidth=e.gridWidth=i.elementWidth(t),f.gridHeight=e.gridHeight=i.elementHeight(t),f.refreshCanvas(!0)}var f=s.grid;s.scrollbars=[],f.element=t;var h=100,m=20,g=0;l(),c(),f.renderingComplete(),u()}}}}}e.$inject=["a","b","c","d","e","f"],angular.module("ui.grid").controller("uiGridController",["$scope","$element","$attrs","gridUtil","$q","uiGridConstants","$templateCache","gridClassFactory","$timeout","$parse","$compile",function(e,t,n,r,i,o,a,s,u,l,c){function d(e,t){e&&e!==t&&(f.grid.options.columnDefs=e,f.grid.buildColumns({orderByColumnDefs:!0}).then(function(){f.grid.preCompileCellTemplates(),f.grid.callDataChangeCallbacks(o.dataChange.COLUMN)}))}function p(t){var r=[];if(f.grid.options.fastWatch&&(t=angular.isString(e.uiGrid.data)?f.grid.appScope[e.uiGrid.data]:e.uiGrid.data),t){var a=f.grid.columns.length>(f.grid.rowHeaderColumns?f.grid.rowHeaderColumns.length:0);!a&&!n.uiGridColumns&&0===f.grid.options.columnDefs.length&&t.length>0&&f.grid.buildColumnDefsFromData(t),!a&&(f.grid.options.columnDefs.length>0||t.length>0)&&r.push(f.grid.buildColumns().then(function(){f.grid.preCompileCellTemplates()})),i.all(r).then(function(){f.grid.modifyRows(t).then(function(){f.grid.redrawInPlace(!0),e.$evalAsync(function(){f.grid.refreshCanvas(!0),f.grid.callDataChangeCallbacks(o.dataChange.ROW)})})})}}var f=this;f.grid=s.createGrid(e.uiGrid),f.grid.appScope=f.grid.appScope||e.$parent,t.addClass("grid"+f.grid.id),f.grid.rtl="rtl"===r.getStyles(t[0]).direction,e.grid=f.grid,n.uiGridColumns&&n.$observe("uiGridColumns",function(e){f.grid.options.columnDefs=e,f.grid.buildColumns().then(function(){f.grid.preCompileCellTemplates(),f.grid.refreshCanvas(!0)})});var h=[];f.grid.options.fastWatch?(f.uiGrid=e.uiGrid,angular.isString(e.uiGrid.data)?(h.push(e.$parent.$watch(e.uiGrid.data,p)),h.push(e.$parent.$watch(function(){return f.grid.appScope[e.uiGrid.data]?f.grid.appScope[e.uiGrid.data].length:void 0},p))):(h.push(e.$parent.$watch(function(){return e.uiGrid.data},p)),h.push(e.$parent.$watch(function(){return e.uiGrid.data.length},p))),h.push(e.$parent.$watch(function(){return e.uiGrid.columnDefs},d)),h.push(e.$parent.$watch(function(){return e.uiGrid.columnDefs.length},d))):(angular.isString(e.uiGrid.data)?h.push(e.$parent.$watchCollection(e.uiGrid.data,p)):h.push(e.$parent.$watchCollection(function(){return e.uiGrid.data},p)),h.push(e.$parent.$watchCollection(function(){return e.uiGrid.columnDefs},d)));var m=e.$watch(function(){return f.grid.styleComputations},function(){f.grid.refreshCanvas(!0)});e.$on("$destroy",function(){h.forEach(function(e){e()}),m()}),f.fireEvent=function(t,n){("undefined"==typeof n||void 0===n)&&(n={}),("undefined"==typeof n.grid||void 0===n.grid)&&(n.grid=f.grid),e.$broadcast(t,n)},f.innerCompile=function(t){c(t)(e)}}]),angular.module("ui.grid").directive("uiGrid",e),e.$inject=["$compile","$templateCache","$timeout","$window","gridUtil","uiGridConstants"]}(),function(){"use strict";angular.module("ui.grid").directive("uiGridPinnedContainer",["gridUtil",function(e){return{restrict:"EA",replace:!0,template:'<div class="ui-grid-pinned-container"><div ui-grid-render-container container-id="side" row-container-name="\'body\'" col-container-name="side" bind-scroll-vertical="true" class="{{ side }} ui-grid-render-container-{{ side }}"></div></div>',scope:{side:"=uiGridPinnedContainer"},require:"^uiGrid",compile:function(){return{post:function(e,t,n,r){function i(){var e=this,t=0;e.visibleColumnCache.forEach(function(e){t+=e.drawnWidth});var n=e.getViewportAdjustment();return t+=n.width}function o(){if("left"===e.side||"right"===e.side){for(var t=s.renderContainers[e.side].visibleColumnCache,n=0,r=0;r<t.length;r++){var i=t[r];n+=i.drawnWidth||i.width||0}return n}}function a(){var n="";return("left"===e.side||"right"===e.side)&&(u=o(),t.attr("style",null),n+=".grid"+s.id+" .ui-grid-pinned-container-"+e.side+", .grid"+s.id+" .ui-grid-pinned-container-"+e.side+" .ui-grid-render-container-"+e.side+" .ui-grid-viewport { width: "+u+"px; } "),n}var s=r.grid,u=0;t.addClass("ui-grid-pinned-container-"+e.side),("left"===e.side||"right"===e.side)&&(s.renderContainers[e.side].getViewportWidth=i),s.renderContainers.body.registerViewportAdjuster(function(t){return u=o(),t.width-=u,t.side=e.side,t}),s.registerStyleComputation({priority:15,func:a})}}}}}])}(),function(){angular.module("ui.grid").factory("Grid",["$q","$compile","$parse","gridUtil","uiGridConstants","GridOptions","GridColumn","GridRow","GridApi","rowSorter","rowSearcher","GridRenderContainer","$timeout","ScrollEvent",function(e,t,n,r,i,o,a,s,u,l,c,d,p,f){function h(){}var m=function(e){function t(e){a.isScrollingVertically=!1,a.api.core.raise.scrollEnd(e),a.scrollDirection=i.scrollDirection.NONE}function n(e){a.isScrollingHorizontally=!1,a.api.core.raise.scrollEnd(e),a.scrollDirection=i.scrollDirection.NONE}var a=this;if(void 0===e||"undefined"==typeof e.id||!e.id)throw new Error("No ID provided. An ID must be given when creating a grid.");if(!/^[_a-zA-Z0-9-]+$/.test(e.id))throw new Error("Grid id '"+e.id+'" is invalid. It must follow CSS selector syntax rules.');a.id=e.id,delete e.id,a.options=o.initialize(e),a.appScope=a.options.appScopeProvider,a.headerHeight=a.options.headerRowHeight,a.footerHeight=a.calcFooterHeight(),a.columnFooterHeight=a.calcColumnFooterHeight(),a.rtl=!1,a.gridHeight=0,a.gridWidth=0,a.columnBuilders=[],a.rowBuilders=[],a.rowsProcessors=[],a.columnsProcessors=[],a.styleComputations=[],a.viewportAdjusters=[],a.rowHeaderColumns=[],a.dataChangeCallbacks={},a.verticalScrollSyncCallBackFns={},a.horizontalScrollSyncCallBackFns={},a.renderContainers={},a.renderContainers.body=new d("body",a),a.cellValueGetterCache={},a.getRowTemplateFn=null,a.rows=[],a.columns=[],a.isScrollingVertically=!1,a.isScrollingHorizontally=!1,a.scrollDirection=i.scrollDirection.NONE,a.disableScrolling=!1;var s=r.debounce(t,a.options.scrollDebounce),c=r.debounce(t,0),p=r.debounce(n,a.options.scrollDebounce),f=r.debounce(n,0);a.flagScrollingVertically=function(e){a.isScrollingVertically||a.isScrollingHorizontally||a.api.core.raise.scrollBegin(e),a.isScrollingVertically=!0,0!==a.options.scrollDebounce&&e.withDelay?s(e):c(e)},a.flagScrollingHorizontally=function(e){a.isScrollingVertically||a.isScrollingHorizontally||a.api.core.raise.scrollBegin(e),a.isScrollingHorizontally=!0,0!==a.options.scrollDebounce&&e.withDelay?p(e):f(e)},a.scrollbarHeight=0,a.scrollbarWidth=0,a.options.enableHorizontalScrollbar===i.scrollbars.ALWAYS&&(a.scrollbarHeight=r.getScrollbarWidth()),a.options.enableVerticalScrollbar===i.scrollbars.ALWAYS&&(a.scrollbarWidth=r.getScrollbarWidth()),a.api=new u(a),a.api.registerMethod("core","refresh",this.refresh),a.api.registerMethod("core","queueGridRefresh",this.queueGridRefresh),a.api.registerMethod("core","refreshRows",this.refreshRows),a.api.registerMethod("core","queueRefresh",this.queueRefresh),a.api.registerMethod("core","handleWindowResize",this.handleWindowResize),a.api.registerMethod("core","addRowHeaderColumn",this.addRowHeaderColumn),a.api.registerMethod("core","scrollToIfNecessary",function(e,t){return a.scrollToIfNecessary(e,t)}),a.api.registerMethod("core","scrollTo",function(e,t){return a.scrollTo(e,t)}),a.api.registerMethod("core","registerRowsProcessor",this.registerRowsProcessor),a.api.registerMethod("core","registerColumnsProcessor",this.registerColumnsProcessor),a.api.registerMethod("core","sortHandleNulls",l.handleNulls),a.api.registerEvent("core","sortChanged"),a.api.registerEvent("core","columnVisibilityChanged"),a.api.registerMethod("core","notifyDataChange",this.notifyDataChange),a.api.registerMethod("core","clearAllFilters",this.clearAllFilters),a.registerDataChangeCallback(a.columnRefreshCallback,[i.dataChange.COLUMN]),a.registerDataChangeCallback(a.processRowsCallback,[i.dataChange.EDIT]),a.registerDataChangeCallback(a.updateFooterHeightCallback,[i.dataChange.OPTIONS]),a.registerStyleComputation({priority:10,func:a.getFooterStyles})};return m.prototype.calcFooterHeight=function(){if(!this.hasFooter())return 0;var e=0;return this.options.showGridFooter&&(e+=this.options.gridFooterHeight),e+=this.calcColumnFooterHeight()},m.prototype.calcColumnFooterHeight=function(){var e=0;return this.options.showColumnFooter&&(e+=this.options.columnFooterHeight),e},m.prototype.getFooterStyles=function(){var e=".grid"+this.id+" .ui-grid-footer-aggregates-row { height: "+this.options.columnFooterHeight+"px; }";return e+=" .grid"+this.id+" .ui-grid-footer-info { height: "+this.options.gridFooterHeight+"px; }"},m.prototype.hasFooter=function(){return this.options.showGridFooter||this.options.showColumnFooter},m.prototype.isRTL=function(){return this.rtl},m.prototype.registerColumnBuilder=function(e){this.columnBuilders.push(e)},m.prototype.buildColumnDefsFromData=function(e){this.options.columnDefs=r.getColumnsFromData(e,this.options.excludeProperties)},m.prototype.registerRowBuilder=function(e){this.rowBuilders.push(e)},m.prototype.registerDataChangeCallback=function(e,t,n){var o=r.nextUid();t||(t=[i.dataChange.ALL]),Array.isArray(t)||r.logError("Expected types to be an array or null in registerDataChangeCallback, value passed was: "+t),this.dataChangeCallbacks[o]={callback:e,types:t,_this:n};var a=this,s=function(){delete a.dataChangeCallbacks[o]};return s},m.prototype.callDataChangeCallbacks=function(e,t){angular.forEach(this.dataChangeCallbacks,function(t,n){(-1!==t.types.indexOf(i.dataChange.ALL)||-1!==t.types.indexOf(e)||e===i.dataChange.ALL)&&(t._this?t.callback.apply(t._this,this):t.callback(this))},this)},m.prototype.notifyDataChange=function(e){var t=i.dataChange;e===t.ALL||e===t.COLUMN||e===t.EDIT||e===t.ROW||e===t.OPTIONS?this.callDataChangeCallbacks(e):r.logError("Notified of a data change, but the type was not recognised, so no action taken, type was: "+e)},m.prototype.columnRefreshCallback=function(e){e.buildColumns(),e.queueGridRefresh()},m.prototype.processRowsCallback=function(e){e.queueGridRefresh()},m.prototype.updateFooterHeightCallback=function(e){e.footerHeight=e.calcFooterHeight(),e.columnFooterHeight=e.calcColumnFooterHeight()},m.prototype.getColumn=function(e){var t=this.columns.filter(function(t){return t.colDef.name===e});return t.length>0?t[0]:null},m.prototype.getColDef=function(e){var t=this.options.columnDefs.filter(function(t){return t.name===e});return t.length>0?t[0]:null},m.prototype.assignTypes=function(){var e=this;e.options.columnDefs.forEach(function(t,n){if(!t.type){var i=new a(t,n,e),o=e.rows.length>0?e.rows[0]:null;o?t.type=r.guessType(e.getCellValue(o,i)):t.type="string"}})},m.prototype.isRowHeaderColumn=function(e){return-1!==this.rowHeaderColumns.indexOf(e)},m.prototype.addRowHeaderColumn=function(e){var t=this,n=new a(e,r.nextUid(),t);n.isRowHeader=!0,t.isRTL()?(t.createRightContainer(),n.renderContainer="right"):(t.createLeftContainer(),n.renderContainer="left"),t.columnBuilders[0](e,n,t.options).then(function(){n.enableFiltering=!1,n.enableSorting=!1,n.enableHiding=!1,t.rowHeaderColumns.push(n),t.buildColumns().then(function(){t.preCompileCellTemplates(),t.queueGridRefresh()})})},m.prototype.getOnlyDataColumns=function(){var e=this,t=[];return e.columns.forEach(function(n){-1===e.rowHeaderColumns.indexOf(n)&&t.push(n)}),t},m.prototype.buildColumns=function(t){var n={orderByColumnDefs:!1};angular.extend(n,t);var i,o=this,s=[],u=o.rowHeaderColumns.length;for(i=0;i<o.columns.length;i++)o.getColDef(o.columns[i].name)||(o.columns.splice(i,1),i--);if(o.rowHeaderColumns.forEach(function(e){o.columns.unshift(e)}),o.options.columnDefs.forEach(function(e,t){o.preprocessColDef(e);var n=o.getColumn(e.name);n?n.updateColumnDef(e,!1):(n=new a(e,r.nextUid(),o),o.columns.splice(t+u,0,n)),o.columnBuilders.forEach(function(t){s.push(t.call(o,e,n,o.options))})}),n.orderByColumnDefs){var l=o.columns.slice(0),c=Math.min(o.options.columnDefs.length,o.columns.length);for(i=0;c>i;i++)o.columns[i+u].name!==o.options.columnDefs[i].name?l[i+u]=o.getColumn(o.options.columnDefs[i].name):l[i+u]=o.columns[i+u];o.columns.length=0,Array.prototype.splice.apply(o.columns,[0,0].concat(l))}return e.all(s).then(function(){o.rows.length>0&&o.assignTypes()})},m.prototype.preCompileCellTemplates=function(){var e=this,n=function(n){var r=n.cellTemplate.replace(i.MODEL_COL_FIELD,e.getQualifiedColField(n));r=r.replace(i.COL_FIELD,"grid.getCellValue(row, col)");var o=t(r);n.compiledElementFn=o,n.compiledElementFnDefer&&n.compiledElementFnDefer.resolve(n.compiledElementFn)};this.columns.forEach(function(e){e.cellTemplate?n(e):e.cellTemplatePromise&&e.cellTemplatePromise.then(function(){n(e)})})},m.prototype.getQualifiedColField=function(e){return"row.entity."+r.preEval(e.field)},m.prototype.createLeftContainer=function(){this.hasLeftContainer()||(this.renderContainers.left=new d("left",this,{disableColumnOffset:!0}))},m.prototype.createRightContainer=function(){this.hasRightContainer()||(this.renderContainers.right=new d("right",this,{disableColumnOffset:!0}))},m.prototype.hasLeftContainer=function(){return void 0!==this.renderContainers.left},m.prototype.hasRightContainer=function(){return void 0!==this.renderContainers.right},m.prototype.preprocessColDef=function(e){var t=this;if(!e.field&&!e.name)throw new Error("colDef.name or colDef.field property is required");if(void 0===e.name&&void 0!==e.field){for(var n=e.field,r=2;t.getColumn(n);)n=e.field+r.toString(),r++;e.name=n}},m.prototype.newInN=function(e,t,n,r){for(var i=this,o=[],a=0;a<t.length;a++){for(var s=r?t[a][r]:t[a],u=!1,l=0;l<e.length;l++){var c=n?e[l][n]:e[l];if(i.options.rowEquality(s,c)){u=!0;break}}u||o.push(s)}return o},m.prototype.getRow=function(e,t){var n=this;t="undefined"==typeof t?n.rows:t;var r=t.filter(function(t){return n.options.rowEquality(t.entity,e)});return r.length>0?r[0]:null},m.prototype.modifyRows=function(t){var n=this,r=n.rows.slice(0),i=n.rowHashMap||n.createRowHashMap();n.rowHashMap=n.createRowHashMap(),n.rows.length=0,t.forEach(function(e,t){var o;o=n.options.enableRowHashing?i.get(e):n.getRow(e,r),o||(o=n.processRowBuilders(new s(e,t,n))),n.rows.push(o),n.rowHashMap.put(e,o)}),n.assignTypes();var o=e.when(n.processRowsProcessors(n.rows)).then(function(e){return n.setVisibleRows(e)}),a=e.when(n.processColumnsProcessors(n.columns)).then(function(e){return n.setVisibleColumns(e)});return e.all([o,a])},m.prototype.addRows=function(e){for(var t=this,n=t.rows.length,r=0;r<e.length;r++){var i=t.processRowBuilders(new s(e[r],r+n,t));if(t.options.enableRowHashing){var o=t.rowHashMap.get(i.entity);o&&(o.row=i)}t.rows.push(i)}},m.prototype.processRowBuilders=function(e){var t=this;return t.rowBuilders.forEach(function(n){n.call(t,e,t.options)}),e},m.prototype.registerStyleComputation=function(e){this.styleComputations.push(e)},m.prototype.registerRowsProcessor=function(e,t){if(!angular.isFunction(e))throw"Attempt to register non-function rows processor: "+e;this.rowsProcessors.push({processor:e,priority:t}),this.rowsProcessors.sort(function(e,t){return e.priority-t.priority})},m.prototype.removeRowsProcessor=function(e){var t=-1;this.rowsProcessors.forEach(function(n,r){n.processor===e&&(t=r)}),-1!==t&&this.rowsProcessors.splice(t,1)},m.prototype.processRowsProcessors=function(t){function n(t,i){var a=r.rowsProcessors[t].processor;return e.when(a.call(r,i,r.columns)).then(function(e){if(!e)throw"Processor at index "+t+" did not return a set of renderable rows";if(!angular.isArray(e))throw"Processor at index "+t+" did not return an array";return t++,t<=r.rowsProcessors.length-1?n(t,e):void o.resolve(e)})}var r=this,i=t.slice(0);if(0===r.rowsProcessors.length)return e.when(i);var o=e.defer();return n(0,i),o.promise},m.prototype.setVisibleRows=function(e){var t=this;for(var n in t.renderContainers){var r=t.renderContainers[n];r.canvasHeightShouldUpdate=!0,"undefined"==typeof r.visibleRowCache?r.visibleRowCache=[]:r.visibleRowCache.length=0}for(var i=0;i<e.length;i++){var o=e[i],a="undefined"!=typeof o.renderContainer&&o.renderContainer?o.renderContainer:"body";o.visible&&t.renderContainers[a].visibleRowCache.push(o)}t.api.core.raise.rowsRendered(this.api)},m.prototype.registerColumnsProcessor=function(e,t){if(!angular.isFunction(e))throw"Attempt to register non-function rows processor: "+e;this.columnsProcessors.push({processor:e,priority:t}),this.columnsProcessors.sort(function(e,t){return e.priority-t.priority})},m.prototype.removeColumnsProcessor=function(e){var t=this.columnsProcessors.indexOf(e);"undefined"!=typeof t&&void 0!==t&&this.columnsProcessors.splice(t,1)},m.prototype.processColumnsProcessors=function(t){function n(t,a){var s=r.columnsProcessors[t].processor;return e.when(s.call(r,a,r.rows)).then(function(e){if(!e)throw"Processor at index "+t+" did not return a set of renderable rows";if(!angular.isArray(e))throw"Processor at index "+t+" did not return an array";return t++,t<=r.columnsProcessors.length-1?n(t,i):void o.resolve(i)})}var r=this,i=t.slice(0);if(0===r.columnsProcessors.length)return e.when(i);var o=e.defer();return n(0,i),o.promise},m.prototype.setVisibleColumns=function(e){var t=this;for(var n in t.renderContainers){var r=t.renderContainers[n];r.visibleColumnCache.length=0}for(var i=0;i<e.length;i++){var o=e[i];o.visible&&("undefined"!=typeof o.renderContainer&&o.renderContainer?t.renderContainers[o.renderContainer].visibleColumnCache.push(o):t.renderContainers.body.visibleColumnCache.push(o))}},m.prototype.handleWindowResize=function(e){var t=this;t.gridWidth=r.elementWidth(t.element),t.gridHeight=r.elementHeight(t.element),t.queueRefresh()},m.prototype.queueRefresh=function(){var e=this;return e.refreshCanceller&&p.cancel(e.refreshCanceller),e.refreshCanceller=p(function(){e.refreshCanvas(!0)}),e.refreshCanceller.then(function(){e.refreshCanceller=null}),e.refreshCanceller},m.prototype.queueGridRefresh=function(){var e=this;return e.gridRefreshCanceller&&p.cancel(e.gridRefreshCanceller),e.gridRefreshCanceller=p(function(){e.refresh(!0)}),e.gridRefreshCanceller.then(function(){e.gridRefreshCanceller=null}),e.gridRefreshCanceller},m.prototype.updateCanvasHeight=function(){var e=this;for(var t in e.renderContainers)if(e.renderContainers.hasOwnProperty(t)){var n=e.renderContainers[t];n.canvasHeightShouldUpdate=!0}},m.prototype.buildStyles=function(){var e=this;e.customStyles="",e.styleComputations.sort(function(e,t){return null===e.priority?1:null===t.priority?-1:null===e.priority&&null===t.priority?0:e.priority-t.priority}).forEach(function(t){var n=t.func.call(e);angular.isString(n)&&(e.customStyles+="\n"+n)})},m.prototype.minColumnsToRender=function(){var e=this,t=this.getViewportWidth(),n=0,r=0;return e.columns.forEach(function(i,o){if(t>r)r+=i.drawnWidth,n++;else{for(var a=0,s=o;s>=o-n;s--)a+=e.columns[s].drawnWidth;t>a&&n++}}),n},m.prototype.getBodyHeight=function(){var e=this.getViewportHeight();return e},m.prototype.getViewportHeight=function(){var e=this,t=this.gridHeight-this.headerHeight-this.footerHeight,n=e.getViewportAdjustment();return t+=n.height},m.prototype.getViewportWidth=function(){var e=this,t=this.gridWidth,n=e.getViewportAdjustment();return t+=n.width},m.prototype.getHeaderViewportWidth=function(){var e=this.getViewportWidth();return e},m.prototype.addVerticalScrollSync=function(e,t){this.verticalScrollSyncCallBackFns[e]=t},m.prototype.addHorizontalScrollSync=function(e,t){this.horizontalScrollSyncCallBackFns[e]=t},m.prototype.scrollContainers=function(e,t){if(t.y){var n=["body","left","right"];this.flagScrollingVertically(t),"body"===e?n=["left","right"]:"left"===e?n=["body","right"]:"right"===e&&(n=["body","left"]);for(var r=0;r<n.length;r++){var i=n[r];this.verticalScrollSyncCallBackFns[i]&&this.verticalScrollSyncCallBackFns[i](t)}}if(t.x){var o=["body","bodyheader","bodyfooter"];this.flagScrollingHorizontally(t),"body"===e&&(o=["bodyheader","bodyfooter"]);for(var a=0;a<o.length;a++){var s=o[a];this.horizontalScrollSyncCallBackFns[s]&&this.horizontalScrollSyncCallBackFns[s](t)}}},m.prototype.registerViewportAdjuster=function(e){this.viewportAdjusters.push(e)},m.prototype.removeViewportAdjuster=function(e){var t=this.viewportAdjusters.indexOf(e);"undefined"!=typeof t&&void 0!==t&&this.viewportAdjusters.splice(t,1)},m.prototype.getViewportAdjustment=function(){var e=this,t={height:0,width:0};return e.viewportAdjusters.forEach(function(e){t=e.call(this,t)}),t},m.prototype.getVisibleRowCount=function(){return this.renderContainers.body.visibleRowCache.length},m.prototype.getVisibleRows=function(){return this.renderContainers.body.visibleRowCache},m.prototype.getVisibleColumnCount=function(){return this.renderContainers.body.visibleColumnCache.length},m.prototype.searchRows=function(e){return c.search(this,e,this.columns)},m.prototype.sortByColumn=function(e){return l.sort(this,e,this.columns)},m.prototype.getCellValue=function(e,t){return"undefined"!=typeof e.entity["$$"+t.uid]?e.entity["$$"+t.uid].rendered:this.options.flatEntityAccess&&"undefined"!=typeof t.field?e.entity[t.field]:(t.cellValueGetterCache||(t.cellValueGetterCache=n(e.getEntityQualifiedColField(t))),t.cellValueGetterCache(e))},m.prototype.getCellDisplayValue=function(e,t){if(!t.cellDisplayGetterCache){var r=t.cellFilter?" | "+t.cellFilter:"";"undefined"!=typeof e.entity["$$"+t.uid]?t.cellDisplayGetterCache=n(e.entity["$$"+t.uid].rendered+r):this.options.flatEntityAccess&&"undefined"!=typeof t.field?t.cellDisplayGetterCache=n(e.entity[t.field]+r):t.cellDisplayGetterCache=n(e.getEntityQualifiedColField(t)+r)}return t.cellDisplayGetterCache(e)},m.prototype.getNextColumnSortPriority=function(){var e=this,t=0;return e.columns.forEach(function(e){e.sort&&e.sort.priority&&e.sort.priority>t&&(t=e.sort.priority)}),t+1},m.prototype.resetColumnSorting=function(e){var t=this;t.columns.forEach(function(t){t===e||t.suppressRemoveSort||(t.sort={})})},m.prototype.getColumnSorting=function(){var e,t=this,n=[];return e=t.columns.slice(0),e.sort(l.prioritySort).forEach(function(e){e.sort&&"undefined"!=typeof e.sort.direction&&e.sort.direction&&(e.sort.direction===i.ASC||e.sort.direction===i.DESC)&&n.push(e)}),n},m.prototype.sortColumn=function(t,n,r){var i=this,o=null;if("undefined"==typeof t||!t)throw new Error("No column parameter provided");if("boolean"==typeof n?r=n:o=n,r?t.sort.priority||(t.sort.priority=i.getNextColumnSortPriority()):(i.resetColumnSorting(t),t.sort.priority=0,t.sort.priority=i.getNextColumnSortPriority()),o)t.sort.direction=o;else{var a=t.sortDirectionCycle.indexOf(t.sort.direction?t.sort.direction:null);a=(a+1)%t.sortDirectionCycle.length,t.colDef&&t.suppressRemoveSort&&!t.sortDirectionCycle[a]&&(a=(a+1)%t.sortDirectionCycle.length),
t.sortDirectionCycle[a]?t.sort.direction=t.sortDirectionCycle[a]:t.sort={}}return i.api.core.raise.sortChanged(i,i.getColumnSorting()),e.when(t)},m.prototype.renderingComplete=function(){angular.isFunction(this.options.onRegisterApi)&&this.options.onRegisterApi(this.api),this.api.core.raise.renderingComplete(this.api)},m.prototype.createRowHashMap=function(){var e=this,t=new h;return t.grid=e,t},m.prototype.refresh=function(t){var n=this,r=n.processRowsProcessors(n.rows).then(function(e){n.setVisibleRows(e)}),i=n.processColumnsProcessors(n.columns).then(function(e){n.setVisibleColumns(e)});return e.all([r,i]).then(function(){n.redrawInPlace(t),n.refreshCanvas(!0)})},m.prototype.refreshRows=function(){var e=this;return e.processRowsProcessors(e.rows).then(function(t){e.setVisibleRows(t),e.redrawInPlace(),e.refreshCanvas(!0)})},m.prototype.refreshCanvas=function(t){var n=this;t&&n.buildStyles();var i=e.defer(),o=[];for(var a in n.renderContainers)if(n.renderContainers.hasOwnProperty(a)){var s=n.renderContainers[a];if(null===s.canvasWidth||isNaN(s.canvasWidth))continue;(s.header||s.headerCanvas)&&(s.explicitHeaderHeight=s.explicitHeaderHeight||null,s.explicitHeaderCanvasHeight=s.explicitHeaderCanvasHeight||null,o.push(s))}return o.length>0?(t&&n.buildStyles(),p(function(){var e,a,s=!1,u=0,l=0,c=function(e,t){return e!==t&&(s=!0),t};for(e=0;e<o.length;e++)if(a=o[e],null!==a.canvasWidth&&!isNaN(a.canvasWidth)){if(a.header){var d=a.headerHeight=c(a.headerHeight,parseInt(r.outerElementHeight(a.header),10)),p=r.getBorderSize(a.header,"top"),f=r.getBorderSize(a.header,"bottom"),h=parseInt(d-p-f,10);h=0>h?0:h,a.innerHeaderHeight=h,!a.explicitHeaderHeight&&h>u&&(u=h)}if(a.headerCanvas){var m=a.headerCanvasHeight=c(a.headerCanvasHeight,parseInt(r.outerElementHeight(a.headerCanvas),10));!a.explicitHeaderCanvasHeight&&m>l&&(l=m)}}for(e=0;e<o.length;e++)a=o[e],u>0&&"undefined"!=typeof a.headerHeight&&null!==a.headerHeight&&(a.explicitHeaderHeight||a.headerHeight<u)&&(a.explicitHeaderHeight=c(a.explicitHeaderHeight,u)),l>0&&"undefined"!=typeof a.headerCanvasHeight&&null!==a.headerCanvasHeight&&(a.explicitHeaderCanvasHeight||a.headerCanvasHeight<l)&&(a.explicitHeaderCanvasHeight=c(a.explicitHeaderCanvasHeight,l));t&&s&&n.buildStyles(),i.resolve()})):p(function(){i.resolve()}),i.promise},m.prototype.redrawInPlace=function(e){var t=this;for(var n in t.renderContainers){var r=t.renderContainers[n];e?(r.adjustRows(r.prevScrollTop,null),r.adjustColumns(r.prevScrollLeft,null)):(r.adjustRows(null,r.prevScrolltopPercentage),r.adjustColumns(null,r.prevScrollleftPercentage))}},m.prototype.hasLeftContainerColumns=function(){return this.hasLeftContainer()&&this.renderContainers.left.renderedColumns.length>0},m.prototype.hasRightContainerColumns=function(){return this.hasRightContainer()&&this.renderContainers.right.renderedColumns.length>0},m.prototype.scrollToIfNecessary=function(t,n){var r=this,i=new f(r,"uiGrid.scrollToIfNecessary"),o=r.renderContainers.body.visibleRowCache,a=r.renderContainers.body.visibleColumnCache,s=r.renderContainers.body.prevScrollTop+r.headerHeight;s=0>s?0:s;var u=r.renderContainers.body.prevScrollLeft,l=r.renderContainers.body.prevScrollTop+r.gridHeight-r.renderContainers.body.headerHeight-r.footerHeight-r.scrollbarWidth,c=r.renderContainers.body.prevScrollLeft+Math.ceil(r.renderContainers.body.getViewportWidth());if(null!==t){var d=o.indexOf(t),p=r.renderContainers.body.getCanvasHeight()-r.renderContainers.body.getViewportHeight(),h=(d+1)*r.options.rowHeight;h=0>h?0:h;var m,g;s>h?(m=r.renderContainers.body.prevScrollTop-(s-h),g=m/p,i.y={percentage:g}):h>l&&(m=h-l+r.renderContainers.body.prevScrollTop,g=m/p,i.y={percentage:g})}if(null!==n){for(var v=a.indexOf(n),b=r.renderContainers.body.getCanvasWidth()-r.renderContainers.body.getViewportWidth(),y=0,w=0;v>w;w++){var _=a[w];y+=_.drawnWidth}y=0>y?0:y;var x=y+n.drawnWidth;x=0>x?0:x;var C,D;u>y?(C=r.renderContainers.body.prevScrollLeft-(u-y),D=C/b,D=D>1?1:D,i.x={percentage:D}):x>c&&(C=x-c+r.renderContainers.body.prevScrollLeft,D=C/b,D=D>1?1:D,i.x={percentage:D})}var k=e.defer();if(i.y||i.x){i.withDelay=!1,r.scrollContainers("",i);var A=r.api.core.on.scrollEnd(null,function(){k.resolve(i),A()})}else k.resolve();return k.promise},m.prototype.scrollTo=function(e,t){var n=null,r=null;return null!==e&&"undefined"!=typeof e&&(n=this.getRow(e)),null!==t&&"undefined"!=typeof t&&(r=this.getColumn(t.name?t.name:t.field)),this.scrollToIfNecessary(n,r)},m.prototype.clearAllFilters=function(e,t,n){return void 0===e&&(e=!0),void 0===t&&(t=!1),void 0===n&&(n=!1),this.columns.forEach(function(e){e.filters.forEach(function(e){e.term=void 0,t&&(e.condition=void 0),n&&(e.flags=void 0)})}),e?this.refreshRows():void 0},h.prototype={put:function(e,t){this[this.grid.options.rowIdentity(e)]=t},get:function(e){return this[this.grid.options.rowIdentity(e)]},remove:function(e){var t=this[e=this.grid.options.rowIdentity(e)];return delete this[e],t}},m}])}(),function(){angular.module("ui.grid").factory("GridApi",["$q","$rootScope","gridUtil","uiGridConstants","GridRow","uiGridGridMenuService",function(e,t,n,r,i,o){function a(e,n,r,i){return t.$on(e,function(e){var t=Array.prototype.slice.call(arguments);t.splice(0,1),n.apply(i?i:r.api,t)})}var s=function(e){this.grid=e,this.listeners=[],this.registerEvent("core","renderingComplete"),this.registerEvent("core","filterChanged"),this.registerMethod("core","setRowInvisible",i.prototype.setRowInvisible),this.registerMethod("core","clearRowInvisible",i.prototype.clearRowInvisible),this.registerMethod("core","getVisibleRows",this.grid.getVisibleRows),this.registerEvent("core","rowsVisibleChanged"),this.registerEvent("core","rowsRendered"),this.registerEvent("core","scrollBegin"),this.registerEvent("core","scrollEnd"),this.registerEvent("core","canvasHeightChanged")};return s.prototype.suppressEvents=function(e,t){var n=this,r=angular.isArray(e)?e:[e],i=n.listeners.filter(function(e){return r.some(function(t){return e.handler===t})});i.forEach(function(e){e.dereg()}),t(),i.forEach(function(e){e.dereg=a(e.eventId,e.handler,n.grid,e._this)})},s.prototype.registerEvent=function(e,r){var i=this;i[e]||(i[e]={});var o=i[e];o.on||(o.on={},o.raise={});var s=i.grid.id+e+r;o.raise[r]=function(){t.$emit.apply(t,[s].concat(Array.prototype.slice.call(arguments)))},o.on[r]=function(t,o,u){if(null!==t&&"undefined"==typeof t.$on)return void n.logError("asked to listen on "+e+".on."+r+" but scope wasn't passed in the input parameters.  It is legitimate to pass null, but you've passed something else, so you probably forgot to provide scope rather than did it deliberately, not registering");var l=a(s,o,i.grid,u),c={handler:o,dereg:l,eventId:s,scope:t,_this:u};i.listeners.push(c);var d=function(){c.dereg();var e=i.listeners.indexOf(c);i.listeners.splice(e,1)};return t&&t.$on("$destroy",function(){d()}),d}},s.prototype.registerEventsFromObject=function(e){var t=this,n=[];angular.forEach(e,function(e,t){var r={name:t,events:[]};angular.forEach(e,function(e,t){r.events.push(t)}),n.push(r)}),n.forEach(function(e){e.events.forEach(function(n){t.registerEvent(e.name,n)})})},s.prototype.registerMethod=function(e,t,r,i){this[e]||(this[e]={});var o=this[e];o[t]=n.createBoundedWrapper(i||this.grid,r)},s.prototype.registerMethodsFromObject=function(e,t){var n=this,r=[];angular.forEach(e,function(e,t){var n={name:t,methods:[]};angular.forEach(e,function(e,t){n.methods.push({name:t,fn:e})}),r.push(n)}),r.forEach(function(e){e.methods.forEach(function(r){n.registerMethod(e.name,r.name,r.fn,t)})})},s}])}(),function(){angular.module("ui.grid").factory("GridColumn",["gridUtil","uiGridConstants","i18nService",function(e,t,n){function r(e,n,i){var o=this;o.grid=i,o.uid=n,o.updateColumnDef(e,!0),r.prototype.hideColumn=function(){this.colDef.visible=!1},o.aggregationValue=void 0,o.updateAggregationValue=function(){if(!o.aggregationType)return void(o.aggregationValue=void 0);var e=0,n=o.grid.getVisibleRows(),r=function(){var e=[];return n.forEach(function(t){var n=o.grid.getCellValue(t,o),r=Number(n);isNaN(r)||e.push(r)}),e};angular.isFunction(o.aggregationType)?o.aggregationValue=o.aggregationType(n,o):o.aggregationType===t.aggregationTypes.count?o.aggregationValue=o.grid.getVisibleRowCount():o.aggregationType===t.aggregationTypes.sum?(r().forEach(function(t){e+=t}),o.aggregationValue=e):o.aggregationType===t.aggregationTypes.avg?(r().forEach(function(t){e+=t}),e/=r().length,o.aggregationValue=e):o.aggregationType===t.aggregationTypes.min?o.aggregationValue=Math.min.apply(null,r()):o.aggregationType===t.aggregationTypes.max?o.aggregationValue=Math.max.apply(null,r()):o.aggregationValue=" "},this.getAggregationValue=function(){return o.aggregationValue}}return r.prototype.setPropertyOrDefault=function(e,t,n){var r=this;"undefined"!=typeof e[t]&&e[t]?r[t]=e[t]:"undefined"!=typeof r[t]?r[t]=r[t]:r[t]=n?n:{}},r.prototype.updateColumnDef=function(n,i){var o=this;if(o.colDef=n,void 0===n.name)throw new Error("colDef.name is required for column at index "+o.grid.options.columnDefs.indexOf(n));if(o.displayName=void 0===n.displayName?e.readableColumnName(n.name):n.displayName,!angular.isNumber(o.width)||!o.hasCustomWidth||n.allowCustomWidthOverride){var a=n.width,s="Cannot parse column width '"+a+"' for column named '"+n.name+"'";if(o.hasCustomWidth=!1,angular.isString(a)||angular.isNumber(a))if(angular.isString(a))if(e.endsWith(a,"%")){var u=a.replace(/%/g,""),l=parseInt(u,10);if(isNaN(l))throw new Error(s);o.width=a}else if(a.match(/^(\d+)$/))o.width=parseInt(a.match(/^(\d+)$/)[1],10);else{if(!a.match(/^\*+$/))throw new Error(s);o.width=a}else o.width=a;else o.width="*"}["minWidth","maxWidth"].forEach(function(e){var t=n[e],r="Cannot parse column "+e+" '"+t+"' for column named '"+n.name+"'";if(angular.isString(t)||angular.isNumber(t))if(angular.isString(t)){if(!t.match(/^(\d+)$/))throw new Error(r);o[e]=parseInt(t.match(/^(\d+)$/)[1],10)}else o[e]=t;else o[e]="minWidth"===e?30:9e3}),o.field=void 0===n.field?n.name:n.field,"string"!=typeof o.field&&e.logError("Field is not a string, this is likely to break the code, Field is: "+o.field),o.name=n.name,o.displayName=void 0===n.displayName?e.readableColumnName(n.name):n.displayName,o.aggregationType=angular.isDefined(n.aggregationType)?n.aggregationType:null,o.footerCellTemplate=angular.isDefined(n.footerCellTemplate)?n.footerCellTemplate:null,"undefined"==typeof n.cellTooltip||n.cellTooltip===!1?o.cellTooltip=!1:n.cellTooltip===!0?o.cellTooltip=function(e,t){return o.grid.getCellValue(e,t)}:"function"==typeof n.cellTooltip?o.cellTooltip=n.cellTooltip:o.cellTooltip=function(e,t){return t.colDef.cellTooltip},"undefined"==typeof n.headerTooltip||n.headerTooltip===!1?o.headerTooltip=!1:n.headerTooltip===!0?o.headerTooltip=function(e){return e.displayName}:"function"==typeof n.headerTooltip?o.headerTooltip=n.headerTooltip:o.headerTooltip=function(e){return e.colDef.headerTooltip},o.footerCellClass=n.footerCellClass,o.cellClass=n.cellClass,o.headerCellClass=n.headerCellClass,o.cellFilter=n.cellFilter?n.cellFilter:"",o.sortCellFiltered=n.sortCellFiltered?!0:!1,o.filterCellFiltered=n.filterCellFiltered?!0:!1,o.headerCellFilter=n.headerCellFilter?n.headerCellFilter:"",o.footerCellFilter=n.footerCellFilter?n.footerCellFilter:"",o.visible=e.isNullOrUndefined(n.visible)||n.visible,o.headerClass=n.headerClass,o.enableSorting="undefined"!=typeof n.enableSorting?n.enableSorting:!0,o.sortingAlgorithm=n.sortingAlgorithm,o.sortDirectionCycle="undefined"!=typeof n.sortDirectionCycle?n.sortDirectionCycle:[null,t.ASC,t.DESC],"undefined"==typeof o.suppressRemoveSort&&(o.suppressRemoveSort="undefined"!=typeof n.suppressRemoveSort?n.suppressRemoveSort:!1),o.enableFiltering="undefined"!=typeof n.enableFiltering?n.enableFiltering:!0,o.setPropertyOrDefault(n,"menuItems",[]),i&&o.setPropertyOrDefault(n,"sort");var c=[];n.filter?c.push(n.filter):n.filters?c=n.filters:c.push({}),i?(o.setPropertyOrDefault(n,"filter"),o.setPropertyOrDefault(n,"filters",c)):o.filters.length===c.length&&o.filters.forEach(function(e,t){"undefined"!=typeof c[t].placeholder&&(e.placeholder=c[t].placeholder),"undefined"!=typeof c[t].ariaLabel&&(e.ariaLabel=c[t].ariaLabel),"undefined"!=typeof c[t].flags&&(e.flags=c[t].flags),"undefined"!=typeof c[t].type&&(e.type=c[t].type),"undefined"!=typeof c[t].selectOptions&&(e.selectOptions=c[t].selectOptions)}),r.prototype.unsort=function(){this.sort={},o.grid.api.core.raise.sortChanged(o.grid,o.grid.getColumnSorting())}},r.prototype.getColClass=function(e){var n=t.COL_CLASS_PREFIX+this.uid;return e?"."+n:n},r.prototype.isPinnedLeft=function(){return"left"===this.renderContainer},r.prototype.isPinnedRight=function(){return"right"===this.renderContainer},r.prototype.getColClassDefinition=function(){return" .grid"+this.grid.id+" "+this.getColClass(!0)+" { min-width: "+this.drawnWidth+"px; max-width: "+this.drawnWidth+"px; }"},r.prototype.getRenderContainer=function(){var e=this,t=e.renderContainer;return(null===t||""===t||void 0===t)&&(t="body"),e.grid.renderContainers[t]},r.prototype.showColumn=function(){this.colDef.visible=!0},r.prototype.getAggregationText=function(){var e=this;if(e.colDef.aggregationHideLabel)return"";if(e.colDef.aggregationLabel)return e.colDef.aggregationLabel;switch(e.colDef.aggregationType){case t.aggregationTypes.count:return n.getSafeText("aggregation.count");case t.aggregationTypes.sum:return n.getSafeText("aggregation.sum");case t.aggregationTypes.avg:return n.getSafeText("aggregation.avg");case t.aggregationTypes.min:return n.getSafeText("aggregation.min");case t.aggregationTypes.max:return n.getSafeText("aggregation.max");default:return""}},r.prototype.getCellTemplate=function(){var e=this;return e.cellTemplatePromise},r.prototype.getCompiledElementFn=function(){var e=this;return e.compiledElementFnDefer.promise},r}])}(),function(){angular.module("ui.grid").factory("GridOptions",["gridUtil","uiGridConstants",function(e,t){return{initialize:function(n){return n.onRegisterApi=n.onRegisterApi||angular.noop(),n.data=n.data||[],n.columnDefs=n.columnDefs||[],n.excludeProperties=n.excludeProperties||["$$hashKey"],n.enableRowHashing=n.enableRowHashing!==!1,n.rowIdentity=n.rowIdentity||function(t){return e.hashKey(t)},n.getRowIdentity=n.getRowIdentity||function(e){return e.$$hashKey},n.flatEntityAccess=n.flatEntityAccess===!0,n.showHeader="undefined"!=typeof n.showHeader?n.showHeader:!0,n.showHeader?n.headerRowHeight="undefined"!=typeof n.headerRowHeight?n.headerRowHeight:30:n.headerRowHeight=0,n.rowHeight=n.rowHeight||30,n.minRowsToShow="undefined"!=typeof n.minRowsToShow?n.minRowsToShow:10,n.showGridFooter=n.showGridFooter===!0,n.showColumnFooter=n.showColumnFooter===!0,n.columnFooterHeight="undefined"!=typeof n.columnFooterHeight?n.columnFooterHeight:30,n.gridFooterHeight="undefined"!=typeof n.gridFooterHeight?n.gridFooterHeight:30,n.columnWidth="undefined"!=typeof n.columnWidth?n.columnWidth:50,n.maxVisibleColumnCount="undefined"!=typeof n.maxVisibleColumnCount?n.maxVisibleColumnCount:200,n.virtualizationThreshold="undefined"!=typeof n.virtualizationThreshold?n.virtualizationThreshold:20,n.columnVirtualizationThreshold="undefined"!=typeof n.columnVirtualizationThreshold?n.columnVirtualizationThreshold:10,n.excessRows="undefined"!=typeof n.excessRows?n.excessRows:4,n.scrollThreshold="undefined"!=typeof n.scrollThreshold?n.scrollThreshold:4,n.excessColumns="undefined"!=typeof n.excessColumns?n.excessColumns:4,n.horizontalScrollThreshold="undefined"!=typeof n.horizontalScrollThreshold?n.horizontalScrollThreshold:2,n.aggregationCalcThrottle="undefined"!=typeof n.aggregationCalcThrottle?n.aggregationCalcThrottle:500,n.wheelScrollThrottle="undefined"!=typeof n.wheelScrollThrottle?n.wheelScrollThrottle:70,n.scrollDebounce="undefined"!=typeof n.scrollDebounce?n.scrollDebounce:300,n.enableSorting=n.enableSorting!==!1,n.enableFiltering=n.enableFiltering===!0,n.enableColumnMenus=n.enableColumnMenus!==!1,n.enableVerticalScrollbar="undefined"!=typeof n.enableVerticalScrollbar?n.enableVerticalScrollbar:t.scrollbars.ALWAYS,n.enableHorizontalScrollbar="undefined"!=typeof n.enableHorizontalScrollbar?n.enableHorizontalScrollbar:t.scrollbars.ALWAYS,n.enableMinHeightCheck=n.enableMinHeightCheck!==!1,n.minimumColumnSize="undefined"!=typeof n.minimumColumnSize?n.minimumColumnSize:10,n.rowEquality=n.rowEquality||function(e,t){return e===t},n.headerTemplate=n.headerTemplate||null,n.footerTemplate=n.footerTemplate||"ui-grid/ui-grid-footer",n.gridFooterTemplate=n.gridFooterTemplate||"ui-grid/ui-grid-grid-footer",n.rowTemplate=n.rowTemplate||"ui-grid/ui-grid-row",n.appScopeProvider=n.appScopeProvider||null,n}}}])}(),function(){angular.module("ui.grid").factory("GridRenderContainer",["gridUtil","uiGridConstants",function(e,t){function n(e,t,n){var r=this;r.name=e,r.grid=t,r.visibleRowCache=[],r.visibleColumnCache=[],r.renderedRows=[],r.renderedColumns=[],r.prevScrollTop=0,r.prevScrolltopPercentage=0,r.prevRowScrollIndex=0,r.prevScrollLeft=0,r.prevScrollleftPercentage=0,r.prevColumnScrollIndex=0,r.columnStyles="",r.viewportAdjusters=[],r.hasHScrollbar=!1,r.hasVScrollbar=!1,r.canvasHeightShouldUpdate=!0,r.$$canvasHeight=0,n&&angular.isObject(n)&&angular.extend(r,n),t.registerStyleComputation({priority:5,func:function(){return r.updateColumnWidths(),r.columnStyles}})}return n.prototype.reset=function(){this.visibleColumnCache.length=0,this.visibleRowCache.length=0,this.renderedRows.length=0,this.renderedColumns.length=0},n.prototype.containsColumn=function(e){return-1!==this.visibleColumnCache.indexOf(e)},n.prototype.minRowsToRender=function(){for(var e=this,t=0,n=0,r=e.getViewportHeight(),i=e.visibleRowCache.length-1;r>n&&i>=0;i--)n+=e.visibleRowCache[i].height,t++;return t},n.prototype.minColumnsToRender=function(){for(var e=this,t=this.getViewportWidth(),n=0,r=0,i=0;i<e.visibleColumnCache.length;i++){var o=e.visibleColumnCache[i];if(t>r)r+=o.drawnWidth?o.drawnWidth:0,n++;else{for(var a=0,s=i;s>=i-n;s--)a+=e.visibleColumnCache[s].drawnWidth?e.visibleColumnCache[s].drawnWidth:0;t>a&&n++}}return n},n.prototype.getVisibleRowCount=function(){return this.visibleRowCache.length},n.prototype.registerViewportAdjuster=function(e){this.viewportAdjusters.push(e)},n.prototype.removeViewportAdjuster=function(e){var t=this.viewportAdjusters.indexOf(e);t>-1&&this.viewportAdjusters.splice(t,1)},n.prototype.getViewportAdjustment=function(){var e=this,t={height:0,width:0};return e.viewportAdjusters.forEach(function(e){t=e.call(this,t)}),t},n.prototype.getMargin=function(e){var t=this,n=0;return t.viewportAdjusters.forEach(function(t){var r=t.call(this,{height:0,width:0});r.side&&r.side===e&&(n+=-1*r.width)}),n},n.prototype.getViewportHeight=function(){var e=this,t=e.headerHeight?e.headerHeight:e.grid.headerHeight,n=e.grid.gridHeight-t-e.grid.footerHeight,r=e.getViewportAdjustment();return n+=r.height},n.prototype.getViewportWidth=function(){var e=this,t=e.grid.gridWidth,n=e.getViewportAdjustment();return t+=n.width},n.prototype.getHeaderViewportWidth=function(){var e=this.getViewportWidth();return e},n.prototype.getCanvasHeight=function(){var e=this;if(!e.canvasHeightShouldUpdate)return e.$$canvasHeight;var t=e.$$canvasHeight;return e.$$canvasHeight=0,e.visibleRowCache.forEach(function(t){e.$$canvasHeight+=t.height}),e.canvasHeightShouldUpdate=!1,e.grid.api.core.raise.canvasHeightChanged(t,e.$$canvasHeight),e.$$canvasHeight},n.prototype.getVerticalScrollLength=function(){return this.getCanvasHeight()-this.getViewportHeight()+this.grid.scrollbarHeight},n.prototype.getCanvasWidth=function(){var e=this,t=e.canvasWidth;return t},n.prototype.setRenderedRows=function(e){this.renderedRows.length=e.length;for(var t=0;t<e.length;t++)this.renderedRows[t]=e[t]},n.prototype.setRenderedColumns=function(e){this.renderedColumns.length=e.length;for(var t=0;t<e.length;t++)this.renderedColumns[t]=e[t];this.updateColumnOffset()},n.prototype.updateColumnOffset=function(){for(var e=0,t=0;t<this.currentFirstColumn;t++)e+=this.visibleColumnCache[t].drawnWidth;this.columnOffset=e},n.prototype.scrollVertical=function(e){var n=-1;if(e!==this.prevScrollTop){var r=e-this.prevScrollTop;r>0&&(this.grid.scrollDirection=t.scrollDirection.DOWN),0>r&&(this.grid.scrollDirection=t.scrollDirection.UP);var i=this.getVerticalScrollLength();return n=e/i,n>1&&(n=1),0>n&&(n=0),this.adjustScrollVertical(e,n),n}},n.prototype.scrollHorizontal=function(e){var n=-1;if(e!==this.prevScrollLeft){var r=e-this.prevScrollLeft;r>0&&(this.grid.scrollDirection=t.scrollDirection.RIGHT),0>r&&(this.grid.scrollDirection=t.scrollDirection.LEFT);var i=this.canvasWidth-this.getViewportWidth();return n=0!==i?e/i:0,this.adjustScrollHorizontal(e,n),n}},n.prototype.adjustScrollVertical=function(e,t,n){(this.prevScrollTop!==e||n)&&(("undefined"==typeof e||void 0===e||null===e)&&(e=(this.getCanvasHeight()-this.getViewportHeight())*t),this.adjustRows(e,t,!1),this.prevScrollTop=e,this.prevScrolltopPercentage=t,this.grid.queueRefresh())},n.prototype.adjustScrollHorizontal=function(e,t,n){(this.prevScrollLeft!==e||n)&&(("undefined"==typeof e||void 0===e||null===e)&&(e=(this.getCanvasWidth()-this.getViewportWidth())*t),this.adjustColumns(e,t),this.prevScrollLeft=e,this.prevScrollleftPercentage=t,this.grid.queueRefresh())},n.prototype.adjustRows=function(e,t,n){var r=this,i=r.minRowsToRender(),o=r.visibleRowCache,a=o.length-i;"undefined"!=typeof t&&null!==t||!e||(t=e/r.getVerticalScrollLength());var s=Math.ceil(Math.min(a,a*t));s>a&&(s=a);var u=[];if(o.length>r.grid.options.virtualizationThreshold){if("undefined"!=typeof e&&null!==e){if(!r.grid.suppressParentScrollDown&&r.prevScrollTop<e&&s<r.prevRowScrollIndex+r.grid.options.scrollThreshold&&a>s)return;if(!r.grid.suppressParentScrollUp&&r.prevScrollTop>e&&s>r.prevRowScrollIndex-r.grid.options.scrollThreshold&&a>s)return}var l={},c={};l=Math.max(0,s-r.grid.options.excessRows),c=Math.min(o.length,s+i+r.grid.options.excessRows),u=[l,c]}else{var d=r.visibleRowCache.length;u=[0,Math.max(d,i+r.grid.options.excessRows)]}r.updateViewableRowRange(u),r.prevRowScrollIndex=s},n.prototype.adjustColumns=function(e,t){var n=this,r=n.minColumnsToRender(),i=n.visibleColumnCache,o=i.length-r;if(("undefined"==typeof t||null===t)&&e){var a=n.getCanvasWidth()-n.getViewportWidth();t=e/a}var s=Math.ceil(Math.min(o,o*t));s>o&&(s=o);var u=[];if(i.length>n.grid.options.columnVirtualizationThreshold&&n.getCanvasWidth()>n.getViewportWidth()){var l=Math.max(0,s-n.grid.options.excessColumns),c=Math.min(i.length,s+r+n.grid.options.excessColumns);u=[l,c]}else{var d=n.visibleColumnCache.length;u=[0,Math.max(d,r+n.grid.options.excessColumns)]}n.updateViewableColumnRange(u),n.prevColumnScrollIndex=s},n.prototype.updateViewableRowRange=function(e){var t=this.visibleRowCache.slice(e[0],e[1]);this.currentTopRow=e[0],this.setRenderedRows(t)},n.prototype.updateViewableColumnRange=function(e){var t=this.visibleColumnCache.slice(e[0],e[1]);this.currentFirstColumn=e[0],this.setRenderedColumns(t)},n.prototype.headerCellWrapperStyle=function(){var e=this;if(0!==e.currentFirstColumn){var t=e.columnOffset;return e.grid.isRTL()?{"margin-right":t+"px"}:{"margin-left":t+"px"}}return null},n.prototype.updateColumnWidths=function(){var t=this,n=[],r=0,i=0,o="",a=t.grid.getViewportWidth()-t.grid.scrollbarWidth,s=[];angular.forEach(t.grid.renderContainers,function(e,t){s=s.concat(e.visibleColumnCache)}),s.forEach(function(t,o){var s=0;t.visible&&(angular.isNumber(t.width)?(s=parseInt(t.width,10),i+=s,t.drawnWidth=s):e.endsWith(t.width,"%")?(s=parseInt(parseInt(t.width.replace(/%/g,""),10)/100*a),s>t.maxWidth&&(s=t.maxWidth),s<t.minWidth&&(s=t.minWidth),i+=s,t.drawnWidth=s):angular.isString(t.width)&&-1!==t.width.indexOf("*")&&(r+=t.width.length,n.push(t)))});var u=a-i;if(n.length>0){var l=u/r;n.forEach(function(e){var t=parseInt(e.width.length*l,10);t>e.maxWidth&&(t=e.maxWidth),t<e.minWidth&&(t=e.minWidth),i+=t,e.drawnWidth=t})}for(var c=function(e){e.drawnWidth<e.maxWidth&&d>0&&(e.drawnWidth++,i++,d--,p=!0)},d=a-i,p=!0;d>0&&p;)p=!1,n.forEach(c);var f=function(e){e.drawnWidth>e.minWidth&&h>0&&(e.drawnWidth--,i--,h--,p=!0)},h=i-a;for(p=!0;h>0&&p;)p=!1,n.forEach(f);var m=0;t.visibleColumnCache.forEach(function(e){e.visible&&(m+=e.drawnWidth)}),s.forEach(function(e){o+=e.getColClassDefinition()}),t.canvasWidth=m,this.columnStyles=o},n.prototype.needsHScrollbarPlaceholder=function(){return this.grid.options.enableHorizontalScrollbar&&!this.hasHScrollbar&&!this.grid.disableScrolling},n.prototype.getViewportStyle=function(){var e=this,n={};return e.hasHScrollbar=!1,e.hasVScrollbar=!1,e.grid.disableScrolling?(n["overflow-x"]="hidden",n["overflow-y"]="hidden",n):("body"===e.name?(e.hasHScrollbar=e.grid.options.enableHorizontalScrollbar!==t.scrollbars.NEVER,e.grid.isRTL()?e.grid.hasLeftContainerColumns()||(e.hasVScrollbar=e.grid.options.enableVerticalScrollbar!==t.scrollbars.NEVER):e.grid.hasRightContainerColumns()||(e.hasVScrollbar=e.grid.options.enableVerticalScrollbar!==t.scrollbars.NEVER)):"left"===e.name?e.hasVScrollbar=e.grid.isRTL()?e.grid.options.enableVerticalScrollbar!==t.scrollbars.NEVER:!1:e.hasVScrollbar=e.grid.isRTL()?!1:e.grid.options.enableVerticalScrollbar!==t.scrollbars.NEVER,n["overflow-x"]=e.hasHScrollbar?"scroll":"hidden",n["overflow-y"]=e.hasVScrollbar?"scroll":"hidden",n)},n}])}(),function(){angular.module("ui.grid").factory("GridRow",["gridUtil",function(e){function t(t,n,r){this.grid=r,this.entity=t,this.uid=e.nextUid(),this.visible=!0,this.$$height=r.options.rowHeight}return Object.defineProperty(t.prototype,"height",{get:function(){return this.$$height},set:function(e){e!==this.$$height&&(this.grid.updateCanvasHeight(),this.$$height=e)}}),t.prototype.getQualifiedColField=function(e){return"row."+this.getEntityQualifiedColField(e)},t.prototype.getEntityQualifiedColField=function(t){return e.preEval("entity."+t.field)},t.prototype.setRowInvisible=function(e){e&&e.setThisRowInvisible&&e.setThisRowInvisible("user")},t.prototype.clearRowInvisible=function(e){e&&e.clearThisRowInvisible&&e.clearThisRowInvisible("user")},t.prototype.setThisRowInvisible=function(e,t){this.invisibleReason||(this.invisibleReason={}),this.invisibleReason[e]=!0,this.evaluateRowVisibility(t)},t.prototype.clearThisRowInvisible=function(e,t){"undefined"!=typeof this.invisibleReason&&delete this.invisibleReason[e],this.evaluateRowVisibility(t)},t.prototype.evaluateRowVisibility=function(e){var t=!0;"undefined"!=typeof this.invisibleReason&&angular.forEach(this.invisibleReason,function(e,n){e&&(t=!1)}),("undefined"==typeof this.visible||this.visible!==t)&&(this.visible=t,e||(this.grid.queueGridRefresh(),this.grid.api.core.raise.rowsVisibleChanged(this)))},t}])}(),function(){"use strict";angular.module("ui.grid").factory("GridRowColumn",["$parse","$filter",function(e,t){var n=function r(e,t){if(!(this instanceof r))throw"Using GridRowColumn as a function insead of as a constructor. Must be called with `new` keyword";this.row=e,this.col=t};return n.prototype.getIntersectionValueRaw=function(){var t=e(this.row.getEntityQualifiedColField(this.col)),n=this.row;return t(n)},n.prototype.getIntersectionValueFiltered=function(){var e=this.getIntersectionValueRaw();if(this.col.cellFilter&&""!==this.col.cellFilter){var n=function(e){try{return t(e)}catch(n){return null}},r=n(this.col.cellFilter);if(r)e=r(e);else{var i,o=/([^:]*):([^:]*):?([\s\S]+)?/;null!==(i=o.exec(this.col.cellFilter))&&(e=t(i[1])(e,i[2],i[3]))}}return e},n}])}(),function(){angular.module("ui.grid").factory("ScrollEvent",["gridUtil",function(e){function t(t,n,r,i){var o=this;if(!t)throw new Error("grid argument is required");o.grid=t,o.source=i,o.withDelay=!0,o.sourceRowContainer=n,o.sourceColContainer=r,o.newScrollLeft=null,o.newScrollTop=null,o.x=null,o.y=null,o.verticalScrollLength=-9999999,o.horizontalScrollLength=-999999,o.fireThrottledScrollingEvent=e.throttle(function(e){o.grid.scrollContainers(e,o)},o.grid.options.wheelScrollThrottle,{trailing:!0})}return t.prototype.getNewScrollLeft=function(t,n){var r=this;if(!r.newScrollLeft){var i,o=t.getCanvasWidth()-t.getViewportWidth(),a=e.normalizeScrollLeft(n,r.grid);if("undefined"!=typeof r.x.percentage&&void 0!==r.x.percentage)i=r.x.percentage;else{if("undefined"==typeof r.x.pixels||void 0===r.x.pixels)throw new Error("No percentage or pixel value provided for scroll event X axis");i=r.x.percentage=(a+r.x.pixels)/o}return Math.max(0,i*o)}return r.newScrollLeft},t.prototype.getNewScrollTop=function(e,t){var n=this;if(!n.newScrollTop){var r,i=e.getVerticalScrollLength(),o=t[0].scrollTop;if("undefined"!=typeof n.y.percentage&&void 0!==n.y.percentage)r=n.y.percentage;else{if("undefined"==typeof n.y.pixels||void 0===n.y.pixels)throw new Error("No percentage or pixel value provided for scroll event Y axis");r=n.y.percentage=(o+n.y.pixels)/i}return Math.max(0,r*i)}return n.newScrollTop},t.prototype.atTop=function(e){return this.y&&(0===this.y.percentage||this.verticalScrollLength<0)&&0===e},t.prototype.atBottom=function(e){return this.y&&(1===this.y.percentage||0===this.verticalScrollLength)&&e>0},t.prototype.atLeft=function(e){return this.x&&(0===this.x.percentage||this.horizontalScrollLength<0)&&0===e},t.prototype.atRight=function(e){return this.x&&(1===this.x.percentage||0===this.horizontalScrollLength)&&e>0},t.Sources={ViewPortScroll:"ViewPortScroll",RenderContainerMouseWheel:"RenderContainerMouseWheel",RenderContainerTouchMove:"RenderContainerTouchMove",Other:99},t}])}(),function(){"use strict";angular.module("ui.grid").service("gridClassFactory",["gridUtil","$q","$compile","$templateCache","uiGridConstants","Grid","GridColumn","GridRow",function(e,t,n,r,i,o,a,s){var u={createGrid:function(r){r="undefined"!=typeof r?r:{},r.id=e.newId();var i=new o(r);if(i.options.rowTemplate){var a=t.defer();i.getRowTemplateFn=a.promise,e.getTemplate(i.options.rowTemplate).then(function(e){var t=n(e);a.resolve(t)},function(e){throw new Error("Couldn't fetch/use row template '"+i.options.rowTemplate+"'")})}return i.registerColumnBuilder(u.defaultColumnBuilder),i.registerRowBuilder(u.rowTemplateAssigner),i.registerRowsProcessor(function(e){return e.forEach(function(e){e.evaluateRowVisibility(!0)},50),e}),i.registerColumnsProcessor(function(e){return e.forEach(function(e){e.visible=!0}),e},50),i.registerColumnsProcessor(function(e){return e.forEach(function(e){e.colDef.visible===!1&&(e.visible=!1)}),e},50),i.registerRowsProcessor(i.searchRows,100),i.options.externalSort&&angular.isFunction(i.options.externalSort)?i.registerRowsProcessor(i.options.externalSort,200):i.registerRowsProcessor(i.sortByColumn,200),i},defaultColumnBuilder:function(n,r,o){var a=[],s=function(t,o,s,u,l){n[t]?r[o]=n[t]:r[o]=s,a.push(e.getTemplate(r[o]).then(function(e){angular.isFunction(e)&&(e=e());var n="cellTooltip"===l?"col.cellTooltip(row,col)":"col.headerTooltip(col)";l&&r[l]===!1?e=e.replace(i.TOOLTIP,""):l&&r[l]&&(e=e.replace(i.TOOLTIP,'title="{{'+n+' CUSTOM_FILTERS }}"')),u?r[t]=e.replace(i.CUSTOM_FILTERS,function(){return r[u]?"|"+r[u]:""}):r[t]=e},function(e){throw new Error("Couldn't fetch/use colDef."+t+" '"+n[t]+"'")}))};return s("cellTemplate","providedCellTemplate","ui-grid/uiGridCell","cellFilter","cellTooltip"),r.cellTemplatePromise=a[0],s("headerCellTemplate","providedHeaderCellTemplate","ui-grid/uiGridHeaderCell","headerCellFilter","headerTooltip"),s("footerCellTemplate","providedFooterCellTemplate","ui-grid/uiGridFooterCell","footerCellFilter"),s("filterHeaderTemplate","providedFilterHeaderTemplate","ui-grid/ui-grid-filter"),r.compiledElementFnDefer=t.defer(),t.all(a)},rowTemplateAssigner:function(r){var i=this;if(r.rowTemplate){var o=t.defer();r.getRowTemplateFn=o.promise,e.getTemplate(r.rowTemplate).then(function(e){var t=n(e);o.resolve(t)},function(e){throw new Error("Couldn't fetch/use row template '"+r.rowTemplate+"'")})}else r.rowTemplate=i.options.rowTemplate,r.getRowTemplateFn=i.getRowTemplateFn;return r.getRowTemplateFn}};return u}])}(),function(){function e(e){
return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var t=angular.module("ui.grid");t.service("rowSearcher",["gridUtil","uiGridConstants",function(t,n){var r=n.filter.CONTAINS,i={};return i.getTerm=function(e){if("undefined"==typeof e.term)return e.term;var t=e.term;return"string"==typeof t&&(t=t.trim()),t},i.stripTerm=function(t){var n=i.getTerm(t);return"string"==typeof n?e(n.replace(/(^\*|\*$)/g,"")):n},i.guessCondition=function(e){if("undefined"==typeof e.term||!e.term)return r;var t=i.getTerm(e);if(/\*/.test(t)){var n="";e.flags&&e.flags.caseSensitive||(n+="i");var o=t.replace(/(\\)?\*/g,function(e,t){return t?e:"[\\s\\S]*?"});return new RegExp("^"+o+"$",n)}return r},i.setupFilters=function(e){for(var r=[],o=e.length,a=0;o>a;a++){var s=e[a];if(s.noTerm||!t.isNullOrUndefined(s.term)){var u={},l="";s.flags&&s.flags.caseSensitive||(l+="i"),t.isNullOrUndefined(s.term)||(u.term=i.stripTerm(s)),s.condition?u.condition=s.condition:u.condition=i.guessCondition(s),u.flags=angular.extend({caseSensitive:!1,date:!1},s.flags),u.condition===n.filter.STARTS_WITH&&(u.startswithRE=new RegExp("^"+u.term,l)),u.condition===n.filter.ENDS_WITH&&(u.endswithRE=new RegExp(u.term+"$",l)),u.condition===n.filter.CONTAINS&&(u.containsRE=new RegExp(u.term,l)),u.condition===n.filter.EXACT&&(u.exactRE=new RegExp("^"+u.term+"$",l)),r.push(u)}}return r},i.runColumnFilter=function(e,t,r,i){var o,a=typeof i.condition,s=i.term;if(o=r.filterCellFiltered?e.getCellDisplayValue(t,r):e.getCellValue(t,r),i.condition instanceof RegExp)return i.condition.test(o);if("function"===a)return i.condition(s,o,t,r);if(i.startswithRE)return i.startswithRE.test(o);if(i.endswithRE)return i.endswithRE.test(o);if(i.containsRE)return i.containsRE.test(o);if(i.exactRE)return i.exactRE.test(o);if(i.condition===n.filter.NOT_EQUAL){var u=new RegExp("^"+s+"$");return!u.exec(o)}if("number"==typeof o&&"string"==typeof s){var l=parseFloat(s.replace(/\\\./,".").replace(/\\\-/,"-"));isNaN(l)||(s=l)}return i.flags.date===!0&&(o=new Date(o),s=new Date(s.replace(/\\/g,""))),i.condition===n.filter.GREATER_THAN?o>s:i.condition===n.filter.GREATER_THAN_OR_EQUAL?o>=s:i.condition===n.filter.LESS_THAN?s>o:i.condition===n.filter.LESS_THAN_OR_EQUAL?s>=o:!0},i.searchColumn=function(e,t,n,r){if(e.options.useExternalFiltering)return!0;for(var o=r.length,a=0;o>a;a++){var s=r[a],u=i.runColumnFilter(e,t,n,s);if(!u)return!1}return!0},i.search=function(e,n,r){if(n){if(!e.options.enableFiltering)return n;for(var o=[],a=r.length,s=function(e){var n=!1;return e.forEach(function(e){(!t.isNullOrUndefined(e.term)&&""!==e.term||e.noTerm)&&(n=!0)}),n},u=0;a>u;u++){var l=r[u];"undefined"!=typeof l.filters&&s(l.filters)&&o.push({col:l,filters:i.setupFilters(l.filters)})}if(o.length>0){for(var c=function(e,t,n,r){t.visible&&!i.searchColumn(e,t,n,r)&&(t.visible=!1)},d=function(e,t){for(var r=n.length,i=0;r>i;i++)c(e,n[i],t.col,t.filters)},p=o.length,f=0;p>f;f++)d(e,o[f]);e.api.core.raise.rowsVisibleChanged&&e.api.core.raise.rowsVisibleChanged()}return n}},i}])}(),function(){var e=angular.module("ui.grid");e.service("rowSorter",["$parse","uiGridConstants",function(e,t){var n="("+t.CURRENCY_SYMBOLS.map(function(e){return"\\"+e}).join("|")+")?",r=(new RegExp("^[-+]?"+n+"[\\d,.]+"+n+"%?$"),{colSortFnCache:{}});return r.guessSortFn=function(e){switch(e){case"number":return r.sortNumber;case"numberStr":return r.sortNumberStr;case"boolean":return r.sortBool;case"string":return r.sortAlpha;case"date":return r.sortDate;case"object":return r.basicSort;default:throw new Error("No sorting function found for type:"+e)}},r.handleNulls=function(e,t){if(!e&&0!==e&&e!==!1||!t&&0!==t&&t!==!1){if(!e&&0!==e&&e!==!1&&!t&&0!==t&&t!==!1)return 0;if(!e&&0!==e&&e!==!1)return 1;if(!t&&0!==t&&t!==!1)return-1}return null},r.basicSort=function(e,t){var n=r.handleNulls(e,t);return null!==n?n:e===t?0:t>e?-1:1},r.sortNumber=function(e,t){var n=r.handleNulls(e,t);return null!==n?n:e-t},r.sortNumberStr=function(e,t){var n=r.handleNulls(e,t);if(null!==n)return n;var i,o,a=!1,s=!1;return i=parseFloat(e.replace(/[^0-9.-]/g,"")),isNaN(i)&&(a=!0),o=parseFloat(t.replace(/[^0-9.-]/g,"")),isNaN(o)&&(s=!0),a&&s?0:a?1:s?-1:i-o},r.sortAlpha=function(e,t){var n=r.handleNulls(e,t);if(null!==n)return n;var i=e.toString().toLowerCase(),o=t.toString().toLowerCase();return i===o?0:o>i?-1:1},r.sortDate=function(e,t){var n=r.handleNulls(e,t);if(null!==n)return n;e instanceof Date||(e=new Date(e)),t instanceof Date||(t=new Date(t));var i=e.getTime(),o=t.getTime();return i===o?0:o>i?-1:1},r.sortBool=function(e,t){var n=r.handleNulls(e,t);return null!==n?n:e&&t?0:e||t?e?1:-1:0},r.getSortFn=function(e,t,n){var i;return r.colSortFnCache[t.colDef.name]?i=r.colSortFnCache[t.colDef.name]:void 0!==t.sortingAlgorithm?(i=t.sortingAlgorithm,r.colSortFnCache[t.colDef.name]=t.sortingAlgorithm):t.sortCellFiltered&&t.cellFilter?(i=r.sortAlpha,r.colSortFnCache[t.colDef.name]=i):(i=r.guessSortFn(t.colDef.type),i?r.colSortFnCache[t.colDef.name]=i:i=r.sortAlpha),i},r.prioritySort=function(e,t){return void 0!==e.sort.priority&&void 0!==t.sort.priority?e.sort.priority<t.sort.priority?-1:e.sort.priority===t.sort.priority?0:1:e.sort.priority||0===e.sort.priority?-1:t.sort.priority||0===t.sort.priority?1:0},r.sort=function(e,n,i){if(n){if(e.options.useExternalSorting)return n;var o=[];if(i.forEach(function(e){!e.sort||e.sort.ignoreSort||!e.sort.direction||e.sort.direction!==t.ASC&&e.sort.direction!==t.DESC||o.push(e)}),o=o.sort(r.prioritySort),0===o.length)return n;var a,s,u=function(e,t){e.entity.$$uiGridIndex=t};n.forEach(u);var l=n.slice(0),c=function(n,i){for(var u,c=0,d=0;0===c&&d<o.length;){a=o[d],s=o[d].sort.direction,u=r.getSortFn(e,a,l);var p,f;a.sortCellFiltered?(p=e.getCellDisplayValue(n,a),f=e.getCellDisplayValue(i,a)):(p=e.getCellValue(n,a),f=e.getCellValue(i,a)),c=u(p,f,n,i,s),d++}return 0===c?n.entity.$$uiGridIndex-i.entity.$$uiGridIndex:s===t.ASC?c:0-c},d=n.sort(c),p=function(e,t){delete e.entity.$$uiGridIndex};return n.forEach(p),d}},r}])}(),function(){function e(e){var t=e;return"undefined"!=typeof t.length&&t.length&&(t=e[0]),t.ownerDocument.defaultView.getComputedStyle(t,null)}function t(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0,s=["Top","Right","Bottom","Left"];4>o;o+=2){var u=s[o];if("margin"===n){var l=parseFloat(i[n+u]);isNaN(l)||(a+=l)}if(r){if("content"===n){var c=parseFloat(i["padding"+u]);isNaN(c)||(a-=c)}if("margin"!==n){var d=parseFloat(i["border"+u+"Width"]);isNaN(d)||(a-=d)}}else{var p=parseFloat(i["padding"+u]);if(isNaN(p)||(a+=p),"padding"!==n){var f=parseFloat(i["border"+u+"Width"]);isNaN(f)||(a+=f)}}}return a}function n(n,r,i){var o,s=!0,u=e(n),l="border-box"===u.boxSizing;if(0>=o||null==o){if(o=u[r],(0>o||null==o)&&(o=n.style[r]),a.test(o))return o;s=l&&!0,o=parseFloat(o)||0}var c=o+t(n,r,i||(l?"border":"content"),s,u);return c}function r(t){t=angular.element(t)[0];var n=t.parentElement;return n||(n=document.getElementsByTagName("body")[0]),parseInt(e(n).fontSize)||parseInt(e(t).fontSize)||16}var i,o=angular.module("ui.grid");"function"!=typeof Function.prototype.bind&&(i=function(){var e=Array.prototype.slice;return function(t){var n=this,r=e.call(arguments,1);return r.length?function(){return arguments.length?n.apply(t,r.concat(e.call(arguments))):n.apply(t,r)}:function(){return arguments.length?n.apply(t,arguments):n.call(t)}}});var a=new RegExp("^("+/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source+")(?!px)[a-z%]+$","i"),s=/^(block|none|table(?!-c[ea]).+)/,u={position:"absolute",visibility:"hidden",display:"block"},l=["0","0","0","0"],c="uiGrid-";o.service("gridUtil",["$log","$window","$document","$http","$templateCache","$timeout","$interval","$injector","$q","$interpolate","uiGridConstants",function(o,a,d,p,f,h,m,g,v,b,y){function w(e,t){var n=angular.element(this),r=0,i=0,o=0,a=0;if(t.originalEvent&&(t=t.originalEvent),"detail"in t&&(o=-1*t.detail),"wheelDelta"in t&&(o=t.wheelDelta),"wheelDeltaY"in t&&(o=t.wheelDeltaY),"wheelDeltaX"in t&&(i=-1*t.wheelDeltaX),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(i=-1*o,o=0),r=0===o?i:o,"deltaY"in t&&(o=-1*t.deltaY,r=o),"deltaX"in t&&(i=t.deltaX,0===o&&(r=-1*i)),0!==o||0!==i){if(1===t.deltaMode){var s=n.data("mousewheel-line-height");r*=s,o*=s,i*=s}else if(2===t.deltaMode){var u=n.data("mousewheel-page-height");r*=u,o*=u,i*=u}a=Math.max(Math.abs(o),Math.abs(i)),(!k||k>a)&&(k=a,x(t,a)&&(k/=40)),r=Math[r>=1?"floor":"ceil"](r/k),i=Math[i>=1?"floor":"ceil"](i/k),o=Math[o>=1?"floor":"ceil"](o/k),t.deltaMode=0;var l={originalEvent:t,deltaX:i,deltaY:o,deltaFactor:k,preventDefault:function(){t.preventDefault()},stopPropagation:function(){t.stopPropagation()}};D&&clearTimeout(D),D=setTimeout(_,200),e.call(n[0],l)}}function _(){k=null}function x(e,t){return"mousewheel"===e.type&&t%120===0}var C={augmentWidthOrHeight:t,getStyles:e,createBoundedWrapper:function(e,t){return function(){return t.apply(e,arguments)}},readableColumnName:function(e){return"undefined"==typeof e||void 0===e||null===e?e:("string"!=typeof e&&(e=String(e)),e.replace(/_+/g," ").replace(/^[A-Z]+$/,function(e){return angular.lowercase(angular.uppercase(e.charAt(0))+e.slice(1))}).replace(/([\w\u00C0-\u017F]+)/g,function(e){return angular.uppercase(e.charAt(0))+e.slice(1)}).replace(/(\w+?(?=[A-Z]))/g,"$1 "))},getColumnsFromData:function(e,t){var n=[];if(!e||"undefined"==typeof e[0]||void 0===e[0])return[];angular.isUndefined(t)&&(t=[]);var r=e[0];return angular.forEach(r,function(e,r){-1===t.indexOf(r)&&n.push({name:r})}),n},newId:function(){var e=(new Date).getTime();return function(){return e+=1}}(),getTemplate:function(e){if(f.get(e))return C.postProcessTemplate(f.get(e));if(e.hasOwnProperty("then"))return e.then(C.postProcessTemplate);try{if(angular.element(e).length>0)return v.when(e).then(C.postProcessTemplate)}catch(t){}return C.logDebug("fetching url",e),p({method:"GET",url:e}).then(function(t){var n=t.data.trim();return f.put(e,n),n},function(t){throw new Error("Could not get template "+e+": "+t)}).then(C.postProcessTemplate)},postProcessTemplate:function(e){var t=b.startSymbol(),n=b.endSymbol();return("{{"!==t||"}}"!==n)&&(e=e.replace(/\{\{/g,t),e=e.replace(/\}\}/g,n)),v.when(e)},guessType:function(e){var t=typeof e;switch(t){case"number":case"boolean":case"string":return t;default:return angular.isDate(e)?"date":"object"}},elementWidth:function(e){},elementHeight:function(e){},getScrollbarWidth:function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",e.appendChild(n);var r=n.offsetWidth;return e.parentNode.removeChild(e),t-r},swap:function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i},fakeElement:function(e,t,n,r){var i,o,a=angular.element(e).clone()[0];for(o in t)a.style[o]=t[o];return angular.element(document.body).append(a),i=n.call(a,a),angular.element(a).remove(),i},normalizeWheelEvent:function(e){var t,n,r,i=e||window.event,o=([].slice.call(arguments,1),0),a=0,s=0,u=0,l=0;return i.originalEvent&&(i=i.originalEvent),i.wheelDelta&&(o=i.wheelDelta),i.detail&&(o=-1*i.detail),s=o,void 0!==i.axis&&i.axis===i.HORIZONTAL_AXIS&&(s=0,a=-1*o),i.deltaY&&(s=-1*i.deltaY,o=s),i.deltaX&&(a=i.deltaX,o=-1*a),void 0!==i.wheelDeltaY&&(s=i.wheelDeltaY),void 0!==i.wheelDeltaX&&(a=i.wheelDeltaX),u=Math.abs(o),(!t||t>u)&&(t=u),l=Math.max(Math.abs(s),Math.abs(a)),(!n||n>l)&&(n=l),r=o>0?"floor":"ceil",o=Math[r](o/t),a=Math[r](a/n),s=Math[r](s/n),{delta:o,deltaX:a,deltaY:s}},isTouchEnabled:function(){var e;return("ontouchstart"in a||a.DocumentTouch&&d instanceof DocumentTouch)&&(e=!0),e},isNullOrUndefined:function(e){return void 0===e||null===e?!0:!1},endsWith:function(e,t){return e&&t&&"string"==typeof e?-1!==e.indexOf(t,e.length-t.length):!1},arrayContainsObjectWithProperty:function(e,t,n){var r=!1;return angular.forEach(e,function(e){e[t]===n&&(r=!0)}),r},numericAndNullSort:function(e,t){return null===e?1:null===t?-1:null===e&&null===t?0:e-t},disableAnimations:function(e){var t;try{t=g.get("$animate"),angular.version.major>1||1===angular.version.major&&angular.version.minor>=4?t.enabled(e,!1):t.enabled(!1,e)}catch(n){}},enableAnimations:function(e){var t;try{return t=g.get("$animate"),angular.version.major>1||1===angular.version.major&&angular.version.minor>=4?t.enabled(e,!0):t.enabled(!0,e),t}catch(n){}},nextUid:function(){for(var e,t=l.length;t;){if(t--,e=l[t].charCodeAt(0),57===e)return l[t]="A",c+l.join("");if(90!==e)return l[t]=String.fromCharCode(e+1),c+l.join("");l[t]="0"}return l.unshift("0"),c+l.join("")},hashKey:function(e){var t,n=typeof e;return"object"===n&&null!==e?"function"==typeof(t=e.$$hashKey)?t=e.$$hashKey():"undefined"!=typeof e.$$hashKey&&e.$$hashKey?t=e.$$hashKey:void 0===t&&(t=e.$$hashKey=C.nextUid()):t=e,n+":"+t},resetUids:function(){l=["0","0","0"]},logError:function(e){y.LOG_ERROR_MESSAGES&&o.error(e)},logWarn:function(e){y.LOG_WARN_MESSAGES&&o.warn(e)},logDebug:function(){y.LOG_DEBUG_MESSAGES&&o.debug.apply(o,arguments)}};C.focus={queue:[],byId:function(e,t){this._purgeQueue();var n=h(function(){var n=(t&&t.id?t.id+"-":"")+e,r=a.document.getElementById(n);r?r.focus():C.logWarn("[focus.byId] Element id "+n+" was not found.")});return this.queue.push(n),n},byElement:function(e){if(!angular.isElement(e))return C.logWarn("Trying to focus on an element that isn't an element."),v.reject("not-element");e=angular.element(e),this._purgeQueue();var t=h(function(){e&&e[0].focus()});return this.queue.push(t),t},bySelector:function(e,t,n){var r=this;if(!angular.isElement(e))throw new Error("The parent element is not an element.");e=angular.element(e);var i=function(){var n=e[0].querySelector(t);return r.byElement(n)};if(this._purgeQueue(),n){var o=h(i);return this.queue.push(h(i)),o}return i()},_purgeQueue:function(){this.queue.forEach(function(e){h.cancel(e)}),this.queue=[]}},["width","height"].forEach(function(t){var r=angular.uppercase(t.charAt(0))+t.substr(1);C["element"+r]=function(r,i){var o=r;if(o&&"undefined"!=typeof o.length&&o.length&&(o=r[0]),o){var a=e(o);return 0===o.offsetWidth&&s.test(a.display)?C.swap(o,u,function(){return n(o,t,i)}):n(o,t,i)}return null},C["outerElement"+r]=function(e,t){return e?C["element"+r].call(this,e,t?"margin":"border"):null}}),C.closestElm=function(e,t){"undefined"!=typeof e.length&&e.length&&(e=e[0]);var n;["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].some(function(e){return"function"==typeof document.body[e]?(n=e,!0):!1});for(var r;null!==e;){if(r=e.parentElement,null!==r&&r[n](t))return r;e=r}return null},C.type=function(e){var t=Function.prototype.toString.call(e.constructor);return t.match(/function (.*?)\(/)[1]},C.getBorderSize=function(t,n){"undefined"!=typeof t.length&&t.length&&(t=t[0]);var r=e(t);n=n?"border"+n.charAt(0).toUpperCase()+n.slice(1):"border",n+="Width";var i=parseInt(r[n],10);return isNaN(i)?0:i},C.detectBrowser=function(){var e=a.navigator.userAgent,t={chrome:/chrome/i,safari:/safari/i,firefox:/firefox/i,ie:/internet explorer|trident\//i};for(var n in t)if(t[n].test(e))return n;return"unknown"},C.rtlScrollType=function $(){if($.type)return $.type;var e=angular.element('<div dir="rtl" style="font-size: 14px; width: 1px; height: 1px; position: absolute; top: -1000px; overflow: scroll">A</div>')[0],t="reverse";return document.body.appendChild(e),e.scrollLeft>0?t="default":(e.scrollLeft=1,0===e.scrollLeft&&(t="negative")),angular.element(e).remove(),$.type=t,t},C.normalizeScrollLeft=function(e,t){"undefined"!=typeof e.length&&e.length&&(e=e[0]);var n=e.scrollLeft;if(t.isRTL())switch(C.rtlScrollType()){case"default":return e.scrollWidth-n-e.clientWidth;case"negative":return Math.abs(n);case"reverse":return n}return n},C.denormalizeScrollLeft=function(e,t,n){if("undefined"!=typeof e.length&&e.length&&(e=e[0]),n.isRTL())switch(C.rtlScrollType()){case"default":var r=e.scrollWidth-e.clientWidth;return r-t;case"negative":return-1*t;case"reverse":return t}return t},C.preEval=function(e){var t=y.BRACKET_REGEXP.exec(e);if(t)return(t[1]?C.preEval(t[1]):t[1])+t[2]+(t[3]?C.preEval(t[3]):t[3]);e=e.replace(y.APOS_REGEXP,"\\'");var n=e.split(y.DOT_REGEXP),r=[n.shift()];return angular.forEach(n,function(e){r.push(e.replace(y.FUNC_REGEXP,"']$1"))}),r.join("['")},C.debounce=function(e,t,n){function r(){a=this,o=arguments;var r=function(){i=null,n||(s=e.apply(a,o))},u=n&&!i;return i&&h.cancel(i),i=h(r,t),u&&(s=e.apply(a,o)),s}var i,o,a,s;return r.cancel=function(){h.cancel(i),i=null},r},C.throttle=function(e,t,n){function r(t){a=+new Date,e.apply(i,o),m(function(){s=null},0,1)}n=n||{};var i,o,a=0,s=null;return function(){if(i=this,o=arguments,null===s){var e=+new Date-a;e>t?r():n.trailing&&(s=m(r,t-e,1))}}},C.on={},C.off={},C._events={},C.addOff=function(e){C.off[e]=function(t,n){var r=C._events[e].indexOf(n);r>0&&C._events[e].removeAt(r)}};var D,k,A="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];return C.on.mousewheel=function(e,t){if(e&&t){var n=angular.element(e);n.data("mousewheel-line-height",r(n)),n.data("mousewheel-page-height",C.elementHeight(n)),n.data("mousewheel-callbacks")||n.data("mousewheel-callbacks",{});var o=n.data("mousewheel-callbacks");o[t]=(Function.prototype.bind||i).call(w,n[0],t);for(var a=A.length;a;)n.on(A[--a],o[t])}},C.off.mousewheel=function(e,t){var n=angular.element(e),r=n.data("mousewheel-callbacks"),i=r[t];if(i)for(var o=A.length;o;)n.off(A[--o],i);delete r[t],0===Object.keys(r).length&&(n.removeData("mousewheel-line-height"),n.removeData("mousewheel-page-height"),n.removeData("mousewheel-callbacks"))},C}]),o.filter("px",function(){return function(e){return e.match(/^[\d\.]+$/)?e+"px":e}})}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){var t={aggregate:{label:"položky"},groupPanel:{description:"Přesuňte záhlaví zde pro vytvoření skupiny dle sloupce."},search:{placeholder:"Hledat...",showingItems:"Zobrazuji položky:",selectedItems:"Vybrané položky:",totalItems:"Celkem položek:",size:"Velikost strany:",first:"První strana",next:"Další strana",previous:"Předchozí strana",last:"Poslední strana"},menu:{text:"Vyberte sloupec:"},sort:{ascending:"Seřadit od A-Z",descending:"Seřadit od Z-A",remove:"Odebrat seřazení"},column:{hide:"Schovat sloupec"},aggregation:{count:"celkem řádků: ",sum:"celkem: ",avg:"avg: ",min:"min.: ",max:"max.: "},pinning:{pinLeft:"Zamknout vlevo",pinRight:"Zamknout vpravo",unpin:"Odemknout"},gridMenu:{columns:"Sloupce:",importerTitle:"Importovat soubor",exporterAllAsCsv:"Exportovat všechna data do csv",exporterVisibleAsCsv:"Exportovat viditelná data do csv",exporterSelectedAsCsv:"Exportovat vybraná data do csv",exporterAllAsPdf:"Exportovat všechna data do pdf",exporterVisibleAsPdf:"Exportovat viditelná data do pdf",exporterSelectedAsPdf:"Exportovat vybraná data do pdf",clearAllFilters:"Odstranit všechny filtry"},importer:{noHeaders:"Názvy sloupců se nepodařilo získat, obsahuje soubor záhlaví?",noObjects:"Data se nepodařilo zpracovat, obsahuje soubor řádky mimo záhlaví?",invalidCsv:"Soubor nelze zpracovat, jedná se o CSV?",invalidJson:"Soubor nelze zpracovat, je to JSON?",jsonNotArray:"Soubor musí obsahovat json. Ukončuji.."},pagination:{sizes:"položek na stránku",totalItems:"položek"},grouping:{group:"Seskupit",ungroup:"Odebrat seskupení",aggregate_count:"Agregace: Count",aggregate_sum:"Agregace: Sum",aggregate_max:"Agregace: Max",aggregate_min:"Agregace: Min",aggregate_avg:"Agregace: Avg",aggregate_remove:"Agregace: Odebrat"}};return e.add("cs",t),e.add("cz",t),e.add("cs-cz",t),e.add("cs-CZ",t),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("da",{aggregate:{label:"artikler"},groupPanel:{description:"Grupér rækker udfra en kolonne ved at trække dens overskift hertil."},search:{placeholder:"Søg...",showingItems:"Viste rækker:",selectedItems:"Valgte rækker:",totalItems:"Rækker totalt:",size:"Side størrelse:",first:"Første side",next:"Næste side",previous:"Forrige side",last:"Sidste side"},menu:{text:"Vælg kolonner:"},column:{hide:"Skjul kolonne"},aggregation:{count:"samlede rækker: ",sum:"smalede: ",avg:"gns: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("de",{aggregate:{label:"Eintrag"},groupPanel:{description:"Ziehen Sie eine Spaltenüberschrift hierhin, um nach dieser Spalte zu gruppieren."},search:{placeholder:"Suche...",showingItems:"Zeige Einträge:",selectedItems:"Ausgewählte Einträge:",totalItems:"Einträge gesamt:",size:"Einträge pro Seite:",first:"Erste Seite",next:"Nächste Seite",previous:"Vorherige Seite",last:"Letzte Seite"},menu:{text:"Spalten auswählen:"},sort:{ascending:"aufsteigend sortieren",descending:"absteigend sortieren",remove:"Sortierung zurücksetzen"},column:{hide:"Spalte ausblenden"},aggregation:{count:"Zeilen insgesamt: ",sum:"gesamt: ",avg:"Durchschnitt: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Links anheften",pinRight:"Rechts anheften",unpin:"Lösen"},gridMenu:{columns:"Spalten:",importerTitle:"Datei importieren",exporterAllAsCsv:"Alle Daten als CSV exportieren",exporterVisibleAsCsv:"sichtbare Daten als CSV exportieren",exporterSelectedAsCsv:"markierte Daten als CSV exportieren",exporterAllAsPdf:"Alle Daten als PDF exportieren",exporterVisibleAsPdf:"sichtbare Daten als PDF exportieren",exporterSelectedAsPdf:"markierte Daten als CSV exportieren",clearAllFilters:"Alle filter reinigen"},importer:{noHeaders:"Es konnten keine Spaltennamen ermittelt werden. Sind in der Datei Spaltendefinitionen enthalten?",noObjects:"Es konnten keine Zeileninformationen gelesen werden, Sind in der Datei außer den Spaltendefinitionen auch Daten enthalten?",invalidCsv:"Die Datei konnte nicht eingelesen werden, ist es eine gültige CSV-Datei?",invalidJson:"Die Datei konnte nicht eingelesen werden. Enthält sie gültiges JSON?",jsonNotArray:"Die importierte JSON-Datei muß ein Array enthalten. Breche Import ab."},pagination:{sizes:"Einträge pro Seite",totalItems:"Einträge"},grouping:{group:"Gruppieren",ungroup:"Gruppierung aufheben",aggregate_count:"Agg: Anzahl",aggregate_sum:"Agg: Summe",aggregate_max:"Agg: Maximum",aggregate_min:"Agg: Minimum",aggregate_avg:"Agg: Mittelwert",aggregate_remove:"Aggregation entfernen"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("en",{headerCell:{aria:{defaultFilterLabel:"Filter for column",removeFilter:"Remove Filter",columnMenuButtonLabel:"Column Menu"},priority:"Priority:",filterLabel:"Filter for column: "},aggregate:{label:"items"},groupPanel:{description:"Drag a column header here and drop it to group by that column."},search:{placeholder:"Search...",showingItems:"Showing Items:",selectedItems:"Selected Items:",totalItems:"Total Items:",size:"Page Size:",first:"First Page",next:"Next Page",previous:"Previous Page",last:"Last Page"},menu:{text:"Choose Columns:"},sort:{ascending:"Sort Ascending",descending:"Sort Descending",none:"Sort None",remove:"Remove Sort"},column:{hide:"Hide Column"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Pin Left",pinRight:"Pin Right",unpin:"Unpin"},columnMenu:{close:"Close"},gridMenu:{aria:{buttonLabel:"Grid Menu"},columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."},pagination:{aria:{pageToFirst:"Page to first",pageBack:"Page back",pageSelected:"Selected page",pageForward:"Page forward",pageToLast:"Page to last"},sizes:"items per page",totalItems:"items",through:"through",of:"of"},grouping:{group:"Group",ungroup:"Ungroup",aggregate_count:"Agg: Count",aggregate_sum:"Agg: Sum",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Avg",aggregate_remove:"Agg: Remove"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("es",{aggregate:{label:"Artículos"},groupPanel:{description:"Arrastre un encabezado de columna aquí y suéltelo para agrupar por esa columna."},search:{placeholder:"Buscar...",showingItems:"Artículos Mostrados:",selectedItems:"Artículos Seleccionados:",totalItems:"Artículos Totales:",size:"Tamaño de Página:",first:"Primera Página",next:"Página Siguiente",previous:"Página Anterior",last:"Última Página"},menu:{text:"Elegir columnas:"},sort:{ascending:"Orden Ascendente",descending:"Orden Descendente",remove:"Sin Ordenar"},column:{hide:"Ocultar la columna"},aggregation:{count:"filas totales: ",sum:"total: ",avg:"media: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fijar a la Izquierda",pinRight:"Fijar a la Derecha",unpin:"Quitar Fijación"},gridMenu:{columns:"Columnas:",importerTitle:"Importar archivo",exporterAllAsCsv:"Exportar todo como csv",exporterVisibleAsCsv:"Exportar vista como csv",exporterSelectedAsCsv:"Exportar selección como csv",exporterAllAsPdf:"Exportar todo como pdf",exporterVisibleAsPdf:"Exportar vista como pdf",exporterSelectedAsPdf:"Exportar selección como pdf",clearAllFilters:"Limpiar todos los filtros"},importer:{noHeaders:"No fue posible derivar los nombres de las columnas, ¿tiene encabezados el archivo?",noObjects:"No fue posible obtener registros, ¿contiene datos el archivo, aparte de los encabezados?",invalidCsv:"No fue posible procesar el archivo, ¿es un CSV válido?",invalidJson:"No fue posible procesar el archivo, ¿es un Json válido?",jsonNotArray:"El archivo json importado debe contener un array, abortando."},pagination:{sizes:"registros por página",totalItems:"registros",of:"de"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Cont",aggregate_sum:"Agr: Sum",aggregate_max:"Agr: Máx",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Prom",aggregate_remove:"Agr: Quitar"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("fa",{aggregate:{label:"قلم"},groupPanel:{description:"عنوان یک ستون را بگیر و به گروهی از آن ستون رها کن."},search:{placeholder:"جستجو...",showingItems:"نمایش اقلام:",selectedItems:"قلم‌های انتخاب شده:",totalItems:"مجموع اقلام:",size:"اندازه‌ی صفحه:",first:"اولین صفحه",next:"صفحه‌ی‌بعدی",previous:"صفحه‌ی‌ قبلی",last:"آخرین صفحه"},menu:{text:"ستون‌های انتخابی:"},sort:{ascending:"ترتیب صعودی",descending:"ترتیب نزولی",remove:"حذف مرتب کردن"},column:{hide:"پنهان‌کردن ستون"},aggregation:{count:"تعداد: ",sum:"مجموع: ",avg:"میانگین: ",min:"کمترین: ",max:"بیشترین: "},pinning:{pinLeft:"پین کردن سمت چپ",pinRight:"پین کردن سمت راست",unpin:"حذف پین"},gridMenu:{columns:"ستون‌ها:",importerTitle:"وارد کردن فایل",exporterAllAsCsv:"خروجی تمام داده‌ها در فایل csv",exporterVisibleAsCsv:"خروجی داده‌های قابل مشاهده در فایل csv",exporterSelectedAsCsv:"خروجی داده‌های انتخاب‌شده در فایل csv",exporterAllAsPdf:"خروجی تمام داده‌ها در فایل pdf",exporterVisibleAsPdf:"خروجی داده‌های قابل مشاهده در فایل pdf",exporterSelectedAsPdf:"خروجی داده‌های انتخاب‌شده در فایل pdf",clearAllFilters:"پاک کردن تمام فیلتر"},importer:{noHeaders:"نام ستون قابل استخراج نیست. آیا فایل عنوان دارد؟",noObjects:"اشیا قابل استخراج نیستند. آیا به جز عنوان‌ها در فایل داده وجود دارد؟",invalidCsv:"فایل قابل پردازش نیست. آیا فرمت  csv  معتبر است؟",invalidJson:"فایل قابل پردازش نیست. آیا فرمت json   معتبر است؟",jsonNotArray:"فایل json وارد شده باید حاوی آرایه باشد. عملیات ساقط شد."},pagination:{sizes:"اقلام در هر صفحه",totalItems:"اقلام",of:"از"},grouping:{group:"گروه‌بندی",ungroup:"حذف گروه‌بندی",aggregate_count:"Agg: تعداد",aggregate_sum:"Agg: جمع",aggregate_max:"Agg: بیشینه",aggregate_min:"Agg: کمینه",aggregate_avg:"Agg: میانگین",aggregate_remove:"Agg: حذف"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("fi",{aggregate:{label:"rivit"},groupPanel:{description:"Raahaa ja pudota otsikko tähän ryhmittääksesi sarakkeen mukaan."},search:{placeholder:"Hae...",showingItems:"Näytetään rivejä:",selectedItems:"Valitut rivit:",totalItems:"Rivejä yht.:",size:"Näytä:",first:"Ensimmäinen sivu",next:"Seuraava sivu",previous:"Edellinen sivu",last:"Viimeinen sivu"},menu:{text:"Valitse sarakkeet:"},sort:{ascending:"Järjestä nouseva",descending:"Järjestä laskeva",remove:"Poista järjestys"},column:{hide:"Piilota sarake"},aggregation:{count:"Rivejä yht.: ",sum:"Summa: ",avg:"K.a.: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Lukitse vasemmalle",pinRight:"Lukitse oikealle",unpin:"Poista lukitus"},gridMenu:{columns:"Sarakkeet:",importerTitle:"Tuo tiedosto",exporterAllAsCsv:"Vie tiedot csv-muodossa",exporterVisibleAsCsv:"Vie näkyvä tieto csv-muodossa",exporterSelectedAsCsv:"Vie valittu tieto csv-muodossa",exporterAllAsPdf:"Vie tiedot pdf-muodossa",exporterVisibleAsPdf:"Vie näkyvä tieto pdf-muodossa",exporterSelectedAsPdf:"Vie valittu tieto pdf-muodossa",clearAllFilters:"Puhdista kaikki suodattimet"},importer:{noHeaders:"Sarakkeen nimiä ei voitu päätellä, onko tiedostossa otsikkoriviä?",noObjects:"Tietoja ei voitu lukea, onko tiedostossa muuta kuin otsikkot?",invalidCsv:"Tiedostoa ei voitu käsitellä, oliko se CSV-muodossa?",invalidJson:"Tiedostoa ei voitu käsitellä, oliko se JSON-muodossa?",jsonNotArray:"Tiedosto ei sisältänyt taulukkoa, lopetetaan."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("fr",{aggregate:{label:"éléments"},groupPanel:{description:"Faites glisser une en-tête de colonne ici pour créer un groupe de colonnes."},search:{placeholder:"Recherche...",showingItems:"Affichage des éléments :",selectedItems:"Éléments sélectionnés :",totalItems:"Nombre total d'éléments:",size:"Taille de page:",first:"Première page",next:"Page Suivante",previous:"Page précédente",last:"Dernière page"},menu:{text:"Choisir des colonnes :"},sort:{ascending:"Trier par ordre croissant",descending:"Trier par ordre décroissant",remove:"Enlever le tri"},column:{hide:"Cacher la colonne"},aggregation:{count:"lignes totales: ",sum:"total: ",avg:"moy: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Épingler à gauche",pinRight:"Épingler à droite",unpin:"Détacher"},gridMenu:{columns:"Colonnes:",importerTitle:"Importer un fichier",
exporterAllAsCsv:"Exporter toutes les données en CSV",exporterVisibleAsCsv:"Exporter les données visibles en CSV",exporterSelectedAsCsv:"Exporter les données sélectionnées en CSV",exporterAllAsPdf:"Exporter toutes les données en PDF",exporterVisibleAsPdf:"Exporter les données visibles en PDF",exporterSelectedAsPdf:"Exporter les données sélectionnées en PDF",clearAllFilters:"Nettoyez tous les filtres"},importer:{noHeaders:"Impossible de déterminer le nom des colonnes, le fichier possède-t-il une en-tête ?",noObjects:"Aucun objet trouvé, le fichier possède-t-il des données autres que l'en-tête ?",invalidCsv:"Le fichier n'a pas pu être traité, le CSV est-il valide ?",invalidJson:"Le fichier n'a pas pu être traité, le JSON est-il valide ?",jsonNotArray:"Le fichier JSON importé doit contenir un tableau, abandon."},pagination:{sizes:"éléments par page",totalItems:"éléments",of:"sur"},grouping:{group:"Grouper",ungroup:"Dégrouper",aggregate_count:"Agg: Compte",aggregate_sum:"Agg: Somme",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Moy",aggregate_remove:"Agg: Retirer"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("he",{aggregate:{label:"items"},groupPanel:{description:"גרור עמודה לכאן ושחרר בכדי לקבץ עמודה זו."},search:{placeholder:"חפש...",showingItems:"מציג:",selectedItems:'סה"כ נבחרו:',totalItems:'סה"כ רשומות:',size:"תוצאות בדף:",first:"דף ראשון",next:"דף הבא",previous:"דף קודם",last:"דף אחרון"},menu:{text:"בחר עמודות:"},sort:{ascending:"סדר עולה",descending:"סדר יורד",remove:"בטל"},column:{hide:"טור הסתר"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf",clearAllFilters:"Clean all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("hy",{aggregate:{label:"տվյալներ"},groupPanel:{description:"Ըստ սյան խմբավորելու համար քաշեք և գցեք վերնագիրն այստեղ։"},search:{placeholder:"Փնտրում...",showingItems:"Ցուցադրված տվյալներ՝",selectedItems:"Ընտրված:",totalItems:"Ընդամենը՝",size:"Տողերի քանակը էջում՝",first:"Առաջին էջ",next:"Հաջորդ էջ",previous:"Նախորդ էջ",last:"Վերջին էջ"},menu:{text:"Ընտրել սյուները:"},sort:{ascending:"Աճման կարգով",descending:"Նվազման կարգով",remove:"Հանել "},column:{hide:"Թաքցնել սյունը"},aggregation:{count:"ընդամենը տող՝ ",sum:"ընդամենը՝ ",avg:"միջին՝ ",min:"մին՝ ",max:"մաքս՝ "},pinning:{pinLeft:"Կպցնել ձախ կողմում",pinRight:"Կպցնել աջ կողմում",unpin:"Արձակել"},gridMenu:{columns:"Սյուներ:",importerTitle:"Ներմուծել ֆայլ",exporterAllAsCsv:"Արտահանել ամբողջը CSV",exporterVisibleAsCsv:"Արտահանել երևացող տվյալները CSV",exporterSelectedAsCsv:"Արտահանել ընտրված տվյալները CSV",exporterAllAsPdf:"Արտահանել PDF",exporterVisibleAsPdf:"Արտահանել երևացող տվյալները PDF",exporterSelectedAsPdf:"Արտահանել ընտրված տվյալները PDF",clearAllFilters:"Մաքրել բոլոր ֆիլտրերը"},importer:{noHeaders:"Հնարավոր չեղավ որոշել սյան վերնագրերը։ Արդյո՞ք ֆայլը ունի վերնագրեր։",noObjects:"Հնարավոր չեղավ կարդալ տվյալները։ Արդյո՞ք ֆայլում կան տվյալներ։",invalidCsv:"Հնարավոր չեղավ մշակել ֆայլը։ Արդյո՞ք այն վավեր CSV է։",invalidJson:"Հնարավոր չեղավ մշակել ֆայլը։ Արդյո՞ք այն վավեր Json է։",jsonNotArray:"Ներմուծված json ֆայլը պետք է պարունակի զանգված, կասեցվում է։"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("it",{aggregate:{label:"elementi"},groupPanel:{description:"Trascina un'intestazione all'interno del gruppo della colonna."},search:{placeholder:"Ricerca...",showingItems:"Mostra:",selectedItems:"Selezionati:",totalItems:"Totali:",size:"Tot Pagine:",first:"Prima",next:"Prossima",previous:"Precedente",last:"Ultima"},menu:{text:"Scegli le colonne:"},sort:{ascending:"Asc.",descending:"Desc.",remove:"Annulla ordinamento"},column:{hide:"Nascondi"},aggregation:{count:"righe totali: ",sum:"tot: ",avg:"media: ",min:"minimo: ",max:"massimo: "},pinning:{pinLeft:"Blocca a sx",pinRight:"Blocca a dx",unpin:"Blocca in alto"},gridMenu:{columns:"Colonne:",importerTitle:"Importa",exporterAllAsCsv:"Esporta tutti i dati in CSV",exporterVisibleAsCsv:"Esporta i dati visibili in CSV",exporterSelectedAsCsv:"Esporta i dati selezionati in CSV",exporterAllAsPdf:"Esporta tutti i dati in PDF",exporterVisibleAsPdf:"Esporta i dati visibili in PDF",exporterSelectedAsPdf:"Esporta i dati selezionati in PDF",clearAllFilters:"Pulire tutti i filtri"},importer:{noHeaders:"Impossibile reperire i nomi delle colonne, sicuro che siano indicati all'interno del file?",noObjects:"Impossibile reperire gli oggetti, sicuro che siano indicati all'interno del file?",invalidCsv:"Impossibile elaborare il file, sicuro che sia un CSV?",invalidJson:"Impossibile elaborare il file, sicuro che sia un JSON valido?",jsonNotArray:"Errore! Il file JSON da importare deve contenere un array."},grouping:{group:"Raggruppa",ungroup:"Separa",aggregate_count:"Agg: N. Elem.",aggregate_sum:"Agg: Somma",aggregate_max:"Agg: Massimo",aggregate_min:"Agg: Minimo",aggregate_avg:"Agg: Media",aggregate_remove:"Agg: Rimuovi"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ja",{aggregate:{label:"項目"},groupPanel:{description:"ここに列ヘッダをドラッグアンドドロップして、その列でグループ化します。"},search:{placeholder:"検索...",showingItems:"表示中の項目:",selectedItems:"選択した項目:",totalItems:"項目の総数:",size:"ページサイズ:",first:"最初のページ",next:"次のページ",previous:"前のページ",last:"前のページ"},menu:{text:"列の選択:"},sort:{ascending:"昇順に並べ替え",descending:"降順に並べ替え",remove:"並べ替えの解除"},column:{hide:"列の非表示"},aggregation:{count:"合計行数: ",sum:"合計: ",avg:"平均: ",min:"最小: ",max:"最大: "},pinning:{pinLeft:"左に固定",pinRight:"右に固定",unpin:"固定解除"},gridMenu:{columns:"列:",importerTitle:"ファイルのインポート",exporterAllAsCsv:"すべてのデータをCSV形式でエクスポート",exporterVisibleAsCsv:"表示中のデータをCSV形式でエクスポート",exporterSelectedAsCsv:"選択したデータをCSV形式でエクスポート",exporterAllAsPdf:"すべてのデータをPDF形式でエクスポート",exporterVisibleAsPdf:"表示中のデータをPDF形式でエクスポート",exporterSelectedAsPdf:"選択したデータをPDF形式でエクスポート",clearAllFilters:"すべてのフィルタを清掃してください"},importer:{noHeaders:"列名を取得できません。ファイルにヘッダが含まれていることを確認してください。",noObjects:"オブジェクトを取得できません。ファイルにヘッダ以外のデータが含まれていることを確認してください。",invalidCsv:"ファイルを処理できません。ファイルが有効なCSV形式であることを確認してください。",invalidJson:"ファイルを処理できません。ファイルが有効なJSON形式であることを確認してください。",jsonNotArray:"インポートしたJSONファイルには配列が含まれている必要があります。処理を中止します。"},pagination:{sizes:"項目/ページ",totalItems:"項目"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ko",{aggregate:{label:"아이템"},groupPanel:{description:"컬럼으로 그룹핑하기 위해서는 컬럼 헤더를 끌어 떨어뜨려 주세요."},search:{placeholder:"검색...",showingItems:"항목 보여주기:",selectedItems:"선택 항목:",totalItems:"전체 항목:",size:"페이지 크기:",first:"첫번째 페이지",next:"다음 페이지",previous:"이전 페이지",last:"마지막 페이지"},menu:{text:"컬럼을 선택하세요:"},sort:{ascending:"오름차순 정렬",descending:"내림차순 정렬",remove:"소팅 제거"},column:{hide:"컬럼 제거"},aggregation:{count:"전체 갯수: ",sum:"전체: ",avg:"평균: ",min:"최소: ",max:"최대: "},pinning:{pinLeft:"왼쪽 핀",pinRight:"오른쪽 핀",unpin:"핀 제거"},gridMenu:{columns:"컬럼:",importerTitle:"파일 가져오기",exporterAllAsCsv:"csv로 모든 데이터 내보내기",exporterVisibleAsCsv:"csv로 보이는 데이터 내보내기",exporterSelectedAsCsv:"csv로 선택된 데이터 내보내기",exporterAllAsPdf:"pdf로 모든 데이터 내보내기",exporterVisibleAsPdf:"pdf로 보이는 데이터 내보내기",exporterSelectedAsPdf:"pdf로 선택 데이터 내보내기",clearAllFilters:"모든 필터를 청소"},importer:{noHeaders:"컬럼명이 지정되어 있지 않습니다. 파일에 헤더가 명시되어 있는지 확인해 주세요.",noObjects:"데이터가 지정되어 있지 않습니다. 데이터가 파일에 있는지 확인해 주세요.",invalidCsv:"파일을 처리할 수 없습니다. 올바른 csv인지 확인해 주세요.",invalidJson:"파일을 처리할 수 없습니다. 올바른 json인지 확인해 주세요.",jsonNotArray:"json 파일은 배열을 포함해야 합니다."},pagination:{sizes:"페이지당 항목",totalItems:"전체 항목"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("nl",{aggregate:{label:"items"},groupPanel:{description:"Sleep hier een kolomnaam heen om op te groeperen."},search:{placeholder:"Zoeken...",showingItems:"Getoonde items:",selectedItems:"Geselecteerde items:",totalItems:"Totaal aantal items:",size:"Items per pagina:",first:"Eerste pagina",next:"Volgende pagina",previous:"Vorige pagina",last:"Laatste pagina"},menu:{text:"Kies kolommen:"},sort:{ascending:"Sorteer oplopend",descending:"Sorteer aflopend",remove:"Verwijder sortering"},column:{hide:"Verberg kolom"},aggregation:{count:"Aantal rijen: ",sum:"Som: ",avg:"Gemiddelde: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Zet links vast",pinRight:"Zet rechts vast",unpin:"Maak los"},gridMenu:{columns:"Kolommen:",importerTitle:"Importeer bestand",exporterAllAsCsv:"Exporteer alle data als csv",exporterVisibleAsCsv:"Exporteer zichtbare data als csv",exporterSelectedAsCsv:"Exporteer geselecteerde data als csv",exporterAllAsPdf:"Exporteer alle data als pdf",exporterVisibleAsPdf:"Exporteer zichtbare data als pdf",exporterSelectedAsPdf:"Exporteer geselecteerde data als pdf",clearAllFilters:"Reinig alle filters"},importer:{noHeaders:"Kolomnamen kunnen niet worden afgeleid. Heeft het bestand een header?",noObjects:"Objecten kunnen niet worden afgeleid. Bevat het bestand data naast de headers?",invalidCsv:"Het bestand kan niet verwerkt worden. Is het een valide csv bestand?",invalidJson:"Het bestand kan niet verwerkt worden. Is het valide json?",jsonNotArray:"Het json bestand moet een array bevatten. De actie wordt geannuleerd."},pagination:{sizes:"items per pagina",totalItems:"items",of:"van de"},grouping:{group:"Groepeer",ungroup:"Groepering opheffen",aggregate_count:"Agg: Aantal",aggregate_sum:"Agg: Som",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Gem",aggregate_remove:"Agg: Verwijder"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("pt-br",{aggregate:{label:"itens"},groupPanel:{description:"Arraste e solte uma coluna aqui para agrupar por essa coluna"},search:{placeholder:"Procurar...",showingItems:"Mostrando os Itens:",selectedItems:"Items Selecionados:",totalItems:"Total de Itens:",size:"Tamanho da Página:",first:"Primeira Página",next:"Próxima Página",previous:"Página Anterior",last:"Última Página"},menu:{text:"Selecione as colunas:"},sort:{ascending:"Ordenar Ascendente",descending:"Ordenar Descendente",remove:"Remover Ordenação"},column:{hide:"Esconder coluna"},aggregation:{count:"total de linhas: ",sum:"total: ",avg:"med: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fixar Esquerda",pinRight:"Fixar Direita",unpin:"Desprender"},gridMenu:{columns:"Colunas:",importerTitle:"Importar arquivo",exporterAllAsCsv:"Exportar todos os dados como csv",exporterVisibleAsCsv:"Exportar dados visíveis como csv",exporterSelectedAsCsv:"Exportar dados selecionados como csv",exporterAllAsPdf:"Exportar todos os dados como pdf",exporterVisibleAsPdf:"Exportar dados visíveis como pdf",exporterSelectedAsPdf:"Exportar dados selecionados como pdf",clearAllFilters:"Limpar todos os filtros"},importer:{noHeaders:"Nomes de colunas não puderam ser derivados. O arquivo tem um cabeçalho?",noObjects:"Objetos não puderam ser derivados. Havia dados no arquivo, além dos cabeçalhos?",invalidCsv:"Arquivo não pode ser processado. É um CSV válido?",invalidJson:"Arquivo não pode ser processado. É um Json válido?",jsonNotArray:"Arquivo json importado tem que conter um array. Abortando."},pagination:{sizes:"itens por página",totalItems:"itens"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Contar",aggregate_sum:"Agr: Soma",aggregate_max:"Agr: Max",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Med",aggregate_remove:"Agr: Remover"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("pt",{aggregate:{label:"itens"},groupPanel:{description:"Arraste e solte uma coluna aqui para agrupar por essa coluna"},search:{placeholder:"Procurar...",showingItems:"Mostrando os Itens:",selectedItems:"Itens Selecionados:",totalItems:"Total de Itens:",size:"Tamanho da Página:",first:"Primeira Página",next:"Próxima Página",previous:"Página Anterior",last:"Última Página"},menu:{text:"Selecione as colunas:"},sort:{ascending:"Ordenar Ascendente",descending:"Ordenar Descendente",remove:"Remover Ordenação"},column:{hide:"Esconder coluna"},aggregation:{count:"total de linhas: ",sum:"total: ",avg:"med: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fixar Esquerda",pinRight:"Fixar Direita",unpin:"Desprender"},gridMenu:{columns:"Colunas:",importerTitle:"Importar ficheiro",exporterAllAsCsv:"Exportar todos os dados como csv",exporterVisibleAsCsv:"Exportar dados visíveis como csv",exporterSelectedAsCsv:"Exportar dados selecionados como csv",exporterAllAsPdf:"Exportar todos os dados como pdf",exporterVisibleAsPdf:"Exportar dados visíveis como pdf",exporterSelectedAsPdf:"Exportar dados selecionados como pdf",clearAllFilters:"Limpar todos os filtros"},importer:{noHeaders:"Nomes de colunas não puderam ser derivados. O ficheiro tem um cabeçalho?",noObjects:"Objetos não puderam ser derivados. Havia dados no ficheiro, além dos cabeçalhos?",invalidCsv:"Ficheiro não pode ser processado. É um CSV válido?",invalidJson:"Ficheiro não pode ser processado. É um Json válido?",jsonNotArray:"Ficheiro json importado tem que conter um array. Interrompendo."},pagination:{sizes:"itens por página",totalItems:"itens",of:"de"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Contar",aggregate_sum:"Agr: Soma",aggregate_max:"Agr: Max",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Med",aggregate_remove:"Agr: Remover"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ru",{aggregate:{label:"элементы"},groupPanel:{description:"Для группировки по столбцу перетащите сюда его название."},search:{placeholder:"Поиск...",showingItems:"Показать элементы:",selectedItems:"Выбранные элементы:",totalItems:"Всего элементов:",size:"Размер страницы:",first:"Первая страница",next:"Следующая страница",previous:"Предыдущая страница",last:"Последняя страница"},menu:{text:"Выбрать столбцы:"},sort:{ascending:"По возрастанию",descending:"По убыванию",remove:"Убрать сортировку"},column:{hide:"Спрятать столбец"},aggregation:{count:"всего строк: ",sum:"итого: ",avg:"среднее: ",min:"мин: ",max:"макс: "},pinning:{pinLeft:"Закрепить слева",pinRight:"Закрепить справа",unpin:"Открепить"},gridMenu:{columns:"Столбцы:",importerTitle:"Import file",exporterAllAsCsv:"Экспортировать всё в CSV",exporterVisibleAsCsv:"Экспортировать видимые данные в CSV",exporterSelectedAsCsv:"Экспортировать выбранные данные в CSV",exporterAllAsPdf:"Экспортировать всё в PDF",exporterVisibleAsPdf:"Экспортировать видимые данные в PDF",exporterSelectedAsPdf:"Экспортировать выбранные данные в PDF",clearAllFilters:"Очистите все фильтры"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("sk",{aggregate:{label:"items"},groupPanel:{description:"Pretiahni sem názov stĺpca pre zoskupenie podľa toho stĺpca."},search:{placeholder:"Hľadaj...",showingItems:"Zobrazujem položky:",selectedItems:"Vybraté položky:",totalItems:"Počet položiek:",size:"Počet:",first:"Prvá strana",next:"Ďalšia strana",previous:"Predchádzajúca strana",last:"Posledná strana"},menu:{text:"Vyberte stĺpce:"},sort:{ascending:"Zotriediť vzostupne",descending:"Zotriediť zostupne",remove:"Vymazať triedenie"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("sv",{aggregate:{label:"Artiklar"},groupPanel:{description:"Dra en kolumnrubrik hit och släpp den för att gruppera efter den kolumnen."},search:{placeholder:"Sök...",showingItems:"Visar artiklar:",selectedItems:"Valda artiklar:",totalItems:"Antal artiklar:",size:"Sidstorlek:",first:"Första sidan",next:"Nästa sida",previous:"Föregående sida",last:"Sista sidan"},menu:{text:"Välj kolumner:"},sort:{ascending:"Sortera stigande",descending:"Sortera fallande",remove:"Inaktivera sortering"},column:{hide:"Göm kolumn"},aggregation:{count:"Antal rader: ",sum:"Summa: ",avg:"Genomsnitt: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Fäst vänster",pinRight:"Fäst höger",unpin:"Lösgör"},gridMenu:{columns:"Kolumner:",importerTitle:"Importera fil",exporterAllAsCsv:"Exportera all data som CSV",exporterVisibleAsCsv:"Exportera synlig data som CSV",exporterSelectedAsCsv:"Exportera markerad data som CSV",exporterAllAsPdf:"Exportera all data som PDF",exporterVisibleAsPdf:"Exportera synlig data som PDF",exporterSelectedAsPdf:"Exportera markerad data som PDF",clearAllFilters:"Rengör alla filter"},importer:{noHeaders:"Kolumnnamn kunde inte härledas. Har filen ett sidhuvud?",noObjects:"Objekt kunde inte härledas. Har filen data undantaget sidhuvud?",invalidCsv:"Filen kunde inte behandlas, är den en giltig CSV?",invalidJson:"Filen kunde inte behandlas, är den en giltig JSON?",jsonNotArray:"Importerad JSON-fil måste innehålla ett fält. Import avbruten."},pagination:{sizes:"Artiklar per sida",totalItems:"Artiklar"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ta",{aggregate:{label:"உருப்படிகள்"},groupPanel:{description:"ஒரு பத்தியை குழுவாக அமைக்க அப்பத்தியின் தலைப்பை இங்கே  இழுத்து வரவும் "},search:{placeholder:"தேடல் ...",showingItems:"உருப்படிகளை காண்பித்தல்:",selectedItems:"தேர்ந்தெடுக்கப்பட்ட  உருப்படிகள்:",totalItems:"மொத்த உருப்படிகள்:",size:"பக்க அளவு: ",first:"முதல் பக்கம்",next:"அடுத்த பக்கம்",previous:"முந்தைய பக்கம் ",last:"இறுதி பக்கம்"},menu:{text:"பத்திகளை தேர்ந்தெடு:"},sort:{ascending:"மேலிருந்து கீழாக",descending:"கீழிருந்து மேலாக",remove:"வரிசையை நீக்கு"},column:{hide:"பத்தியை மறைத்து வை "},aggregation:{count:"மொத்த வரிகள்:",sum:"மொத்தம்: ",avg:"சராசரி: ",min:"குறைந்தபட்ச: ",max:"அதிகபட்ச: "},pinning:{pinLeft:"இடதுபுறமாக தைக்க ",pinRight:"வலதுபுறமாக தைக்க",unpin:"பிரி"},gridMenu:{columns:"பத்திகள்:",importerTitle:"கோப்பு : படித்தல்",exporterAllAsCsv:"எல்லா தரவுகளையும் கோப்பாக்கு: csv",exporterVisibleAsCsv:"இருக்கும் தரவுகளை கோப்பாக்கு: csv",exporterSelectedAsCsv:"தேர்ந்தெடுத்த தரவுகளை கோப்பாக்கு: csv",exporterAllAsPdf:"எல்லா தரவுகளையும் கோப்பாக்கு: pdf",exporterVisibleAsPdf:"இருக்கும் தரவுகளை கோப்பாக்கு: pdf",exporterSelectedAsPdf:"தேர்ந்தெடுத்த தரவுகளை கோப்பாக்கு: pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"பத்தியின் தலைப்புகளை பெற இயலவில்லை, கோப்பிற்கு தலைப்பு உள்ளதா?",noObjects:"இலக்குகளை உருவாக்க முடியவில்லை, கோப்பில் தலைப்புகளை தவிர தரவு ஏதேனும் உள்ளதா? ",invalidCsv:"சரிவர நடைமுறை படுத்த இயலவில்லை, கோப்பு சரிதானா? - csv",invalidJson:"சரிவர நடைமுறை படுத்த இயலவில்லை, கோப்பு சரிதானா? - json",jsonNotArray:"படித்த கோப்பில் வரிசைகள் உள்ளது, நடைமுறை ரத்து செய் : json"},pagination:{sizes:"உருப்படிகள் / பக்கம்",totalItems:"உருப்படிகள் "},grouping:{group:"குழு",ungroup:"பிரி",aggregate_count:"மதிப்பீட்டு : எண்ணு",aggregate_sum:"மதிப்பீட்டு : கூட்டல்",aggregate_max:"மதிப்பீட்டு : அதிகபட்சம்",aggregate_min:"மதிப்பீட்டு : குறைந்தபட்சம்",aggregate_avg:"மதிப்பீட்டு : சராசரி",aggregate_remove:"மதிப்பீட்டு : நீக்கு"}}),e}])}])}(),function(){var e=["uiT","uiTranslate"],t=["t","uiTranslate"],n=angular.module("ui.grid.i18n");n.constant("i18nConstants",{MISSING:"[MISSING]",UPDATE_EVENT:"$uiI18n",LOCALE_DIRECTIVE_ALIAS:"uiI18n",DEFAULT_LANG:"en"}),n.service("i18nService",["$log","i18nConstants","$rootScope",function(e,t,n){var r={_langs:{},current:null,get:function(e){return this._langs[e.toLowerCase()]},add:function(e,t){var n=e.toLowerCase();this._langs[n]||(this._langs[n]={}),angular.extend(this._langs[n],t)},getAllLangs:function(){var e=[];if(!this._langs)return e;for(var t in this._langs)e.push(t);return e},setCurrent:function(e){this.current=e.toLowerCase()},getCurrentLang:function(){return this.current}},i={add:function(e,t){"object"==typeof e?angular.forEach(e,function(e){e&&r.add(e,t)}):r.add(e,t)},getAllLangs:function(){return r.getAllLangs()},get:function(e){var t=e?e:i.getCurrentLang();return r.get(t)},getSafeText:function(e,n){var o=n?n:i.getCurrentLang(),a=r.get(o);if(!a)return t.MISSING;for(var s=e.split("."),u=a,l=0;l<s.length;++l){if(void 0===u[s[l]]||null===u[s[l]])return t.MISSING;u=u[s[l]]}return u},setCurrentLang:function(e){e&&(r.setCurrent(e),n.$broadcast(t.UPDATE_EVENT))},getCurrentLang:function(){var e=r.getCurrentLang();return e||(e=t.DEFAULT_LANG,r.setCurrent(e)),e}};return i}]);var r=function(e,t){return{compile:function(){return{pre:function(n,r,i){var o=t.LOCALE_DIRECTIVE_ALIAS,a=n.$eval(i[o]);a?n.$watch(i[o],function(){e.setCurrentLang(a)}):i.$$observers&&i.$observe(o,function(){e.setCurrentLang(i[o]||t.DEFAULT_LANG)})}}}}};n.directive("uiI18n",["i18nService","i18nConstants",r]);var i=function(t,n,r){return{restrict:"EA",compile:function(){return{pre:function(i,o,a){var s,u=e[0],l=e[1],c=a[u]||a[l]||o.html(),d=r.MISSING+c;if(a.$$observers){var p=a[u]?u:l;s=a.$observe(p,function(e){e&&o.html(t(e)(n.getCurrentLang())||d)})}var f=t(c),h=i.$on(r.UPDATE_EVENT,function(e){s?s(a[u]||a[l]):o.html(f(n.get())||d)});i.$on("$destroy",h),o.html(f(n.get())||d)}}}}};angular.forEach(e,function(e){n.directive(e,["$parse","i18nService","i18nConstants",i])});var o=function(e,t,n){return function(r){var i=e(r);return i(t.get())||n.MISSING+r}};angular.forEach(t,function(e){n.filter(e,["$parse","i18nService","i18nConstants",o])})}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("zh-cn",{headerCell:{aria:{defaultFilterLabel:"列过滤器",removeFilter:"移除过滤器",columnMenuButtonLabel:"列菜单"},priority:"优先级:",filterLabel:"列过滤器: "},aggregate:{label:"行"},groupPanel:{description:"拖曳表头到此处进行分组"},search:{placeholder:"查找",showingItems:"已显示行数：",selectedItems:"已选择行数：",totalItems:"总行数：",size:"每页显示行数：",first:"首页",next:"下一页",previous:"上一页",last:"末页"},menu:{text:"选择列："},sort:{ascending:"升序",descending:"降序",none:"无序",remove:"取消排序"},column:{hide:"隐藏列"},aggregation:{count:"计数：",sum:"求和：",avg:"均值：",min:"最小值：",max:"最大值："},pinning:{pinLeft:"左侧固定",pinRight:"右侧固定",unpin:"取消固定"},columnMenu:{close:"关闭"},gridMenu:{aria:{buttonLabel:"表格菜单"},columns:"列：",importerTitle:"导入文件",exporterAllAsCsv:"导出全部数据到CSV",exporterVisibleAsCsv:"导出可见数据到CSV",exporterSelectedAsCsv:"导出已选数据到CSV",exporterAllAsPdf:"导出全部数据到PDF",exporterVisibleAsPdf:"导出可见数据到PDF",exporterSelectedAsPdf:"导出已选数据到PDF",clearAllFilters:"清除所有过滤器"},importer:{noHeaders:"无法获取列名，确定文件包含表头？",noObjects:"无法获取数据，确定文件包含数据？",invalidCsv:"无法处理文件，确定是合法的CSV文件？",invalidJson:"无法处理文件，确定是合法的JSON文件？",jsonNotArray:"导入的文件不是JSON数组！"},pagination:{aria:{pageToFirst:"第一页",pageBack:"上一页",pageSelected:"当前页",pageForward:"下一页",pageToLast:"最后一页"},sizes:"行每页",totalItems:"行",through:"至",of:"共"},grouping:{group:"分组",ungroup:"取消分组",aggregate_count:"合计: 计数",aggregate_sum:"合计: 求和",aggregate_max:"合计: 最大",aggregate_min:"合计: 最小",aggregate_avg:"合计: 平均",aggregate_remove:"合计: 移除"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("zh-tw",{aggregate:{label:"行"},groupPanel:{description:"拖曳表頭到此處進行分組"},search:{placeholder:"查找",showingItems:"已顯示行數：",selectedItems:"已選擇行數：",totalItems:"總行數：",size:"每頁顯示行數：",first:"首頁",next:"下壹頁",previous:"上壹頁",last:"末頁"},menu:{text:"選擇列："},sort:{ascending:"升序",descending:"降序",remove:"取消排序"},column:{hide:"隱藏列"},aggregation:{count:"計數：",sum:"求和：",avg:"均值：",min:"最小值：",max:"最大值："},pinning:{pinLeft:"左側固定",pinRight:"右側固定",unpin:"取消固定"},gridMenu:{columns:"列：",importerTitle:"導入文件",exporterAllAsCsv:"導出全部數據到CSV",exporterVisibleAsCsv:"導出可見數據到CSV",exporterSelectedAsCsv:"導出已選數據到CSV",exporterAllAsPdf:"導出全部數據到PDF",exporterVisibleAsPdf:"導出可見數據到PDF",exporterSelectedAsPdf:"導出已選數據到PDF",clearAllFilters:"清除所有过滤器"},importer:{noHeaders:"無法獲取列名，確定文件包含表頭？",noObjects:"無法獲取數據，確定文件包含數據？",invalidCsv:"無法處理文件，確定是合法的CSV文件？",invalidJson:"無法處理文件，確定是合法的JSON文件？",jsonNotArray:"導入的文件不是JSON數組！"},pagination:{sizes:"行每頁",totalItems:"行"}}),e}])}])}(),function(){"use strict";var e=angular.module("ui.grid.autoResize",["ui.grid"]);e.directive("uiGridAutoResize",["$timeout","gridUtil",function(e,t){return{require:"uiGrid",scope:!1,link:function(e,n,r,i){function o(){u=t.elementHeight(n),s=t.elementWidth(n)}function a(){clearTimeout(l),l=setTimeout(function(){var r=t.elementHeight(n),l=t.elementWidth(n);r!==u||l!==s?(i.grid.gridHeight=r,i.grid.gridWidth=l,e.$apply(function(){i.grid.refresh().then(function(){o(),a()})})):a()},250)}var s,u;o();var l;a(),e.$on("$destroy",function(){clearTimeout(l)})}}}])}(),function(){"use strict";var e=angular.module("ui.grid.cellNav",["ui.grid"]);e.constant("uiGridCellNavConstants",{FEATURE_NAME:"gridCellNav",CELL_NAV_EVENT:"cellNav",direction:{LEFT:0,RIGHT:1,UP:2,DOWN:3,PG_UP:4,PG_DOWN:5},EVENT_TYPE:{KEYDOWN:0,CLICK:1,CLEAR:2}}),e.factory("uiGridCellNavFactory",["gridUtil","uiGridConstants","uiGridCellNavConstants","GridRowColumn","$q",function(e,t,n,r,i){var o=function(e,t,n,r){this.rows=e.visibleRowCache,this.columns=t.visibleColumnCache,this.leftColumns=n?n.visibleColumnCache:[],this.rightColumns=r?r.visibleColumnCache:[],this.bodyContainer=e};return o.prototype.getFocusableCols=function(){var e=this.leftColumns.concat(this.columns,this.rightColumns);return e.filter(function(e){return e.colDef.allowCellFocus})},o.prototype.getFocusableRows=function(){return this.rows.filter(function(e){return e.allowCellFocus!==!1})},o.prototype.getNextRowCol=function(e,t,r){switch(e){case n.direction.LEFT:return this.getRowColLeft(t,r);case n.direction.RIGHT:return this.getRowColRight(t,r);case n.direction.UP:return this.getRowColUp(t,r);case n.direction.DOWN:return this.getRowColDown(t,r);case n.direction.PG_UP:return this.getRowColPageUp(t,r);case n.direction.PG_DOWN:return this.getRowColPageDown(t,r)}},o.prototype.initializeSelection=function(){var e=this.getFocusableCols(),t=this.getFocusableRows();return 0===e.length||0===t.length?null:new r(t[0],e[0])},o.prototype.getRowColLeft=function(e,t){var n=this.getFocusableCols(),i=this.getFocusableRows(),o=n.indexOf(t),a=i.indexOf(e);-1===o&&(o=1);var s=0===o?n.length-1:o-1;return s>o?0===a?new r(e,n[s]):new r(i[a-1],n[s]):new r(e,n[s])},o.prototype.getRowColRight=function(e,t){var n=this.getFocusableCols(),i=this.getFocusableRows(),o=n.indexOf(t),a=i.indexOf(e);-1===o&&(o=0);var s=o===n.length-1?0:o+1;return o>s?a===i.length-1?new r(e,n[s]):new r(i[a+1],n[s]):new r(e,n[s])},o.prototype.getRowColDown=function(e,t){var n=this.getFocusableCols(),i=this.getFocusableRows(),o=n.indexOf(t),a=i.indexOf(e);return-1===o&&(o=0),a===i.length-1?new r(e,n[o]):new r(i[a+1],n[o])},o.prototype.getRowColPageDown=function(e,t){var n=this.getFocusableCols(),i=this.getFocusableRows(),o=n.indexOf(t),a=i.indexOf(e);-1===o&&(o=0);var s=this.bodyContainer.minRowsToRender();return a>=i.length-s?new r(i[i.length-1],n[o]):new r(i[a+s],n[o])},o.prototype.getRowColUp=function(e,t){var n=this.getFocusableCols(),i=this.getFocusableRows(),o=n.indexOf(t),a=i.indexOf(e);return-1===o&&(o=0),0===a?new r(e,n[o]):new r(i[a-1],n[o])},o.prototype.getRowColPageUp=function(e,t){var n=this.getFocusableCols(),i=this.getFocusableRows(),o=n.indexOf(t),a=i.indexOf(e);-1===o&&(o=0);var s=this.bodyContainer.minRowsToRender();return 0>a-s?new r(i[0],n[o]):new r(i[a-s],n[o])},o}]),e.service("uiGridCellNavService",["gridUtil","uiGridConstants","uiGridCellNavConstants","$q","uiGridCellNavFactory","GridRowColumn","ScrollEvent",function(e,t,n,r,i,o,a){var s={initializeGrid:function(e){e.registerColumnBuilder(s.cellNavColumnBuilder),e.cellNav={},e.cellNav.lastRowCol=null,e.cellNav.focusedCells=[],s.defaultGridOptions(e.options);var t={events:{cellNav:{navigate:function(e,t){},viewPortKeyDown:function(e,t){},viewPortKeyPress:function(e,t){}}},methods:{cellNav:{scrollToFocus:function(t,n){return s.scrollToFocus(e,t,n)},getFocusedCell:function(){return e.cellNav.lastRowCol},getCurrentSelection:function(){return e.cellNav.focusedCells},rowColSelectIndex:function(t){for(var n=-1,r=0;r<e.cellNav.focusedCells.length;r++)if(e.cellNav.focusedCells[r].col.uid===t.col.uid&&e.cellNav.focusedCells[r].row.uid===t.row.uid){n=r;break}return n}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.modifierKeysToMultiSelectCells=e.modifierKeysToMultiSelectCells===!0},decorateRenderContainers:function(e){var t=e.hasRightContainer()?e.renderContainers.right:null,n=e.hasLeftContainer()?e.renderContainers.left:null;null!==n&&(e.renderContainers.left.cellNav=new i(e.renderContainers.body,n,t,e.renderContainers.body)),null!==t&&(e.renderContainers.right.cellNav=new i(e.renderContainers.body,t,e.renderContainers.body,n)),e.renderContainers.body.cellNav=new i(e.renderContainers.body,e.renderContainers.body,n,t)},getDirection:function(e){return e.keyCode===t.keymap.LEFT||e.keyCode===t.keymap.TAB&&e.shiftKey?n.direction.LEFT:e.keyCode===t.keymap.RIGHT||e.keyCode===t.keymap.TAB?n.direction.RIGHT:e.keyCode===t.keymap.UP||e.keyCode===t.keymap.ENTER&&e.shiftKey?n.direction.UP:e.keyCode===t.keymap.PG_UP?n.direction.PG_UP:e.keyCode===t.keymap.DOWN||e.keyCode===t.keymap.ENTER&&!e.ctrlKey&&!e.altKey?n.direction.DOWN:e.keyCode===t.keymap.PG_DOWN?n.direction.PG_DOWN:null},cellNavColumnBuilder:function(e,t,n){var i=[];return e.allowCellFocus=void 0===e.allowCellFocus?!0:e.allowCellFocus,r.all(i)},scrollToFocus:function(e,t,n){var r=null,i=null;return"undefined"!=typeof t&&null!==t&&(r=e.getRow(t)),"undefined"!=typeof n&&null!==n&&(i=e.getColumn(n.name?n.name:n.field)),e.api.core.scrollToIfNecessary(r,i).then(function(){var t={row:r,col:i};null!==r&&null!==i&&e.cellNav.broadcastCellNav(t)})},getLeftWidth:function(e,t){var n=0;if(!t)return n;var r=e.renderContainers.body.visibleColumnCache.indexOf(t);e.renderContainers.body.visibleColumnCache.forEach(function(e,t){r>t&&(n+=e.drawnWidth);
});var i=0===r?0:(r+1)/e.renderContainers.body.visibleColumnCache.length;return n+=t.drawnWidth*i}};return s}]),e.directive("uiGridCellnav",["gridUtil","uiGridCellNavService","uiGridCellNavConstants","uiGridConstants","GridRowColumn","$timeout","$compile",function(e,t,n,r,i,o,a){return{replace:!0,priority:-150,require:"^uiGrid",scope:!1,controller:function(){},compile:function(){return{pre:function(e,o,a,s){var u=e,l=s.grid;t.initializeGrid(l),s.cellNav={},s.cellNav.makeRowCol=function(e){return e instanceof i||(e=new i(e.row,e.col)),e},s.cellNav.getActiveCell=function(){var e=o[0].getElementsByClassName("ui-grid-cell-focus");return e.length>0?e[0]:void 0},s.cellNav.broadcastCellNav=l.cellNav.broadcastCellNav=function(e,t,r){t=!(void 0===t||!t),e=s.cellNav.makeRowCol(e),s.cellNav.broadcastFocus(e,t,r),u.$broadcast(n.CELL_NAV_EVENT,e,t,r)},s.cellNav.clearFocus=l.cellNav.clearFocus=function(){l.cellNav.focusedCells=[],u.$broadcast(n.CELL_NAV_EVENT)},s.cellNav.broadcastFocus=function(e,t,n){t=!(void 0===t||!t),e=s.cellNav.makeRowCol(e);var r=e.row,o=e.col,a=s.grid.api.cellNav.rowColSelectIndex(e);if(null===l.cellNav.lastRowCol||-1===a){var u=new i(r,o);l.api.cellNav.raise.navigate(u,l.cellNav.lastRowCol),l.cellNav.lastRowCol=u,s.grid.options.modifierKeysToMultiSelectCells&&t?l.cellNav.focusedCells.push(e):l.cellNav.focusedCells=[e]}else l.options.modifierKeysToMultiSelectCells&&t&&a>=0&&l.cellNav.focusedCells.splice(a,1)},s.cellNav.handleKeyDown=function(e){var i=t.getDirection(e);if(null===i)return null;var o="body";e.uiGridTargetRenderContainerId&&(o=e.uiGridTargetRenderContainerId);var a=s.grid.api.cellNav.getFocusedCell();if(a){var u=s.grid.renderContainers[o].cellNav.getNextRowCol(i,a.row,a.col),c=s.grid.renderContainers[o].cellNav.getFocusableCols(),d=s.grid.api.cellNav.rowColSelectIndex(u);return i===n.direction.LEFT&&u.col===c[c.length-1]&&u.row===a.row&&e.keyCode===r.keymap.TAB&&e.shiftKey?(l.cellNav.focusedCells.splice(d,1),s.cellNav.clearFocus(),!0):i!==n.direction.RIGHT||u.col!==c[0]||u.row!==a.row||e.keyCode!==r.keymap.TAB||e.shiftKey?(l.scrollToIfNecessary(u.row,u.col).then(function(){s.cellNav.broadcastCellNav(u)}),e.stopPropagation(),e.preventDefault(),!1):(l.cellNav.focusedCells.splice(d,1),s.cellNav.clearFocus(),!0)}}},post:function(e,t,r,i){function o(){var r='<div id="'+s.id+'-aria-speakable" class="ui-grid-a11y-ariascreenreader-speakable ui-grid-offscreen" aria-live="assertive" role="region" aria-atomic="true" aria-hidden="false" aria-relevant="additions" >&nbsp;</div>',i=a(r)(e);t.prepend(i),e.$on(n.CELL_NAV_EVENT,function(e,t,n,r){function o(e){e!==i.text()&&(i[0].style.clip="rect(0px,0px,0px,0px)",i[0].innerHTML="",i[0].style.visibility="hidden",i[0].style.visibility="visible",""!==e&&(i[0].style.clip="auto",i[0].appendChild(document.createTextNode(e+" ")),i[0].style.visibility="hidden",i[0].style.visibility="visible"))}if(!r||"focus"!==r.type){for(var a=[],u=s.api.cellNav.getCurrentSelection(),l=0;l<u.length;l++)a.push(u[l].getIntersectionValueFiltered());var c=a.toString();o(c)}})}var s=i.grid;o()}}}}}]),e.directive("uiGridRenderContainer",["$timeout","$document","gridUtil","uiGridConstants","uiGridCellNavService","$compile","uiGridCellNavConstants",function(e,t,n,r,i,o,a){return{replace:!0,priority:-99999,require:["^uiGrid","uiGridRenderContainer","?^uiGridCellnav"],scope:!1,compile:function(){return{post:function(t,r,s,u){var l=u[0],c=u[1],d=u[2];if(l.grid.api.cellNav){var p=c.containerId,f=l.grid;if(i.decorateRenderContainers(f),"body"===p){l.grid.options.modifierKeysToMultiSelectCells?r.attr("aria-multiselectable",!0):r.attr("aria-multiselectable",!1);var h=o('<div class="ui-grid-focuser" role="region" aria-live="assertive" aria-atomic="false" tabindex="0" aria-controls="'+f.id+"-aria-speakable "+f.id+'-grid-container" aria-owns="'+f.id+'-grid-container"></div>')(t);r.append(h),h.on("focus",function(e){e.uiGridTargetRenderContainerId=p;var t=l.grid.api.cellNav.getFocusedCell();null===t&&(t=l.grid.renderContainers[p].cellNav.getNextRowCol(a.direction.DOWN,null,null),t.row&&t.col&&l.cellNav.broadcastCellNav(t))}),d.setAriaActivedescendant=function(e){r.attr("aria-activedescendant",e)},d.removeAriaActivedescendant=function(e){r.attr("aria-activedescendant")===e&&r.attr("aria-activedescendant","")},l.focus=function(){n.focus.byElement(h[0])};var m=null;h.on("keydown",function(e){e.uiGridTargetRenderContainerId=p;var t=l.grid.api.cellNav.getFocusedCell(),n=l.cellNav.handleKeyDown(e);null===n&&(l.grid.api.cellNav.raise.viewPortKeyDown(e,t),m=t)}),h.on("keypress",function(t){m&&(e(function(){l.grid.api.cellNav.raise.viewPortKeyPress(t,m)},4),m=null)}),t.$on("$destroy",function(){h.off()})}}}}}}}]),e.directive("uiGridViewport",["$timeout","$document","gridUtil","uiGridConstants","uiGridCellNavService","uiGridCellNavConstants","$log","$compile",function(e,t,n,r,i,o,a,s){return{replace:!0,priority:-99999,require:["^uiGrid","^uiGridRenderContainer","?^uiGridCellnav"],scope:!1,compile:function(){return{pre:function(e,t,n,r){},post:function(e,t,n,r){var i=r[0],o=r[1];if(i.grid.api.cellNav){var a=o.containerId;if("body"===a){var s=i.grid;s.api.core.on.scrollBegin(e,function(e){var t=i.grid.api.cellNav.getFocusedCell();null!==t&&o.colContainer.containsColumn(t.col)&&i.cellNav.clearFocus()}),s.api.core.on.scrollEnd(e,function(e){var t=i.grid.api.cellNav.getFocusedCell();null!==t&&o.colContainer.containsColumn(t.col)&&i.cellNav.broadcastCellNav(t)}),s.api.cellNav.on.navigate(e,function(){i.focus()})}}}}}}}]),e.directive("uiGridCell",["$timeout","$document","uiGridCellNavService","gridUtil","uiGridCellNavConstants","uiGridConstants","GridRowColumn",function(e,t,n,r,i,o,a){return{priority:-150,restrict:"A",require:["^uiGrid","?^uiGridCellnav"],scope:!1,link:function(e,t,n,r){function o(e){e.preventDefault()}function s(){if(!e.focused){var n=t.find("div");n.addClass("ui-grid-cell-focus"),t.attr("aria-selected",!0),c.setAriaActivedescendant(t.attr("id")),e.focused=!0}}function u(){if(e.focused){var n=t.find("div");n.removeClass("ui-grid-cell-focus"),t.attr("aria-selected",!1),c.removeAriaActivedescendant(t.attr("id")),e.focused=!1}}var l=r[0],c=r[1];if(l.grid.api.cellNav&&e.col.colDef.allowCellFocus){var d=l.grid;e.focused=!1,t.attr("tabindex",-1),t.find("div").on("click",function(t){l.cellNav.broadcastCellNav(new a(e.row,e.col),t.ctrlKey||t.metaKey,t),t.stopPropagation(),e.$apply()}),t.on("mousedown",o),l.grid.api.edit&&(l.grid.api.edit.on.beginCellEdit(e,function(){t.off("mousedown",o)}),l.grid.api.edit.on.afterCellEdit(e,function(){t.on("mousedown",o)}),l.grid.api.edit.on.cancelCellEdit(e,function(){t.on("mousedown",o)})),t.on("focus",function(t){l.cellNav.broadcastCellNav(new a(e.row,e.col),!1,t),t.stopPropagation(),e.$apply()}),e.$on(i.CELL_NAV_EVENT,function(t,n,r){var i=d.cellNav.focusedCells.some(function(t,n){return t.row===e.row&&t.col===e.col});i?s():u()}),e.$on("$destroy",function(){t.find("div").off(),t.off()})}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.edit",["ui.grid"]);e.constant("uiGridEditConstants",{EDITABLE_CELL_TEMPLATE:/EDITABLE_CELL_TEMPLATE/g,EDITABLE_CELL_DIRECTIVE:/editable_cell_directive/g,events:{BEGIN_CELL_EDIT:"uiGridEventBeginCellEdit",END_CELL_EDIT:"uiGridEventEndCellEdit",CANCEL_CELL_EDIT:"uiGridEventCancelCellEdit"}}),e.service("uiGridEditService",["$q","uiGridConstants","gridUtil",function(e,t,n){var r={initializeGrid:function(e){r.defaultGridOptions(e.options),e.registerColumnBuilder(r.editColumnBuilder),e.edit={};var t={events:{edit:{afterCellEdit:function(e,t,n,r){},beginCellEdit:function(e,t,n){},cancelCellEdit:function(e,t){}}},methods:{edit:{}}};e.api.registerEventsFromObject(t.events)},defaultGridOptions:function(e){e.cellEditableCondition=void 0===e.cellEditableCondition?!0:e.cellEditableCondition,e.enableCellEditOnFocus=void 0===e.enableCellEditOnFocus?!1:e.enableCellEditOnFocus},editColumnBuilder:function(t,r,i){var o=[];return t.enableCellEdit=void 0===t.enableCellEdit?void 0===i.enableCellEdit?"object"!==t.type:i.enableCellEdit:t.enableCellEdit,t.cellEditableCondition=void 0===t.cellEditableCondition?i.cellEditableCondition:t.cellEditableCondition,t.enableCellEdit&&(t.editableCellTemplate=t.editableCellTemplate||i.editableCellTemplate||"ui-grid/cellEditor",o.push(n.getTemplate(t.editableCellTemplate).then(function(e){r.editableCellTemplate=e},function(e){throw new Error("Couldn't fetch/use colDef.editableCellTemplate '"+t.editableCellTemplate+"'")}))),t.enableCellEditOnFocus=void 0===t.enableCellEditOnFocus?i.enableCellEditOnFocus:t.enableCellEditOnFocus,e.all(o)},isStartEditKey:function(e){return e.metaKey||e.keyCode===t.keymap.ESC||e.keyCode===t.keymap.SHIFT||e.keyCode===t.keymap.CTRL||e.keyCode===t.keymap.ALT||e.keyCode===t.keymap.WIN||e.keyCode===t.keymap.CAPSLOCK||e.keyCode===t.keymap.LEFT||e.keyCode===t.keymap.TAB&&e.shiftKey||e.keyCode===t.keymap.RIGHT||e.keyCode===t.keymap.TAB||e.keyCode===t.keymap.UP||e.keyCode===t.keymap.ENTER&&e.shiftKey||e.keyCode===t.keymap.DOWN||e.keyCode===t.keymap.ENTER?!1:!0}};return r}]),e.directive("uiGridEdit",["gridUtil","uiGridEditService",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,r,i){t.initializeGrid(i.grid)},post:function(e,t,n,r){}}}}}]),e.directive("uiGridViewport",["uiGridEditConstants",function(e){return{replace:!0,priority:-99998,require:["^uiGrid","^uiGridRenderContainer"],scope:!1,compile:function(){return{post:function(t,n,r,i){var o=i[0];if(o.grid.api.edit&&o.grid.api.cellNav){var a=i[1].containerId;"body"===a&&(t.$on(e.events.CANCEL_CELL_EDIT,function(){o.focus()}),t.$on(e.events.END_CELL_EDIT,function(){o.focus()}))}}}}}}]),e.directive("uiGridCell",["$compile","$injector","$timeout","uiGridConstants","uiGridEditConstants","gridUtil","$parse","uiGridEditService","$rootScope",function(e,t,n,r,i,o,a,s,u){var l=500;return t.has("uiGridCellNavService")&&t.get("uiGridCellNavService"),{priority:-100,restrict:"A",scope:!1,require:"?^uiGrid",link:function(t,c,d,p){function f(){c.on("dblclick",y),c.on("touchstart",h),p&&p.grid.api.cellNav&&(P=p.grid.api.cellNav.on.viewPortKeyDown(t,function(e,n){null!==n&&(n.row!==t.row||n.col!==t.col||t.col.colDef.enableCellEditOnFocus||v(e))}),T=p.grid.api.cellNav.on.navigate(t,function(e,r){t.col.colDef.enableCellEditOnFocus&&(r&&e.row===r.row&&e.col===r.col||e.row!==t.row||e.col!==t.col||n(function(){y()}))})),t.beginEditEventsWired=!0}function h(e){"undefined"!=typeof e.originalEvent&&void 0!==e.originalEvent&&(e=e.originalEvent),c.on("touchend",m),$=n(function(){},l),$.then(function(){setTimeout(y,0),c.off("touchend",m)})}function m(e){n.cancel($),c.off("touchend",m)}function g(){c.off("dblclick",y),c.off("keydown",v),c.off("touchstart",h),T(),P(),t.beginEditEventsWired=!1}function v(e){s.isStartEditKey(e)&&y(e)}function b(e,n){return!n.isSaving&&(angular.isFunction(e.colDef.cellEditableCondition)?e.colDef.cellEditableCondition(t):e.colDef.cellEditableCondition)}function y(e){t.grid.api.core.scrollToIfNecessary(t.row,t.col).then(function(){w(e)})}function w(s){if(!E&&b(t.col,t.row)){A=a(t.row.getQualifiedColField(t.col)),k=A(t),D=t.col.editableCellTemplate,D=t.col.colDef.editModelField?D.replace(r.MODEL_COL_FIELD,o.preEval("row.entity."+t.col.colDef.editModelField)):D.replace(r.MODEL_COL_FIELD,t.row.getQualifiedColField(t.col)),D=D.replace(r.COL_FIELD,"grid.getCellValue(row, col)");var l=t.col.colDef.editDropdownFilter?"|"+t.col.colDef.editDropdownFilter:"";D=D.replace(r.CUSTOM_FILTERS,l);var d="text";switch(t.col.colDef.type){case"boolean":d="checkbox";break;case"number":d="number";break;case"date":d="date"}D=D.replace("INPUT_TYPE",d);var p=t.col.colDef.editDropdownRowEntityOptionsArrayPath;p?t.editDropdownOptionsArray=C(t.row.entity,p):t.editDropdownOptionsArray=t.col.colDef.editDropdownOptionsArray,t.editDropdownIdLabel=t.col.colDef.editDropdownIdLabel?t.col.colDef.editDropdownIdLabel:"id",t.editDropdownValueLabel=t.col.colDef.editDropdownValueLabel?t.col.colDef.editDropdownValueLabel:"value";var f=function(){E=!0,g();var n=angular.element(D);c.append(n),S=t.$new(),e(n)(S);var r=angular.element(c.children()[0]);r.addClass("ui-grid-cell-contents-hidden")};u.$$phase?f():t.$apply(f);var h=t.col.grid.api.core.on.scrollBegin(t,function(){t.grid.disableScrolling||(_(),t.grid.api.edit.raise.afterCellEdit(t.row.entity,t.col.colDef,A(t),k),h(),m(),v())}),m=t.$on(i.events.END_CELL_EDIT,function(){_(),t.grid.api.edit.raise.afterCellEdit(t.row.entity,t.col.colDef,A(t),k),m(),h(),v()}),v=t.$on(i.events.CANCEL_CELL_EDIT,function(){x(),v(),h(),m()});t.$broadcast(i.events.BEGIN_CELL_EDIT,s),n(function(){t.grid.api.edit.raise.beginCellEdit(t.row.entity,t.col.colDef,s)})}}function _(){if(t.grid.disableScrolling=!1,E){p&&p.grid.api.cellNav&&p.focus();var e=angular.element(c.children()[0]);S.$destroy(),angular.element(c.children()[1]).remove(),e.removeClass("ui-grid-cell-contents-hidden"),E=!1,f(),t.grid.api.core.notifyDataChange(r.dataChange.EDIT)}}function x(){t.grid.disableScrolling=!1,E&&(A.assign(t,k),t.$apply(),t.grid.api.edit.raise.cancelCellEdit(t.row.entity,t.col.colDef),_())}function C(e,t){t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,"");for(var n=t.split(".");n.length;){var r=n.shift();if(!(r in e))return;e=e[r]}return e}var D,k,A,$,S,E=!1;if(t.col.colDef.enableCellEdit){var T=function(){},P=function(){},R=function(){t.col.colDef.enableCellEdit&&t.row.enableCellEdit!==!1?t.beginEditEventsWired||f():t.beginEditEventsWired&&g()};R();var M=t.$watch("row",function(e,t){e!==t&&R()});t.$on("$destroy",M)}}}}]),e.directive("uiGridEditor",["gridUtil","uiGridConstants","uiGridEditConstants","$timeout","uiGridEditService",function(e,t,n,r,i){return{scope:!0,require:["?^uiGrid","?^uiGridRenderContainer","ngModel"],compile:function(){return{pre:function(e,t,n){},post:function(e,o,a,s){var u,l,c;s[0]&&(u=s[0]),s[1]&&(l=s[1]),s[2]&&(c=s[2]),e.$on(n.events.BEGIN_CELL_EDIT,function(t,n){if(r(function(){if(o[0].focus(),!e.col.colDef.enableCellEditOnFocus&&u&&u.grid.api.cellNav)try{o[0].setSelectionRange(o[0].value.length,o[0].value.length)}catch(t){}else o[0].select()}),u&&u.grid.api.cellNav)var a=u.grid.api.cellNav.on.viewPortKeyPress(e,function(e,t){i.isStartEditKey(e)&&(c.$setViewValue(String.fromCharCode(e.keyCode),e),c.$render()),a()});o.on("blur",function(t){e.stopEdit(t)})}),e.deepEdit=!1,e.stopEdit=function(t){e.inputForm&&!e.inputForm.$valid?(t.stopPropagation(),e.$emit(n.events.CANCEL_CELL_EDIT)):e.$emit(n.events.END_CELL_EDIT),e.deepEdit=!1},o.on("click",function(t){"checkbox"!==o[0].type&&(e.deepEdit=!0,r(function(){e.grid.disableScrolling=!0}))}),o.on("keydown",function(r){switch(r.keyCode){case t.keymap.ESC:r.stopPropagation(),e.$emit(n.events.CANCEL_CELL_EDIT)}if(!e.deepEdit||r.keyCode!==t.keymap.LEFT&&r.keyCode!==t.keymap.RIGHT&&r.keyCode!==t.keymap.UP&&r.keyCode!==t.keymap.DOWN)if(u&&u.grid.api.cellNav)r.uiGridTargetRenderContainerId=l.containerId,null!==u.cellNav.handleKeyDown(r)&&e.stopEdit(r);else switch(r.keyCode){case t.keymap.ENTER:case t.keymap.TAB:r.stopPropagation(),r.preventDefault(),e.stopEdit(r)}else r.stopPropagation();return!0})}}}}}]),e.directive("uiGridEditor",["$filter",function(e){function t(e){if("undefined"==typeof e||""===e)return null;var t=e.split("-");if(3!==t.length)return null;var n=parseInt(t[0],10),r=parseInt(t[1],10),i=parseInt(t[2],10);return 1>r||1>n||1>i?null:new Date(n,r-1,i)}return{priority:-100,require:"?ngModel",link:function(n,r,i,o){2===angular.version.minor&&i.type&&"date"===i.type&&o&&(o.$formatters.push(function(t){return o.$setValidity(null,!t||!isNaN(t.getTime())),e("date")(t,"yyyy-MM-dd")}),o.$parsers.push(function(e){if(e&&e.length>0){var n=t(e);return o.$setValidity(null,n&&!isNaN(n.getTime())),n}return o.$setValidity(null,!0),null}))}}}]),e.directive("uiGridEditDropdown",["uiGridConstants","uiGridEditConstants",function(e,t){return{require:["?^uiGrid","?^uiGridRenderContainer"],scope:!0,compile:function(){return{pre:function(e,t,n){},post:function(n,r,i,o){var a=o[0],s=o[1];n.$on(t.events.BEGIN_CELL_EDIT,function(){r[0].focus(),r[0].style.width=r[0].parentElement.offsetWidth-1+"px",r.on("blur",function(e){n.stopEdit(e)})}),n.stopEdit=function(e){n.$emit(t.events.END_CELL_EDIT)},r.on("keydown",function(r){switch(r.keyCode){case e.keymap.ESC:r.stopPropagation(),n.$emit(t.events.CANCEL_CELL_EDIT)}if(a&&a.grid.api.cellNav)r.uiGridTargetRenderContainerId=s.containerId,null!==a.cellNav.handleKeyDown(r)&&n.stopEdit(r);else switch(r.keyCode){case e.keymap.ENTER:case e.keymap.TAB:r.stopPropagation(),r.preventDefault(),n.stopEdit(r)}return!0})}}}}}]),e.directive("uiGridEditFileChooser",["gridUtil","uiGridConstants","uiGridEditConstants","$timeout",function(e,t,n,r){return{scope:!0,require:["?^uiGrid","?^uiGridRenderContainer"],compile:function(){return{pre:function(e,t,n){},post:function(t,r,i,o){var a,s;o[0]&&(a=o[0]),o[1]&&(s=o[1]);var u=(a.grid,function(r){var i=r.srcElement||r.target;i&&i.files&&i.files.length>0?("function"==typeof t.col.colDef.editFileChooserCallback?t.col.colDef.editFileChooserCallback(t.row,t.col,i.files):e.logError("You need to set colDef.editFileChooserCallback to use the file chooser"),i.form.reset(),t.$emit(n.events.END_CELL_EDIT)):t.$emit(n.events.CANCEL_CELL_EDIT)});r[0].addEventListener("change",u,!1),t.$on(n.events.BEGIN_CELL_EDIT,function(){r[0].focus(),r[0].select(),r.on("blur",function(e){t.$emit(n.events.END_CELL_EDIT)})})}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.expandable",["ui.grid"]);e.service("uiGridExpandableService",["gridUtil","$compile",function(e,t){var n={initializeGrid:function(t){t.expandable={},t.expandable.expandedAll=!1,t.options.enableExpandable=t.options.enableExpandable!==!1,t.options.expandableRowHeight=t.options.expandableRowHeight||150,t.options.expandableRowHeaderWidth=t.options.expandableRowHeaderWidth||40,t.options.enableExpandable&&!t.options.expandableRowTemplate&&(e.logError("You have not set the expandableRowTemplate, disabling expandable module"),t.options.enableExpandable=!1);var r={events:{expandable:{rowExpandedBeforeStateChanged:function(e,t){},rowExpandedStateChanged:function(e,t){}}},methods:{expandable:{toggleRowExpansion:function(e){var r=t.getRow(e);null!==r&&n.toggleRowExpansion(t,r)},expandAllRows:function(){n.expandAllRows(t)},collapseAllRows:function(){n.collapseAllRows(t)},toggleAllRows:function(){n.toggleAllRows(t)}}}};t.api.registerEventsFromObject(r.events),t.api.registerMethodsFromObject(r.methods)},toggleRowExpansion:function(e,t){e.api.expandable.raise.rowExpandedBeforeStateChanged(t),t.isExpanded=!t.isExpanded,angular.isUndefined(t.expandedRowHeight)&&(t.expandedRowHeight=e.options.expandableRowHeight),t.isExpanded?t.height=t.grid.options.rowHeight+t.expandedRowHeight:(t.height=t.grid.options.rowHeight,e.expandable.expandedAll=!1),e.api.expandable.raise.rowExpandedStateChanged(t)},expandAllRows:function(e,t){e.renderContainers.body.visibleRowCache.forEach(function(t){t.isExpanded||n.toggleRowExpansion(e,t)}),e.expandable.expandedAll=!0,e.queueGridRefresh()},collapseAllRows:function(e){e.renderContainers.body.visibleRowCache.forEach(function(t){t.isExpanded&&n.toggleRowExpansion(e,t)}),e.expandable.expandedAll=!1,e.queueGridRefresh()},toggleAllRows:function(e){e.expandable.expandedAll?n.collapseAllRows(e):n.expandAllRows(e)}};return n}]),e.directive("uiGridExpandable",["uiGridExpandableService","$templateCache",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(n,r,i,o){if(o.grid.options.enableExpandableRowHeader!==!1){var a={name:"expandableButtons",displayName:"",exporterSuppressExport:!0,enableColumnResizing:!1,enableColumnMenu:!1,width:o.grid.options.expandableRowHeaderWidth||40};a.cellTemplate=t.get("ui-grid/expandableRowHeader"),a.headerCellTemplate=t.get("ui-grid/expandableTopRowHeader"),o.grid.addRowHeaderColumn(a)}e.initializeGrid(o.grid)},post:function(e,t,n,r){}}}}}]),e.directive("uiGrid",["uiGridExpandableService","$templateCache",function(e,t){return{replace:!0,priority:599,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,t,n,r){r.grid.api.core.on.renderingComplete(e,function(){e.row&&e.row.grid&&e.row.grid.options&&e.row.grid.options.enableExpandable&&(r.grid.parentRow=e.row)})},post:function(e,t,n,r){}}}}}]),e.directive("uiGridExpandableRow",["uiGridExpandableService","$timeout","$compile","uiGridConstants","gridUtil","$interval","$log",function(e,t,n,r,i,o,a){return{replace:!1,priority:0,scope:!1,compile:function(){return{pre:function(e,t,r,o){i.getTemplate(e.grid.options.expandableRowTemplate).then(function(r){if(e.grid.options.expandableRowScope){var i=e.grid.options.expandableRowScope;for(var o in i)i.hasOwnProperty(o)&&(e[o]=i[o])}var a=n(r)(e);t.append(a),e.row.expandedRendered=!0})},post:function(e,t,n,r){e.$on("$destroy",function(){e.row.expandedRendered=!1})}}}}}]),e.directive("uiGridRow",["$compile","gridUtil","$templateCache",function(e,t,n){return{priority:-200,scope:!1,compile:function(e,t){return{pre:function(e,t,n,r){e.expandableRow={},e.expandableRow.shouldRenderExpand=function(){var t="body"===e.colContainer.name&&e.grid.options.enableExpandable!==!1&&e.row.isExpanded&&(!e.grid.isScrollingVertically||e.row.expandedRendered);return t},e.expandableRow.shouldRenderFiller=function(){var t=e.row.isExpanded&&("body"!==e.colContainer.name||e.grid.isScrollingVertically&&!e.row.expandedRendered);return t}},post:function(e,t,n,r){}}}}}]),e.directive("uiGridViewport",["$compile","gridUtil","$templateCache",function(e,t,n){return{priority:-200,scope:!1,compile:function(e,t){var r=angular.element(e.children().children()[0]),i=n.get("ui-grid/expandableScrollFiller"),o=n.get("ui-grid/expandableRow");return r.append(o),r.append(i),{pre:function(e,t,n,r){},post:function(e,t,n,r){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.exporter",["ui.grid"]);e.constant("uiGridExporterConstants",{featureName:"exporter",ALL:"all",VISIBLE:"visible",SELECTED:"selected",CSV_CONTENT:"CSV_CONTENT",BUTTON_LABEL:"BUTTON_LABEL",FILE_NAME:"FILE_NAME"}),e.service("uiGridExporterService",["$q","uiGridExporterConstants","gridUtil","$compile","$interval","i18nService",function(e,t,n,r,i,o){var a={delay:100,initializeGrid:function(e){e.exporter={},this.defaultGridOptions(e.options);var t={events:{exporter:{}},methods:{exporter:{csvExport:function(t,n){a.csvExport(e,t,n)},pdfExport:function(t,n){a.pdfExport(e,t,n)}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods),e.api.core.addToGridMenu?a.addToMenu(e):i(function(){e.api.core.addToGridMenu&&a.addToMenu(e)},this.delay,1)},defaultGridOptions:function(e){e.exporterSuppressMenu=e.exporterSuppressMenu===!0,e.exporterMenuLabel=e.exporterMenuLabel?e.exporterMenuLabel:"Export",e.exporterSuppressColumns=e.exporterSuppressColumns?e.exporterSuppressColumns:[],e.exporterCsvColumnSeparator=e.exporterCsvColumnSeparator?e.exporterCsvColumnSeparator:",",e.exporterCsvFilename=e.exporterCsvFilename?e.exporterCsvFilename:"download.csv",e.exporterPdfFilename=e.exporterPdfFilename?e.exporterPdfFilename:"download.pdf",e.exporterOlderExcelCompatibility=e.exporterOlderExcelCompatibility===!0,e.exporterPdfDefaultStyle=e.exporterPdfDefaultStyle?e.exporterPdfDefaultStyle:{fontSize:11},e.exporterPdfTableStyle=e.exporterPdfTableStyle?e.exporterPdfTableStyle:{margin:[0,5,0,15]},e.exporterPdfTableHeaderStyle=e.exporterPdfTableHeaderStyle?e.exporterPdfTableHeaderStyle:{bold:!0,fontSize:12,color:"black"},e.exporterPdfHeader=e.exporterPdfHeader?e.exporterPdfHeader:null,e.exporterPdfFooter=e.exporterPdfFooter?e.exporterPdfFooter:null,e.exporterPdfOrientation=e.exporterPdfOrientation?e.exporterPdfOrientation:"landscape",e.exporterPdfPageSize=e.exporterPdfPageSize?e.exporterPdfPageSize:"A4",e.exporterPdfMaxGridWidth=e.exporterPdfMaxGridWidth?e.exporterPdfMaxGridWidth:720,e.exporterMenuAllData=void 0!==e.exporterMenuAllData?e.exporterMenuAllData:!0,e.exporterMenuCsv=void 0!==e.exporterMenuCsv?e.exporterMenuCsv:!0,e.exporterMenuPdf=void 0!==e.exporterMenuPdf?e.exporterMenuPdf:!0,e.exporterPdfCustomFormatter=e.exporterPdfCustomFormatter&&"function"==typeof e.exporterPdfCustomFormatter?e.exporterPdfCustomFormatter:function(e){return e},e.exporterHeaderFilterUseName=e.exporterHeaderFilterUseName===!0,e.exporterFieldCallback=e.exporterFieldCallback?e.exporterFieldCallback:function(e,t,n,r){return r},e.exporterAllDataFn=e.exporterAllDataFn?e.exporterAllDataFn:null,null==e.exporterAllDataFn&&e.exporterAllDataPromise&&(e.exporterAllDataFn=e.exporterAllDataPromise)},addToMenu:function(e){e.api.core.addToGridMenu(e,[{title:o.getSafeText("gridMenu.exporterAllAsCsv"),action:function(e){this.grid.api.exporter.csvExport(t.ALL,t.ALL)},shown:function(){return this.grid.options.exporterMenuCsv&&this.grid.options.exporterMenuAllData},order:200},{title:o.getSafeText("gridMenu.exporterVisibleAsCsv"),action:function(e){this.grid.api.exporter.csvExport(t.VISIBLE,t.VISIBLE)},shown:function(){return this.grid.options.exporterMenuCsv},order:201},{title:o.getSafeText("gridMenu.exporterSelectedAsCsv"),action:function(e){this.grid.api.exporter.csvExport(t.SELECTED,t.VISIBLE)},shown:function(){return this.grid.options.exporterMenuCsv&&this.grid.api.selection&&this.grid.api.selection.getSelectedRows().length>0},order:202},{title:o.getSafeText("gridMenu.exporterAllAsPdf"),action:function(e){this.grid.api.exporter.pdfExport(t.ALL,t.ALL)},shown:function(){return this.grid.options.exporterMenuPdf&&this.grid.options.exporterMenuAllData},order:203},{title:o.getSafeText("gridMenu.exporterVisibleAsPdf"),action:function(e){this.grid.api.exporter.pdfExport(t.VISIBLE,t.VISIBLE)},shown:function(){return this.grid.options.exporterMenuPdf},order:204},{title:o.getSafeText("gridMenu.exporterSelectedAsPdf"),action:function(e){this.grid.api.exporter.pdfExport(t.SELECTED,t.VISIBLE)},shown:function(){return this.grid.options.exporterMenuPdf&&this.grid.api.selection&&this.grid.api.selection.getSelectedRows().length>0},order:205}])},csvExport:function(e,t,n){var r=this;this.loadAllDataIfNeeded(e,t,n).then(function(){var i=e.options.showHeader?r.getColumnHeaders(e,n):[],o=r.getData(e,t,n),a=r.formatAsCsv(i,o,e.options.exporterCsvColumnSeparator);r.downloadFile(e.options.exporterCsvFilename,a,e.options.exporterOlderExcelCompatibility)})},loadAllDataIfNeeded:function(n,r,i){if(r===t.ALL&&n.rows.length!==n.options.totalItems&&n.options.exporterAllDataFn)return n.options.exporterAllDataFn().then(function(){n.modifyRows(n.options.data)});var o=e.defer();return o.resolve(),o.promise},getColumnHeaders:function(e,n){var r,i=[];if(n===t.ALL)r=e.columns;else{var o=e.renderContainers.left?e.renderContainers.left.visibleColumnCache.filter(function(e){return e.visible}):[],a=e.renderContainers.body?e.renderContainers.body.visibleColumnCache.filter(function(e){return e.visible}):[],s=e.renderContainers.right?e.renderContainers.right.visibleColumnCache.filter(function(e){return e.visible}):[];r=o.concat(a,s)}return r.forEach(function(t,n){t.colDef.exporterSuppressExport!==!0&&-1===e.options.exporterSuppressColumns.indexOf(t.name)&&i.push({name:t.field,displayName:e.options.exporterHeaderFilter?e.options.exporterHeaderFilterUseName?e.options.exporterHeaderFilter(t.name):e.options.exporterHeaderFilter(t.displayName):t.displayName,width:t.drawnWidth?t.drawnWidth:t.width,align:"number"===t.colDef.type?"right":"left"})}),i},getData:function(e,r,i){var o,a,s=[];switch(r){case t.ALL:o=e.rows;break;case t.VISIBLE:o=e.getVisibleRows();break;case t.SELECTED:e.api.selection?o=e.api.selection.getSelectedGridRows():n.logError("selection feature must be enabled to allow selected rows to be exported")}if(i===t.ALL)a=e.columns;else{var u=e.renderContainers.left?e.renderContainers.left.visibleColumnCache.filter(function(e){return e.visible}):[],l=e.renderContainers.body?e.renderContainers.body.visibleColumnCache.filter(function(e){return e.visible}):[],c=e.renderContainers.right?e.renderContainers.right.visibleColumnCache.filter(function(e){return e.visible}):[];a=u.concat(l,c)}return o.forEach(function(n,r){if(n.exporterEnableExporting!==!1){var o=[];a.forEach(function(r,a){if((r.visible||i===t.ALL)&&r.colDef.exporterSuppressExport!==!0&&-1===e.options.exporterSuppressColumns.indexOf(r.name)){var s={value:e.options.exporterFieldCallback(e,n,r,e.getCellValue(n,r))};r.colDef.exporterPdfAlign&&(s.alignment=r.colDef.exporterPdfAlign),o.push(s)}}),s.push(o)}}),s},formatAsCsv:function(e,t,n){var r=this,i=e.map(function(e){return{value:e.displayName}}),o=i.length>0?r.formatRowAsCsv(this,n)(i)+"\n":"";return o+=t.map(this.formatRowAsCsv(this,n)).join("\n")},formatRowAsCsv:function(e,t){return function(n){return n.map(e.formatFieldAsCsv).join(t)}},formatFieldAsCsv:function(e){return null==e.value?"":"number"==typeof e.value?e.value:"boolean"==typeof e.value?e.value?"TRUE":"FALSE":"string"==typeof e.value?'"'+e.value.replace(/"/g,'""')+'"':JSON.stringify(e.value)},isIE:function(){var e=navigator.userAgent.match(/(?:MSIE |Trident\/.*; rv:)(\d+)/);return e?parseInt(e[1]):!1},downloadFile:function(e,t,n){var r,i,o=document,a=o.createElement("a"),s="application/octet-stream;charset=utf-8";if(i=this.isIE(),i&&10>i){var u=o.createElement("iframe");return document.body.appendChild(u),u.contentWindow.document.open("text/html","replace"),u.contentWindow.document.write("sep=,\r\n"+t),u.contentWindow.document.close(),u.contentWindow.focus(),u.contentWindow.document.execCommand("SaveAs",!0,e),document.body.removeChild(u),!0}if(navigator.msSaveBlob)return navigator.msSaveOrOpenBlob(new Blob([n?"\ufeff":"",t],{type:s}),e);if("download"in a){var l=new Blob([n?"\ufeff":"",t],{type:s});r=URL.createObjectURL(l),a.setAttribute("download",e)}else r="data:"+s+","+encodeURIComponent(t),a.setAttribute("target","_blank");a.href=r,a.setAttribute("style","display:none;"),o.body.appendChild(a),setTimeout(function(){if(a.click)a.click();else if(document.createEvent){var e=document.createEvent("MouseEvents");e.initEvent("click",!0,!0),a.dispatchEvent(e)}o.body.removeChild(a)},this.delay)},pdfExport:function(e,t,n){var r=this;this.loadAllDataIfNeeded(e,t,n).then(function(){var i=r.getColumnHeaders(e,n),o=r.getData(e,t,n),a=r.prepareAsPdf(e,i,o);r.isIE()?r.downloadPDF(e.options.exporterPdfFilename,a):pdfMake.createPdf(a).open()})},downloadPDF:function(e,t){var n,r=document;r.createElement("a"),n=this.isIE();var i,o=pdfMake.createPdf(t);o.getBuffer(function(t){if(i=new Blob([t]),n&&10>n){var o=r.createElement("iframe");return document.body.appendChild(o),o.contentWindow.document.open("text/html","replace"),o.contentWindow.document.write(i),o.contentWindow.document.close(),o.contentWindow.focus(),o.contentWindow.document.execCommand("SaveAs",!0,e),document.body.removeChild(o),!0}return navigator.msSaveBlob?navigator.msSaveBlob(i,e):void 0})},prepareAsPdf:function(e,t,n){var r=this.calculatePdfHeaderWidths(e,t),i=t.map(function(e){return{text:e.displayName,style:"tableHeader"}}),o=n.map(this.formatRowAsPdf(this)),a=[i].concat(o),s={pageOrientation:e.options.exporterPdfOrientation,pageSize:e.options.exporterPdfPageSize,content:[{style:"tableStyle",table:{headerRows:1,widths:r,body:a}}],styles:{tableStyle:e.options.exporterPdfTableStyle,tableHeader:e.options.exporterPdfTableHeaderStyle},defaultStyle:e.options.exporterPdfDefaultStyle};return e.options.exporterPdfLayout&&(s.layout=e.options.exporterPdfLayout),e.options.exporterPdfHeader&&(s.header=e.options.exporterPdfHeader),e.options.exporterPdfFooter&&(s.footer=e.options.exporterPdfFooter),e.options.exporterPdfCustomFormatter&&(s=e.options.exporterPdfCustomFormatter(s)),s},calculatePdfHeaderWidths:function(e,t){var n=0;t.forEach(function(e){"number"==typeof e.width&&(n+=e.width)});var r=0;t.forEach(function(e){if("*"===e.width&&(r+=100),"string"==typeof e.width&&e.width.match(/(\d)*%/)){var t=parseInt(e.width.match(/(\d)*%/)[0]);e.width=n*t/100,r+=e.width}});var i=n+r;
return t.map(function(t){return"*"===t.width?t.width:t.width*e.options.exporterPdfMaxGridWidth/i})},formatRowAsPdf:function(e){return function(t){return t.map(e.formatFieldAsPdfString)}},formatFieldAsPdfString:function(e){var t;return t=null==e.value?"":"number"==typeof e.value?e.value.toString():"boolean"==typeof e.value?e.value?"TRUE":"FALSE":"string"==typeof e.value?e.value.replace(/"/g,'""'):JSON.stringify(e.value).replace(/^"/,"").replace(/"$/,""),e.alignment&&"string"==typeof e.alignment&&(t={text:t,alignment:e.alignment}),t}};return a}]),e.directive("uiGridExporter",["uiGridExporterConstants","uiGridExporterService","gridUtil","$compile",function(e,t,n,r){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(e,n,r,i){t.initializeGrid(i.grid),i.grid.exporter.$scope=e}}}])}(),function(){"use strict";var e=angular.module("ui.grid.grouping",["ui.grid","ui.grid.treeBase"]);e.constant("uiGridGroupingConstants",{featureName:"grouping",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}}),e.service("uiGridGroupingService",["$q","uiGridGroupingConstants","gridUtil","rowSorter","GridRow","gridClassFactory","i18nService","uiGridConstants","uiGridTreeBaseService",function(e,t,n,r,i,o,a,s,u){var l={initializeGrid:function(e,t){u.initializeGrid(e,t),e.grouping={},e.grouping.groupHeaderCache={},l.defaultGridOptions(e.options),e.registerRowsProcessor(l.groupRows,400),e.registerColumnBuilder(l.groupingColumnBuilder),e.registerColumnsProcessor(l.groupingColumnProcessor,400);var n={events:{grouping:{aggregationChanged:{},groupingChanged:{}}},methods:{grouping:{getGrouping:function(t){var n=l.getGrouping(e);return n.grouping.forEach(function(e){e.colName=e.col.name,delete e.col}),n.aggregations.forEach(function(e){e.colName=e.col.name,delete e.col}),n.aggregations=n.aggregations.filter(function(e){return!e.aggregation.source||"grouping"!==e.aggregation.source}),t&&(n.rowExpandedStates=l.getRowExpandedStates(e.grouping.groupingHeaderCache)),n},setGrouping:function(t){l.setGrouping(e,t)},groupColumn:function(t){var n=e.getColumn(t);l.groupColumn(e,n)},ungroupColumn:function(t){var n=e.getColumn(t);l.ungroupColumn(e,n)},clearGrouping:function(){l.clearGrouping(e)},aggregateColumn:function(t,n,r){var i=e.getColumn(t);l.aggregateColumn(e,i,n,r)}}}};e.api.registerEventsFromObject(n.events),e.api.registerMethodsFromObject(n.methods),e.api.core.on.sortChanged(t,l.tidyPriorities)},defaultGridOptions:function(e){e.enableGrouping=e.enableGrouping!==!1,e.groupingShowCounts=e.groupingShowCounts!==!1,e.groupingNullLabel="undefined"==typeof e.groupingNullLabel?"Null":e.groupingNullLabel,e.enableGroupHeaderSelection=e.enableGroupHeaderSelection===!0},groupingColumnBuilder:function(e,r,i){if(e.enableGrouping!==!1){"undefined"==typeof r.grouping&&"undefined"!=typeof e.grouping?(r.grouping=angular.copy(e.grouping),"undefined"!=typeof r.grouping.groupPriority&&r.grouping.groupPriority>-1&&(r.treeAggregationFn=u.nativeAggregations()[t.aggregation.COUNT].aggregationFn,r.treeAggregationFinalizerFn=l.groupedFinalizerFn)):"undefined"==typeof r.grouping&&(r.grouping={}),"undefined"!=typeof r.grouping&&"undefined"!=typeof r.grouping.groupPriority&&r.grouping.groupPriority>=0&&(r.suppressRemoveSort=!0);var o={name:"ui.grid.grouping.group",title:a.get().grouping.group,icon:"ui-grid-icon-indent-right",shown:function(){return"undefined"==typeof this.context.col.grouping||"undefined"==typeof this.context.col.grouping.groupPriority||this.context.col.grouping.groupPriority<0},action:function(){l.groupColumn(this.context.col.grid,this.context.col)}},s={name:"ui.grid.grouping.ungroup",title:a.get().grouping.ungroup,icon:"ui-grid-icon-indent-left",shown:function(){return"undefined"!=typeof this.context.col.grouping&&"undefined"!=typeof this.context.col.grouping.groupPriority&&this.context.col.grouping.groupPriority>=0},action:function(){l.ungroupColumn(this.context.col.grid,this.context.col)}},c={name:"ui.grid.grouping.aggregateRemove",title:a.get().grouping.aggregate_remove,shown:function(){return"undefined"!=typeof this.context.col.treeAggregationFn},action:function(){l.aggregateColumn(this.context.col.grid,this.context.col,null)}},d=function(e,t){t=t||a.get().grouping["aggregate_"+e]||e;var i={name:"ui.grid.grouping.aggregate"+e,title:t,shown:function(){return"undefined"==typeof this.context.col.treeAggregation||"undefined"==typeof this.context.col.treeAggregation.type||this.context.col.treeAggregation.type!==e},action:function(){l.aggregateColumn(this.context.col.grid,this.context.col,e)}};n.arrayContainsObjectWithProperty(r.menuItems,"name","ui.grid.grouping.aggregate"+e)||r.menuItems.push(i)};r.colDef.groupingShowGroupingMenu!==!1&&(n.arrayContainsObjectWithProperty(r.menuItems,"name","ui.grid.grouping.group")||r.menuItems.push(o),n.arrayContainsObjectWithProperty(r.menuItems,"name","ui.grid.grouping.ungroup")||r.menuItems.push(s)),r.colDef.groupingShowAggregationMenu!==!1&&(angular.forEach(u.nativeAggregations(),function(e,t){d(t)}),angular.forEach(i.treeCustomAggregations,function(e,t){d(t,e.menuTitle)}),n.arrayContainsObjectWithProperty(r.menuItems,"name","ui.grid.grouping.aggregateRemove")||r.menuItems.push(c))}},groupingColumnProcessor:function(e,t){return e=l.moveGroupColumns(this,e,t)},groupedFinalizerFn:function(e){var t=this;"undefined"!=typeof e.groupVal?(e.rendered=e.groupVal,t.grid.options.groupingShowCounts&&"date"!==t.colDef.type&&(e.rendered+=" ("+e.value+")")):e.rendered=null},moveGroupColumns:function(e,t,n){return e.options.moveGroupColumns===!1?t:(t.forEach(function(e,t){e.groupingPosition=t}),t.sort(function(e,t){var n,r;return n=e.isRowHeader?-1e3:"undefined"==typeof e.grouping||"undefined"==typeof e.grouping.groupPriority||e.grouping.groupPriority<0?null:e.grouping.groupPriority,r=t.isRowHeader?-1e3:"undefined"==typeof t.grouping||"undefined"==typeof t.grouping.groupPriority||t.grouping.groupPriority<0?null:t.grouping.groupPriority,null!==n&&null===r?-1:null!==r&&null===n?1:null!==n&&null!==r?n-r:e.groupingPosition-t.groupingPosition}),t.forEach(function(e,t){delete e.groupingPosition}),t)},groupColumn:function(e,n){"undefined"==typeof n.grouping&&(n.grouping={});var r=l.getGrouping(e);n.grouping.groupPriority=r.grouping.length,n.sort?("undefined"==typeof n.sort.direction||null===n.sort.direction)&&(n.sort.direction=s.ASC):n.sort={direction:s.ASC},n.treeAggregation={type:t.aggregation.COUNT,source:"grouping"},n.treeAggregationFn=u.nativeAggregations()[t.aggregation.COUNT].aggregationFn,n.treeAggregationFinalizerFn=l.groupedFinalizerFn,e.api.grouping.raise.groupingChanged(n),e.api.core.raise.sortChanged(e,e.getColumnSorting()),e.queueGridRefresh()},ungroupColumn:function(e,t){"undefined"!=typeof t.grouping&&(delete t.grouping.groupPriority,delete t.treeAggregation,delete t.customTreeAggregationFinalizer,l.tidyPriorities(e),e.api.grouping.raise.groupingChanged(t),e.queueGridRefresh())},aggregateColumn:function(e,t,n){"undefined"!=typeof t.grouping&&"undefined"!=typeof t.grouping.groupPriority&&t.grouping.groupPriority>=0&&l.ungroupColumn(e,t);var r={};"undefined"!=typeof e.options.treeCustomAggregations[n]?r=e.options.treeCustomAggregations[n]:"undefined"!=typeof u.nativeAggregations()[n]&&(r=u.nativeAggregations()[n]),t.treeAggregation={type:n,label:a.get().aggregation[r.label]||r.label},t.treeAggregationFn=r.aggregationFn,t.treeAggregationFinalizerFn=r.finalizerFn,e.api.grouping.raise.aggregationChanged(t),e.queueGridRefresh()},setGrouping:function(e,t){"undefined"!=typeof t&&(l.clearGrouping(e),t.grouping&&t.grouping.length&&t.grouping.length>0&&t.grouping.forEach(function(t){var n=e.getColumn(t.colName);n&&l.groupColumn(e,n)}),t.aggregations&&t.aggregations.length&&t.aggregations.forEach(function(t){var n=e.getColumn(t.colName);n&&l.aggregateColumn(e,n,t.aggregation.type)}),t.rowExpandedStates&&l.applyRowExpandedStates(e.grouping.groupingHeaderCache,t.rowExpandedStates))},clearGrouping:function(e){var t=l.getGrouping(e);t.grouping.length>0&&t.grouping.forEach(function(t){t.col||(t.col=e.getColumn(t.colName)),l.ungroupColumn(e,t.col)}),t.aggregations.length>0&&t.aggregations.forEach(function(t){t.col||(t.col=e.getColumn(t.colName)),l.aggregateColumn(e,t.col,null)})},tidyPriorities:function(e){"undefined"!=typeof e&&"undefined"==typeof e.grid||"undefined"==typeof this.grid||(e=this.grid);var t=[],n=[];e.columns.forEach(function(e,r){"undefined"!=typeof e.grouping&&"undefined"!=typeof e.grouping.groupPriority&&e.grouping.groupPriority>=0?t.push(e):"undefined"!=typeof e.sort&&"undefined"!=typeof e.sort.priority&&e.sort.priority>=0&&n.push(e)}),t.sort(function(e,t){return e.grouping.groupPriority-t.grouping.groupPriority}),t.forEach(function(e,t){e.grouping.groupPriority=t,e.suppressRemoveSort=!0,"undefined"==typeof e.sort&&(e.sort={}),e.sort.priority=t});var r=t.length;n.sort(function(e,t){return e.sort.priority-t.sort.priority}),n.forEach(function(e,t){e.sort.priority=r,e.suppressRemoveSort=e.colDef.suppressRemoveSort,r++})},groupRows:function(e){if(0===e.length)return e;var t=this;t.grouping.oldGroupingHeaderCache=t.grouping.groupingHeaderCache||{},t.grouping.groupingHeaderCache={};for(var n=l.initialiseProcessingState(t),i=function(i,s){var u=t.getCellValue(a,i.col);i.initialised&&0===r.getSortFn(t,i.col,e)(u,i.currentValue)||(l.insertGroupHeader(t,e,o,n,s),o++)},o=0;o<e.length;o++){var a=e[o];a.visible&&n.forEach(i)}return delete t.grouping.oldGroupingHeaderCache,e},initialiseProcessingState:function(e){var t=[],n=l.getGrouping(e);return n.grouping.forEach(function(e,n){t.push({fieldName:e.field,col:e.col,initialised:!1,currentValue:null,currentRow:null})}),t},getGrouping:function(e){var t=[],n=[];return e.columns.forEach(function(e,r){e.grouping&&"undefined"!=typeof e.grouping.groupPriority&&e.grouping.groupPriority>=0&&t.push({field:e.field,col:e,groupPriority:e.grouping.groupPriority,grouping:e.grouping}),e.treeAggregation&&e.treeAggregation.type&&n.push({field:e.field,col:e,aggregation:e.treeAggregation})}),t.sort(function(e,t){return e.groupPriority-t.groupPriority}),t.forEach(function(e,t){e.grouping.groupPriority=t,e.groupPriority=t,delete e.grouping}),{grouping:t,aggregations:n}},insertGroupHeader:function(e,t,n,r,a){var s=(r[a].fieldName,r[a].col),u=e.getCellValue(t[n],s),c=u;("undefined"==typeof u||null===u)&&(c=e.options.groupingNullLabel);for(var d=e.grouping.oldGroupingHeaderCache,p=0;a>p;p++)d&&d[r[p].currentValue]&&(d=d[r[p].currentValue].children);var f;for(d&&d[u]?(f=d[u].row,f.entity={}):(f=new i({},null,e),o.rowTemplateAssigner.call(e,f)),f.entity["$$"+r[a].col.uid]={groupVal:c},f.treeLevel=a,f.groupHeader=!0,f.internalRow=!0,f.enableCellEdit=!1,f.enableSelection=e.options.enableGroupHeaderSelection,r[a].initialised=!0,r[a].currentValue=u,r[a].currentRow=f,l.finaliseProcessingState(r,a+1),t.splice(n,0,f),d=e.grouping.groupingHeaderCache,p=0;a>p;p++)d=d[r[p].currentValue].children;d[u]={row:f,children:{}}},finaliseProcessingState:function(e,t){for(var n=t;n<e.length;n++)e[n].initialised=!1,e[n].currentRow=null,e[n].currentValue=null},getRowExpandedStates:function(e){if("undefined"==typeof e)return{};var t={};return angular.forEach(e,function(e,n){t[n]={state:e.row.treeNode.state},e.children?t[n].children=l.getRowExpandedStates(e.children):t[n].children={}}),t},applyRowExpandedStates:function(e,t){"undefined"!=typeof t&&angular.forEach(t,function(t,n){e[n]&&(e[n].row.treeNode.state=t.state,t.children&&e[n].children&&l.applyRowExpandedStates(e[n].children,t.children))})}};return l}]),e.directive("uiGridGrouping",["uiGridGroupingConstants","uiGridGroupingService","$templateCache",function(e,t,n){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,r,i){i.grid.options.enableGrouping!==!1&&t.initializeGrid(i.grid,e)},post:function(e,t,n,r){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.importer",["ui.grid"]);e.constant("uiGridImporterConstants",{featureName:"importer"}),e.service("uiGridImporterService",["$q","uiGridConstants","uiGridImporterConstants","gridUtil","$compile","$interval","i18nService","$window",function(e,t,n,r,i,o,a,s){var u={initializeGrid:function(e,t){t.importer={$scope:e},this.defaultGridOptions(t.options);var n={events:{importer:{}},methods:{importer:{importFile:function(e){u.importThisFile(t,e)}}}};t.api.registerEventsFromObject(n.events),t.api.registerMethodsFromObject(n.methods),t.options.enableImporter&&t.options.importerShowMenu&&(t.api.core.addToGridMenu?u.addToMenu(t):o(function(){t.api.core.addToGridMenu&&u.addToMenu(t)},100,1))},defaultGridOptions:function(e){e.enableImporter||void 0===e.enableImporter?s.hasOwnProperty("File")&&s.hasOwnProperty("FileReader")&&s.hasOwnProperty("FileList")&&s.hasOwnProperty("Blob")?e.enableImporter=!0:(r.logError("The File APIs are not fully supported in this browser, grid importer cannot be used."),e.enableImporter=!1):e.enableImporter=!1,e.importerProcessHeaders=e.importerProcessHeaders||u.processHeaders,e.importerHeaderFilter=e.importerHeaderFilter||function(e){return e},e.importerErrorCallback&&"function"==typeof e.importerErrorCallback||delete e.importerErrorCallback,e.enableImporter!==!0||e.importerDataAddCallback||(r.logError("You have not set an importerDataAddCallback, importer is disabled"),e.enableImporter=!1),e.importerShowMenu=e.importerShowMenu!==!1,e.importerObjectCallback=e.importerObjectCallback||function(e,t){return t}},addToMenu:function(e){e.api.core.addToGridMenu(e,[{title:a.getSafeText("gridMenu.importerTitle"),order:150},{templateUrl:"ui-grid/importerMenuItemContainer",action:function(t){this.grid.api.importer.importAFile(e)},order:151}])},importThisFile:function(e,t){if(!t)return void r.logError("No file object provided to importThisFile, should be impossible, aborting");var n=new FileReader;switch(t.type){case"application/json":n.onload=u.importJsonClosure(e);break;default:n.onload=u.importCsvClosure(e)}n.readAsText(t)},importJsonClosure:function(e){return function(t){var n,r=[],i=u.parseJson(e,t);null!==i&&(i.forEach(function(t,i){n=u.newObject(e),angular.extend(n,t),n=e.options.importerObjectCallback(e,n),r.push(n)}),u.addObjects(e,r))}},parseJson:function(e,t){var n;try{n=JSON.parse(t.target.result)}catch(r){return void u.alertError(e,"importer.invalidJson","File could not be processed, is it valid json? Content was: ",t.target.result)}return Array.isArray(n)?n:(u.alertError(e,"importer.jsonNotarray","Import failed, file is not an array, file was: ",t.target.result),[])},importCsvClosure:function(e){return function(t){var n=u.parseCsv(t);if(!n||n.length<1)return void u.alertError(e,"importer.invalidCsv","File could not be processed, is it valid csv? Content was: ",t.target.result);var r=u.createCsvObjects(e,n);return r&&0!==r.length?void u.addObjects(e,r):void u.alertError(e,"importer.noObjects","Objects were not able to be derived, content was: ",t.target.result)}},parseCsv:function(e){var t=e.target.result;return CSV.parse(t)},createCsvObjects:function(e,t){var n=e.options.importerProcessHeaders(e,t.shift());if(!n||0===n.length)return u.alertError(e,"importer.noHeaders","Column names could not be derived, content was: ",t),[];var r,i=[];return t.forEach(function(t,o){r=u.newObject(e),null!==t&&t.forEach(function(e,t){null!==n[t]&&(r[n[t]]=e)}),r=e.options.importerObjectCallback(e,r),i.push(r)}),i},processHeaders:function(e,t){var n=[];if(e.options.columnDefs&&0!==e.options.columnDefs.length){var r=u.flattenColumnDefs(e,e.options.columnDefs);return t.forEach(function(e,t){r[e]?n.push(r[e]):r[e.toLowerCase()]?n.push(r[e.toLowerCase()]):n.push(null)}),n}return t.forEach(function(e,t){n.push(e.replace(/[^0-9a-zA-Z\-_]/g,"_"))}),n},flattenColumnDefs:function(e,t){var n={};return t.forEach(function(t,r){t.name&&(n[t.name]=t.field||t.name,n[t.name.toLowerCase()]=t.field||t.name),t.field&&(n[t.field]=t.field||t.name,n[t.field.toLowerCase()]=t.field||t.name),t.displayName&&(n[t.displayName]=t.field||t.name,n[t.displayName.toLowerCase()]=t.field||t.name),t.displayName&&e.options.importerHeaderFilter&&(n[e.options.importerHeaderFilter(t.displayName)]=t.field||t.name,n[e.options.importerHeaderFilter(t.displayName).toLowerCase()]=t.field||t.name)}),n},addObjects:function(e,n,r){if(e.api.rowEdit){var i=e.registerDataChangeCallback(function(){e.api.rowEdit.setRowsDirty(n),i()},[t.dataChange.ROW]);e.importer.$scope.$on("$destroy",i)}e.importer.$scope.$apply(e.options.importerDataAddCallback(e,n))},newObject:function(e){return"undefined"!=typeof e.options&&"undefined"!=typeof e.options.importerNewObject?new e.options.importerNewObject:{}},alertError:function(e,t,n,i){e.options.importerErrorCallback?e.options.importerErrorCallback(e,t,n,i):(s.alert(a.getSafeText(t)),r.logError(n+i))}};return u}]),e.directive("uiGridImporter",["uiGridImporterConstants","uiGridImporterService","gridUtil","$compile",function(e,t,n,r){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(e,n,r,i){t.initializeGrid(e,i.grid)}}}]),e.directive("uiGridImporterMenuItem",["uiGridImporterConstants","uiGridImporterService","gridUtil","$compile",function(e,t,n,r){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,templateUrl:"ui-grid/importerMenuItem",link:function(e,r,i,o){var a=function(e){var n=e.srcElement||e.target;if(n&&n.files&&1===n.files.length){var r=n.files[0];t.importThisFile(u,r),n.form.reset()}},s=r[0].querySelectorAll(".ui-grid-importer-file-chooser"),u=o.grid;1!==s.length?n.logError("Found > 1 or < 1 file choosers within the menu item, error, cannot continue"):s[0].addEventListener("change",a,!1)}}}])}(),function(){"use strict";var e=angular.module("ui.grid.infiniteScroll",["ui.grid"]);e.service("uiGridInfiniteScrollService",["gridUtil","$compile","$timeout","uiGridConstants","ScrollEvent","$q",function(e,t,n,r,i,o){var a={initializeGrid:function(e,t){if(a.defaultGridOptions(e.options),e.options.enableInfiniteScroll){e.infiniteScroll={dataLoading:!1},a.setScrollDirections(e,e.options.infiniteScrollUp,e.options.infiniteScrollDown),e.api.core.on.scrollEnd(t,a.handleScroll);var n={events:{infiniteScroll:{needLoadMoreData:function(e,t){},needLoadMoreDataTop:function(e,t){}}},methods:{infiniteScroll:{dataLoaded:function(t,n){a.setScrollDirections(e,t,n);var r=a.adjustScroll(e).then(function(){e.infiniteScroll.dataLoading=!1});return r},resetScroll:function(t,n){return a.setScrollDirections(e,t,n),a.adjustInfiniteScrollPosition(e,0)},saveScrollPercentage:function(){e.infiniteScroll.prevScrollTop=e.renderContainers.body.prevScrollTop,e.infiniteScroll.previousVisibleRows=e.getVisibleRowCount()},dataRemovedTop:function(t,n){a.dataRemovedTop(e,t,n)},dataRemovedBottom:function(t,n){a.dataRemovedBottom(e,t,n)},setScrollDirections:function(t,n){a.setScrollDirections(e,t,n)}}}};e.api.registerEventsFromObject(n.events),e.api.registerMethodsFromObject(n.methods)}},defaultGridOptions:function(e){e.enableInfiniteScroll=e.enableInfiniteScroll!==!1,e.infiniteScrollRowsFromEnd=e.infiniteScrollRowsFromEnd||20,e.infiniteScrollUp=e.infiniteScrollUp===!0,e.infiniteScrollDown=e.infiniteScrollDown!==!1},setScrollDirections:function(e,t,n){e.infiniteScroll.scrollUp=t===!0,e.suppressParentScrollUp=t===!0,e.infiniteScroll.scrollDown=n!==!1,e.suppressParentScrollDown=n!==!1},handleScroll:function(e){if(!(e.grid.infiniteScroll&&e.grid.infiniteScroll.dataLoading||"ui.grid.adjustInfiniteScrollPosition"===e.source)&&e.y){var t,n=e.grid.options.infiniteScrollRowsFromEnd/e.grid.renderContainers.body.visibleRowCache.length;e.grid.scrollDirection===r.scrollDirection.UP?(t=e.y.percentage,n>=t&&a.loadData(e.grid)):e.grid.scrollDirection===r.scrollDirection.DOWN&&(t=1-e.y.percentage,n>=t&&a.loadData(e.grid))}},loadData:function(e){e.infiniteScroll.previousVisibleRows=e.renderContainers.body.visibleRowCache.length,e.infiniteScroll.direction=e.scrollDirection,delete e.infiniteScroll.prevScrollTop,e.scrollDirection===r.scrollDirection.UP&&e.infiniteScroll.scrollUp?(e.infiniteScroll.dataLoading=!0,e.api.infiniteScroll.raise.needLoadMoreDataTop()):e.scrollDirection===r.scrollDirection.DOWN&&e.infiniteScroll.scrollDown&&(e.infiniteScroll.dataLoading=!0,e.api.infiniteScroll.raise.needLoadMoreData())},adjustScroll:function(e){var t=o.defer();return n(function(){var i,o,s,u,l;i=e.getViewportHeight()+e.headerHeight-e.renderContainers.body.headerHeight-e.scrollbarHeight,o=e.options.rowHeight,void 0===e.infiniteScroll.direction&&a.adjustInfiniteScrollPosition(e,0),s=e.getVisibleRowCount();var c=o*s;e.infiniteScroll.scrollDown&&i>c&&e.api.infiniteScroll.raise.needLoadMoreData(),e.infiniteScroll.direction===r.scrollDirection.UP&&(u=e.infiniteScroll.prevScrollTop||0,l=u+(s-e.infiniteScroll.previousVisibleRows)*o,a.adjustInfiniteScrollPosition(e,l),n(function(){t.resolve()})),e.infiniteScroll.direction===r.scrollDirection.DOWN&&(l=e.infiniteScroll.prevScrollTop||e.infiniteScroll.previousVisibleRows*o-i,a.adjustInfiniteScrollPosition(e,l),n(function(){t.resolve()}))},0),t.promise},adjustInfiniteScrollPosition:function(e,t){var n=new i(e,null,null,"ui.grid.adjustInfiniteScrollPosition"),r=e.getVisibleRowCount(),o=e.getViewportHeight()+e.headerHeight-e.renderContainers.body.headerHeight-e.scrollbarHeight,a=e.options.rowHeight,s=r*a-o;0===t&&e.infiniteScroll.scrollUp?n.y={percentage:1/s}:n.y={percentage:t/s},e.scrollContainers("",n)},dataRemovedTop:function(e,t,n){var r,i,o,s;return a.setScrollDirections(e,t,n),r=e.renderContainers.body.visibleRowCache.length,i=e.infiniteScroll.prevScrollTop,s=e.options.rowHeight,o=i-(e.infiniteScroll.previousVisibleRows-r)*s,a.adjustInfiniteScrollPosition(e,o)},dataRemovedBottom:function(e,t,n){var r;return a.setScrollDirections(e,t,n),r=e.infiniteScroll.prevScrollTop,a.adjustInfiniteScrollPosition(e,r)}};return a}]),e.directive("uiGridInfiniteScroll",["uiGridInfiniteScrollService",function(e){return{priority:-200,scope:!1,require:"^uiGrid",compile:function(t,n,r){return{pre:function(t,n,r,i){e.initializeGrid(i.grid,t)},post:function(e,t,n){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.moveColumns",["ui.grid"]);e.service("uiGridMoveColumnService",["$q","$timeout","$log","ScrollEvent","uiGridConstants","gridUtil",function(e,t,n,r,i,o){var a={initializeGrid:function(e){var t=this;this.registerPublicApi(e),this.defaultGridOptions(e.options),e.moveColumns={orderCache:[]},e.registerColumnBuilder(t.movableColumnBuilder),e.registerDataChangeCallback(t.verifyColumnOrder,[i.dataChange.COLUMN])},registerPublicApi:function(e){var t=this,n={events:{colMovable:{columnPositionChanged:function(e,t,n){}}},methods:{colMovable:{moveColumn:function(n,r){var i=e.columns;if(!angular.isNumber(n)||!angular.isNumber(r))return void o.logError("MoveColumn: Please provide valid values for originalPosition and finalPosition");for(var a=0,s=0;s<i.length;s++)(angular.isDefined(i[s].colDef.visible)&&i[s].colDef.visible===!1||i[s].isRowHeader===!0)&&a++;if(n>=i.length-a||r>=i.length-a)return void o.logError("MoveColumn: Invalid values for originalPosition, finalPosition");var u=function(e){for(var t=e,n=0;t>=n;n++)angular.isDefined(i[n])&&(angular.isDefined(i[n].colDef.visible)&&i[n].colDef.visible===!1||i[n].isRowHeader===!0)&&t++;return t};t.redrawColumnAtPosition(e,u(n),u(r))}}}};e.api.registerEventsFromObject(n.events),e.api.registerMethodsFromObject(n.methods)},defaultGridOptions:function(e){e.enableColumnMoving=e.enableColumnMoving!==!1},movableColumnBuilder:function(t,n,r){var i=[];return t.enableColumnMoving=void 0===t.enableColumnMoving?r.enableColumnMoving:t.enableColumnMoving,e.all(i)},updateColumnCache:function(e){e.moveColumns.orderCache=e.getOnlyDataColumns()},verifyColumnOrder:function(e){var t,n=e.rowHeaderColumns.length;angular.forEach(e.moveColumns.orderCache,function(r,i){if(t=e.columns.indexOf(r),-1!==t&&t-n!==i){var o=e.columns.splice(t,1)[0];e.columns.splice(i+n,0,o)}})},redrawColumnAtPosition:function(e,n,r){var o=e.columns,s=o[n];if(s.colDef.enableColumnMoving){if(n>r)for(var u=n;u>r;u--)o[u]=o[u-1];else if(r>n)for(var l=n;r>l;l++)o[l]=o[l+1];o[r]=s,a.updateColumnCache(e),e.queueGridRefresh(),t(function(){e.api.core.notifyDataChange(i.dataChange.COLUMN),e.api.colMovable.raise.columnPositionChanged(s.colDef,n,r)})}}};return a}]),e.directive("uiGridMoveColumns",["uiGridMoveColumnService",function(e){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(t,n,r,i){e.initializeGrid(i.grid)},post:function(e,t,n,r){}}}}}]),e.directive("uiGridHeaderCell",["$q","gridUtil","uiGridMoveColumnService","$document","$log","uiGridConstants","ScrollEvent",function(e,t,n,r,i,o,a){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function(e,i,o,s){if(e.col.colDef.enableColumnMoving){var u,l,c,d,p,f,h=angular.element(i[0].querySelectorAll(".ui-grid-cell-contents")),m=!1,g=!1,v=function(t){u=e.grid.element[0].getBoundingClientRect().left,e.grid.hasLeftContainer()&&(u+=e.grid.renderContainers.left.header[0].getBoundingClientRect().width),l=t.pageX,c=0,d=u+e.grid.getViewportWidth(),"mousedown"===t.type?(r.on("mousemove",b),r.on("mouseup",y)):"touchstart"===t.type&&(r.on("touchmove",b),r.on("touchend",y))},b=function(e){var t=e.pageX-l;0!==t&&(document.onselectstart=function(){return!1},g=!0,m?m&&(C(t),l=e.pageX):x())},y=function(t){if(document.onselectstart=null,p&&(p.remove(),m=!1),_(),w(),g){for(var r=e.grid.columns,i=0,o=0;o<r.length&&r[o].colDef.name!==e.col.colDef.name;o++)i++;if(0>c){for(var a=0,s=i-1;s>=0;s--)if((angular.isUndefined(r[s].colDef.visible)||r[s].colDef.visible===!0)&&(a+=r[s].drawnWidth||r[s].width||r[s].colDef.width,a>Math.abs(c))){n.redrawColumnAtPosition(e.grid,i,s+1);break}a<Math.abs(c)&&n.redrawColumnAtPosition(e.grid,i,0)}else if(c>0){for(var u=0,l=i+1;l<r.length;l++)if((angular.isUndefined(r[l].colDef.visible)||r[l].colDef.visible===!0)&&(u+=r[l].drawnWidth||r[l].width||r[l].colDef.width,u>c)){n.redrawColumnAtPosition(e.grid,i,l-1);break}c>u&&n.redrawColumnAtPosition(e.grid,i,r.length-1)}}},w=function(){h.on("touchstart",v),h.on("mousedown",v)},_=function(){h.off("touchstart",v),h.off("mousedown",v),r.off("mousemove",b),r.off("touchmove",b),r.off("mouseup",y),r.off("touchend",y)};w();var x=function(){m=!0,p=i.clone(),i.parent().append(p),p.addClass("movingColumn");var n,r={};n="safari"===t.detectBrowser()?i[0].offsetLeft+i[0].offsetWidth-i[0].getBoundingClientRect().width:i[0].getBoundingClientRect().left,r.left=n-u+"px";var o=e.grid.element[0].getBoundingClientRect().right,a=i[0].getBoundingClientRect().right;a>o&&(f=e.col.drawnWidth+(o-a),r.width=f+"px"),p.css(r)},C=function(t){for(var n=e.grid.columns,r=0,i=0;i<n.length;i++)(angular.isUndefined(n[i].colDef.visible)||n[i].colDef.visible===!0)&&(r+=n[i].drawnWidth||n[i].width||n[i].colDef.width);var o,l=p[0].getBoundingClientRect().left-1,h=p[0].getBoundingClientRect().right;if(o=l-u+t,o=d>o?o:d,(l>=u||t>0)&&(d>=h||0>t))p.css({visibility:"visible",left:o+"px"});else if(r>Math.ceil(s.grid.gridWidth)){t*=8;var m=new a(e.col.grid,null,null,"uiGridHeaderCell.moveElement");m.x={pixels:t},m.grid.scrollContainers("",m)}for(var g=0,v=0;v<n.length;v++)if(angular.isUndefined(n[v].colDef.visible)||n[v].colDef.visible===!0){if(n[v].colDef.name===e.col.colDef.name)break;g+=n[v].drawnWidth||n[v].width||n[v].colDef.width}void 0===e.newScrollLeft?c+=t:c=e.newScrollLeft+o-g,f<e.col.drawnWidth&&(f+=Math.abs(t),p.css({width:f+"px"}))}}}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.pagination",["ng","ui.grid"]);e.service("uiGridPaginationService",["gridUtil",function(e){var t={initializeGrid:function(e){t.defaultGridOptions(e.options);var n={events:{pagination:{paginationChanged:function(e,t){}}},methods:{pagination:{getPage:function(){return e.options.enablePagination?e.options.paginationCurrentPage:null},getTotalPages:function(){return e.options.enablePagination?0===e.options.totalItems?1:Math.ceil(e.options.totalItems/e.options.paginationPageSize):null},nextPage:function(){e.options.enablePagination&&(e.options.totalItems>0?e.options.paginationCurrentPage=Math.min(e.options.paginationCurrentPage+1,n.methods.pagination.getTotalPages()):e.options.paginationCurrentPage++)},previousPage:function(){e.options.enablePagination&&(e.options.paginationCurrentPage=Math.max(e.options.paginationCurrentPage-1,1))},seek:function(t){if(e.options.enablePagination){if(!angular.isNumber(t)||1>t)throw"Invalid page number: "+t;e.options.paginationCurrentPage=Math.min(t,n.methods.pagination.getTotalPages())}}}}};e.api.registerEventsFromObject(n.events),e.api.registerMethodsFromObject(n.methods);var r=function(t){if(e.options.useExternalPagination||!e.options.enablePagination)return t;var n=parseInt(e.options.paginationPageSize,10),r=parseInt(e.options.paginationCurrentPage,10),i=t.filter(function(e){return e.visible});e.options.totalItems=i.length;var o=(r-1)*n;return o>i.length&&(r=e.options.paginationCurrentPage=1,o=(r-1)*n),i.slice(o,o+n)};e.registerRowsProcessor(r,900)},defaultGridOptions:function(t){t.enablePagination=t.enablePagination!==!1,t.enablePaginationControls=t.enablePaginationControls!==!1,t.useExternalPagination=t.useExternalPagination===!0,e.isNullOrUndefined(t.totalItems)&&(t.totalItems=0),e.isNullOrUndefined(t.paginationPageSizes)&&(t.paginationPageSizes=[250,500,1e3]),e.isNullOrUndefined(t.paginationPageSize)&&(t.paginationPageSizes.length>0?t.paginationPageSize=t.paginationPageSizes[0]:t.paginationPageSize=0),e.isNullOrUndefined(t.paginationCurrentPage)&&(t.paginationCurrentPage=1),e.isNullOrUndefined(t.paginationTemplate)&&(t.paginationTemplate="ui-grid/pagination")},onPaginationChanged:function(e,t,n){e.api.pagination.raise.paginationChanged(t,n),e.options.useExternalPagination||e.queueGridRefresh()}};return t}]),e.directive("uiGridPagination",["gridUtil","uiGridPaginationService",function(e,t){return{priority:-200,scope:!1,require:"uiGrid",link:{pre:function(n,r,i,o){t.initializeGrid(o.grid),e.getTemplate(o.grid.options.paginationTemplate).then(function(e){var t=angular.element(e);r.append(t),o.innerCompile(t)})}}}}]),e.directive("uiGridPager",["uiGridPaginationService","uiGridConstants","gridUtil","i18nService",function(e,t,n,r){return{priority:-200,scope:!0,require:"^uiGrid",link:function(i,o,a,s){var u=".ui-grid-pager-control-input";i.aria=r.getSafeText("pagination.aria"),i.paginationApi=s.grid.api.pagination,i.sizesLabel=r.getSafeText("pagination.sizes"),i.totalItemsLabel=r.getSafeText("pagination.totalItems"),i.paginationOf=r.getSafeText("pagination.of"),i.paginationThrough=r.getSafeText("pagination.through");var l=s.grid.options;s.grid.renderContainers.body.registerViewportAdjuster(function(e){return e.height=e.height-n.elementHeight(o),e});var c=s.grid.registerDataChangeCallback(function(e){e.options.useExternalPagination||(e.options.totalItems=e.rows.length)},[t.dataChange.ROW]);i.$on("$destroy",c);var d=function(){i.showingLow=(l.paginationCurrentPage-1)*l.paginationPageSize+1,i.showingHigh=Math.min(l.paginationCurrentPage*l.paginationPageSize,l.totalItems)},p=i.$watch("grid.options.totalItems + grid.options.paginationPageSize",d),f=i.$watch("grid.options.paginationCurrentPage + grid.options.paginationPageSize",function(t,n){if(t!==n&&void 0!==n){if(!angular.isNumber(l.paginationCurrentPage)||l.paginationCurrentPage<1)return void(l.paginationCurrentPage=1);if(l.totalItems>0&&l.paginationCurrentPage>i.paginationApi.getTotalPages())return void(l.paginationCurrentPage=i.paginationApi.getTotalPages());d(),e.onPaginationChanged(i.grid,l.paginationCurrentPage,l.paginationPageSize)}});i.$on("$destroy",function(){p(),f()}),i.cantPageForward=function(){return l.totalItems>0?l.paginationCurrentPage>=i.paginationApi.getTotalPages():l.data.length<1},i.cantPageToLast=function(){return l.totalItems>0?i.cantPageForward():!0},i.cantPageBackward=function(){return l.paginationCurrentPage<=1};var h=function(e){e&&n.focus.bySelector(o,u)};i.pageFirstPageClick=function(){
i.paginationApi.seek(1),h(i.cantPageBackward())},i.pagePreviousPageClick=function(){i.paginationApi.previousPage(),h(i.cantPageBackward())},i.pageNextPageClick=function(){i.paginationApi.nextPage(),h(i.cantPageForward())},i.pageLastPageClick=function(){i.paginationApi.seek(i.paginationApi.getTotalPages()),h(i.cantPageToLast())}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.pinning",["ui.grid"]);e.constant("uiGridPinningConstants",{container:{LEFT:"left",RIGHT:"right",NONE:""}}),e.service("uiGridPinningService",["gridUtil","GridRenderContainer","i18nService","uiGridPinningConstants",function(e,t,n,r){var i={initializeGrid:function(e){i.defaultGridOptions(e.options),e.registerColumnBuilder(i.pinningColumnBuilder);var t={events:{pinning:{columnPinned:function(e,t){}}},methods:{pinning:{pinColumn:function(t,n){i.pinColumn(e,t,n)}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.enablePinning=e.enablePinning!==!1},pinningColumnBuilder:function(t,o,a){if(t.enablePinning=void 0===t.enablePinning?a.enablePinning:t.enablePinning,t.pinnedLeft?(o.renderContainer="left",o.grid.createLeftContainer()):t.pinnedRight&&(o.renderContainer="right",o.grid.createRightContainer()),t.enablePinning){var s={name:"ui.grid.pinning.pinLeft",title:n.get().pinning.pinLeft,icon:"ui-grid-icon-left-open",shown:function(){return"undefined"==typeof this.context.col.renderContainer||!this.context.col.renderContainer||"left"!==this.context.col.renderContainer},action:function(){i.pinColumn(this.context.col.grid,this.context.col,r.container.LEFT)}},u={name:"ui.grid.pinning.pinRight",title:n.get().pinning.pinRight,icon:"ui-grid-icon-right-open",shown:function(){return"undefined"==typeof this.context.col.renderContainer||!this.context.col.renderContainer||"right"!==this.context.col.renderContainer},action:function(){i.pinColumn(this.context.col.grid,this.context.col,r.container.RIGHT)}},l={name:"ui.grid.pinning.unpin",title:n.get().pinning.unpin,icon:"ui-grid-icon-cancel",shown:function(){return"undefined"!=typeof this.context.col.renderContainer&&null!==this.context.col.renderContainer&&"body"!==this.context.col.renderContainer},action:function(){i.pinColumn(this.context.col.grid,this.context.col,r.container.UNPIN)}};e.arrayContainsObjectWithProperty(o.menuItems,"name","ui.grid.pinning.pinLeft")||o.menuItems.push(s),e.arrayContainsObjectWithProperty(o.menuItems,"name","ui.grid.pinning.pinRight")||o.menuItems.push(u),e.arrayContainsObjectWithProperty(o.menuItems,"name","ui.grid.pinning.unpin")||o.menuItems.push(l)}},pinColumn:function(e,t,n){n===r.container.NONE?t.renderContainer=null:(t.renderContainer=n,n===r.container.LEFT?e.createLeftContainer():n===r.container.RIGHT&&e.createRightContainer()),e.refresh().then(function(){e.api.pinning.raise.columnPinned(t.colDef,n)})}};return i}]),e.directive("uiGridPinning",["gridUtil","uiGridPinningService",function(e,t){return{require:"uiGrid",scope:!1,compile:function(){return{pre:function(e,n,r,i){t.initializeGrid(i.grid)},post:function(e,t,n,r){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.resizeColumns",["ui.grid"]);e.service("uiGridResizeColumnsService",["gridUtil","$q","$timeout",function(e,t,n){var r={defaultGridOptions:function(e){e.enableColumnResizing=e.enableColumnResizing!==!1,e.enableColumnResize===!1&&(e.enableColumnResizing=!1)},colResizerColumnBuilder:function(e,n,r){var i=[];return e.enableColumnResizing=void 0===e.enableColumnResizing?r.enableColumnResizing:e.enableColumnResizing,e.enableColumnResize===!1&&(e.enableColumnResizing=!1),t.all(i)},registerPublicApi:function(e){var t={events:{colResizable:{columnSizeChanged:function(e,t){}}}};e.api.registerEventsFromObject(t.events)},fireColumnSizeChanged:function(t,r,i){n(function(){t.api.colResizable?t.api.colResizable.raise.columnSizeChanged(r,i):e.logError("The resizeable api is not registered, this may indicate that you've included the module but not added the 'ui-grid-resize-columns' directive to your grid definition.  Cannot raise any events.")})},findTargetCol:function(e,t,n){var r=e.getRenderContainer();if("left"===t){var i=r.visibleColumnCache.indexOf(e);return r.visibleColumnCache[i-1*n]}return e}};return r}]),e.directive("uiGridResizeColumns",["gridUtil","uiGridResizeColumnsService",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,r,i){t.defaultGridOptions(i.grid.options),i.grid.registerColumnBuilder(t.colResizerColumnBuilder),t.registerPublicApi(i.grid)},post:function(e,t,n,r){}}}}}]),e.directive("uiGridHeaderCell",["gridUtil","$templateCache","$compile","$q","uiGridResizeColumnsService","uiGridConstants","$timeout",function(e,t,n,r,i,o,a){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function(e,r,s,u){var l=u.grid;if(l.options.enableColumnResizing){var c=t.get("ui-grid/columnResizer"),d=1;l.isRTL()&&(e.position="left",d=-1);var p=function(){for(var t=r[0].getElementsByClassName("ui-grid-column-resizer"),o=0;o<t.length;o++)angular.element(t[o]).remove();var a=i.findTargetCol(e.col,"left",d),s=e.col.getRenderContainer();if(a&&0!==s.visibleColumnCache.indexOf(e.col)&&a.colDef.enableColumnResizing!==!1){var u=angular.element(c).clone();u.attr("position","left"),r.prepend(u),n(u)(e)}if(e.col.colDef.enableColumnResizing!==!1){var l=angular.element(c).clone();l.attr("position","right"),r.append(l),n(l)(e)}};p();var f=function(){a(p)},h=l.registerDataChangeCallback(f,[o.dataChange.COLUMN]);e.$on("$destroy",h)}}}}}}]),e.directive("uiGridColumnResizer",["$document","gridUtil","uiGridConstants","uiGridResizeColumnsService",function(e,t,n,r){var i=angular.element('<div class="ui-grid-resize-overlay"></div>'),o={priority:0,scope:{col:"=",position:"@",renderIndex:"="},require:"?^uiGrid",link:function(o,a,s,u){function l(e){u.grid.refreshCanvas(!0).then(function(){u.grid.queueGridRefresh()})}function c(e,t){var n=t;return e.minWidth&&n<e.minWidth?n=e.minWidth:e.maxWidth&&n>e.maxWidth&&(n=e.maxWidth),n}function d(e,t){e.originalEvent&&(e=e.originalEvent),e.preventDefault(),h=(e.targetTouches?e.targetTouches[0]:e).clientX-m,0>h?h=0:h>u.grid.gridWidth&&(h=u.grid.gridWidth);var a=r.findTargetCol(o.col,o.position,g);if(a.colDef.enableColumnResizing!==!1){u.grid.element.hasClass("column-resizing")||u.grid.element.addClass("column-resizing");var s=h-f,l=parseInt(a.drawnWidth+s*g,10);h+=(c(a,l)-l)*g,i.css({left:h+"px"}),u.fireEvent(n.events.ITEM_DRAGGING)}}function p(e,t){e.originalEvent&&(e=e.originalEvent),e.preventDefault(),u.grid.element.removeClass("column-resizing"),i.remove(),h=(e.changedTouches?e.changedTouches[0]:e).clientX-m;var n=h-f;if(0===n)return y(),void b();var a=r.findTargetCol(o.col,o.position,g);if(a.colDef.enableColumnResizing!==!1){var s=parseInt(a.drawnWidth+n*g,10);a.width=c(a,s),a.hasCustomWidth=!0,l(n),r.fireColumnSizeChanged(u.grid,a.colDef,n),y(),b()}}var f=0,h=0,m=0,g=1;u.grid.isRTL()&&(o.position="left",g=-1),"left"===o.position?a.addClass("left"):"right"===o.position&&a.addClass("right");var v=function(t,n){t.originalEvent&&(t=t.originalEvent),t.stopPropagation(),m=u.grid.element[0].getBoundingClientRect().left,f=(t.targetTouches?t.targetTouches[0]:t).clientX-m,u.grid.element.append(i),i.css({left:f}),"touchstart"===t.type?(e.on("touchend",p),e.on("touchmove",d),a.off("mousedown",v)):(e.on("mouseup",p),e.on("mousemove",d),a.off("touchstart",v))},b=function(){a.on("mousedown",v),a.on("touchstart",v)},y=function(){e.off("mouseup",p),e.off("touchend",p),e.off("mousemove",d),e.off("touchmove",d),a.off("mousedown",v),a.off("touchstart",v)};b();var w=function(e,i){e.stopPropagation();var s=r.findTargetCol(o.col,o.position,g);if(s.colDef.enableColumnResizing!==!1){var d=0,p=0,f=t.closestElm(a,".ui-grid-render-container"),h=f.querySelectorAll("."+n.COL_CLASS_PREFIX+s.uid+" .ui-grid-cell-contents");Array.prototype.forEach.call(h,function(e){var n;angular.element(e).parent().hasClass("ui-grid-header-cell")&&(n=angular.element(e).parent()[0].querySelectorAll(".ui-grid-column-menu-button")),t.fakeElement(e,{},function(e){var r=angular.element(e);r.attr("style","float: left");var i=t.elementWidth(r);if(n){var o=t.elementWidth(n);i+=o}i>d&&(d=i,p=d-i)})}),s.width=c(s,d),s.hasCustomWidth=!0,l(p),r.fireColumnSizeChanged(u.grid,s.colDef,p)}};a.on("dblclick",w),a.on("$destroy",function(){a.off("dblclick",w),y()})}};return o}])}(),function(){"use strict";var e=angular.module("ui.grid.rowEdit",["ui.grid","ui.grid.edit","ui.grid.cellNav"]);e.constant("uiGridRowEditConstants",{}),e.service("uiGridRowEditService",["$interval","$q","uiGridConstants","uiGridRowEditConstants","gridUtil",function(e,t,n,r,i){var o={initializeGrid:function(e,t){t.rowEdit={};var n={events:{rowEdit:{saveRow:function(e){}}},methods:{rowEdit:{setSavePromise:function(e,n){o.setSavePromise(t,e,n)},getDirtyRows:function(){return t.rowEdit.dirtyRows?t.rowEdit.dirtyRows:[]},getErrorRows:function(){return t.rowEdit.errorRows?t.rowEdit.errorRows:[]},flushDirtyRows:function(){return o.flushDirtyRows(t)},setRowsDirty:function(e){o.setRowsDirty(t,e)},setRowsClean:function(e){o.setRowsClean(t,e)}}}};t.api.registerEventsFromObject(n.events),t.api.registerMethodsFromObject(n.methods),t.api.core.on.renderingComplete(e,function(n){t.api.edit.on.afterCellEdit(e,o.endEditCell),t.api.edit.on.beginCellEdit(e,o.beginEditCell),t.api.edit.on.cancelCellEdit(e,o.cancelEditCell),t.api.cellNav&&t.api.cellNav.on.navigate(e,o.navigate)})},defaultGridOptions:function(e){},saveRow:function(e,t){var n=this;return function(){if(t.isSaving=!0,t.rowEditSavePromise)return t.rowEditSavePromise;var r=e.api.rowEdit.raise.saveRow(t.entity);return t.rowEditSavePromise?t.rowEditSavePromise.then(n.processSuccessPromise(e,t),n.processErrorPromise(e,t)):i.logError("A promise was not returned when saveRow event was raised, either nobody is listening to event, or event handler did not return a promise"),r}},setSavePromise:function(e,t,n){var r=e.getRow(t);r.rowEditSavePromise=n},processSuccessPromise:function(e,t){var n=this;return function(){delete t.isSaving,delete t.isDirty,delete t.isError,delete t.rowEditSaveTimer,delete t.rowEditSavePromise,n.removeRow(e.rowEdit.errorRows,t),n.removeRow(e.rowEdit.dirtyRows,t)}},processErrorPromise:function(e,t){return function(){delete t.isSaving,delete t.rowEditSaveTimer,delete t.rowEditSavePromise,t.isError=!0,e.rowEdit.errorRows||(e.rowEdit.errorRows=[]),o.isRowPresent(e.rowEdit.errorRows,t)||e.rowEdit.errorRows.push(t)}},removeRow:function(e,t){"undefined"!=typeof e&&null!==e&&e.forEach(function(n,r){n.uid===t.uid&&e.splice(r,1)})},isRowPresent:function(e,t){var n=!1;return e.forEach(function(e,r){e.uid===t.uid&&(n=!0)}),n},flushDirtyRows:function(e){var n=[];return e.api.rowEdit.getDirtyRows().forEach(function(t){o.saveRow(e,t)(),n.push(t.rowEditSavePromise)}),t.all(n)},endEditCell:function(e,t,n,r){var a=this.grid,s=a.getRow(e);return s?void((n!==r||s.isDirty)&&(a.rowEdit.dirtyRows||(a.rowEdit.dirtyRows=[]),s.isDirty||(s.isDirty=!0,a.rowEdit.dirtyRows.push(s)),delete s.isError,o.considerSetTimer(a,s))):void i.logError("Unable to find rowEntity in grid data, dirty flag cannot be set")},beginEditCell:function(e,t){var n=this.grid,r=n.getRow(e);return r?void o.cancelTimer(n,r):void i.logError("Unable to find rowEntity in grid data, timer cannot be cancelled")},cancelEditCell:function(e,t){var n=this.grid,r=n.getRow(e);return r?void o.considerSetTimer(n,r):void i.logError("Unable to find rowEntity in grid data, timer cannot be set")},navigate:function(e,t){var n=this.grid;e.row.rowEditSaveTimer&&o.cancelTimer(n,e.row),t&&t.row&&t.row!==e.row&&o.considerSetTimer(n,t.row)},considerSetTimer:function(t,n){if(o.cancelTimer(t,n),n.isDirty&&!n.isSaving&&-1!==t.options.rowEditWaitInterval){var r=t.options.rowEditWaitInterval?t.options.rowEditWaitInterval:2e3;n.rowEditSaveTimer=e(o.saveRow(t,n),r,1)}},cancelTimer:function(t,n){n.rowEditSaveTimer&&!n.isSaving&&(e.cancel(n.rowEditSaveTimer),delete n.rowEditSaveTimer)},setRowsDirty:function(e,t){var n;t.forEach(function(t,r){n=e.getRow(t),n?(e.rowEdit.dirtyRows||(e.rowEdit.dirtyRows=[]),n.isDirty||(n.isDirty=!0,e.rowEdit.dirtyRows.push(n)),delete n.isError,o.considerSetTimer(e,n)):i.logError("requested row not found in rowEdit.setRowsDirty, row was: "+t)})},setRowsClean:function(e,t){var n;t.forEach(function(t,r){n=e.getRow(t),n?(delete n.isDirty,o.removeRow(e.rowEdit.dirtyRows,n),o.cancelTimer(e,n),delete n.isError,o.removeRow(e.rowEdit.errorRows,n)):i.logError("requested row not found in rowEdit.setRowsClean, row was: "+t)})}};return o}]),e.directive("uiGridRowEdit",["gridUtil","uiGridRowEditService","uiGridEditConstants",function(e,t,n){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,r,i){t.initializeGrid(e,i.grid)},post:function(e,t,n,r){}}}}}]),e.directive("uiGridViewport",["$compile","uiGridConstants","gridUtil","$parse",function(e,t,n,r){return{priority:-200,scope:!1,compile:function(e,t){var n=angular.element(e.children().children()[0]),r=n.attr("ng-class"),i="";return i=r?r.slice(0,-1)+", 'ui-grid-row-dirty': row.isDirty, 'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}":"{'ui-grid-row-dirty': row.isDirty, 'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}",n.attr("ng-class",i),{pre:function(e,t,n,r){},post:function(e,t,n,r){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.saveState",["ui.grid","ui.grid.selection","ui.grid.cellNav","ui.grid.grouping","ui.grid.pinning","ui.grid.treeView"]);e.constant("uiGridSaveStateConstants",{featureName:"saveState"}),e.service("uiGridSaveStateService",["$q","uiGridSaveStateConstants","gridUtil","$compile","$interval","uiGridConstants",function(e,t,n,r,i,o){var a={initializeGrid:function(e){e.saveState={},this.defaultGridOptions(e.options);var t={events:{saveState:{}},methods:{saveState:{save:function(){return a.save(e)},restore:function(t,n){a.restore(e,t,n)}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.saveWidths=e.saveWidths!==!1,e.saveOrder=e.saveOrder!==!1,e.saveScroll=e.saveScroll===!0,e.saveFocus=e.saveScroll!==!0&&e.saveFocus!==!1,e.saveVisible=e.saveVisible!==!1,e.saveSort=e.saveSort!==!1,e.saveFilter=e.saveFilter!==!1,e.saveSelection=e.saveSelection!==!1,e.saveGrouping=e.saveGrouping!==!1,e.saveGroupingExpandedStates=e.saveGroupingExpandedStates===!0,e.savePinning=e.savePinning!==!1,e.saveTreeView=e.saveTreeView!==!1},save:function(e){var t={};return t.columns=a.saveColumns(e),t.scrollFocus=a.saveScrollFocus(e),t.selection=a.saveSelection(e),t.grouping=a.saveGrouping(e),t.treeView=a.saveTreeView(e),t},restore:function(e,t,n){n.columns&&a.restoreColumns(e,n.columns),n.scrollFocus&&a.restoreScrollFocus(e,t,n.scrollFocus),n.selection&&a.restoreSelection(e,n.selection),n.grouping&&a.restoreGrouping(e,n.grouping),n.treeView&&a.restoreTreeView(e,n.treeView),e.refresh()},saveColumns:function(e){var t=[];return e.getOnlyDataColumns().forEach(function(n){var r={};r.name=n.name,e.options.saveVisible&&(r.visible=n.visible),e.options.saveWidths&&(r.width=n.width),e.options.saveSort&&(r.sort=angular.copy(n.sort)),e.options.saveFilter&&(r.filters=[],n.filters.forEach(function(e){var t={};angular.forEach(e,function(e,n){"condition"!==n&&"$$hashKey"!==n&&"placeholder"!==n&&(t[n]=e)}),r.filters.push(t)})),e.api.pinning&&e.options.savePinning&&(r.pinned=n.renderContainer?n.renderContainer:""),t.push(r)}),t},saveScrollFocus:function(e){if(!e.api.cellNav)return{};var t={};if(e.options.saveFocus){t.focus=!0;var n=e.api.cellNav.getFocusedCell();null!==n&&(null!==n.col&&(t.colName=n.col.colDef.name),null!==n.row&&(t.rowVal=a.getRowVal(e,n.row)))}return(e.options.saveScroll||e.options.saveFocus&&!t.colName&&!t.rowVal)&&(t.focus=!1,e.renderContainers.body.prevRowScrollIndex&&(t.rowVal=a.getRowVal(e,e.renderContainers.body.visibleRowCache[e.renderContainers.body.prevRowScrollIndex])),e.renderContainers.body.prevColScrollIndex&&(t.colName=e.renderContainers.body.visibleColumnCache[e.renderContainers.body.prevColScrollIndex].name)),t},saveSelection:function(e){if(!e.api.selection||!e.options.saveSelection)return[];var t=e.api.selection.getSelectedGridRows().map(function(t){return a.getRowVal(e,t)});return t},saveGrouping:function(e){return e.api.grouping&&e.options.saveGrouping?e.api.grouping.getGrouping(e.options.saveGroupingExpandedStates):{}},saveTreeView:function(e){return e.api.treeView&&e.options.saveTreeView?e.api.treeView.getTreeView():{}},getRowVal:function(e,t){if(!t)return null;var n={};return e.options.saveRowIdentity?(n.identity=!0,n.row=e.options.saveRowIdentity(t.entity)):(n.identity=!1,n.row=e.renderContainers.body.visibleRowCache.indexOf(t)),n},restoreColumns:function(e,t){var n=!1;t.forEach(function(t,r){var i=e.getColumn(t.name);if(i&&!e.isRowHeaderColumn(i)){!e.options.saveVisible||i.visible===t.visible&&i.colDef.visible===t.visible||(i.visible=t.visible,i.colDef.visible=t.visible,e.api.core.raise.columnVisibilityChanged(i)),e.options.saveWidths&&(i.width=t.width),!e.options.saveSort||angular.equals(i.sort,t.sort)||void 0===i.sort&&angular.isEmpty(t.sort)||(i.sort=angular.copy(t.sort),n=!0),e.options.saveFilter&&!angular.equals(i.filters,t.filters)&&(t.filters.forEach(function(e,t){angular.extend(i.filters[t],e),("undefined"==typeof e.term||null===e.term)&&delete i.filters[t].term}),e.api.core.raise.filterChanged()),e.api.pinning&&e.options.savePinning&&i.renderContainer!==t.pinned&&e.api.pinning.pinColumn(i,t.pinned);var o=e.getOnlyDataColumns().indexOf(i);if(-1!==o&&e.options.saveOrder&&o!==r){var a=e.columns.splice(o+e.rowHeaderColumns.length,1)[0];e.columns.splice(r+e.rowHeaderColumns.length,0,a)}}}),n&&e.api.core.raise.sortChanged(e,e.getColumnSorting())},restoreScrollFocus:function(e,t,n){if(e.api.cellNav){var r,i;if(n.colName){var o=e.options.columnDefs.filter(function(e){return e.name===n.colName});o.length>0&&(r=o[0])}n.rowVal&&n.rowVal.row&&(i=n.rowVal.identity?a.findRowByIdentity(e,n.rowVal):e.renderContainers.body.visibleRowCache[n.rowVal.row]);var s=i&&i.entity?i.entity:null;(r||s)&&(n.focus?e.api.cellNav.scrollToFocus(s,r):e.scrollTo(s,r))}},restoreSelection:function(e,t){e.api.selection&&(e.api.selection.clearSelectedRows(),t.forEach(function(t){if(t.identity){var n=a.findRowByIdentity(e,t);n&&e.api.selection.selectRow(n.entity)}else e.api.selection.selectRowByVisibleIndex(t.row)}))},restoreGrouping:function(e,t){e.api.grouping&&"undefined"!=typeof t&&null!==t&&!angular.equals(t,{})&&e.api.grouping.setGrouping(t)},restoreTreeView:function(e,t){e.api.treeView&&"undefined"!=typeof t&&null!==t&&!angular.equals(t,{})&&e.api.treeView.setTreeView(t)},findRowByIdentity:function(e,t){if(!e.options.saveRowIdentity)return null;var n=e.rows.filter(function(n){return e.options.saveRowIdentity(n.entity)===t.row?!0:!1});return n.length>0?n[0]:null}};return a}]),e.directive("uiGridSaveState",["uiGridSaveStateConstants","uiGridSaveStateService","gridUtil","$compile",function(e,t,n,r){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(e,n,r,i){t.initializeGrid(i.grid)}}}])}(),function(){"use strict";var e=angular.module("ui.grid.selection",["ui.grid"]);e.constant("uiGridSelectionConstants",{featureName:"selection",selectionRowHeaderColName:"selectionRowHeaderCol"}),angular.module("ui.grid").config(["$provide",function(e){e.decorator("GridRow",["$delegate",function(e){return e.prototype.setSelected=function(e){this.isSelected=e,e?this.grid.selection.selectedCount++:this.grid.selection.selectedCount--},e}])}]),e.service("uiGridSelectionService",["$q","$templateCache","uiGridSelectionConstants","gridUtil",function(e,t,n,r){var i={initializeGrid:function(e){e.selection={},e.selection.lastSelectedRow=null,e.selection.selectAll=!1,e.selection.selectedCount=0,i.defaultGridOptions(e.options);var t={events:{selection:{rowSelectionChanged:function(e,t,n){},rowSelectionChangedBatch:function(e,t,n){}}},methods:{selection:{toggleRowSelection:function(t,n){var r=e.getRow(t);null!==r&&i.toggleRowSelection(e,r,n,e.options.multiSelect,e.options.noUnselect)},selectRow:function(t,n){var r=e.getRow(t);null===r||r.isSelected||i.toggleRowSelection(e,r,n,e.options.multiSelect,e.options.noUnselect)},selectRowByVisibleIndex:function(t,n){var r=e.renderContainers.body.visibleRowCache[t];null===r||"undefined"==typeof r||r.isSelected||i.toggleRowSelection(e,r,n,e.options.multiSelect,e.options.noUnselect)},unSelectRow:function(t,n){var r=e.getRow(t);null!==r&&r.isSelected&&i.toggleRowSelection(e,r,n,e.options.multiSelect,e.options.noUnselect)},selectAllRows:function(t){if(e.options.multiSelect!==!1){var n=[];e.rows.forEach(function(r){r.isSelected||r.enableSelection===!1||(r.setSelected(!0),i.decideRaiseSelectionEvent(e,r,n,t))}),i.decideRaiseSelectionBatchEvent(e,n,t),e.selection.selectAll=!0}},selectAllVisibleRows:function(t){if(e.options.multiSelect!==!1){var n=[];e.rows.forEach(function(r){r.visible?r.isSelected||r.enableSelection===!1||(r.setSelected(!0),i.decideRaiseSelectionEvent(e,r,n,t)):r.isSelected&&(r.setSelected(!1),i.decideRaiseSelectionEvent(e,r,n,t))}),i.decideRaiseSelectionBatchEvent(e,n,t),e.selection.selectAll=!0}},clearSelectedRows:function(t){i.clearSelectedRows(e,t)},getSelectedRows:function(){return i.getSelectedRows(e).map(function(e){return e.entity})},getSelectedGridRows:function(){return i.getSelectedRows(e)},setMultiSelect:function(t){e.options.multiSelect=t},setModifierKeysToMultiSelect:function(t){e.options.modifierKeysToMultiSelect=t},getSelectAllState:function(){return e.selection.selectAll}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.enableRowSelection=e.enableRowSelection!==!1,e.multiSelect=e.multiSelect!==!1,e.noUnselect=e.noUnselect===!0,e.modifierKeysToMultiSelect=e.modifierKeysToMultiSelect===!0,e.enableRowHeaderSelection=e.enableRowHeaderSelection!==!1,"undefined"==typeof e.enableFullRowSelection&&(e.enableFullRowSelection=!e.enableRowHeaderSelection),e.enableSelectAll=e.enableSelectAll!==!1,e.enableSelectionBatchEvent=e.enableSelectionBatchEvent!==!1,e.selectionRowHeaderWidth=angular.isDefined(e.selectionRowHeaderWidth)?e.selectionRowHeaderWidth:30,e.enableFooterTotalSelected=e.enableFooterTotalSelected!==!1,e.isRowSelectable=angular.isDefined(e.isRowSelectable)?e.isRowSelectable:angular.noop},toggleRowSelection:function(e,t,n,r,o){var a=t.isSelected;if(t.enableSelection!==!1||a){var s;r||a?!r&&a&&(s=i.getSelectedRows(e),s.length>1&&(a=!1,i.clearSelectedRows(e,n))):i.clearSelectedRows(e,n),a&&o||(t.setSelected(!a),t.isSelected===!0&&(e.selection.lastSelectedRow=t),s=i.getSelectedRows(e),e.selection.selectAll=e.rows.length===s.length,e.api.selection.raise.rowSelectionChanged(t,n))}},shiftSelect:function(e,t,n,r){if(r){var o=i.getSelectedRows(e),a=o.length>0?e.renderContainers.body.visibleRowCache.indexOf(e.selection.lastSelectedRow):0,s=e.renderContainers.body.visibleRowCache.indexOf(t);if(a>s){var u=a;a=s,s=u}for(var l=[],c=a;s>=c;c++){var d=e.renderContainers.body.visibleRowCache[c];d&&(d.isSelected||d.enableSelection===!1||(d.setSelected(!0),e.selection.lastSelectedRow=d,i.decideRaiseSelectionEvent(e,d,l,n)))}i.decideRaiseSelectionBatchEvent(e,l,n)}},getSelectedRows:function(e){return e.rows.filter(function(e){return e.isSelected})},clearSelectedRows:function(e,t){var n=[];i.getSelectedRows(e).forEach(function(r){r.isSelected&&(r.setSelected(!1),i.decideRaiseSelectionEvent(e,r,n,t))}),i.decideRaiseSelectionBatchEvent(e,n,t),e.selection.selectAll=!1,e.selection.selectedCount=0},decideRaiseSelectionEvent:function(e,t,n,r){e.options.enableSelectionBatchEvent?n.push(t):e.api.selection.raise.rowSelectionChanged(t,r)},decideRaiseSelectionBatchEvent:function(e,t,n){t.length>0&&e.api.selection.raise.rowSelectionChangedBatch(t,n)}};return i}]),e.directive("uiGridSelection",["uiGridSelectionConstants","uiGridSelectionService","$templateCache","uiGridConstants",function(e,t,n,r){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(n,i,o,a){if(t.initializeGrid(a.grid),a.grid.options.enableRowHeaderSelection){var s={name:e.selectionRowHeaderColName,displayName:"",width:a.grid.options.selectionRowHeaderWidth,minWidth:10,cellTemplate:"ui-grid/selectionRowHeader",headerCellTemplate:"ui-grid/selectionHeaderCell",enableColumnResizing:!1,enableColumnMenu:!1,exporterSuppressExport:!0,allowCellFocus:!0};a.grid.addRowHeaderColumn(s)}var u=!1,l=function(e){return e.forEach(function(e){e.enableSelection=a.grid.options.isRowSelectable(e)}),e},c=function(){a.grid.options.isRowSelectable!==angular.noop&&u!==!0&&(a.grid.registerRowsProcessor(l,500),u=!0)};c();var d=a.grid.registerDataChangeCallback(c,[r.dataChange.OPTIONS]);n.$on("$destroy",d)},post:function(e,t,n,r){}}}}}]),e.directive("uiGridSelectionRowHeaderButtons",["$templateCache","uiGridSelectionService","gridUtil",function(e,t,n){return{replace:!0,restrict:"E",template:e.get("ui-grid/selectionRowHeaderButtons"),scope:!0,require:"^uiGrid",link:function(e,r,i,o){function a(e,n){n.stopPropagation(),n.shiftKey?t.shiftSelect(u,e,n,u.options.multiSelect):n.ctrlKey||n.metaKey?t.toggleRowSelection(u,e,n,u.options.multiSelect,u.options.noUnselect):t.toggleRowSelection(u,e,n,u.options.multiSelect&&!u.options.modifierKeysToMultiSelect,u.options.noUnselect)}function s(e){(e.ctrlKey||e.shiftKey)&&(e.target.onselectstart=function(){return!1},window.setTimeout(function(){e.target.onselectstart=null},0))}var u=o.grid;e.selectButtonClick=a,"ie"===n.detectBrowser()&&r.on("mousedown",s)}}}]),e.directive("uiGridSelectionSelectAllButtons",["$templateCache","uiGridSelectionService",function(e,t){return{replace:!0,restrict:"E",template:e.get("ui-grid/selectionSelectAllButtons"),scope:!1,link:function(e,n,r,i){var o=e.col.grid;e.headerButtonClick=function(e,n){o.selection.selectAll?(t.clearSelectedRows(o,n),o.options.noUnselect&&o.api.selection.selectRowByVisibleIndex(0,n),o.selection.selectAll=!1):o.options.multiSelect&&(o.api.selection.selectAllVisibleRows(n),o.selection.selectAll=!0)}}}}]),e.directive("uiGridViewport",["$compile","uiGridConstants","uiGridSelectionConstants","gridUtil","$parse","uiGridSelectionService",function(e,t,n,r,i,o){return{priority:-200,scope:!1,compile:function(e,t){var n=angular.element(e.children().children()[0]),r=n.attr("ng-class"),i="";return i=r?r.slice(0,-1)+",'ui-grid-row-selected': row.isSelected}":"{'ui-grid-row-selected': row.isSelected}",n.attr("ng-class",i),{pre:function(e,t,n,r){},post:function(e,t,n,r){}}}}}]),e.directive("uiGridCell",["$compile","uiGridConstants","uiGridSelectionConstants","gridUtil","$parse","uiGridSelectionService","$timeout",function(e,t,n,r,i,o,a){return{priority:-200,restrict:"A",require:"?^uiGrid",scope:!1,link:function(e,n,r,i){function s(){e.grid.options.enableRowSelection&&e.grid.options.enableFullRowSelection&&(n.addClass("ui-grid-disable-selection"),n.on("touchstart",p),n.on("touchend",f),n.on("click",d),e.registered=!0)}function u(){e.registered&&(n.removeClass("ui-grid-disable-selection"),n.off("touchstart",p),n.off("touchend",f),n.off("click",d),e.registered=!1)}var l=0,c=300;i.grid.api.cellNav&&i.grid.api.cellNav.on.viewPortKeyDown(e,function(t,n){null!==n&&n.row===e.row&&n.col===e.col&&32===t.keyCode&&"selectionRowHeaderCol"===e.col.colDef.name&&(o.toggleRowSelection(e.grid,e.row,t,e.grid.options.multiSelect&&!e.grid.options.modifierKeysToMultiSelect,e.grid.options.noUnselect),e.$apply())});var d=function(t){n.off("touchend",f),t.shiftKey?o.shiftSelect(e.grid,e.row,t,e.grid.options.multiSelect):t.ctrlKey||t.metaKey?o.toggleRowSelection(e.grid,e.row,t,e.grid.options.multiSelect,e.grid.options.noUnselect):o.toggleRowSelection(e.grid,e.row,t,e.grid.options.multiSelect&&!e.grid.options.modifierKeysToMultiSelect,e.grid.options.noUnselect),e.$apply(),a(function(){n.on("touchend",f)},c)},p=function(e){l=(new Date).getTime(),n.off("click",d)},f=function(e){var t=(new Date).getTime(),r=t-l;c>r&&d(e),a(function(){n.on("click",d)},c)};s();var h=e.grid.registerDataChangeCallback(function(){e.grid.options.enableRowSelection&&e.grid.options.enableFullRowSelection&&!e.registered?s():e.grid.options.enableRowSelection&&e.grid.options.enableFullRowSelection||!e.registered||u()},[t.dataChange.OPTIONS]);n.on("$destroy",h)}}}]),e.directive("uiGridGridFooter",["$compile","uiGridConstants","gridUtil",function(e,t,n){return{restrict:"EA",replace:!0,priority:-1e3,require:"^uiGrid",scope:!0,compile:function(t,r){return{pre:function(t,r,i,o){o.grid.options.showGridFooter&&n.getTemplate("ui-grid/gridFooterSelectedItems").then(function(n){var i=angular.element(n),o=e(i)(t);angular.element(r[0].getElementsByClassName("ui-grid-grid-footer")[0]).append(o)})},post:function(e,t,n,r){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.treeBase",["ui.grid"]);e.constant("uiGridTreeBaseConstants",{featureName:"treeBase",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}}),e.service("uiGridTreeBaseService",["$q","uiGridTreeBaseConstants","gridUtil","GridRow","gridClassFactory","i18nService","uiGridConstants","rowSorter",function(e,t,n,r,i,o,a,s){var u={initializeGrid:function(e,t){e.treeBase={},e.treeBase.numberLevels=0,e.treeBase.expandAll=!1,e.treeBase.tree={},u.defaultGridOptions(e.options),e.registerRowsProcessor(u.treeRows,410),e.registerColumnBuilder(u.treeBaseColumnBuilder),u.createRowHeader(e);var n={events:{treeBase:{rowExpanded:{},rowCollapsed:{}}},methods:{treeBase:{expandAllRows:function(){u.expandAllRows(e)},collapseAllRows:function(){u.collapseAllRows(e)},toggleRowTreeState:function(t){u.toggleRowTreeState(e,t)},expandRow:function(t){u.expandRow(e,t)},expandRowChildren:function(t){u.expandRowChildren(e,t)},collapseRow:function(t){u.collapseRow(e,t)},collapseRowChildren:function(t){u.collapseRowChildren(e,t)},getTreeExpandedState:function(){return{expandedState:u.getTreeState(e)}},setTreeState:function(t){u.setTreeState(e,t)},getRowChildren:function(e){return e.treeNode.children.map(function(e){return e.row})}}}};e.api.registerEventsFromObject(n.events),e.api.registerMethodsFromObject(n.methods)},defaultGridOptions:function(e){e.treeRowHeaderBaseWidth=e.treeRowHeaderBaseWidth||30,e.treeIndent=e.treeIndent||10,e.showTreeRowHeader=e.showTreeRowHeader!==!1,e.showTreeExpandNoChildren=e.showTreeExpandNoChildren!==!1,e.treeRowHeaderAlwaysVisible=e.treeRowHeaderAlwaysVisible!==!1,e.treeCustomAggregations=e.treeCustomAggregations||{}},treeBaseColumnBuilder:function(e,t,n){"undefined"!=typeof e.customTreeAggregationFn&&(t.treeAggregationFn=e.customTreeAggregationFn),"undefined"!=typeof e.treeAggregationType&&(t.treeAggregation={type:e.treeAggregationType},"undefined"!=typeof n.treeCustomAggregations[e.treeAggregationType]?(t.treeAggregationFn=n.treeCustomAggregations[e.treeAggregationType].aggregationFn,t.treeAggregationFinalizerFn=n.treeCustomAggregations[e.treeAggregationType].finalizerFn,t.treeAggregation.label=n.treeCustomAggregations[e.treeAggregationType].label):"undefined"!=typeof u.nativeAggregations()[e.treeAggregationType]&&(t.treeAggregationFn=u.nativeAggregations()[e.treeAggregationType].aggregationFn,t.treeAggregation.label=u.nativeAggregations()[e.treeAggregationType].label)),"undefined"!=typeof e.treeAggregationLabel&&("undefined"==typeof t.treeAggregation&&(t.treeAggregation={}),t.treeAggregation.label=e.treeAggregationLabel),t.treeAggregationUpdateEntity=e.treeAggregationUpdateEntity!==!1,"undefined"==typeof t.customTreeAggregationFinalizerFn&&(t.customTreeAggregationFinalizerFn=e.customTreeAggregationFinalizerFn)},createRowHeader:function(e){var n={name:t.rowHeaderColName,displayName:"",width:e.options.treeRowHeaderBaseWidth,minWidth:10,cellTemplate:"ui-grid/treeBaseRowHeader",
headerCellTemplate:"ui-grid/treeBaseHeaderCell",enableColumnResizing:!1,enableColumnMenu:!1,exporterSuppressExport:!0,allowCellFocus:!0};n.visible=e.options.treeRowHeaderAlwaysVisible,e.addRowHeaderColumn(n)},expandAllRows:function(e){e.treeBase.tree.forEach(function(n){u.setAllNodes(e,n,t.EXPANDED)}),e.treeBase.expandAll=!0,e.queueGridRefresh()},collapseAllRows:function(e){e.treeBase.tree.forEach(function(n){u.setAllNodes(e,n,t.COLLAPSED)}),e.treeBase.expandAll=!1,e.queueGridRefresh()},setAllNodes:function(e,n,r){"undefined"!=typeof n.state&&n.state!==r&&(n.state=r,r===t.EXPANDED?e.api.treeBase.raise.rowExpanded(n.row):e.api.treeBase.raise.rowCollapsed(n.row)),n.children&&n.children.forEach(function(t){u.setAllNodes(e,t,r)})},toggleRowTreeState:function(e,n){"undefined"==typeof n.treeLevel||null===n.treeLevel||n.treeLevel<0||(n.treeNode.state===t.EXPANDED?u.collapseRow(e,n):u.expandRow(e,n),e.queueGridRefresh())},expandRow:function(e,n){"undefined"==typeof n.treeLevel||null===n.treeLevel||n.treeLevel<0||n.treeNode.state!==t.EXPANDED&&(n.treeNode.state=t.EXPANDED,e.api.treeBase.raise.rowExpanded(n),e.treeBase.expandAll=u.allExpanded(e.treeBase.tree),e.queueGridRefresh())},expandRowChildren:function(e,n){"undefined"==typeof n.treeLevel||null===n.treeLevel||n.treeLevel<0||(u.setAllNodes(e,n.treeNode,t.EXPANDED),e.treeBase.expandAll=u.allExpanded(e.treeBase.tree),e.queueGridRefresh())},collapseRow:function(e,n){"undefined"==typeof n.treeLevel||null===n.treeLevel||n.treeLevel<0||n.treeNode.state!==t.COLLAPSED&&(n.treeNode.state=t.COLLAPSED,e.treeBase.expandAll=!1,e.api.treeBase.raise.rowCollapsed(n),e.queueGridRefresh())},collapseRowChildren:function(e,n){"undefined"==typeof n.treeLevel||null===n.treeLevel||n.treeLevel<0||(u.setAllNodes(e,n.treeNode,t.COLLAPSED),e.treeBase.expandAll=!1,e.queueGridRefresh())},allExpanded:function(e){var t=!0;return e.forEach(function(e){u.allExpandedInternal(e)||(t=!1)}),t},allExpandedInternal:function(e){if(e.children&&e.children.length>0){if(e.state===t.COLLAPSED)return!1;var n=!0;return e.children.forEach(function(e){u.allExpandedInternal(e)||(n=!1)}),n}return!0},treeRows:function(e){if(0===e.length)return e;var n=this;return t.EXPANDED,n.treeBase.tree=u.createTree(n,e),u.updateRowHeaderWidth(n),u.sortTree(n),u.fixFilter(n),u.renderTree(n.treeBase.tree)},updateRowHeaderWidth:function(e){var n=e.getColumn(t.rowHeaderColName),r=e.options.treeRowHeaderBaseWidth+e.options.treeIndent*Math.max(e.treeBase.numberLevels-1,0);n&&r!==n.width&&(n.width=r,e.queueRefresh());var i=!0;e.options.showTreeRowHeader===!1&&(i=!1),e.options.treeRowHeaderAlwaysVisible===!1&&e.treeBase.numberLevels<=0&&(i=!1),n.visible!==i&&(n.visible=i,n.colDef.visible=i,e.queueGridRefresh())},renderTree:function(e){var n=[];return e.forEach(function(e){e.row.visible&&n.push(e.row),e.state===t.EXPANDED&&e.children&&e.children.length>0&&(n=n.concat(u.renderTree(e.children)))}),n},createTree:function(e,n){var r,i=-1,o=[];e.treeBase.tree=[],e.treeBase.numberLevels=0;var a=u.getAggregations(e),s=function(n){if("undefined"!=typeof n.entity.$$treeLevel&&n.treeLevel!==n.entity.$$treeLevel&&(n.treeLevel=n.entity.$$treeLevel),n.treeLevel<=i){for(;n.treeLevel<=i;){var s=o.pop();u.finaliseAggregations(s),i--}r=o.length>0?u.setCurrentState(o):t.EXPANDED}("undefined"==typeof n.treeLevel||null===n.treeLevel||n.treeLevel<0)&&n.visible&&u.aggregate(e,n,o),u.addOrUseNode(e,n,o,a),"undefined"!=typeof n.treeLevel&&null!==n.treeLevel&&n.treeLevel>=0&&(o.push(n),i++,r=u.setCurrentState(o)),e.treeBase.numberLevels<n.treeLevel+1&&(e.treeBase.numberLevels=n.treeLevel+1)};for(n.forEach(s);o.length>0;){var l=o.pop();u.finaliseAggregations(l)}return e.treeBase.tree},addOrUseNode:function(e,n,r,i){var o=[];i.forEach(function(e){o.push(u.buildAggregationObject(e.col))});var a={state:t.COLLAPSED,row:n,parentRow:null,aggregations:o,children:[]};n.treeNode&&(a.state=n.treeNode.state),r.length>0&&(a.parentRow=r[r.length-1]),n.treeNode=a,0===r.length?e.treeBase.tree.push(a):r[r.length-1].treeNode.children.push(a)},setCurrentState:function(e){var n=t.EXPANDED;return e.forEach(function(e){e.treeNode.state===t.COLLAPSED&&(n=t.COLLAPSED)}),n},sortTree:function(e){e.columns.forEach(function(e){e.sort&&e.sort.ignoreSort&&delete e.sort.ignoreSort}),e.treeBase.tree=u.sortInternal(e,e.treeBase.tree)},sortInternal:function(e,n){var r=n.map(function(e){return e.row});r=s.sort(e,r,e.columns);var i=r.map(function(e){return e.treeNode});return i.forEach(function(n){n.state===t.EXPANDED&&n.children&&n.children.length>0&&(n.children=u.sortInternal(e,n.children))}),i},fixFilter:function(e){var t;e.treeBase.tree.forEach(function(e){e.children&&e.children.length>0&&(t=e.row.visible,u.fixFilterInternal(e.children,t))})},fixFilterInternal:function(e,t){return e.forEach(function(e){e.row.visible&&!t&&(u.setParentsVisible(e),t=!0),e.children&&e.children.length>0&&u.fixFilterInternal(e.children,t&&e.row.visible)&&(t=!0)}),t},setParentsVisible:function(e){for(;e.parentRow;)e.parentRow.visible=!0,e=e.parentRow.treeNode},buildAggregationObject:function(e){var t={col:e};return e.treeAggregation&&e.treeAggregation.type&&(t.type=e.treeAggregation.type),e.treeAggregation&&e.treeAggregation.label&&(t.label=e.treeAggregation.label),t},getAggregations:function(e){var t=[];return e.columns.forEach(function(n){"undefined"!=typeof n.treeAggregationFn&&(t.push(u.buildAggregationObject(n)),e.options.showColumnFooter&&"undefined"==typeof n.colDef.aggregationType&&n.treeAggregation&&(n.treeFooterAggregation=u.buildAggregationObject(n),n.aggregationType=u.treeFooterAggregationType))}),t},aggregate:function(e,t,n){0===n.length&&t.treeNode&&t.treeNode.aggregations&&t.treeNode.aggregations.forEach(function(n){if("undefined"!=typeof n.col.treeFooterAggregation){var r=e.getCellValue(t,n.col),i=Number(r);n.col.treeAggregationFn(n.col.treeFooterAggregation,r,i,t)}}),n.forEach(function(n,r){n.treeNode.aggregations&&n.treeNode.aggregations.forEach(function(n){var i=e.getCellValue(t,n.col),o=Number(i);n.col.treeAggregationFn(n,i,o,t),0===r&&"undefined"!=typeof n.col.treeFooterAggregation&&n.col.treeAggregationFn(n.col.treeFooterAggregation,i,o,t)})})},nativeAggregations:function(){var e={count:{label:o.get().aggregation.count,menuTitle:o.get().grouping.aggregate_count,aggregationFn:function(e,t,n){"undefined"==typeof e.value?e.value=1:e.value++}},sum:{label:o.get().aggregation.sum,menuTitle:o.get().grouping.aggregate_sum,aggregationFn:function(e,t,n){isNaN(n)||("undefined"==typeof e.value?e.value=n:e.value+=n)}},min:{label:o.get().aggregation.min,menuTitle:o.get().grouping.aggregate_min,aggregationFn:function(e,t,n){"undefined"==typeof e.value?e.value=t:"undefined"!=typeof t&&null!==t&&(t<e.value||null===e.value)&&(e.value=t)}},max:{label:o.get().aggregation.max,menuTitle:o.get().grouping.aggregate_max,aggregationFn:function(e,t,n){"undefined"==typeof e.value?e.value=t:"undefined"!=typeof t&&null!==t&&(t>e.value||null===e.value)&&(e.value=t)}},avg:{label:o.get().aggregation.avg,menuTitle:o.get().grouping.aggregate_avg,aggregationFn:function(e,t,n){"undefined"==typeof e.count?e.count=1:e.count++,isNaN(n)||("undefined"==typeof e.value||"undefined"==typeof e.sum?(e.value=n,e.sum=n):(e.sum+=n,e.value=e.sum/e.count))}}};return e},finaliseAggregation:function(e,t){t.col.treeAggregationUpdateEntity&&"undefined"!=typeof e&&"undefined"!=typeof e.entity["$$"+t.col.uid]&&angular.extend(t,e.entity["$$"+t.col.uid]),"function"==typeof t.col.treeAggregationFinalizerFn&&t.col.treeAggregationFinalizerFn(t),"function"==typeof t.col.customTreeAggregationFinalizerFn&&t.col.customTreeAggregationFinalizerFn(t),"undefined"==typeof t.rendered&&(t.rendered=t.label?t.label+t.value:t.value)},finaliseAggregations:function(e){"undefined"!=typeof e.treeNode.aggregations&&e.treeNode.aggregations.forEach(function(t){if(u.finaliseAggregation(e,t),t.col.treeAggregationUpdateEntity){var n={};angular.forEach(t,function(e,r){t.hasOwnProperty(r)&&"col"!==r&&(n[r]=e)}),e.entity["$$"+t.col.uid]=n}})},treeFooterAggregationType:function(e,t){return u.finaliseAggregation(void 0,t.treeFooterAggregation),"undefined"==typeof t.treeFooterAggregation.value||null===t.treeFooterAggregation.rendered?"":t.treeFooterAggregation.rendered}};return u}]),e.directive("uiGridTreeBaseRowHeaderButtons",["$templateCache","uiGridTreeBaseService",function(e,t){return{replace:!0,restrict:"E",template:e.get("ui-grid/treeBaseRowHeaderButtons"),scope:!0,require:"^uiGrid",link:function(e,n,r,i){var o=i.grid;e.treeButtonClick=function(e,n){t.toggleRowTreeState(o,e,n)}}}}]),e.directive("uiGridTreeBaseExpandAllButtons",["$templateCache","uiGridTreeBaseService",function(e,t){return{replace:!0,restrict:"E",template:e.get("ui-grid/treeBaseExpandAllButtons"),scope:!1,link:function(e,n,r,i){var o=e.col.grid;e.headerButtonClick=function(e,n){o.treeBase.expandAll?t.collapseAllRows(o,n):t.expandAllRows(o,n)}}}}]),e.directive("uiGridViewport",["$compile","uiGridConstants","gridUtil","$parse",function(e,t,n,r){return{priority:-200,scope:!1,compile:function(e,t){var n=angular.element(e.children().children()[0]),r=n.attr("ng-class"),i="";return i=r?r.slice(0,-1)+",'ui-grid-tree-header-row': row.treeLevel > -1}":"{'ui-grid-tree-header-row': row.treeLevel > -1}",n.attr("ng-class",i),{pre:function(e,t,n,r){},post:function(e,t,n,r){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.treeView",["ui.grid","ui.grid.treeBase"]);e.constant("uiGridTreeViewConstants",{featureName:"treeView",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}}),e.service("uiGridTreeViewService",["$q","uiGridTreeViewConstants","uiGridTreeBaseConstants","uiGridTreeBaseService","gridUtil","GridRow","gridClassFactory","i18nService","uiGridConstants",function(e,t,n,r,i,o,a,s,u){var l={initializeGrid:function(e,t){r.initializeGrid(e,t),e.treeView={},e.registerRowsProcessor(l.adjustSorting,60);var n={events:{treeView:{}},methods:{treeView:{}}};e.api.registerEventsFromObject(n.events),e.api.registerMethodsFromObject(n.methods)},defaultGridOptions:function(e){e.enableTreeView=e.enableTreeView!==!1},adjustSorting:function(e){var t=this;return t.columns.forEach(function(e){e.sort&&(e.sort.ignoreSort=!0)}),e}};return l}]),e.directive("uiGridTreeView",["uiGridTreeViewConstants","uiGridTreeViewService","$templateCache",function(e,t,n){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,r,i){i.grid.options.enableTreeView!==!1&&t.initializeGrid(i.grid,e)},post:function(e,t,n,r){}}}}}])}(),angular.module("ui.grid").run(["$templateCache",function(e){"use strict";e.put("ui-grid/ui-grid-filter",'<div class="ui-grid-filter-container" ng-repeat="colFilter in col.filters" ng-class="{\'ui-grid-filter-cancel-button-hidden\' : colFilter.disableCancelFilterButton === true }"><div ng-if="colFilter.type !== \'select\'"><input type="text" class="ui-grid-filter-input ui-grid-filter-input-{{$index}}" ng-model="colFilter.term" ng-attr-placeholder="{{colFilter.placeholder || \'\'}}" aria-label="{{colFilter.ariaLabel || aria.defaultFilterLabel}}"><div role="button" class="ui-grid-filter-button" ng-click="removeFilter(colFilter, $index)" ng-if="!colFilter.disableCancelFilterButton" ng-disabled="colFilter.term === undefined || colFilter.term === null || colFilter.term === \'\'" ng-show="colFilter.term !== undefined && colFilter.term !== null && colFilter.term !== \'\'"><i class="ui-grid-icon-cancel" ui-grid-one-bind-aria-label="aria.removeFilter">&nbsp;</i></div></div><div ng-if="colFilter.type === \'select\'"><select class="ui-grid-filter-select ui-grid-filter-input-{{$index}}" ng-model="colFilter.term" ng-attr-placeholder="{{colFilter.placeholder || aria.defaultFilterLabel}}" aria-label="{{colFilter.ariaLabel || \'\'}}" ng-options="option.value as option.label for option in colFilter.selectOptions"><option value=""></option></select><div role="button" class="ui-grid-filter-button-select" ng-click="removeFilter(colFilter, $index)" ng-if="!colFilter.disableCancelFilterButton" ng-disabled="colFilter.term === undefined || colFilter.term === null || colFilter.term === \'\'" ng-show="colFilter.term !== undefined && colFilter.term != null"><i class="ui-grid-icon-cancel" ui-grid-one-bind-aria-label="aria.removeFilter">&nbsp;</i></div></div></div>'),e.put("ui-grid/ui-grid-footer",'<div class="ui-grid-footer-panel ui-grid-footer-aggregates-row"><!-- tfooter --><div class="ui-grid-footer ui-grid-footer-viewport"><div class="ui-grid-footer-canvas"><div class="ui-grid-footer-cell-wrapper" ng-style="colContainer.headerCellWrapperStyle()"><div role="row" class="ui-grid-footer-cell-row"><div ui-grid-footer-cell role="gridcell" ng-repeat="col in colContainer.renderedColumns track by col.uid" col="col" render-index="$index" class="ui-grid-footer-cell ui-grid-clearfix"></div></div></div></div></div></div>'),e.put("ui-grid/ui-grid-grid-footer",'<div class="ui-grid-footer-info ui-grid-grid-footer"><span>{{\'search.totalItems\' | t}} {{grid.rows.length}}</span> <span ng-if="grid.renderContainers.body.visibleRowCache.length !== grid.rows.length" class="ngLabel">({{"search.showingItems" | t}} {{grid.renderContainers.body.visibleRowCache.length}})</span></div>'),e.put("ui-grid/ui-grid-group-panel",'<div class="ui-grid-group-panel"><div ui-t="groupPanel.description" class="description" ng-show="groupings.length == 0"></div><ul ng-show="groupings.length > 0" class="ngGroupList"><li class="ngGroupItem" ng-repeat="group in configGroups"><span class="ngGroupElement"><span class="ngGroupName">{{group.displayName}} <span ng-click="removeGroup($index)" class="ngRemoveGroup">x</span></span> <span ng-hide="$last" class="ngGroupArrow"></span></span></li></ul></div>'),e.put("ui-grid/ui-grid-header",'<div role="rowgroup" class="ui-grid-header"><!-- theader --><div class="ui-grid-top-panel"><div class="ui-grid-header-viewport"><div class="ui-grid-header-canvas"><div class="ui-grid-header-cell-wrapper" ng-style="colContainer.headerCellWrapperStyle()"><div role="row" class="ui-grid-header-cell-row"><div class="ui-grid-header-cell ui-grid-clearfix" ng-repeat="col in colContainer.renderedColumns track by col.uid" ui-grid-header-cell col="col" render-index="$index"></div></div></div></div></div></div></div>'),e.put("ui-grid/ui-grid-menu-button",'<div class="ui-grid-menu-button"><div role="button" ui-grid-one-bind-id-grid="\'grid-menu\'" class="ui-grid-icon-container" ng-click="toggleMenu()" aria-haspopup="true"><i class="ui-grid-icon-menu" ui-grid-one-bind-aria-label="i18n.aria.buttonLabel">&nbsp;</i></div><div ui-grid-menu menu-items="menuItems"></div></div>'),e.put("ui-grid/ui-grid-no-header",'<div class="ui-grid-top-panel"></div>'),e.put("ui-grid/ui-grid-row","<div ng-repeat=\"(colRenderIndex, col) in colContainer.renderedColumns track by col.uid\" ui-grid-one-bind-id-grid=\"rowRenderIndex + '-' + col.uid + '-cell'\" class=\"ui-grid-cell\" ng-class=\"{ 'ui-grid-row-header-cell': col.isRowHeader }\" role=\"{{col.isRowHeader ? 'rowheader' : 'gridcell'}}\" ui-grid-cell></div>"),e.put("ui-grid/ui-grid",'<div ui-i18n="en" class="ui-grid"><!-- TODO (c0bra): add "scoped" attr here, eventually? --><style ui-grid-style>.grid{{ grid.id }} {\n      /* Styles for the grid */\n    }\n\n    .grid{{ grid.id }} .ui-grid-row, .grid{{ grid.id }} .ui-grid-cell, .grid{{ grid.id }} .ui-grid-cell .ui-grid-vertical-bar {\n      height: {{ grid.options.rowHeight }}px;\n    }\n\n    .grid{{ grid.id }} .ui-grid-row:last-child .ui-grid-cell {\n      border-bottom-width: {{ ((grid.getTotalRowHeight() < grid.getViewportHeight()) && \'1\') || \'0\' }}px;\n    }\n\n    {{ grid.verticalScrollbarStyles }}\n    {{ grid.horizontalScrollbarStyles }}\n\n    /*\n    .ui-grid[dir=rtl] .ui-grid-viewport {\n      padding-left: {{ grid.verticalScrollbarWidth }}px;\n    }\n    */\n\n    {{ grid.customStyles }}</style><div class="ui-grid-contents-wrapper"><div ui-grid-menu-button ng-if="grid.options.enableGridMenu"></div><div ng-if="grid.hasLeftContainer()" style="width: 0" ui-grid-pinned-container="\'left\'"></div><div ui-grid-render-container container-id="\'body\'" col-container-name="\'body\'" row-container-name="\'body\'" bind-scroll-horizontal="true" bind-scroll-vertical="true" enable-horizontal-scrollbar="grid.options.enableHorizontalScrollbar" enable-vertical-scrollbar="grid.options.enableVerticalScrollbar"></div><div ng-if="grid.hasRightContainer()" style="width: 0" ui-grid-pinned-container="\'right\'"></div><div ui-grid-grid-footer ng-if="grid.options.showGridFooter"></div><div ui-grid-column-menu ng-if="grid.options.enableColumnMenus"></div><div ng-transclude></div></div></div>'),e.put("ui-grid/uiGridCell",'<div class="ui-grid-cell-contents" title="TOOLTIP">{{COL_FIELD CUSTOM_FILTERS}}</div>'),e.put("ui-grid/uiGridColumnMenu",'<div class="ui-grid-column-menu"><div ui-grid-menu menu-items="menuItems"><!-- <div class="ui-grid-column-menu">\n    <div class="inner" ng-show="menuShown">\n      <ul>\n        <div ng-show="grid.options.enableSorting">\n          <li ng-click="sortColumn($event, asc)" ng-class="{ \'selected\' : col.sort.direction == asc }"><i class="ui-grid-icon-sort-alt-up"></i> Sort Ascending</li>\n          <li ng-click="sortColumn($event, desc)" ng-class="{ \'selected\' : col.sort.direction == desc }"><i class="ui-grid-icon-sort-alt-down"></i> Sort Descending</li>\n          <li ng-show="col.sort.direction" ng-click="unsortColumn()"><i class="ui-grid-icon-cancel"></i> Remove Sort</li>\n        </div>\n      </ul>\n    </div>\n  </div> --></div></div>'),e.put("ui-grid/uiGridFooterCell",'<div class="ui-grid-cell-contents" col-index="renderIndex"><div>{{ col.getAggregationText() + ( col.getAggregationValue() CUSTOM_FILTERS ) }}</div></div>'),e.put("ui-grid/uiGridHeaderCell",'<div role="columnheader" ng-class="{ \'sortable\': sortable }" ui-grid-one-bind-aria-labelledby-grid="col.uid + \'-header-text \' + col.uid + \'-sortdir-text\'" aria-sort="{{col.sort.direction == asc ? \'ascending\' : ( col.sort.direction == desc ? \'descending\' : (!col.sort.direction ? \'none\' : \'other\'))}}"><div role="button" tabindex="0" class="ui-grid-cell-contents ui-grid-header-cell-primary-focus" col-index="renderIndex" title="TOOLTIP"><span class="ui-grid-header-cell-label" ui-grid-one-bind-id-grid="col.uid + \'-header-text\'">{{ col.displayName CUSTOM_FILTERS }}</span> <span ui-grid-one-bind-id-grid="col.uid + \'-sortdir-text\'" ui-grid-visible="col.sort.direction" aria-label="{{getSortDirectionAriaLabel()}}"><i ng-class="{ \'ui-grid-icon-up-dir\': col.sort.direction == asc, \'ui-grid-icon-down-dir\': col.sort.direction == desc, \'ui-grid-icon-blank\': !col.sort.direction }" title="{{col.sort.priority ? i18n.headerCell.priority + \' \' + col.sort.priority : null}}" aria-hidden="true"></i> <sub class="ui-grid-sort-priority-number">{{col.sort.priority}}</sub></span></div><div role="button" tabindex="0" ui-grid-one-bind-id-grid="col.uid + \'-menu-button\'" class="ui-grid-column-menu-button" ng-if="grid.options.enableColumnMenus && !col.isRowHeader  && col.colDef.enableColumnMenu !== false" ng-click="toggleMenu($event)" ng-class="{\'ui-grid-column-menu-button-last-col\': isLastCol}" ui-grid-one-bind-aria-label="i18n.headerCell.aria.columnMenuButtonLabel" aria-haspopup="true"><i class="ui-grid-icon-angle-down" aria-hidden="true">&nbsp;</i></div><div ui-grid-filter></div></div>'),e.put("ui-grid/uiGridMenu",'<div class="ui-grid-menu" ng-if="shown"><div class="ui-grid-menu-mid" ng-show="shownMid"><div class="ui-grid-menu-inner"><button type="button" ng-focus="focus=true" ng-blur="focus=false" class="ui-grid-menu-close-button" ng-class="{\'ui-grid-sr-only\': (!focus)}"><i class="ui-grid-icon-cancel" ui-grid-one-bind-aria-label="i18n.close"></i></button><ul role="menu" class="ui-grid-menu-items"><li ng-repeat="item in menuItems" role="menuitem" ui-grid-menu-item ui-grid-one-bind-id="\'menuitem-\'+$index" action="item.action" name="item.title" active="item.active" icon="item.icon" shown="item.shown" context="item.context" template-url="item.templateUrl" leave-open="item.leaveOpen" screen-reader-only="item.screenReaderOnly"></li></ul></div></div></div>'),e.put("ui-grid/uiGridMenuItem",'<button type="button" class="ui-grid-menu-item" ng-click="itemAction($event, title)" ng-show="itemShown()" ng-class="{ \'ui-grid-menu-item-active\': active(), \'ui-grid-sr-only\': (!focus && screenReaderOnly) }" aria-pressed="{{active()}}" tabindex="0" ng-focus="focus=true" ng-blur="focus=false"><i ng-class="icon" aria-hidden="true">&nbsp;</i> {{ name }}</button>'),e.put("ui-grid/uiGridRenderContainer","<div role=\"grid\" ui-grid-one-bind-id-grid=\"'grid-container'\" class=\"ui-grid-render-container\" ng-style=\"{ 'margin-left': colContainer.getMargin('left') + 'px', 'margin-right': colContainer.getMargin('right') + 'px' }\"><!-- All of these dom elements are replaced in place --><div ui-grid-header></div><div ui-grid-viewport></div><div ng-if=\"colContainer.needsHScrollbarPlaceholder()\" class=\"ui-grid-scrollbar-placeholder\" ng-style=\"{height:colContainer.grid.scrollbarHeight + 'px'}\"></div><ui-grid-footer ng-if=\"grid.options.showColumnFooter\"></ui-grid-footer></div>"),e.put("ui-grid/uiGridViewport",'<div role="rowgroup" class="ui-grid-viewport" ng-style="colContainer.getViewportStyle()"><!-- tbody --><div class="ui-grid-canvas"><div ng-repeat="(rowRenderIndex, row) in rowContainer.renderedRows track by $index" class="ui-grid-row" ng-style="Viewport.rowStyle(rowRenderIndex)"><div role="row" ui-grid-row="row" row-render-index="rowRenderIndex"></div></div></div></div>'),e.put("ui-grid/cellEditor",'<div><form name="inputForm"><input type="INPUT_TYPE" ng-class="\'colt\' + col.uid" ui-grid-editor ng-model="MODEL_COL_FIELD"></form></div>'),e.put("ui-grid/dropdownEditor",'<div><form name="inputForm"><select ng-class="\'colt\' + col.uid" ui-grid-edit-dropdown ng-model="MODEL_COL_FIELD" ng-options="field[editDropdownIdLabel] as field[editDropdownValueLabel] CUSTOM_FILTERS for field in editDropdownOptionsArray"></select></form></div>'),e.put("ui-grid/fileChooserEditor",'<div><form name="inputForm"><input ng-class="\'colt\' + col.uid" ui-grid-edit-file-chooser type="file" id="files" name="files[]" ng-model="MODEL_COL_FIELD"></form></div>'),e.put("ui-grid/expandableRow",'<div ui-grid-expandable-row ng-if="expandableRow.shouldRenderExpand()" class="expandableRow" style="float:left; margin-top: 1px; margin-bottom: 1px" ng-style="{width: (grid.renderContainers.body.getCanvasWidth()) + \'px\', height: row.expandedRowHeight + \'px\'}"></div>'),e.put("ui-grid/expandableRowHeader",'<div class="ui-grid-row-header-cell ui-grid-expandable-buttons-cell"><div class="ui-grid-cell-contents"><i ng-class="{ \'ui-grid-icon-plus-squared\' : !row.isExpanded, \'ui-grid-icon-minus-squared\' : row.isExpanded }" ng-click="grid.api.expandable.toggleRowExpansion(row.entity)"></i></div></div>'),e.put("ui-grid/expandableScrollFiller","<div ng-if=\"expandableRow.shouldRenderFiller()\" ng-class=\"{scrollFiller:true, scrollFillerClass:(colContainer.name === 'body')}\" ng-style=\"{ width: (grid.getViewportWidth()) + 'px', height: row.expandedRowHeight + 2 + 'px', 'margin-left': grid.options.rowHeader.rowHeaderWidth + 'px' }\"><i class=\"ui-grid-icon-spin5 ui-grid-animate-spin\" ng-style=\"{'margin-top': ( row.expandedRowHeight/2 - 5) + 'px', 'margin-left' : ((grid.getViewportWidth() - grid.options.rowHeader.rowHeaderWidth)/2 - 5) + 'px'}\"></i></div>"),e.put("ui-grid/expandableTopRowHeader",'<div class="ui-grid-row-header-cell ui-grid-expandable-buttons-cell"><div class="ui-grid-cell-contents"><i ng-class="{ \'ui-grid-icon-plus-squared\' : !grid.expandable.expandedAll, \'ui-grid-icon-minus-squared\' : grid.expandable.expandedAll }" ng-click="grid.api.expandable.toggleAllRows()"></i></div></div>'),e.put("ui-grid/csvLink",'<span class="ui-grid-exporter-csv-link-span"><a href="data:text/csv;charset=UTF-8,CSV_CONTENT" download="FILE_NAME">LINK_LABEL</a></span>'),e.put("ui-grid/importerMenuItem",'<li class="ui-grid-menu-item"><form><input class="ui-grid-importer-file-chooser" type="file" id="files" name="files[]"></form></li>'),e.put("ui-grid/importerMenuItemContainer","<div ui-grid-importer-menu-item></div>"),e.put("ui-grid/pagination",'<div role="contentinfo" class="ui-grid-pager-panel" ui-grid-pager ng-show="grid.options.enablePaginationControls"><div role="navigation" class="ui-grid-pager-container"><div role="menubar" class="ui-grid-pager-control"><button type="button" role="menuitem" class="ui-grid-pager-first" ui-grid-one-bind-title="aria.pageToFirst" ui-grid-one-bind-aria-label="aria.pageToFirst" ng-click="pageFirstPageClick()" ng-disabled="cantPageBackward()"><div class="first-triangle"><div class="first-bar"></div></div></button> <button type="button" role="menuitem" class="ui-grid-pager-previous" ui-grid-one-bind-title="aria.pageBack" ui-grid-one-bind-aria-label="aria.pageBack" ng-click="pagePreviousPageClick()" ng-disabled="cantPageBackward()"><div class="first-triangle prev-triangle"></div></button> <input type="number" ui-grid-one-bind-title="aria.pageSelected" ui-grid-one-bind-aria-label="aria.pageSelected" class="ui-grid-pager-control-input" ng-model="grid.options.paginationCurrentPage" min="1" max="{{ paginationApi.getTotalPages() }}" required> <span class="ui-grid-pager-max-pages-number" ng-show="paginationApi.getTotalPages() > 0"><abbr ui-grid-one-bind-title="paginationOf">/</abbr> {{ paginationApi.getTotalPages() }}</span> <button type="button" role="menuitem" class="ui-grid-pager-next" ui-grid-one-bind-title="aria.pageForward" ui-grid-one-bind-aria-label="aria.pageForward" ng-click="pageNextPageClick()" ng-disabled="cantPageForward()"><div class="last-triangle next-triangle"></div></button> <button type="button" role="menuitem" class="ui-grid-pager-last" ui-grid-one-bind-title="aria.pageToLast" ui-grid-one-bind-aria-label="aria.pageToLast" ng-click="pageLastPageClick()" ng-disabled="cantPageToLast()"><div class="last-triangle"><div class="last-bar"></div></div></button></div><div class="ui-grid-pager-row-count-picker" ng-if="grid.options.paginationPageSizes.length > 1"><select ui-grid-one-bind-aria-labelledby-grid="\'items-per-page-label\'" ng-model="grid.options.paginationPageSize" ng-options="o as o for o in grid.options.paginationPageSizes"></select><span ui-grid-one-bind-id-grid="\'items-per-page-label\'" class="ui-grid-pager-row-count-label">&nbsp;{{sizesLabel}}</span></div><span ng-if="grid.options.paginationPageSizes.length <= 1" class="ui-grid-pager-row-count-label">{{grid.options.paginationPageSize}}&nbsp;{{sizesLabel}}</span></div><div class="ui-grid-pager-count-container"><div class="ui-grid-pager-count"><span ng-show="grid.options.totalItems > 0">{{showingLow}} <abbr ui-grid-one-bind-title="paginationThrough">-</abbr> {{showingHigh}} {{paginationOf}} {{grid.options.totalItems}} {{totalItemsLabel}}</span></div></div></div>'),e.put("ui-grid/columnResizer",'<div ui-grid-column-resizer ng-if="grid.options.enableColumnResizing" class="ui-grid-column-resizer" col="col" position="right" render-index="renderIndex" unselectable="on"></div>'),e.put("ui-grid/gridFooterSelectedItems",'<span ng-if="grid.selection.selectedCount !== 0 && grid.options.enableFooterTotalSelected">({{"search.selectedItems" | t}} {{grid.selection.selectedCount}})</span>'),e.put("ui-grid/selectionHeaderCell",'<div><!-- <div class="ui-grid-vertical-bar">&nbsp;</div> --><div class="ui-grid-cell-contents" col-index="renderIndex"><ui-grid-selection-select-all-buttons ng-if="grid.options.enableSelectAll"></ui-grid-selection-select-all-buttons></div></div>'),e.put("ui-grid/selectionRowHeader",'<div class="ui-grid-disable-selection"><div class="ui-grid-cell-contents"><ui-grid-selection-row-header-buttons></ui-grid-selection-row-header-buttons></div></div>'),e.put("ui-grid/selectionRowHeaderButtons",'<div class="ui-grid-selection-row-header-buttons ui-grid-icon-ok" ng-class="{\'ui-grid-row-selected\': row.isSelected}" ng-click="selectButtonClick(row, $event)">&nbsp;</div>'),e.put("ui-grid/selectionSelectAllButtons",'<div class="ui-grid-selection-row-header-buttons ui-grid-icon-ok" ng-class="{\'ui-grid-all-selected\': grid.selection.selectAll}" ng-click="headerButtonClick($event)"></div>'),e.put("ui-grid/treeBaseExpandAllButtons",'<div class="ui-grid-tree-base-row-header-buttons" ng-class="{\'ui-grid-icon-minus-squared\': grid.treeBase.numberLevels > 0 && grid.treeBase.expandAll, \'ui-grid-icon-plus-squared\': grid.treeBase.numberLevels > 0 && !grid.treeBase.expandAll}" ng-click="headerButtonClick($event)"></div>'),e.put("ui-grid/treeBaseHeaderCell",'<div><div class="ui-grid-cell-contents" col-index="renderIndex"><ui-grid-tree-base-expand-all-buttons></ui-grid-tree-base-expand-all-buttons></div></div>'),e.put("ui-grid/treeBaseRowHeader",'<div class="ui-grid-cell-contents"><ui-grid-tree-base-row-header-buttons></ui-grid-tree-base-row-header-buttons></div>'),e.put("ui-grid/treeBaseRowHeaderButtons","<div class=\"ui-grid-tree-base-row-header-buttons\" ng-class=\"{'ui-grid-tree-base-header': row.treeLevel > -1 }\" ng-click=\"treeButtonClick(row, $event)\"><i ng-class=\"{'ui-grid-icon-minus-squared': ( ( grid.options.showTreeExpandNoChildren && row.treeLevel > -1 ) || ( row.treeNode.children && row.treeNode.children.length > 0 ) ) && row.treeNode.state === 'expanded', 'ui-grid-icon-plus-squared': ( ( grid.options.showTreeExpandNoChildren && row.treeLevel > -1 ) || ( row.treeNode.children && row.treeNode.children.length > 0 ) ) && row.treeNode.state === 'collapsed'}\" ng-style=\"{'padding-left': grid.options.treeIndent * row.treeLevel + 'px'}\"></i> &nbsp;</div>")}]),function(){_.mixin(_.string.exports()),angular.module("app",["angularDc","ngAnimate","ui.bootstrap","ui.router","guanlecoja.ui","isteven-multi-select","ui.grid","ui.grid.resizeColumns","ui.grid.moveColumns","ui.grid.grouping"]),angular.module("app").config(["$urlRouterProvider","config","glMenuServiceProvider","$stateProvider","$compileProvider",function(e,t,n,r,i){var o,a,s,u,l,c,d,p,f,h,m,g;i.aHrefSanitizationWhitelist(/^\s*(https?|file|blob):/),e.otherwise("/1A/patch_lifecycle"),n.setAppTitle("Cactus metrics"),n.setFooter([{caption:"Help",href:"http://wiki.ith.intel.com/display/CACTUS/CACTUS+Metrics"},{caption:"V 2.7.0"}]),d="/metrics/"===window.location.pathname,p=t.menu_groups;for(c in p)u=p[c],n.addGroup({name:c,separator:u.separator,caption:u.caption,icon:u.icon,order:u.order});f=t.graphs,h=[];for(c in f)o=f[c],o.restricted&&d||h.push(function(){var e,t,n,i,u;for(i=o.dbs,u=[],t=0,n=i.length;n>t;t++){s=i[t],a={};for(l in o)g=o[l],a[l]="function"==typeof g.replace?g.replace("{dbName}",s):void 0;a.dbName=s,a.route="function"==typeof(e=a.route).replace?e.replace("MCG","1A"):void 0,m={controller:o.controller+"Controller",templateUrl:"views/"+o.controller+".html",name:s+c,url:a.route,data:a},u.push(r.state(m))}return u}());return h}])}.call(this),function(){angular.module("app").directive("nvd3Chart",["$log","config",function(e,t){return{restrict:"AE",link:function(e,n,r){var i,o;return i=function(){var t;return t=nv.models.lineWithFocusChart(),t.xAxis.tickFormat(d3.format("f")),t.yAxis.tickFormat(d3.format(",.2f")),t.y2Axis.tickFormat(d3.format(",.2f")),d3.select(n[0]).datum(e.to_display).transition().duration(500).call(t),t},o=function(){var r,i,o;return r=nv.models.multiBarChart(),o=e.to_display,r.tooltipContent(function(n,r,i,a,s){var u,l,c,d,p;return d="<h3>"+n+"</h3><p>"+i,e.ft===t.ALL_FT&&(l=o[o.length-1].values[0].x,c=get_two_last_digits(l),u=parseInt(r),p=u>=c?o[o.length-1].values[parseInt(r)-c].y1:o[o.length-1].values[53-c+parseInt(r)].y1,e.graphCfg.hasOwnProperty("showTooltipTotal")?e.graphCfg.showTooltipTotal&&(d+=" out of "+p):d+=" out of "+p),d+=" on week "+r+"</p>"}),r.stacked(!0),i=d3.format("f"),r.xAxis.axisLabel("Work Week").tickFormat(function(e){var t;
return t=e.toString(),t.slice(-2)}),r.reduceXTicks(!1),r.yAxis.tickFormat(d3.format(",.1f")),d3.select(n[0]).datum(o).transition().duration(500).call(r),r},e.$watch("to_display",function(){var t;return t=nv.addGraph(function(){var n;if(e.nvdata)return"lineChart"===e.chart_style?t=i():"multibarChart"===e.chart_style?t=o():"undefined"!=typeof console&&null!==console&&console.log("unknown chart style: ",e.chart_style),n=nv.models.legend(),d3.select(".nv-controlsWrap").datum([]).call(n),nv.utils.windowResize(t.update),d3.selectAll("rect.nv-bar").on("click.mine",function(t,n){var r;return r=e.fteams[t.series+1]}),t})})}}}])}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}},n=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};e=function(){function e(e,n,r,i){this.$http=e,this.$q=n,this.XMLHttpRequest=r,this.$rootScope=i,this.getDefaultParams=t(this.getDefaultParams,this),this.getCactusBranchesBoardProducts=t(this.getCactusBranchesBoardProducts,this),this.makeFromToDayPicker=t(this.makeFromToDayPicker,this),this.makeFromToDatePicker=t(this.makeFromToDatePicker,this),this.colorPalette=t(this.colorPalette,this),this.getColorFromIdx=t(this.getColorFromIdx,this),this.getIntelWW=t(this.getIntelWW,this),this.intelWWToTime=t(this.intelWWToTime,this),this.getFirstSundayOfWW01=t(this.getFirstSundayOfWW01,this),this.computeDayBefore=t(this.computeDayBefore,this),this.computeDateDiff=t(this.computeDateDiff,this),this.displayPercentageAndCount=t(this.displayPercentageAndCount,this)}var r,i,o;return e.prototype.padding_left=function(e,t,n){var r,i,o,a;if(!e||!t||e.length>=n)return e;for(o=(n-e.length)/t.length,r=i=0,a=o;a>=0?a>=i:i>=a;r=a>=0?++i:--i)e=t+e;return e},e.prototype.padding_right=function(e,t){var n,r,i,o,a;if(!e||e.length>=t)return e;for(n="	",o=d3.round((t-e.length)/8,0),r=i=0,a=o;a>=0?a>=i:i>=a;r=a>=0?++i:--i)e+=n;return e},e.prototype.displayKeyTimePercent=function(e,t,n){return this.padding_right(e,24)+this.padding_right(this.hours2DateDisplayFormat(t),24)+"("+this.intDisplayFormat(n)+"%)\n"},e.prototype.displayKeyValuePercent=function(e,t,n){return n?this.padding_right(e,24)+this.padding_right(this.intDisplayFormat(t),8)+"("+this.intDisplayFormat(n)+"%)\n":this.padding_right(e,24)+this.padding_right(this.intDisplayFormat(t),8)+"\n"},e.prototype.displayKeyFloat=function(e,t){return this.padding_right(e,24)+this.padding_right(this.floatDisplayFormat(t),8)+"\n"},e.prototype.intDisplayFormat=function(e){return d3.round(e,0)},e.prototype.floatDisplayFormat=function(e){return d3.round(e,2)},e.prototype.percentageDisplayFormat=function(e){return" ("+this.intDisplayFormat(100*e)+"%)"},e.prototype.computeAvg=function(e,t){return 0===t?0:e/t},e.prototype.computePercentage=function(e,t){return 0===t?0:e/t*100},e.prototype.displayPercentageAndCount=function(e,t){var n;return n=this.computePercentage(e,t),n=d3.round(n,1),"("+n+" %, "+e+" # / "+t+" #)"},e.prototype.displayUrl=function(e,t){return'<a href="'+e+'" target=_blank>'+t+"</a>"},e.prototype.displayBuildUrl=function(e,t,n){return'<a href="'+e+"builders/"+t+"/builds/"+n+'" target=_blank>'+n+"</a>"},e.prototype.displayStepNameUrl=function(e,t,n,r){return'<a href="'+e+"builders/"+t+"/builds/"+n+"/steps/"+r+'/logs/stdio" target=_blank>'+r+"</a>"},e.prototype.displayTridUrl=function(e,t){return'<a href="'+e+t+'" target=_blank>'+t+"</a>"},e.prototype.dateDisplayFormat=function(e){return d3.time.format("%Y-%m-%d")(e)},e.prototype.timeDisplayFormat=function(e){return d3.time.format("%H:%M:%S")(e)},e.prototype.dateTimeDisplayFormat=function(e){return d3.time.format("%Y-%m-%d %H:%M:%S")(e)},e.prototype.dateDayRound=function(e){return d3.time.day.floor(e)},e.prototype.oneHourInMs=36e5,e.prototype.computeDateDiff=function(e,t){return new Date(e.getTime()-t.getTime()-this.oneHourInMs)},e.prototype.computeDayAfter=function(e,t){var n;return null==t&&(t=1),n=new Date(e),n.setDate(n.getDate()+t),n},e.prototype.computeDayBefore=function(e,t){return null==t&&(t=1),this.computeDayAfter(e,t=-t)},e.prototype.computeMonthBefore=function(e,t){var n,r,i,o;return null==t&&(t=1),r=new Date(e),o=e.getFullYear(),i=e.getMonth()-t,n=e.getDay(),e=new Date(o,i,n,0,0,0,0)},e.prototype.averageOfArray=function(e){var t;return 0===e.length?0:(t=e.reduce(function(e,t){return e+t}),t/e.length)},e.prototype.arrayWithoutDuplicates=function(e,t){var n,r,i,o,a,s;if(null==t&&(t=function(e){return e}),0===e.length)return[];for(o={},r=n=0,i=e.length-1;i>=0?i>=n:n>=i;r=i>=0?++n:--n)o[t(e[r])]=e[r];a=[];for(r in o)s=o[r],a.push(s);return a},e.prototype.pop=function(e,t,n){var r,i;return null==n&&(n=function(e){return e}),r=function(){var r,o,a;for(a=[],r=0,o=e.length;o>r;r++)i=e[r],n(i)!==n(t)&&a.push(i);return a}(),null==r?[]:r},e.prototype.setDefault=function(e,t,n){return e.hasOwnProperty(t)||(e[t]=n),e[t]},e.prototype.hours2DateDisplayFormat=function(e){return(e/24|0)+" Day(s) "+this.intDisplayFormat(e%24)+" Hour(s)"},e.prototype.nFirst=function(e,t){var n,r;return r={},r.nFirst=[],r.remaining=[],n=0,e.forEach(function(e,i){return t>n?r.nFirst.push(e):r.remaining.push(e),n+=1}),r},e.prototype.startsWith=function(e,t){return e.substring(0,t.length)===t},e.prototype.parseCsvDate=function(e){return d3.time.format("%Y-%m-%d").parse(e)},e.prototype.parseCsvDateTime=function(e){return d3.time.format("%Y-%m-%d %H:%M:%S").parse(e)},e.prototype.getDate=function(e){return d3.time.format("%d/%m/%Y")(e)},e.prototype.getTime=function(e){return d3.time.format("%X")(e)},e.prototype.getFirstDayOfWW01InCurrentYear=function(e){return new Date(e,0,1)},e.prototype.getFirstSundayOfWW01=function(e){var t;return t=this.getFirstDayOfWW01InCurrentYear(e),t.setDate(t.getDate()-(8-t.getDay())),t},e.prototype.parseWW=function(e){var t,n,r,i,o,a;return t=e.indexOf("."),a=e.substring(0,t),n=this.getFirstSundayOfWW01(a),r=n.getTime(),o=+e.substring(t+1,e.length),i=r+7*(o-1)*24*3600*1e3,new Date(i)},e.prototype.intelWWToTime=function(e){var t;return t=this.parseWW(e),d3.time.week(t)},e.prototype.toNextWeek=function(e){var t;return t=6048e5,new Date(e.getTime()+t)},e.prototype.numberOfMsPerWeek=6048e5,e.prototype.getIntelWW=function(e){var t,n,r;return r=new Date(e),r.setDate(r.getDate()+(7-r.getDay())),n=this.getFirstDayOfWW01InCurrentYear(r.getUTCFullYear()),t=n.getDate()-n.getDay(),n.setDate(t),r.getUTCFullYear()+"."+d3.format("02f")((r-n)/this.numberOfMsPerWeek)},e.prototype.setWWAxis=function(e){return e.selectAll("g.x text").attr("dx","-25").attr("transform","rotate(-30)")},e.prototype.setVerticalAxis=function(e){return e.selectAll("g.x text").attr("dx","-150").attr("dy","-5").attr("transform","rotate(-90)")},e.prototype.setTestDomainAxis=function(e){return e.selectAll("g.x text").attr("dx","-25").attr("transform","rotate(-30)")},e.prototype.setTestCaseAxis=function(e){return e.selectAll("g.x text").attr("dx","-100").attr("transform","rotate(-30)")},e.prototype.setPlatformAxis=function(e){return e.selectAll("g.x text").attr("dx","-100").attr("transform","rotate(-90)")},e.prototype.setBoardProductAxis=function(e){return e.selectAll("g.x text").attr("dx","-25").attr("transform","rotate(-30)")},e.prototype.setTestCampaignAxis=function(e){return e.selectAll("g.x text").attr("dx","-25").attr("transform","rotate(-30)")},e.prototype.setOrdonalAxis=function(e){return e.selectAll("g.x text").style("text-anchor","end").attr("dx","-1em").attr("dy",".15em").attr("transform","rotate(-65)")},e.prototype.setOrdonalEndXAxis=function(e){return e.selectAll("g.x text").style("text-anchor","end").attr("dx","-10").attr("dy","-10").attr("transform","rotate(-65)")},e.prototype.hideAxis=function(e){return e.selectAll("g.x text").style("visibility","hidden")},e.prototype.setSecurityMetricsAxis=function(e){return e.selectAll("g.x text").style("text-anchor","end").style("font-size","15px").attr("dx","-1em").attr("dy",".15em").attr("transform","rotate(-45)")},e.prototype.pieTextDisplay=function(e,t,n){return e.hasFilter()&&!e.hasFilter(n.key)?n.key+" (0%)":n.key+" ("+n.value+"/"+t.value()+","+Math.floor(n.value/t.value()*100)+"%)"},e.prototype.pieValueDisplay=function(e,t,n){return e.hasFilter()&&!e.hasFilter(n.key)?"0%":Math.floor(n.value/t.value()*100)+"%"},e.prototype.resultValues=["0 - Success","1 - Warning","2 - Fail","3 - Skipped","4 - Exception","5 - Retry","6 - Cancelled"],e.prototype.securityResultValues=["0 - Critical","1 - Major","2 - Minor"],e.prototype.bbotResultMapping={Success:0,Warnings:1,Failure:2,Skipped:3,Exception:4,Retry:5,Cancelled:6},e.prototype.bbotResultLabels=["Success","Warnings","Failure","Skipped","Exception","Retry","Cancelled"],e.prototype.rootCauseValues=["0 - Success","3 - Skipped","4 - Exception","CANCELLED","ARTIFACTORY","CACTUS BUG","CACTUS INFRA","CACTUS / PLATFORM BUG","GERRIT","INFRA / INTEGRATION","INVALID USER INPUT","JIRA","PLATFORM BUG","PROCESS VIOLATION","TEST / PLATFORM BUG","Unknown"],e.prototype.testCaseValues=["PASSED","FAILED","BLOCKED","NA","INVALID"],e.prototype.resultColors=["#8D4","#FA3","#E88","#ADE","#C6C","#ECC","#F092DB"],e.prototype.ordinalResultColors=function(){return d3.scale.ordinal().domain(this.resultValues).range(this.resultColors)},e.prototype.testCaseColors=["#6C3","#F00","#FFA500","#8E8E8E","#8E8E8E"],e.prototype.ordinalTestCaseColors=function(){return d3.scale.ordinal().domain(this.testCaseValues).range(this.testCaseColors)},e.prototype.siteColors=d3.scale.category10().range(),e.prototype.rootCauseGroupColors=["#8D4","#ade","#C6C","#F092DB","#EC6B3D","#1f77b4","#9101FF","#ff7f0e","#2ca02c","#949599","#ffe404","#A2B5A1","#EBD4B4","#8c564b","#FCD4DC","#58585A"],e.prototype.ordinalRootCauseColors=function(){return d3.scale.ordinal().domain(this.rootCauseValues).range(this.rootCauseGroupColors)},e.prototype.rootColors=d3.scale.category20b().range(),e.prototype.rawColorPalette=["#1f77b4","#393b79","#aec7e8","#5254a3","#ff7f0e","#6b6ecf","#ffbb78","#9c9ede","#2ca02c","#637939","#98df8a","#8ca252","#d62728","#b5cf6b","#ff9896","#cedb9c","#9467bd","#8c6d31","#c5b0d5","#bd9e39","#8c564b","#e7ba52","#c49c94","#e7cb94","#e377c2","#843c39","#f7b6d2","#ad494a","#7f7f7f","#d6616b","#c7c7c7","#e7969c","#bcbd22","#7b4173","#dbdb8d","#a55194","#17becf","#ce6dbd","#9edae5","#de9ed6"],e.prototype.getColorFromIdx=function(e){var t;return t=this.rawColorPalette.length,this.rawColorPalette[e%t]},e.prototype.colorPalette=function(){return d3.scale.ordinal().range(this.rawColorPalette)},e.prototype.createAwrUrl=function(e){return"https://acs.tl.intel.com/AWR/#campaigndetails:/uuid="+e},i=["a/bsp/device/intel/sofia","a/bsp/hardware/arm/mali-gralloc","a/bsp/hardware/arm/mali-hwcomposer","a/bsp/hardware/imc/ril","a/bsp/hardware/imc/rpc","a/bsp/hardware/intel/codecs","a/bsp/hardware/intel/display/arm/mali-dp500_lib","a/bsp/hardware/intel/libauddriver","a/bsp/hardware/intel/libaudio_hal","a/bsp/hardware/intel/libaudio_hal_3g","a/bsp/hardware/intel/lib_imas","a/bsp/hardware/intel/libnvmmodule","a/bsp/hardware/intel/rpcsecurity","a/bsp/hardware/intel/sensors","a/bsp/hardware/intel/sysctrl_daemon","a/bsp/hardware/intel/vpu/verisilicon","a/bsp/hardware/intel/vpu/verisilicon/g1-v6_g2-v1_h1-v6_lib","a/bsp/vendor/intel/hardware/PRIVATE/sw_fuelgauge/swfg_daemon","a/bsp/vendor/intel/liboemcrypto","a/bsp/vendor/intel/PRIVATE/embms","a/bsp/vendor/intel/PRIVATE/imsservices","a/bsp/vendor/intel/PRIVATE/imsstack","a/bsp/vendor/PRIVATE/rockchip"],r=["a/bsp/kernel/sofia-lte","a/bsp/kernel/sofia-3gr"],e.prototype.isIcdgProject=function(e){return i.indexOf(e)>=0?1:0},e.prototype.isIcdgKernelProject=function(e){return r.indexOf(e)>=0?1:0},e.prototype.jsv=function(e,t,n){var r,i,o,a,s,u,l,c,d,p,f;return null==n&&(n=!0),a=d=moment(),e=encodeURI(e),f=this.XMLHttpRequest(),i=this.$q.defer(),null!=t?(f.open("post",e,!0),p="application/x-www-form-urlencoded",f.setRequestHeader("Content-type",p)):f.open("get",e,!0),l=s=0,c=[],o=null,r=this.$rootScope,u=function(e){var t,n,r,i,a,s,u;"[["===e.substr(0,2)&&(e=e.substr(1)),r=e.indexOf("["),r>0&&(e=e.substr(r));try{e=JSON.parse(e)}catch(n){return t=n,!1}if(null===o)return o=e,!0;for(i={},a=s=0,u=o.length-1;u>=0?u>=s:s>=u;a=u>=0?++s:--s)i[o[a]]=e[a];return c.push(i)},f.onreadystatechange=function(){var e,t,o;if(f&&(3===f.readyState||4===f.readyState)&&(moment()-a>500||4===f.readyState)){for(a=moment(),o=_.parseInt(f.getResponseHeader("X-NumItems")),null==o&&(o=-1),e=!0;e;)e=!1,t=f.response.indexOf("]",s),t>0&&(e=!0,s=t+1,u(f.response.substring(l,t+1))&&(l=t+1));n&&r.$broadcast("loading",{current:c.length,total:o})}f&&4===f.readyState&&(i.resolve(c),n&&r.$broadcast("loading",{current:o,total:o}))},n&&r.$broadcast("loading",{current:0,total:-1}),null!=t?f.send($.param(t)):f.send(),i.promise},e.prototype.resetFilter=function(e,t){return angular.forEach(e,function(e,t){return e.ticked=!0}),t.filterAll()},e.prototype.filter=function(e,t){var n;return n=[],angular.forEach(e,function(e,t){return e.ticked===!0?n.push(e.name):void 0}),t.filter(function(e){return n.indexOf(e)>=0})},e.prototype.formatDropdownData=function(e,t,n){var r,i;return null==n&&(n=function(e){return!0}),i=[{name:"",ticked:!1}],r=t.group().reduceCount().all(),angular.forEach(r,function(t,r){return e.push({name:t.key,ticked:n(t.key)})}),i},e.prototype.formatDropdownDataMaster=function(e,t,n){var r,i;return null==n&&(n=function(e){return!0}),i=[{name:"",ticked:!1}],r=t.group().reduceCount().all(),angular.forEach(r,function(t,r){return"master"===t.key?e.push({name:t.key,ticked:n(t.key)}):e.push({name:t.key,ticked:!1})}),i},e.prototype.makeFromToDatePicker=function(e,t,n,r){var i,o,a,s,u,l;return null==r&&(r=1),o={},o.dateHandler={fromDate:new Date,toDate:new Date},o.dateOptions={showWeeks:!1},o.changeYear=!1,o.formats=["yyyy-MM-dd"],o.format=o.formats[0],i=new Date,u=this.computeMonthBefore(i,s=r),l=this.computeDayAfter(i,a=1),o.minDate=u,o.dateHandler.fromDate=u,o.dateHandler.toDate=l,o.maxDate=l,o.open=function(e){return e.preventDefault(),e.stopPropagation(),o.datepicker={opened:!0}},o.filterByDate=function(){var e,r,i,a;for(a=t(),r=0,i=a.length;i>r;r++)e=a[r],e.filter([o.dateHandler.fromDate,o.dateHandler.toDate]);return n()},e.$watch("date_picker.dateHandler.fromDate",function(){return o.filterByDate()}),e.$watch("date_picker.dateHandler.toDate",function(){return o.filterByDate()}),o},e.prototype.makeFromToDayPicker=function(e,t,n,r){var i,o,a,s,u;return null==r&&(r=1),o={},o.dateHandler={fromDate:new Date,toDate:new Date},o.dateOptions={showWeeks:!1},o.changeYear=!1,o.formats=["yyyy-MM-dd"],o.format=o.formats[0],i=new Date,u=this.computeDayBefore(i,a=r),s=this.computeDayAfter(i,a=1),o.minDate=u,o.dateHandler.fromDate=u,o.dateHandler.toDate=s,o.maxDate=s,o.open=function(e){return e.preventDefault(),e.stopPropagation(),o.datepicker={opened:!0}},o.filterByDate=function(){var e,r,i,a;for(a=t(),r=0,i=a.length;i>r;r++)e=a[r],e.filter([o.dateHandler.fromDate,o.dateHandler.toDate]);return n()},e.$watch("date_picker.dateHandler.fromDate",function(){return o.filterByDate()}),e.$watch("date_picker.dateHandler.toDate",function(){return o.filterByDate()}),o},e.prototype.getCactusBranchesBoardProducts=function(e,t){var n,r,i,o;return i=function(e){return"api/v0.1/board_products/"+e},n=function(){var t,n,o;for(o=[],t=0,n=e.length;n>t;t++)r=e[t],o.push(this.$http.get(i(r)));return o}.call(this),o=this.arrayWithoutDuplicates,this.$q.all(n).then(function(e){var n,r,i,a;for(a=[],r=0,i=e.length;i>r;r++)n=e[r],a=a.concat(n.data.data);return a=o(a),t(a)})},e.prototype.getDefaultParams=function(e){return this.$http.get("api/v0.1/default_params?url='"+e+"'")},e.prototype.getEnvironment=function(){return this.$http.get("api/v0.1/environment")},e.prototype.setDateXAxis=function(e,t,n){return e.x(d3.time.scale().domain([t,n]))},e.prototype.measureTrend=function(e,t,n){var r;return r=e-t,Math.abs(r)<n?void 0:r>0},e.prototype.setRowChartHeight=function(e,t,n,r,i){var o,a;return a=r,o=t.top(1/0).length,o>n&&(a=o*i),e.height(a)},o=["push_golden_contents_preint","DO_NOT_CHECK-CONNECT_WIFI","handle_hand_icon","precondition_ok_google","turn_off_auto_rotation","set_display_timeout","set_screen_lock","precondition_browser","precondition_location_on_video","precondition_default_photo_reader","update_contact_number","import_contact","download_apk_files","wifi_on_and_connect","launch_media_scanner"],e.prototype.isPreload=function(e){var t;return n.call(o,e)>=0?!0:(t="[PRELOAD]",e.slice(0,t.length)===t)},e}(),angular.module("app").constant("XMLHttpRequest",function(){return new window.XMLHttpRequest}),angular.module("app").service("metricsService",["$http","$q","XMLHttpRequest","$rootScope",e])}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.metricsService=e,this.computeBranchBuilderBuildnumber=t(this.computeBranchBuilderBuildnumber,this),this.computeCost=t(this.computeCost,this),this.costProcessData=t(this.costProcessData,this),this.computeXLabelOrdering=t(this.computeXLabelOrdering,this),this.getAllVerdicts=t(this.getAllVerdicts,this)}return e.prototype.allVerdictTypes=new Array("P","FP","CN","FN","NA","B","NE"),e.prototype.timeToHumanReadable=function(e){var t,n,r,i,o,a,s,u;return t=new Date(e),u=d3.format("04f")(t.getFullYear()),o=d3.format("02f")(t.getMonth()+1),n=d3.format("02f")(t.getDate()),r=d3.format("02f")(t.getHours()),i=d3.format("02f")(t.getMinutes()),s=d3.format("02f")(t.getSeconds()),a=u+"_"+o+"_"+n,a+=" "+r+":"+i+":"+s},e.prototype.getAllVerdicts=function(){return this.allVerdictTypes},e.prototype.costOfManualTestPerSec=5e3/576e3,e.prototype.browseJsonData=function(e,t,n){var r,i,o,a,s,u,l,c,d,p,f,h,m;r=new Array,i=new Array,o=new Array,l={};for(d in e){p=e[d],i.push(d);for(f in p)h=p[f],o.push(f),r.push(h.domain),t=n(t,d,f,h),c=this.metricsService.setDefault(l,f,new Array),h.single.forEach(function(e,t){var n,r;return n=e.autom,"PASSED"===n.result?(r=n.endTime-n.startTime,c.push(r)):void 0}),h.multiple.forEach(function(e,t){return e.autom.forEach(function(e,t){var n,r;return n=e,"PASSED"===n.result?(r=n.endTime-n.startTime,c.push(r)):void 0})})}for(p in l)m=l[p],u=0===m.length?void 0:this.metricsService.averageOfArray(m),l[p]=u;s=[];for(p in l)m=l[p],isNaN(m)||s.push(m);a=this.metricsService.averageOfArray(s);for(p in l)m=l[p],isNaN(m)&&(l[p]=a);return{allDomain:this.metricsService.arrayWithoutDuplicates(r),allPlatform:this.metricsService.arrayWithoutDuplicates(i),allTestCase:this.metricsService.arrayWithoutDuplicates(o),durationOfSuccessPerTc:l,container:t}},e.prototype.computeDimensionOrdering=function(e,t,n){var r,i,o;return r=e.top(1/0),r=function(){var e,t,o;for(o=[],e=0,t=r.length;t>e;e++)i=r[e],n(i)&&o.push(i);return o}(),o=r.sort(t)},e.prototype.computeXLabelOrdering=function(e,t,n){var r;return null==n&&(n=function(e){return!0}),r=this.computeDimensionOrdering(e,t,n),r.map(function(e){return e.key})},e.prototype.computeCostOfTest=function(e,t){return e.durationOfSuccessPerTc[t]*this.costOfManualTestPerSec},e.prototype.createBarStacks=function(e,t,n,r){var i,o;return i=n[0],o=e.group(t,i).valueAccessor(function(e){return r(e,i)}),n.forEach(function(e,n){return 0!==n?o=o.stack(t,e,function(t){return r(t,e)}):void 0}),o},e.prototype.createBuildId=function(e){var t;return t=e.cactusBranch+"-"+e.builderName,t+"/"+e.buildNumber},e.prototype.computeVerdictType=function(e,t){return"PASSED"===e?1===t?"P":0===t?"NA":"FP":"FAILED"===e?1===t?"FN":0===t?"NA":"CN":"BLOCKED"===e?"B":"NA"===e?"NE":"Unknown"},e.prototype.shouldHandleAutomTestCase=function(e){return"NA"!==e.result&&"PASSED"!==e.result},e.prototype.createDataToDisplayInTable=function(e,t,n,r){var i;return i={},i.platform=e,i.tcname=t,i.domain=n,i.originalTcName=r.name,i.buildername=r.builderName,i.buildid=this.createBuildId(r),i.workWeek=this.metricsService.getIntelWW(1e3*r.startTime),i.framework=r.framework,i},e.prototype.updateMinAndMaxDate=function(e,t){var n;return n=t.getTime(),""===e.minDate?e.minDate=t:e.minDate.getTime()>n&&(e.minDate=t),""===e.maxDate?e.maxDate=t:e.maxDate.getTime()<n?e.maxDate=t:void 0},e.prototype.costProcessData=function(e,t,n,r){var i,o,a;return o=new Array,r.single.forEach(function(e){return function(n,i){var a,s,u;return u=e.createDataToDisplayInTable(t,n.manual.name,r.domain,n.autom),u.startTime=n.autom.startTime,u.buildid=e.createBuildId(n.autom),u.autom=n.autom,u.result=n.autom.result,s=n.manual.result,a=n.autom.result,u.verdictType=e.computeVerdictType(a,s),o.push(u)}}(this)),r.multiple.forEach(function(e){return function(i,a){var s,u,l,c,d,p;return l=function(e){return e.length>=1},s=l(i.autom),c=l(i.manual),s&&c&&(d=!1,u=-1,i.autom.forEach(function(t,n){return e.shouldHandleAutomTestCase(t)?(-1===u?u=t:u.startTime>t.startTime&&(u=t),d=!0):void 0}),d)?(p=e.createDataToDisplayInTable(t,n,r.domain,u),p.startTime=u.startTime,p.verdictType="MultipleMapping",p.autom=u,o.push(p)):void 0}}(this)),a={},a.domain=r.domain,a.executedTests=o,i=this.metricsService.setDefault(e.autoTestExecutedManuallyToo,t,{}),i[n]=a,e},e.prototype.computeCost=function(e){var t,n,r,i,o,a,s;t={},t.autoTestExecutedManuallyToo={},r=this.browseJsonData(e,t,this.costProcessData),r.costOfReplayedManual=[],r.overall=0,i=r.container.autoTestExecutedManuallyToo;for(n in i){s=i[n];for(o in s)a=s[o],a.executedTests.forEach(function(e){return function(t,n){var i;return i=0,e.shouldHandleAutomTestCase(t.autom)&&(i=e.computeCostOfTest(r,o)),t.cost=i,r.overall+=i,r.costOfReplayedManual.push(t)}}(this))}return r},e.prototype.applyDataOutputMode=function(e,t,n){return"#"===e?t:0===n?0:t/n*100},e.prototype.setCactusBranchAndBuilder=function(e,t){var n;return n=t.split("-"),e.cactusBranch=n[0],e.builder=n[1],e},e.prototype.branchBuilderValid=function(e){return-1!==e.indexOf("-")},e.prototype.buildNumberValid=function(e){return!isNaN(parseInt(e))},e.prototype.computeBuildIdentifier=function(e){var t;return t=e.cactusBranch+"-",t+=e.builder,t+="/"+e.buildNumber},e.prototype.computeTime=function(e){return new Date(1e3*parseInt(e))},e.prototype.computeBranchBuilderBuildnumber=function(e,t){var n,r;return n=this.branchBuilderValid(t.branchBuilderFromArtOutputUrl),r=this.buildNumberValid(t.buildNumberFromArtOutputUrl),t.CampaignFinishTime=this.computeTime(t.CampaignFinishTime),n&&r?(this.setCactusBranchAndBuilder(t,t.branchBuilderFromArtOutputUrl),t.buildNumber=parseInt(t.buildNumberFromArtOutputUrl)):(n=this.branchBuilderValid(t.branchBuilderFromTriggerProp),r=this.buildNumberValid(t.buildNumberFromTriggerProp),n&&r?(this.setCactusBranchAndBuilder(t,t.branchBuilderFromTriggerProp),t.buildNumber=parseInt(t.buildNumberFromTriggerProp)):(t.cactusBranch="unknown",t.builder="unknown",t.buildNumber="unknown")),t.workWeek=d3.time.week(t.CampaignFinishTime),t.buildIdentifier=this.computeBuildIdentifier(t),this.updateMinAndMaxDate(e,t.workWeek),t},e}(),angular.module("app").service("postCommitService",["metricsService",e])}.call(this),function(){angular.module("app").controller("acs_stepsController",["$state","$scope","metricsService","config","$timeout",function(e,t,n,r,i){var o,a;return a=e.current.data,t.loading=!0,t.builder_name=a.builder_name,o=e.current.data.dbName,n.jsv(a.api_url).then(function(e){var s,u,l,c;return 0===e.length?void(t.nodata=!0):(t.loading=!1,t.csvUrl=a.api_url.replace("/jsv","/csv"),u=dc.dataCount(".null"),u._doRender=function(){return i(function(){return t.filter_count=u.dimension().size(),t.total_count=u.group().value()})},l=[],e.forEach(function(e,t){var r,i;try{return e.Date=n.parseCsvDate(e.Date),e.Week=n.getIntelWW(e.Date),e.day=d3.time.format("%y/%m/%d")(e.Date),e.Pending=+e.Pending,e.Duration=+e.Duration,e.result=n.resultValues[e.result],l.push(e)}catch(i){r=i,console.log("catched "+r+" "+e.result+e.builder_build_number)}}),t.xf=c=crossfilter(l),t.all=s=c.groupAll(),t.resetAll=function(){return dc.filterAll(),dc.redrawAll()},t.all_records=e.length,t.all_filtered_records=e.length-l.length,u.dimension(c),u.group(s),t.builderTypeDimension=c.dimension(function(e){return e.builder_type}),t.stepDimension=c.dimension(function(e){return e.StepName}),t.stepDimensionGroup=t.stepDimension.group().reduce(function(e,t){return e.count++,e[t.Result]++,e},function(e,t){return e.count--,e[t.Result]--,e},function(){var e;return e={},e.count=0,t.resultDimensionGroup.orderNatural().all().forEach(function(t){return e[t.key]=0}),e}),t.weeklyDimension=c.dimension(function(e){return e.Week}),t.weeklyDimensionGroup=t.weeklyDimension.group().reduce(function(e,t){return e[t.result]+=1,e},function(e,t){return e[t.result]-=1,e},function(){return n.resultValues.reduce(function(e,t,n){return e[t]=0,e},{})}),t.dailyDimension=c.dimension(function(e){return e.day}),t.dailyDimensionGroup=t.dailyDimension.group().reduce(function(e,t){return e[t.result]+=1,e},function(e,t){return e[t.result]-=1,e},function(){return n.resultValues.reduce(function(e,t,n){return e[t]=0,e},{})}),t.durationDimensionGroup=t.weeklyDimension.group().reduce(function(e,t){return++e.count,e.totalDuration+=t.Duration,e.totalPending+=t.Pending,e},function(e,t){return--e.count,e.totalDuration-=t.Duration,e.totalPending-=t.Pending,e},function(){return{count:0,totalDuration:0,totalPending:0}}),t.resultDimension=c.dimension(function(e){return e.result}),t.resultDimensionGroup=t.resultDimension.group().reduceCount(),t.resultPieChart=function(e){e.colors(n.ordinalResultColors()).title(function(t){return n.pieTextDisplay(e,s,t)}).label(function(t){return n.pieTextDisplay(e,s,t)})},t.resBarChartWeek=function(e){return e.group(t.weeklyDimensionGroup,"Success").valueAccessor(function(e){return e.value[n.resultValues[0]]}).stack(t.weeklyDimensionGroup,"Warning",function(e){return e.value[n.resultValues[1]]}).stack(t.weeklyDimensionGroup,"Error",function(e){return e.value[n.resultValues[2]]}).stack(t.weeklyDimensionGroup,"Skipped",function(e){return e.value[n.resultValues[3]]}).stack(t.weeklyDimensionGroup,"Interrupted",function(e){return e.value[n.resultValues[4]]}).on("renderlet",function(e){return n.setWWAxis(e)}).title(function(e){return"Work Week:	"+e.key+"\n\nSucces:		"+e.value[n.resultValues[0]]+"\nWarning:	"+e.value[n.resultValues[1]]+"\nError:		"+e.value[n.resultValues[2]]+"\nSkipped:		"+e.value[n.resultValues[3]]+"\nInterrupted:	"+e.value[n.resultValues[4]]}).colors(n.ordinalResultColors())},t.durationLineChart=function(e){return e.valueAccessor(function(e){return e.value.count>0?e.value.totalPending/e.value.count/60:0}).group(t.durationDimensionGroup,"AVG Time in Pending Queue (mins)").stack(t.durationDimensionGroup,"AVG Time of Execution (mins)",function(e){return e.value.count>0?e.value.totalDuration/e.value.count/60:0}).on("renderlet",function(e){return n.setWWAxis(e)}).title(function(e){return"Work Week:		"+e.key+"\n\nTime in Pending Queue:	"+n.floatDisplayFormat(e.value.count>0?e.value.totalPending/e.value.count/60:0)+"\nExecution Duration:	"+n.floatDisplayFormat(e.value.count>0?e.value.totalDuration/e.value.count/60:0)})},t.resBarChartDay=function(e){return e.group(t.dailyDimensionGroup,"Success").valueAccessor(function(e){return e.value[n.resultValues[0]]}).stack(t.dailyDimensionGroup,"Warning",function(e){return e.value[n.resultValues[1]]}).stack(t.dailyDimensionGroup,"Error",function(e){return e.value[n.resultValues[2]]}).stack(t.dailyDimensionGroup,"Skipped",function(e){return e.value[n.resultValues[3]]}).stack(t.dailyDimensionGroup,"Interrupted",function(e){return e.value[n.resultValues[4]]}).on("renderlet",function(e){return n.setWWAxis(e)}).title(function(e){return"Work Day:	"+e.key+"\n\nSucces:		"+e.value[n.resultValues[0]]+"\nWarning:	"+e.value[n.resultValues[1]]+"\nError:		"+e.value[n.resultValues[2]]+"\nSkipped:		"+e.value[n.resultValues[3]]+"\nInterrupted:	"+e.value[n.resultValues[4]]}).colors(n.ordinalResultColors)},t.tableGroup=function(e){return"Work Week "+e.Week},void(t.tablePostFormat=function(e){return e.columns([function(e){return d3.time.format("%d/%m/%y")(e.Date)},function(e){return e.builder_type},function(e){return e.builder_name},function(e){return n.displayBuildUrl(r.urls[o].buildbot_url,e.builder_name,e.builder_build_number)},function(e){return d3.round(e.Duration/60,2)},function(e){return e.result}]).order(d3.descending)}))})}])}.call(this),function(){angular.module("app").controller("active_sessionsController",["$state","$scope","metricsService","config","$timeout","$location",function(e,t,n,r,i,o){var a,s;return s=e.current.data,t.loading=!0,a=e.current.data.dbName,t.pageRoot=o.path().split("/")[1],n.jsv(s.api_url).then(function(e){var r,o,a,u;return 0===e.length?void(t.nodata=!0):(t.loading=!1,t.csvUrl=s.api_url.replace(/\/jsv/,"/csv"),t.sqlUrl=s.api_url.replace(/\/jsv/,"/sql"),o=dc.dataCount(".null"),o._doRender=function(){return i(function(){return t.filter_count=o.dimension().size(),t.total_count=o.group().value()})},a=[],e.forEach(function(e,t){var n,r;try{e.log_url="http://cti-prod.sh.intel.com:8088/job/testflow/"+e.task_number+"/console",a.push(e)}catch(r){return n=r,void console.log("catched "+n)}}),t.xf=u=crossfilter(a),t.all=r=u.groupAll(),t.all_records=e.length,t.all_filtered_records=e.length-a.length,o.dimension(u),o.group(r),t.DevicemodelDimension=u.dimension(function(e){return e.device_model}),t.projectDimension=u.dimension(function(e){return e.project_name}),t.patchDimension=u.dimension(function(e){return e.id}),t.tableGroup=function(e){return"Work Week "+n.getIntelWW(e.submit_time)},void(t.tablePostFormat=function(e){return e.columns([function(e){return e.session_id},function(e){return e.project_name},function(e){return e.state},function(e){return e.user_idsid},function(e){return e.submit_time},function(e){return e.device_model},function(e){return e.campaign_name},function(e){return e.tcr_url?'<a href="'+e.tcr_url+'" target=_blank>VIEW</a>':void 0},function(e){return'<a href="'+e.log_url+'" target=_blank>VIEW</a>'}]).order(d3.descending)}))})}])}.call(this),function(){angular.module("app").controller("anomalies_efficiencyController",["$state","$scope","metricsService","postCommitService","config","$timeout","$q",function(e,t,n,r,i,o,a){var s;return t.loading=!0,s=e.current.data,t.csvUrl=s.api_url.replace(/\/jsv/,"/csv"),t.sqlUrl=s.api_url.replace(/\/jsv/,"/sql"),t.metricsService=n,t.ui_params={anomaly_types:[],campaigns:[],anomaly_verdicts:[]},t.filter=function(e,t){return n.filter(e,t),dc.redrawAll()},n.jsv(s.api_url).then(function(e){var o,a,s,u,l,c,d,p,f,h,m,g;0!==e.length&&(m=[],l={IF:"Filled by Mistake",CACTUS:"Invalid"},o=function(e){var t,n;return n={type:"UKNOWN",campaign:"UNKNOWN"},"IF"===e.jira_project?{type:"TEST_CASE",campaign:"campaign_preint_core_level0"}:"CACTUS"!==e.jira_project?n:e.summary.startsWith("[SLAVE IN QUARANTINE]")?(t=e.summary.split(":")[1].split(" ")[1],{type:"SLAVE",campaign:t}):e.summary.startsWith("[TC WARNING]")?{type:"TEST_CASE",campaign:"EAT"}:n},d=function(e){return e.jira_project in l&&e.resolution===l[e.jira_project]?"FALSE_POSITIVE":"Open"===e.status?"NOT_PROCESSED":"CORRECT_POSITIVE"},e.forEach(function(e,t){var r,i,a,s,u;try{u=angular.copy(e),u.day=n.parseCsvDate(e.creationDay),a=e.trid.split("-"),u.jira_project=a[0],u.anomaly_verdict=d(u),s=o(u),u.type=s.type,u.campaign=s.campaign,m.push(u)}catch(i){r=i,console.log("catched "+r+" "+e)}}),h=function(){return dc.redrawAll(),dc.renderAll()},c=n.formatDropdownData,t.xf=g=crossfilter(m),t.date_dimension=s=g.dimension(function(e){return e.day}),t.anomaly_type_dimension=g.dimension(function(e){return e.type}),t.dd_anomaly_types=c(t.ui_params.anomaly_types,t.anomaly_type_dimension),t.campaign_dimension=g.dimension(function(e){return e.campaign}),t.dd_campaigns=c(t.ui_params.campaigns,t.campaign_dimension),t.anomaly_verdict_dimension=g.dimension(function(e){return e.anomaly_verdict}),t.dd_anomaly_verdicts=c(t.ui_params.anomaly_verdicts,t.anomaly_verdict_dimension),p=function(){return[s]},t.date_picker=n.makeFromToDatePicker(t,p,h),t.anomaly_per_date=s.group().reduce(function(e,t){var r;return e.count++,r=n.setDefault(e.count_per_result,t.anomaly_verdict,0),
e.count_per_result[t.anomaly_verdict]=r+1,e},function(e,t){var r;return e.count--,r=n.setDefault(e.count_per_result,t.anomaly_verdict,0),e.count_per_result[t.anomaly_verdict]=r-1,e},function(){return{count:0,count_per_result:{}}}),f=function(t,n){return e=t.value.count_per_result,n in e?e[n]:0},a=function(e){var t;return t=i.urls.jira_bug_url,n.displayTridUrl(t,e.trid)},u=t.date_picker,t.anomaly_setup=function(e){var i,o;return o=["FALSE_POSITIVE","CORRECT_POSITIVE","NOT_PROCESSED"],i=r.createBarStacks(e,t.anomaly_per_date,o,f),i.on("preRender",function(e){return n.setDateXAxis(e,u.dateHandler.fromDate,u.dateHandler.toDate)}).title(function(e){var t,r,i,o,a;t=n.dateDisplayFormat(e.key),o=t,i=e.value.count_per_result;for(r in i)a=i[r],o+="\n\n"+r+":"+a;return o}).on("renderlet",function(e){return n.setWWAxis(e)})},t.table_group=function(e){return d3.time.format("%d/%m/%y")(e.day)},t.table_post_format=function(e){return e.columns([function(e){return d3.time.format("%d/%m/%y")(e.day)},function(e){return e.type},function(e){return e.campaign},function(e){return e.anomaly_verdict},function(e){return e.status},function(e){return e.resolution},function(e){return a(e)}]).sortBy(function(e){return e.day+e.jira_project}).order(d3.descending)},t.loading=!1)})}])}.call(this),function(){angular.module("app").controller("auto_manual_mappingController",["$state","$scope","$http","$q","metricsService","postCommitService","config","$timeout",function(e,t,n,r,i,o,a,s){var u,l,c,d,p,f,h,m;return d=e.current.data,t.loading=!0,u="[board] ",h="http://cactus-metrics.tl.intel.com/mapping.json",p=function(e){return i.startsWith(e,u)},c=function(e){var t;return t=u.length,e.substring(t,e.length)},m=i.arrayWithoutDuplicates,f=n.get(h),l=n.get(d.api_url),r.all([f,l]).then(function(e){var n,r,o,a,s,u,l,d,f,h,g,v,b,y,w,_,x,C,D,k;h=e[0],s=e[1],h=h.data,s=s.data,n=t.automatedResult={},f=t.manualResult={},n.mapped={},f.mapped={},v=t.automatedResult.notMapped=[],b=t.manualResult.notMapped=[];for(y in s)if(C=s[y],p(y))v.push(c(y));else{if(o=h[y],null==o){b.push(y);continue}r=i.setDefault(n.mapped,o,{}),r.platform=y,r.testCases={},r.notMappedTestCases=[],w=i.setDefault(f.mapped,y,{}),w.board=o,w.testCases={},w.notMappedTestCases=[],a=r.testCases,_=w.testCases;for(D in C)k=C[D],l=!1,k.single.forEach(function(e,t){var n,r,o,s;return l=!0,n=e.autom,o=e.manual,s=i.setDefault(a,n.name,[]),s.push(o.name),a[n.name]=m(s),r=i.setDefault(_,o.name,[]),r.push(n.name),_[o.name]=m(r)}),l||(null!=k.automOnly&&(d=r.notMappedTestCases,k.automOnly.forEach(function(e,t){return e.autom.forEach(function(e,t){return d.push(e.name)})})),null!=k.manualOnly&&(d=w.notMappedTestCases,k.manualOnly.forEach(function(e,t){return e.manual.forEach(function(e,t){return d.push(e.name)})}))),g=function(e){return d=e.notMappedTestCases,d=m(d),e.notMappedTestCases=d},g(r),g(w)}return x=function(e){var t,n,r,i,o,a;a={};for(t in e){C=e[t],a[t]={},a[t].platform=C.platform,a[t].notMappedTestCases=C.notMappedTestCases,r=[],o=C.testCases;for(D in o)n=o[D],i={},i.name=D,i.mappedNames=n,r.push(i);r.sort(function(e,t){return t.mappedNames.length-e.mappedNames.length}),a[t].testCases=r}return a},n.mapped=x(n.mapped),f.mapped=x(f.mapped),v.sort(),b.sort(),u=function(){var e,t,r;return r={mapped:{autom:n.mapped,manual:f.mapped},not_mapped:{autom:v,manual:b}},e=new Blob([JSON.stringify(r)],{type:"application/json"}),t=window.URL||window.webkitURL,t.createObjectURL(e)},t.mapping_json=u(),t.loading=!1})}])}.call(this),function(){angular.module("app").controller("builder_stepsController",["$state","$scope","metricsService","config","$timeout","$location",function(e,t,n,r,i,o){var a,s;return s=e.current.data,t.loading=!0,a=e.current.data.dbName,t.pageRoot=o.path().split("/")[1],n.jsv(s.api_url).then(function(e){var o,u,l,c,d;return 0===e.length?void(t.nodata=!0):(t.loading=!1,t.csvUrl=s.api_url.replace(/\/jsv/,"/csv"),t.sqlUrl=s.api_url.replace(/\/jsv/,"/sql"),u=dc.dataCount(".null"),u._doRender=function(){return i(function(){return t.filter_count=u.dimension().size(),t.total_count=u.group().value()})},c=[],e.forEach(function(e,t){var r,i;if(null!=e.Result&&"None"!==e.Result&&null!=e.Duration&&"None"!==e.Duration&&null!=e.Site&&"None"!==e.Site)try{e.Duration=+e.Duration,e.Result=n.resultValues[e.Result],c.push(e)}catch(i){return r=i,void console.log("catched "+r+" "+e.Result+e.BuilderBuildNumber)}}),t.xf=d=crossfilter(c),t.all=o=d.groupAll(),t.resetAll=function(){return dc.filterAll(),dc.redrawAll()},t.all_records=e.length,t.all_filtered_records=e.length-c.length,u.dimension(d),u.group(o),t.stepDimension=d.dimension(function(e){return e.StepName}),t.stepDimensionGroup=t.stepDimension.group().reduce(function(e,t){return e.count++,e[t.Result]++,e},function(e,t){return e.count--,e[t.Result]--,e},function(){var e;return e={},e.count=0,t.resultDimensionGroup.orderNatural().all().forEach(function(t){return e[t.key]=0}),e}),t.stepDurationDimension=d.dimension(function(e){return e.StepName}),t.stepDurationDimensionGroup=t.stepDurationDimension.group().reduce(function(e,t){return e.count++,e.duration+=t.Duration,e},function(e,t){return e.count--,e.duration-=t.Duration,e},function(){var e;return e={},e.count=0,e.duration=0,e}),t.stepNumberDimension=d.dimension(function(e){return e.StepName}),t.stepNumberDimensionGroup=t.stepNumberDimension.group().reduceCount(),t.resultDimension=d.dimension(function(e){return e.Result}),t.resultDimensionGroup=t.resultDimension.group().reduceCount(),t.builderTypeDimension=d.dimension(function(e){return e.BuilderType}),t.builderTypeDimensionGroup=t.builderTypeDimension.group(),t.siteDimension=d.dimension(function(e){return e.Site}),t.siteDimensionGroup=t.siteDimension.group().reduceCount(),t.resultPieChart=function(e){e.colors(n.ordinalResultColors()).title(function(t){return n.pieTextDisplay(e,o,t)}).label(function(t){return n.pieTextDisplay(e,o,t)})},l=["#1F77B4","#FF7F0E","#2CA02C","#D62728","#9467BD"],t.builderTypePieChart=function(e){e.ordinalColors(l).slicesCap(8).title(function(t){return n.pieTextDisplay(e,o,t)}).label(function(t){return n.pieTextDisplay(e,o,t)})},t.stepRatioBarChart=function(e){return e.group(t.stepDimensionGroup,n.resultValues[0]).valueAccessor(function(e){return e.value[n.resultValues[0]]/e.value.count*100}).stack(t.stepDimensionGroup,n.resultValues[1],function(e){return e.value[n.resultValues[1]]/e.value.count*100}).stack(t.stepDimensionGroup,n.resultValues[2],function(e){return e.value[n.resultValues[2]]/e.value.count*100}).stack(t.stepDimensionGroup,n.resultValues[3],function(e){return e.value[n.resultValues[3]]/e.value.count*100}).stack(t.stepDimensionGroup,n.resultValues[4],function(e){return e.value[n.resultValues[4]]/e.value.count*100}).on("renderlet",function(e){return e.selectAll("g.x g").each(function(e){return d3.select(this).select("text").remove(),d3.select(this).append("a").attr("target","_blank").attr("xlink:href","#/"+t.pageRoot+"/step_details?step="+e).append("text").text(e)}),e.selectAll("g.axis text").style("pointer-events","all"),n.setOrdonalAxis(e)}).title(function(e){return"Step Name:	"+e.key+"\n\nSuccess:		"+e.value[n.resultValues[0]]+n.percentageDisplayFormat(e.value[n.resultValues[0]]/e.value.count)+"\nWarning:	"+e.value[n.resultValues[1]]+n.percentageDisplayFormat(e.value[n.resultValues[1]]/e.value.count)+"\nError:		"+e.value[n.resultValues[2]]+n.percentageDisplayFormat(e.value[n.resultValues[2]]/e.value.count)+"\nSkipped:		"+e.value[n.resultValues[3]]+n.percentageDisplayFormat(e.value[n.resultValues[3]]/e.value.count)+"\nInterrupted:	"+e.value[n.resultValues[4]]+n.percentageDisplayFormat(e.value[n.resultValues[4]]/e.value.count)}).colors(n.ordinalResultColors())},t.stepDurationBarChart=function(e){return e.valueAccessor(function(e){return e.value.duration/3600}).group(t.stepDurationDimensionGroup,"Overall step duration (Hours last Month)").on("renderlet",function(e){return e.selectAll("g.x g").each(function(e){return d3.select(this).select("text").remove(),d3.select(this).append("a").attr("target","_blank").attr("xlink:href","#/"+t.pageRoot+"/step_details?step="+e).append("text").text(e)}),e.selectAll("g.axis text").style("pointer-events","all"),n.setOrdonalAxis(e)}).title(function(e){return"Step Name:		"+e.key+"\n\nOverall step duration:	"+n.intDisplayFormat(e.value.duration/3600)+" Hours last Month\n# occurrences:		"+e.value.count+"\nDuration Average:		"+n.floatDisplayFormat(e.value.duration/e.value.count/60)+" mins"})},t.stepNumberBarChart=function(e){return e.group(t.stepNumberDimensionGroup,"# Occurrences last Month").valueAccessor(function(e){return e.value}).on("renderlet",function(e){return e.selectAll("g.x g").each(function(e){return d3.select(this).select("text").remove(),d3.select(this).append("a").attr("target","_blank").attr("xlink:href","#/"+t.pageRoot+"/step_details?step="+e).append("text").text(e)}),e.selectAll("g.axis text").style("pointer-events","all"),n.setOrdonalAxis(e)}).title(function(e){return"Step Name:	"+e.key+"\n\nOccurrences:	"+e.value})},t.tableGroup=function(e){return'<a href="#/'+t.pageRoot+"/step_details?step="+e.StepName+'">'+e.StepName+"</a>"},void(t.tablePostFormat=function(e){return e.columns([function(e){return e.BuilderType},function(e){return e.BuilderName},function(e){return n.displayBuildUrl(r.urls[a].buildbot_url,e.BuilderName,e.BuildNumber)},function(e){return e.Duration},function(e){return e.Result}]).order(d3.descending)}))})}])}.call(this),function(){angular.module("app").controller("cat0_efficiencyController",["$state","$scope","metricsService","postCommitService","config","$timeout",function(e,t,n,r,i,o){var a;return a=e.current.data,t.loading=!0,t.redrawAll=dc.redrawAll,t.renderAll=dc.renderAll,t.minDate="",t.maxDate="",d3.json(a.api_url,function(e){var i,o,s,u,l,c,d,p,f,h,m,g,v,b,y,w,_,x,C,D,k,A,$,S,E,T,P,R,M,N,F;return t.dataOutputMode={},t.perTestCaseOrderingVerdicts=new Array("CN","P"),t.perTestCaseOrderingModes=new Array("Descending","Ascending"),A=t.perTestCaseOrderingVerdicts[0],t.dataOutputMode.perTestCaseOrderingVerdict=A,k=t.perTestCaseOrderingModes[0],t.dataOutputMode.perTestCaseOrderingMode=k,t.yValues=new Array("#","%"),t.dataOutputMode.yValue=t.yValues[0],t.loading=!1,t.jsonUrl=a.api_url,m=dc.dataCount(".null"),u=new Array("NA","P","B","CN"),f={},f.res=new Array,s=new Array,c=new Array,l={},h=function(e,n,i,o){var a,u;return a={},a.platform=e,a.priority=o,a.tcname=i.name,s.push(a.tcname),a.domain=n,a.buildername=i.builderName,a.buildid=r.createBuildId(i),u=1e3*i.startTime,a.workWeek=d3.time.week(new Date(u)),r.updateMinAndMaxDate(t,a.workWeek),a.verdict="NA",1===i.result?a.verdict="P":0===i.result?a.verdict="B":a.verdict="CN",a},E=function(e,t){return"NOT_EXECUTED"!==t.result&&"BLOCKED"!==t.result?c.push(e):void 0},$=function(e,t,n,r){return r.manualOnly.forEach(function(n,i){return n.manual.forEach(function(n,i){return e.res.push(h(t,r.domain,n,r.priority))})}),r.single.forEach(function(n,i){return E(n.manual.name,n.autom),e.res.push(h(t,r.domain,n.manual,r.priority))}),r.multiple.forEach(function(n,i){return n.manual.forEach(function(n,i){return e.res.push(h(t,r.domain,n,r.priority))})}),e},S=r.browseJsonData(e,f,$),M=n.arrayWithoutDuplicates,s=M(s),c=M(c),s.forEach(function(e,t){return l[e]=!1}),c.forEach(function(e,t){return l[e]=!0}),t.allDomain=S.allDomain,t.allPlatform=S.allPlatform,t.xf=F=crossfilter(S.container.res),t.all=o=F.groupAll(),t.resetAll=function(){return dc.filterAll(),dc.redrawAll()},m.dimension(F),m.group(o),t.wwDimension=F.dimension(function(e){return e.workWeek}),t.workWeekDimensionForZoom=F.dimension(function(e){return e.workWeek}),t.domainDimension=F.dimension(function(e){return e.domain}),t.platformDimension=F.dimension(function(e){return e.platform}),t.tcDimension=F.dimension(function(e){return e.tcname}),t.builderDimension=F.dimension(function(e){return e.buildername}),t.priorityDimension=F.dimension(function(e){return e.priority}),i=function(e,t){return e.verdicts[t.verdict]+=1,e.count+=1,e},g=function(e,t){return e.verdicts[t.verdict]-=1,e.count-=1,e},_=function(){var e;return e={},e.verdicts={},u.forEach(function(t,n){return e.verdicts[t]=0}),e.count=0,e},t.wwDimensionGroup=t.wwDimension.group().reduce(i,g,_),N=t.workWeekDimensionForZoom.group(),t.workWeekDimensionGroupForZoom=N.reduceSum(function(e){return 1}),y=t.domainDimension.group(),t.domainDimensionGroup=y.reduce(i,g,_),y=t.platformDimension.group(),t.platformDimensionGroup=y.reduce(i,g,_),t.tcDimensionGroup=t.tcDimension.group().reduce(i,g,_),y=t.builderDimension.group(),t.builderDimensionGroup=y.reduce(i,g,_),b=function(e,n){var i;return i=e.value.verdicts[n],r.applyDataOutputMode(t.dataOutputMode.yValue,i,e.value.count)},v=function(e,n){return S=b(e,n),"#"===t.dataOutputMode.yValue?S:S.toFixed(2)+"%"},p=function(e,t){var n;return n=new Array("CN","P"),n.forEach(function(n,r){return e+="\n\n"+n+": "+v(t,n)}),e},C=function(e){return"#"===t.dataOutputMode.yValue?p(e.key,e):p(e.key+" (#"+e.value.count+")",e)},x=function(e){return l[e.key]},D=function(e){return S=C(e),S+="\n\nautomated: "+x(e)},d=function(e,t){var n,r;return n=e.top(1/0),r=n.sort(t),r.map(function(e){return e.key})},w=function(e,t,n){return t>e?"Ascending"===n?-1:1:e>t?"Ascending"===n?1:-1:0},R=function(e,t,n,r,i){var o;return o=w(e,t,i),0!==o?o:w(n,r,"Descending")},P=function(e,n){var r,i,o,a,s,u,l,c,d,p;return d=t.dataOutputMode.perTestCaseOrderingVerdict,p=t.dataOutputMode.perTestCaseOrderingMode,i=b(e,d),s=b(n,d),o=e.value.count,u=n.value.count,"#"===t.dataOutputMode.yValue?w(i,s):(c=function(){return R(i,s,o,u,p)},l=function(e){return 20>e},r=l(o),a=l(u),r?a?c():1:a?-1:c())},T=function(e,t){var n,r;return n=x(e),r=x(t),n?r?P(e,t):-1:r?1:P(e,t)},t.makeTcX=function(e){var t;return t=d(e,T),d3.scale.ordinal(e).domain(t)},t.makeOtherX=function(e){var t;return t=d(e,P),d3.scale.ordinal(e).domain(t)},t.builderSetup=function(e){var i;return S=r.createBarStacks(e,t.builderDimensionGroup,u,b),S=S.title(function(e){return C(e)}),i=t.makeOtherX(t.builderDimensionGroup),S=S.on("preRender",function(e){return e.x(i)}),S=S.on("renderlet",function(e){return n.setWWAxis(e)})},t.wwSetup=function(e){return S=r.createBarStacks(e,t.wwDimensionGroup,u,b),S=S.title(function(e){return C(e)+"\n\n"}),S=S.on("renderlet",function(e){return n.setWWAxis(e)}),S=S.xAxis().tickFormat(function(e){return n.getIntelWW(e)})},t.wwSetupForZoom=function(e){return e.on("renderlet",function(e){return n.setWWAxis(e)})},t.domainSetup=function(e){var i;return S=r.createBarStacks(e,t.domainDimensionGroup,u,b),S=S.title(function(e){return C(e)}),i=t.makeOtherX(t.domainDimensionGroup),S=S.on("preRender",function(e){return e.x(i)}),S=S.on("renderlet",function(e){return n.setTestDomainAxis(e)})},t.platformSetup=function(e){var i;return S=r.createBarStacks(e,t.platformDimensionGroup,u,b),S=S.title(function(e){return C(e)}),i=t.makeOtherX(t.platformDimensionGroup),S=S.on("preRender",function(e){return e.x(i)}),S=S.on("renderlet",function(e){return n.setPlatformAxis(e)})},t.tcSetup=function(e){return S=r.createBarStacks(e,t.tcDimensionGroup,u,b),S=S.title(function(e){return D(e)}),S=S.on("preRender",function(e){return e.x(t.makeTcX(t.tcDimensionGroup))}),S=S.on("renderlet",function(e){return n.hideAxis(e)})},t.tableGroup=function(e){return"WW"+e.workWeek},t.tablePostFormat=function(e){return e.columns([function(e){return e.buildid},function(e){return e.platform},function(e){return e.domain},function(e){return e.tcname},function(e){return e.verdict}])},t.$apply()})}])}.call(this),function(){angular.module("app").controller("cdi_projectController",["$state","$scope","metricsService","config","$timeout","$location","glTopbarContextualActionsService",function(e,t,n,r,i,o,a){var s,u;return u=e.current.data,t.loading=!0,s=e.current.data.dbName,t.pageRoot=o.path().split("/")[1],n.jsv(u.api_url).then(function(e){var n,r,o,a;return 0===e.length?void(t.nodata=!0):(t.loading=!1,t.csvUrl=u.api_url.replace(/\/jsv/,"/csv"),t.sqlUrl=u.api_url.replace(/\/jsv/,"/sql"),r=dc.dataCount(".null"),r._doRender=function(){return i(function(){return t.filter_count=r.dimension().size(),t.total_count=r.group().value()})},o=[],e.forEach(function(e,t){var n,r;try{o.push(e)}catch(r){return n=r,void console.log("catched "+n)}}),t.xf=a=crossfilter(o),t.all=n=a.groupAll(),t.all_records=e.length,t.all_filtered_records=e.length-o.length,r.dimension(a),r.group(n),t.nameDimension=a.dimension(function(e){return e.name}),t.patchDimension=a.dimension(function(e){return e.id}),t.tableGroup=function(e){return"All Projects"},void(t.tablePostFormat=function(e){return e.columns([function(e){return e.id},function(e){return e.name},function(e){return e.description}]).sortBy(function(e){var t;return t=+e.id}).order(d3.ascending)}))})}])}.call(this),function(){angular.module("app").controller("crashesController",["$state","$scope","metricsService","postCommitService","config","$timeout",function(e,t,n,r,i,o){var a;return a=e.current.data,t.loading=!0,t.redrawAll=dc.redrawAll,t.renderAll=dc.renderAll,d3.json(a.api_url,function(e){var r,i,s,u,l,c,d,p,f,h,m,g,v,b;if(0===e.length)return void(t.nodata=!0);t.dataOutputMode={},t.loading=!1,t.jsonUrl=a.api_url,u=dc.dataCount(".null"),u._doRender=function(){return o(function(){return t.filter_count=u.dimension().size(),t.total_count=u.group().value()})},v=[];for(m in e){s=e[m];try{s.creationDate=n.parseCsvDateTime(s.creationDate),s.WW=n.getIntelWW(s.creationDate),v.push(s)}catch(c){l=c,console.log("caugth "+l)}}t.xf=b=crossfilter(v),t.all=i=b.groupAll(),t.resetAll=function(){return dc.filterAll(),dc.redrawAll()},t.all_records=e.length,t.all_filtered_records=e.length-v.length,u.dimension(b),u.group(i),t.pltfDimension=b.dimension(function(e){return e.pltf}),t.campaignDimension=b.dimension(function(e){return e.campaignName}),t.testCaseDimension=b.dimension(function(e){return e.testCaseName}),t.testCaseDimensionGroup=t.testCaseDimension.group().reduceCount(),f=t.testCaseDimensionGroup.orderNatural().all().map(function(e){return e.key}),d="testCaseName",t.testCasePosDimension=b.dimension(function(e){return e.testCasePosition}),t.testCasePosDimensionGroup=t.testCasePosDimension.group(),h=t.testCasePosDimensionGroup.orderNatural().all().map(function(e){return e.key}),p="testCasePosition",t.testCaseChartDimension=b.dimension(function(e){return e.testCaseName}),t.testCaseChartDimensionGroup=t.testCaseChartDimension.group().reduce(function(e,t){return e.count++,e.nb_crashes+=t.nbCrashes,e},function(e,t){return e.count--,e.nb_crashes-=t.nbCrashes,e},function(){return{count:0,nb_crashes:0}}),t.testCasePosPerTCChartDimension=b.dimension(function(e){return[e.testCasePosition,e.testCaseName]}),r=t.testCasePosPerTCChartDimensionGroup=t.testCasePosPerTCChartDimension.group().reduce(function(e,t){return e.count++,e.nb_crashes+=t.nbCrashes,e},function(e,t){return e.count--,e.nb_crashes-=t.nbCrashes,e},function(){return{count:0,nb_crashes:0}}),t.weekTableDimension=b.dimension(function(e){return e.WW}),t.weekTableDimensionGroup=t.weekTableDimension.group().reduceCount(),t.crashesBarChart=function(e){return e.valueAccessor(function(e){return e.value.nb_crashes}).title(function(e){return e.key+"\n# crashes:	"+e.value.nb_crashes}).renderlet(function(e){return n.setTestCaseAxis(e)})},t.TCpositionSeriesChart=function(e){return e.seriesAccessor(function(e){return e.key[1]}).keyAccessor(function(e){return e.key[0]}).valueAccessor(function(e){return e.value.nb_crashes/e.value.count}).chart(function(e){return dc.lineChart(e).interpolate("monotone")}).title(function(e){return e.key[0]+"\n# Ratio (nb_crashes)/(nb_execution at a specific position):	"+e.value.nb_crashes/e.value.count})},g=function(e,t){var n;return n=d3.descending(e.creationDate,t.creationDate),0!==n?n:void 0},t.tableGroup=function(e){return e.testCaseName},t.tablePostFormat=function(e){return e.columns([function(e){return d3.time.format("%d/%m/%y")(e.creationDate)},function(e){return e.nbCrashes},function(e){return e.verdict},function(e){return e.testCasePosition},function(e){return e.campaignName}]).order(g)}})}])}.call(this),function(){angular.module("app").controller("cti_campaignsController",["$state","$scope","metricsService","config","$timeout","$location","glTopbarContextualActionsService",function(e,t,n,r,i,o,a){var s,u;return u=e.current.data,t.loading=!0,s=e.current.data.dbName,t.pageRoot=o.path().split("/")[1],n.jsv(u.api_url).then(function(e){var n,r,o,a;return 0===e.length?void(t.nodata=!0):(t.loading=!1,t.csvUrl=u.api_url.replace(/\/jsv/,"/csv"),t.sqlUrl=u.api_url.replace(/\/jsv/,"/sql"),r=dc.dataCount(".null"),r._doRender=function(){return i(function(){return t.filter_count=r.dimension().size(),t.total_count=r.group().value()})},o=[],e.forEach(function(e,t){var n,r;try{o.push(e)}catch(r){return n=r,void console.log("catched "+n)}}),t.xf=a=crossfilter(o),t.all=n=a.groupAll(),t.all_records=e.length,t.all_filtered_records=e.length-o.length,r.dimension(a),r.group(n),t.projectDimension=a.dimension(function(e){return e.project_name}),t.osVersionDimension=a.dimension(function(e){return e.os_version}),t.patchDimension=a.dimension(function(e){return e.id}),t.tableGroup=function(e){return"Project:"+e.project_name},void(t.tablePostFormat=function(e){return e.columns([function(e){return e.id},function(e){return e.campaign_name},function(e){return e.category},function(e){return e.package_name},function(e){return e.package_version},function(e){return e.os_version},function(e){return e.case_number},function(e){return e.timeout}]).sortBy(function(e){var t;return t=+e.id}).order(d3.descending)}))})}])}.call(this),function(){angular.module("app").controller("cti_sessionsController",["$state","$scope","metricsService","config","$timeout","$location","glTopbarContextualActionsService",function(e,t,n,r,i,o,a){var s,u;return u=e.current.data,t.loading=!0,s=e.current.data.dbName,a.setContextualActions([{caption:"xls",icon:"file-excel-o",action:function(){return window.location=u.api_url.replace("/jsv","/xls")}},{caption:"sql",icon:"file-code-o",action:function(){return window.location=u.api_url.replace("/jsv","/sql")}}]),t.pageRoot=o.path().split("/")[1],n.jsv(u.api_url).then(function(e){var r,o,a,s,l,c;return 0===e.length?void(t.nodata=!0):(t.loading=!1,t.csvUrl=u.api_url.replace(/\/jsv/,"/xls"),t.sqlUrl=u.api_url.replace(/\/jsv/,"/sql"),o=dc.dataCount(".null"),o._doRender=function(){return i(function(){return t.filter_count=o.dimension().size(),t.total_count=o.group().value()})},t.uiParams={projects:[],sessionStates:[],months:[],initial_data:{}},l=[],e.forEach(function(e,t){var n,r;if("None"!==e.session_state&&"RUNNING"!==e.session_state&&"WAITING"!==e.session_state){"None"===e.duration_time&&(e.duration_time=0),"None"===e.pending_time&&(e.pending_time=0),null!=e.submit_time&&(e.month=e.submit_time.split("-")[0]+"-"+e.submit_time.split("-")[1]);try{e.duration_time=+e.duration_time,e.pending_time=+e.pending_time,e.log_url="http://cti-prod.sh.intel.com:8088/job/testflow/"+e.task_number+"/console"}catch(r){return n=r,void console.log("catched "+n)}l.push(e)}}),t.xf=c=crossfilter(l),t.all=r=c.groupAll(),t.all_records=e.length,t.all_filtered_records=e.length-l.length,o.dimension(c),o.group(r),t.filter=function(e,t){return n.filter(e,t),dc.redrawAll()},t.projectDimensionList=c.dimension(function(e){return e.project_name}),t.projectDimension=c.dimension(function(e){return e.project_name}),t.dropDownProject=n.formatDropdownData(t.uiParams.projects,t.projectDimension),t.sessionStateDimensionList=c.dimension(function(e){return e.session_state}),t.sessionStateDimension=c.dimension(function(e){return e.session_state}),t.dropDownSessionState=n.formatDropdownData(t.uiParams.sessionStates,t.sessionStateDimension),t.monthDimensionList=c.dimension(function(e){return e.month}),t.monthDimension=c.dimension(function(e){return e.month}),t.dropDownMonth=n.formatDropdownData(t.uiParams.months,t.monthDimension),s=["#8D4","#ade","#C6C","#F092DB","#EC6B3D","#1f77b4","#9101FF","#ff7f0e","#2ca02c","#949599","#ffe404","#A2B5A1","#EBD4B4","#8c564b","#FCD4DC","#58585A"],t.sessionStateDimension=c.dimension(function(e){return e.session_state}),t.sessionStateDimensionGroup=t.sessionStateDimension.group().reduceCount(),t.sessionStatePieChart=function(e){e.ordinalColors(s).title(function(t){return n.pieTextDisplay(e,r,t)}).label(function(t){return n.pieValueDisplay(e,r,t)})},t.durationDimension=c.dimension(function(e){return n.getIntelWW(e.submit_time)}),a=reductio(),a.count(!0),a.value("duration").count(!0).avg(function(e){return e.duration_time/60}),t.durationDimensionGroup=a(t.durationDimension.group()),t.durationLineChart=function(e){return e.group(t.durationDimensionGroup,"AVG Time of Duration (mins)",function(e){return e.value.duration.count>0?e.value.duration.avg:0}).on("renderlet",function(e){return n.setWWAxis(e)}).title(function(e){return e.value.count>0?"Work Week:"+e.key+"\n"+n.displayKeyValuePercent("Nbs:",e.value.count)+"\nDuration Time (mins):\n"+n.displayKeyFloat("Avg:",e.value.duration.avg):"Work Week:"+e.key}).yAxis().tickFormat(d3.format("s"))},t.weeklyDimension=c.dimension(function(e){return n.getIntelWW(e.submit_time)}),t.sessionStateDimensionLineGroup=t.weeklyDimension.group().reduce(function(e,t){return++e.count,"FAILURE"===t.session_state&&(e.session_state_fail+=1),e},function(e,t){return--e.count,"FAILURE"===t.session_state&&(e.session_state_fail-=1),e},function(){var e;return e={},e.count=0,e.session_state_fail=0,e}),t.sessionStateLineChart=function(e){return e.valueAccessor(function(e){return n.computePercentage(e.value.session_state_fail,e.value.count)}).group(t.sessionStateDimensionLineGroup,"Session State Failure").on("renderlet",function(e){return n.setWWAxis(e)}).colors("#D62728").interpolate("monotone").renderDataPoints({radius:2,fillOpacity:.8,strokeOpacity:0}).title(function(e){return"Date:		"+e.key+"\n\nState Failure:	"+n.displayPercentageAndCount(e.value.session_state_fail,e.value.count)})},t.patchDimension=c.dimension(function(e){return e.sessionId}),t.tableGroup=function(e){return"Work Week "+n.getIntelWW(e.submit_time)},void(t.tablePostFormat=function(e){return e.columns([function(e){return e.sessionId},function(e){return e.project_name},function(e){return e.user_idsid},function(e){return e.session_state},function(e){return e.start_time},function(e){return n.floatDisplayFormat(e.duration_time/60)},function(e){return'<a href="'+e.log_url+'" target=_blank>VIEW</a>'}]).sortBy(function(e){return e.sessionId}).order(d3.descending)}))})}])}.call(this),function(){angular.module("app").controller("cti_sub_sessionsController",["$state","$scope","metricsService","config","$timeout","$location","glTopbarContextualActionsService",function(e,t,n,r,i,o,a){var s,u;return u=e.current.data,t.loading=!0,s=e.current.data.dbName,a.setContextualActions([{caption:"xls",icon:"file-excel-o",action:function(){return window.location=u.api_url.replace("/jsv","/xls")}},{caption:"sql",icon:"file-code-o",action:function(){return window.location=u.api_url.replace("/jsv","/sql")}}]),t.pageRoot=o.path().split("/")[1],n.jsv(u.api_url).then(function(e){var r,o,a,s,l,c,d,p,f,h,m,g;return 0===e.length?void(t.nodata=!0):(t.loading=!1,t.csvUrl=u.api_url.replace(/\/jsv/,"/xls"),t.sqlUrl=u.api_url.replace(/\/jsv/,"/sql"),d=dc.dataCount(".null"),d._doRender=function(){return i(function(){return t.filter_count=d.dimension().size(),t.total_count=d.group().value()})},t.uiParams={projects:[],campaigns:[],subSessionStates:[],FailureSubSessionStates:[],months:[],initial_data:{}},t.attribute_links={projects:{},campaigns:{}},t.dropDownsSelectionChange={projects:!1,campaigns:!1},t.dependences={projects:[],campaigns:["projects"]},m=[],p=[],e.forEach(function(e,r){var i,o,a,s,u,l,c,d,f,h,g,v,b;if("None"!==e.subsession_state&&"RUNNING"!==e.subsession_state&&"WAITING"!==e.subsession_state){"None"===e.duration_time&&(e.duration_time=0),"None"===e.pending_time&&(e.pending_time=0),null!=e.sub_submit_time&&(e.month=e.sub_submit_time.split("-")[0]+"-"+e.sub_submit_time.split("-")[1]),"DONE"===e.subsession_state&&(e.subsession_state="SUCCESS"),"SUCCESS"!==e.subsession_state&&"CANCELLED"!==e.subsession_state?e.state="FAILURE":e.state=e.subsession_state,"SUCCESS"!==e.subsession_state&&"CANCELLED"!==e.subsession_state&&(p.push(e),e.FailureState=e.subsession_state);try{e.duration_time=+e.duration_time,e.pending_time=+e.pending_time,e.session_log_url="http://cti-prod.sh.intel.com:8088/job/testflow/"+e.session_task_number+"/console",e.subsession_log_url="http://cti-prod.sh.intel.com:8088/job/atomjob/"+e.subsession_task_number+"/console"}catch(l){return u=l,void console.log("catched "+u)}v=n.setDefault,c=function(t){var n;switch(n="",t){case"projects":n=e.project_name;break;case"campaigns":n=e.campaign_name}return n},g=t.dependences;for(f in g)for(b=g[f],d=0,h=b.length;h>d;d++)i=b[d],o=c(i),s=c(f),a=v(t.attribute_links[i],o,{}),v(a,f,new Set).add(s);m.push(e)}}),t.xf=g=crossfilter(m),t.all=l=g.groupAll(),t.F_XY=a=crossfilter(p),t.F_ALL=o=a.groupAll(),t.all_records=e.length,t.all_filtered_records=e.length-m.length,d.dimension(g),d.group(l),d.dimension(a),d.group(a),t.resetAll=function(){var e,r,i,o;i=t.uiParams.initial_data;for(e in i)o=i[e],r=o.slice(),t.uiParams[e]=r;return n.resetFilter(t.uiParams.projects,t.projectDimensionList),n.resetFilter(t.uiParams.campaigns,t.campaignDimensionList),dc.filterAll(),dc.redrawAll()},f=function(e){var r,i,o,a,s,u,l,c,d,p,f,h,m,g,v,b,y,w,_,x,C,D,k,A,$,S;for(g=e.modified,s=e.impacted,C=t.uiParams,null==C.initial_data[s.attribute]&&(a=C[s.attribute].slice(),C.initial_data[s.attribute]=a),i=C.initial_data[s.attribute].slice(),D=C[g.attribute],v=function(){var e,t,n;for(n=[],e=0,t=D.length;t>e;e++)S=D[e],S.ticked&&n.push(S.name);return n}(),u=new Set,k=[],w=[],A=new Set,r=function(e){return A.add(e)},c=0,p=v.length;p>c;c++)$=v[c],t.attribute_links[g.attribute][$][s.attribute].forEach(r);for(k.push(A),w.push(A.size),b=t.dependences[g.attribute],d=0,f=b.length;f>d;d++){for(o=b[d],A=new Set,y=C[o],m=0,h=y.length;h>m;m++)S=y[m],S.ticked&&t.attribute_links[o][S.name][s.attribute].forEach(r);k.push(A),w.push(A.size)}return x=w.indexOf(Math.min.apply(null,w)),_=k[x],u=new Set,l=function(e){var t,n,r;t=!0;for(n in k)if(r=k[n],n!==x&&!r.has(e)){t=!1;break}return t?u.add(e):void 0},_.forEach(l),C[s.attribute]=function(){var e,t,n;for(n=[],t=0,e=i.length;e>t;t++)S=i[t],u.has(S.name)&&n.push(S);return n}(),n.filter(t.uiParams[g.attribute],t[g.dimension]),n.filter(t.uiParams[s.attribute],t[s.dimension])},t.filter=function(e,t){return n.filter(e,t),dc.redrawAll()},t.projectDimensionList=g.dimension(function(e){return e.project_name}),t.projectDimension=g.dimension(function(e){return e.project_name}),t.dropDownProject=n.formatDropdownData(t.uiParams.projects,t.projectDimension),t.campaignDimensionList=g.dimension(function(e){return e.campaign_name}),t.campaignDimension=g.dimension(function(e){return e.campaign_name}),t.dropDownCampaign=n.formatDropdownData(t.uiParams.campaigns,t.campaignDimension),t.subSessionStateDimensionList=g.dimension(function(e){return e.state}),t.subSessionStateDimension=g.dimension(function(e){return e.state}),t.dropDownSubSessionState=n.formatDropdownData(t.uiParams.subSessionStates,t.subSessionStateDimension),t.FailureSubSessionStateDimensionList=a.dimension(function(e){return e.FailureState}),t.FailureSubSessionStateDimension=a.dimension(function(e){return e.FailureState}),t.dropDownFailureSubSessionState=n.formatDropdownData(t.uiParams.FailureSubSessionStates,t.FailureSubSessionStateDimension),t.monthDimensionList=g.dimension(function(e){return e.month}),t.monthDimension=g.dimension(function(e){return e.month}),t.dropDownMonth=n.formatDropdownData(t.uiParams.months,t.monthDimension),r=["#8D4","#d62728","#C6C","#F092DB","#EC6B3D","#1f77b4","#9101FF","#ff7f0e","#2ca02c","#949599","#ffe404","#A2B5A1","#EBD4B4","#8c564b","#FCD4DC","#58585A"],s=["#ff8888","#F092DB","#EC6B3D","#1f77b4","#9101FF","#ff7f0e","#949599","#ffe404","#A2B5A1","#EBD4B4","#8c564b","#FCD4DC","#58585A"],
t.subSessionStateDimension=g.dimension(function(e){return e.state}),t.subSessionStateDimensionGroup=t.subSessionStateDimension.group().reduceCount(),t.subSessionStatePieChart=function(e){e.ordinalColors(r).title(function(t){return n.pieTextDisplay(e,l,t)}).label(function(t){return n.pieValueDisplay(e,l,t)})},t.FailureStateDimension=a.dimension(function(e){return e.FailureState}),t.FailureStateDimensionGroup=t.FailureStateDimension.group().reduceCount(),t.FailureStatePieChart=function(e){e.ordinalColors(s).title(function(t){return n.pieTextDisplay(e,o,t)}).label(function(t){return n.pieValueDisplay(e,o,t)})},t.dropDownItemClick=function(e,n){return t.dropDownsSelectionChange[n]=!0},c=function(e,t){var n;return n={attribute:e,dimension:t}},t.filter_change=function(e,n,r,i,o){var a;if(o){if(!t.dropDownsSelectionChange[e])return;t.dropDownsSelectionChange[e]=!1}return a={modified:c(e,n),impacted:c(r,i)},f(a)},t.set_Project=function(e){return t.filter_change("projects","projectDimensionList","campaigns","campaignDimensionList",e),e?dc.redrawAll():void 0},t.weeklyDimension=g.dimension(function(e){return n.getIntelWW(e.sub_submit_time)}),t.weeklyDimensionGroup=t.weeklyDimension.group().reduce(function(e,t){return e.count+=1,e.pending+=t.pending_time,e.duration+=t.duration_time,e},function(e,t){return e.count-=1,e.pending-=t.pending_time,e.duration-=t.duration_time,e},function(){var e;return e={},e.count=0,e.pending=0,e.duration=0,e}),t.durationDimension=g.dimension(function(e){return n.getIntelWW(e.sub_submit_time)}),h=reductio(),h.count(!0),h.value("duration").count(!0).avg(function(e){return e.duration_time/60}),h.value("pending").count(!0).avg(function(e){return e.pending_time/60}),t.durationDimensionGroup=h(t.durationDimension.group()),t.durationLineChart=function(e){return e.valueAccessor(function(e){return e.value.pending.count>0?e.value.pending.avg:0}).group(t.durationDimensionGroup,"AVG Time of Duration(mins)",function(e){return e.value.duration.count>0?e.value.duration.avg:0}).stack(t.durationDimensionGroup,"AVG Time of Pending(mins)").on("renderlet",function(e){return n.setWWAxis(e)}).title(function(e){return e.value.count>0?"Work Week:"+e.key+"\n"+n.displayKeyValuePercent("Nbs:",e.value.count)+"\nDuration Time(mins):\n"+n.displayKeyFloat("Avg:",e.value.duration.avg)+"\nPending Time(mins):\n"+n.displayKeyFloat("Avg:",e.value.pending.avg):"Work Week:"+e.key}).yAxis().tickFormat(d3.format("s"))},t.weeklyDimension=g.dimension(function(e){return n.getIntelWW(e.sub_submit_time)}),t.subSessionStateDimensionLineGroup=t.weeklyDimension.group().reduce(function(e,t){return++e.count,"SUCCESS"!==t.state&&"CANCELLED"!==t.state&&(e.subsession_state_fail+=1),e},function(e,t){return--e.count,"SUCCESS"!==t.state&&"CANCELLED"!==t.state&&(e.subsession_state_fail-=1),e},function(){var e;return e={},e.count=0,e.subsession_state_fail=0,e}),t.subSessionStateLineChart=function(e){return e.valueAccessor(function(e){return n.computePercentage(e.value.subsession_state_fail,e.value.count)}).group(t.subSessionStateDimensionLineGroup,"SubSession State Failure").on("renderlet",function(e){return n.setWWAxis(e)}).colors("#D62728").interpolate("monotone").renderDataPoints({radius:2,fillOpacity:.8,strokeOpacity:0}).title(function(e){return"Date:		"+e.key+"\n\nState Failure:	"+n.displayPercentageAndCount(e.value.subsession_state_fail,e.value.count)})},t.patchDimension=g.dimension(function(e){return e.sessionId}),t.tableGroup=function(e){return"Work Week "+n.getIntelWW(e.sub_submit_time)},void(t.tablePostFormat=function(e){return e.columns([function(e){return e.sessionId},function(e){return"None"===e.subsession_id?"-":e.subsession_id},function(e){return e.project_name},function(e){return e.user_idsid},function(e){return"None"===e.campaign_name?"-":e.campaign_name},function(e){return e.subsession_state},function(e){return"None"===e.sub_start_time?"-":e.sub_start_time},function(e){return n.floatDisplayFormat(e.pending_time/60)},function(e){return n.floatDisplayFormat(e.duration_time/60)},function(e){return"None"===e.session_task_number?"-":'<a href="'+e.session_log_url+'" target=_blank>VIEW</a>'},function(e){return"None"===e.subsession_task_number?"-":'<a href="'+e.subsession_log_url+'" target=_blank>VIEW</a>'}]).sortBy(function(e){return e.sessionId}).order(d3.descending)}))})}])}.call(this),function(){angular.module("app").controller("device_pool_statusController",["$state","$scope","metricsService","config","$timeout","$location",function(e,t,n,r,i,o){var a,s;return s=e.current.data,t.loading=!0,a=e.current.data.dbName,t.pageRoot=o.path().split("/")[1],n.jsv(s.api_url).then(function(e){var n,r,o,a;return 0===e.length?void(t.nodata=!0):(t.loading=!1,t.csvUrl=s.api_url.replace(/\/jsv/,"/csv"),t.sqlUrl=s.api_url.replace(/\/jsv/,"/sql"),r=dc.dataCount(".null"),r._doRender=function(){return i(function(){return t.filter_count=r.dimension().size(),t.total_count=r.group().value()})},o=[],e.forEach(function(e,t){var n,r;try{o.push(e)}catch(r){return n=r,void console.log("catched "+n)}}),t.xf=a=crossfilter(o),t.all=n=a.groupAll(),t.all_records=e.length,t.all_filtered_records=e.length-o.length,r.dimension(a),r.group(n),t.DevicemodelDimension=a.dimension(function(e){return e.device_model}),t.projectDimension=a.dimension(function(e){return e.project_name}),t.StateDimension=a.dimension(function(e){return e.state}),t.patchDimension=a.dimension(function(e){return e.id}),t.tableGroup=function(e){return"project: "+e.project_name},void(t.tablePostFormat=function(e){return e.columns([function(e){return e.project_name},function(e){return e.device_model},function(e){return e.device_id},function(e){return e.location},function(e){return e.state}]).order(d3.descending)}))})}])}.call(this),function(){angular.module("app").controller("device_pool_utilization_detailController",["$state","$scope","metricsService","config","$timeout","$location",function(e,t,n,r,i,o){var a,s;return s=e.current.data,t.loading=!0,a=e.current.data.dbName,t.pageRoot=o.path().split("/")[1],e.params&&e.params.deviceID&&(s.api_url+="?deviceID="+e.params.deviceID,t.deviceID=e.params.deviceID),n.jsv(s.api_url).then(function(e){var r,o,a,u,l,c,d,p,f;return 0===e.length?void(t.nodata=!0):(t.loading=!1,t.csvUrl=s.api_url.replace(/\/jsv/,"/csv"),t.sqlUrl=s.api_url.replace(/\/jsv/,"/sql"),a=dc.dataCount(".null"),a._doRender=function(){return i(function(){return t.filter_count=a.dimension().size(),t.total_count=a.group().value()})},p=[],e.forEach(function(e,t){var r,i;try{e.Date=n.parseCsvDateTime(e.startTime),e.dateTime=e.startTime.split(" ")[0],e.date=n.parseCsvDate(e.dateTime),p.push(e)}catch(i){return r=i,void console.log("catched "+r)}}),t.xf=f=crossfilter(p),t.all=o=f.groupAll(),t.all_records=e.length,t.all_filtered_records=e.length-p.length,a.dimension(f),a.group(o),d=function(){return dc.redrawAll(),dc.renderAll()},t.date_dimension=u=f.dimension(function(e){return e.date}),l=function(){return[u]},t.date_picker=n.makeFromToDatePicker(t,l,d,c=12),t.dateTimeDimension=f.dimension(function(e){return e.dateTime}),r=["#2CA02C","#1F77B4","#808080","#D62728","#9467BD","#FF7F0E","#ffe404","#A2B5A1","#EBD4B4","#8c564b","#FCD4DC","#58585A"],t.dailyDimension=f.dimension(function(e){return e.Date}),t.dailyDimensionGroup=t.dailyDimension.group().reduce(function(e,t){return++e.count,e.running_duration+=+t.running_duration,e},function(e,t){return--e.count,e.running_duration-=+t.running_duration,e},function(){var e;return e={},e.count=0,e.running_duration=0,e}),t.min=t.dailyDimension.bottom(1)[0].Date,t.max=t.dailyDimension.top(1)[0].Date,t.RuningRateChart=function(e){return e.valueAccessor(function(e){return e.value.running_duration}).group(t.dailyDimensionGroup,"Running Duration(hour)").on("renderlet",function(e){return n.setWWAxis(e)}).renderDataPoints({radius:2,fillOpacity:.8,strokeOpacity:0}).interpolate("monotone").title(function(e){return"Date:		"+e.key+"\n\nRunning Duration:	"+n.floatDisplayFormat(e.value.running_duration)+"(hour)"})},t.patchDimension=f.dimension(function(e){return e.dateTime}),t.tableGroup=function(e){return"Date:"+e.dateTime},void(t.tablePostFormat=function(e){return e.columns([function(e){return e.project_name},function(e){return e.startTime},function(e){return e.updated_on},function(e){return e.running_duration}]).sortBy(function(e){return+e.running_duration}).order(d3.descending)}))})}])}.call(this),function(){angular.module("app").controller("device_pool_utilization_summaryController",["$state","$scope","metricsService","config","$timeout","$location",function(e,t,n,r,i,o){var a,s;return s=e.current.data,t.loading=!0,a=e.current.data.dbName,t.months=3,t.pageRoot=o.path().split("/")[1],e.params&&e.params.months&&(s.api_url+="?months="+e.params.months,t.months=e.params.months),n.jsv(s.api_url).then(function(e){var r,o,a,u,l;return 0===e.length?void(t.nodata=!0):(t.loading=!1,t.csvUrl=s.api_url.replace(/\/jsv/,"/csv"),t.sqlUrl=s.api_url.replace(/\/jsv/,"/sql"),a=dc.dataCount(".null"),a._doRender=function(){return i(function(){return t.filter_count=a.dimension().size(),t.total_count=a.group().value()})},u=[],e.forEach(function(e,t){var n,r;try{e.deviceID=+e.deviceID,u.push(e)}catch(r){return n=r,void console.log("catched "+n)}}),t.xf=l=crossfilter(u),t.all=o=l.groupAll(),t.all_records=e.length,t.all_filtered_records=e.length-u.length,a.dimension(l),a.group(o),t.projectsDimension=l.dimension(function(e){return e.projectName}),t.deviceIDDimension=l.dimension(function(e){return e.deviceID}),t.dmsIDDimension=l.dimension(function(e){return e.dmsID}),r=["#9467BD","#2CA02C","#1F77B4","#808080","#D62728","#FF7F0E","#ffe404","#A2B5A1","#EBD4B4","#8c564b","#FCD4DC","#58585A"],t.projectDimension=l.dimension(function(e){return e.projectName}),t.projectDimensionGroup=t.projectDimension.group().reduce(function(e,t){return++e.count,e.total_running_rate+=+t.total_running_rate,e},function(e,t){return--e.count,e.total_running_rate-=+t.total_running_rate,e},function(){var e;return e={},e.count=0,e.total_running_rate=0,e}),t.ProjectRuningRateChart=function(e){return e.ordinalColors(r).valueAccessor(function(e){return e.value.total_running_rate/e.value.count}).group(t.projectDimensionGroup,"Running Rate(%)").on("renderlet",function(e){return n.setOrdonalAxis(e)}).title(function(e){return"Project:		"+e.key+"\nRunning Rate:	"+n.floatDisplayFormat(e.value.total_running_rate/e.value.count)+"%"}).yAxis().tickFormat(d3.format("s"))},t.deviceDimension=l.dimension(function(e){return e.deviceID}),t.deviceDimensionGroup=t.deviceDimension.group().reduce(function(e,t){return++e.count,e.total_running_rate+=+t.total_running_rate,e},function(e,t){return--e.count,e.total_running_rate-=+t.total_running_rate,e},function(){var e;return e={},e.count=0,e.total_running_rate=0,e}),t.DeviceRuningRateChart=function(e){return e.ordinalColors(r).valueAccessor(function(e){return e.value.total_running_rate}).group(t.deviceDimensionGroup,"Running Rate(%)").on("renderlet",function(e){return n.setOrdonalAxis(e)}).title(function(e){return"DeviceID:		"+e.key+"\nRunning Rate:	"+n.floatDisplayFormat(e.value.total_running_rate)+"%"})},t.patchDimension=l.dimension(function(e){return e.projectName}),t.tableGroup=function(e){return"Project:"+e.projectName},void(t.tablePostFormat=function(e){return e.columns([function(e){return'<a href="#/'+t.pageRoot+"/device_pool_utilization_detail?deviceID="+e.deviceID+'" target=_blank>'+e.deviceID+"</a>"},function(e){return e.publicIPAddress},function(e){return e.value},function(e){return e.location},function(e){return e.serialNumber},function(e){return e.total_running_time},function(e){return e.total_running_rate+"%"}]).sortBy(function(e){return+e.total_running_time}).order(d3.descending)}))})}])}.call(this),function(){angular.module("app").controller("domainownerController",["$state","$scope","metricsService","config","$interval","glTopbarContextualActionsService",function(e,t,n,r,i,o){var a,s,u,l,c,d;s=e.current.data,t.autoupdate=!1,u=null,d=[],t.emails=[],o.setContextualActions([{caption:"csv",icon:"file-excel-o",action:function(){return window.location=s.api_url.replace("/jsv","/csv")}},{caption:"json",icon:"file-code-o",action:function(){return window.location=s.api_url}},{caption:"sql",icon:"file-code-o",action:function(){return window.location=s.api_url.replace("/jsv","/sql")}}]),n.jsv(s.emails_api_url,{},!1).then(function(e){return t.email=e[0],e.forEach(function(e,n){var r,i,o,a;for(e.activity="1",o=[1,5,10,15,20,30],r=0,i=o.length;i>r;r++)a=o[r],e.NBR>a&&(e.activity=">"+a);return t.emails.push(e)}),a()}),t.emailChanged=function(e){return t.email=e,a()},a=function(){return null==t.email||t.updating?void 0:(t.updating=!0,n.jsv(s.api_url,{email:t.email.email},!1).then(function(e){var r;for(t.updating=!1,r=function(e){var t;return t=[],e.split("|").forEach(function(e){var n,r,i;return n=e.indexOf(":"),r=e.substring(0,n),i=e.substring(n+1),t.push({number:r,title:i})}),t};null!=d.pop(););return e.forEach(function(e,t){var i,o,a;try{return e.momentDate=moment(e.Date).calendar(),e.Date=n.dateTimeDisplayFormat(n.parseCsvDateTime(e.Date)),i=moment.duration(1e3*+e.BuildDuration),e.humanDuration=i.humanize(),e.realDuration=i.asMinutes(),e.ResultColor=n.resultColors[+e.Result],e.Result=n.bbotResultLabels[+e.Result],e.patches=r(e.gerritChanges),e.urlHtml='<a href="'+e.url+'"'+("target=_blank>"+e.BuilderName+"/"+e.BuildNumber+"</a>"),d.push(e)}catch(a){o=a,console.log("Caught "+o+" "+e.Date)}})}))},c=function(e){return function(t,n){return t.entity[e]}},l=function(e){return function(t,n,r,i,o){return i[e]-r[e]}},t.data=d,t.gridOptions={enableFiltering:!0,enableColumnResize:!0,data:"data",columnDefs:[{name:"build",field:"url",minWidth:200,cellTemplate:'<div class="ui-grid-cell-contents"> <a href="{{COL_FIELD}}"" target="_blank"> {{row.entity.BuilderName}}/{{row.entity.BuildNumber}} </div>'},{name:"Date",field:"Date",cellTooltip:c("momentDate")},{name:"BuildDuration",field:"humanDuration",cellTooltip:c("realDuration"),sortingAlgorithm:l("realDuration")},{name:"reason"},{name:"patches",minWidth:400,cellTemplate:'<div class="ui-grid-cell-contents"> <span ng-repeat="p in COL_FIELD" title="{{p.title}}"> <a href="https://android.intel.com/{{p.number}}"" target="_blank"> {{p.number}} </a> </span> </div>',filter:{condition:function(e,t){var n,r,i;for(console.log(e),n=0,r=t.length;r>n;n++)if(i=t[n],i.number.indexOf(e)>=0)return!0;return!1}}},{name:"Result"},{name:"StepName"},{name:"IssueCause"}]},t.updateToggle=function(){return t.autoupdate?i.cancel(u):(a(),u=i(a,6e4)),t.autoupdate=!t.autoupdate},t.updateToggle()}])}.call(this),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};angular.module("app").controller("dynamic_tc_warning_monitorController",["$state","$scope","metricsService","postCommitService","config","$timeout",function(t,n,r,i,o,a){var s;return s=t.current.data,n.loading=!0,n.redrawAll=dc.redrawAll,n.renderAll=dc.renderAll,d3.json(s.api_url,function(i){var a,u,l,c,d,p,f,h,m,g,v,b,y,w,_,x,C,D,k,A,$,S,E,T,P,R,M,N,F,O,G,I,B,W,L,j,V,H,q,U,z,Y,X,K,Z,J,Q,ee,te;return b=""+r.bbotResultMapping.Warnings,g=""+r.bbotResultMapping.Success,v=["PASSED","NA"],f=[g,b],l="AUTO_PROMOTE",c="MANUAL_PROMOTE",p="NOT_PROMOTED",u="All promotion types",h="preintegration",m="premerge",d="mergerequest",0===i.length?void(n.nodata=!0):(n.dataOutputMode={},n.jsonUrl=s.api_url,H=dc.dataCount(".null"),X=dc.dataCount(".null"),z=function(){return dc.redrawAll(),dc.renderAll()},T=function(e,t){var n,r;return r=e.promotedFrom,0===r.length?void 0:(n=r[0].split("/"),t.preintegration[n[1]])},L=function(e,t){return e.submitTime-t.finishTime>0?c:l},P=function(e,t){var n;return n=T(e,t),null==n?p:L(e,n)},R=function(t,n,r,i){var o,a,s,u,l,c;s=n===h?m:d,u=i+"-"+n+"/"+r,c=[],l=t[s];for(o in l)a=l[o],e.call(a.promotedFrom,u)>=0&&c.push(a);return c},x=function(e,t,n){var r;return r=e.buildDuration+t.buildDuration,r+=t.startTime-e.finishTime,t.buildResult===b&&(r+=t.finishTime-n.submitTime),r},F=function(e,t,n){var i,o,a,s;return a=R(n,m,t.buildNumber,t.branch),0===a.length?void 0:(a.sort(function(e,t){return e.submitTime-t.submitTime}),o=a[0],i={preint:e,premerge:t},s={date:r.parseCsvDate(e.date),branch:e.branch,promotion:L(t,e),time:x(e,t,o),builds:i})},Z=function(t){var n,i,o,a;if(n=t.result,e.call(f,n)>=0&&"PRIMARY"===t.boardType){i=t.testcases;for(o in i)if(a=i[o],!r.isPreload(o)&&e.call(v,a)<0)return!0}return!1},U=function(t){var n,r,i,o;if(i=t.buildResult,e.call(f,i)>=0&&"campaigns"in t){o=t.campaigns;for(n in o)if(r=o[n],Z(r))return!0}return!1},O=function(e,t){var n;return n={date:r.parseCsvDate(e.date),branch:e.branch,promotion:t,time:e.buildDuration,builder:e.builder}},W=function(e,t,n){var r;return r=t.builder!==m?void 0:P(t,n),r!==p&&U(t)?e.push(O(t,r)):void 0},E=function(e){var t,n,r;for(e.sort(function(e,t){return e.finishTime-t.finishTime}),t=0,n=e.length;n>t;t++)if(r=e[t],r.buildResult===g)return r;return void 0},B=function(e,t,n,r){var i,o,a;return a=R(t,h,n,r.branch),i=E(a),null!=i&&(o=F(r,i,t)),null!=o?e.push(o):void 0},I=function(e,t,n){var r,i,o,a,s,u,l;l=[];for(r in n)s=n[r],l.push(function(){var n;n=[];for(a in s)u=s[a],a!==d&&n.push(function(){var n;n=[];for(o in u)i=u[o],a===h&&B(t,s,o,i),n.push(W(e,i,s));return n}());return n}());return l},Q=[],J=[],I(Q,J,i),n.xfSRT=te=crossfilter(Q),n.allSRT=w=te.groupAll(),n.allSRTRecords=Q.length,X.dimension(te),X.group(w),Y=te.dimension(function(e){return e.branch}),n.builderDimension=te.dimension(function(e){return e.builder}),K=te.dimension(function(e){return e.promotion}),n.srtDailyDimension=k=te.dimension(function(e){return e.date}),n.xfPTM=ee=crossfilter(J),n.allPTM=y=ee.groupAll(),n.allPTMRecords=J.length,H.dimension(ee),H.group(y),V=ee.dimension(function(e){return e.branch}),q=ee.dimension(function(e){return e.promotion}),n.ptmDailyDimension=D=ee.dimension(function(e){return e.date}),j=[l,c],n.promotionTypes=j,n.promotionTypes.splice(0,0,u),n.selectedPromotion=n.promotionTypes[0],n.filterPromotions=function(e){return e===u?(q.filterAll(),K.filterAll()):(q.filter(e),K.filter(function(t){return t===e||void 0===t})),dc.redrawAll()},a="All branches",n.branchDimension=ee.dimension(function(e){return e.branch}),n.branches=n.branchDimension.group().reduceCount().top(1/0),n.branches.splice(0,0,{key:a}),n.selectedBranch=n.branches[0],n.filterBranch=function(e){var t;return t=e.key,t===a?(V.filterAll(),Y.filterAll()):(V.filter(t),Y.filter(t)),dc.redrawAll()},n.ptmDailyDimensionGroup=n.ptmDailyDimension.group().reduce(function(e,t){return e.count+=1,e.sum+=t.time,e},function(e,t){return e.count-=1,e.sum-=t.time,e},function(){return{count:0,sum:0}}),C=function(e){var t;return t=e.value.count>0?e.value.sum/e.value.count/60:0},S=function(){return[k,D]},n.date_picker=r.makeFromToDatePicker(n,S,z,G=1),$=n.date_picker,n.preintToMRAvgPerDay=function(e){return e.valueAccessor(function(e){return C(e)}).group(n.ptmDailyDimensionGroup,"AVG Time in from preintegration to mergerequest (mins)").title(function(e){var t,n;return n=r.dateDisplayFormat(e.key),t=r.floatDisplayFormat(C(e)),n+": "+t}).on("preRender",function(e){return r.setDateXAxis(e,$.dateHandler.fromDate,$.dateHandler.toDate)}).on("renderlet",function(e){return r.setWWAxis(e)})},n.srtDailyDimensionGroup=n.srtDailyDimension.group().reduce(function(e,t){return e.count+=1,e.sum+=t.time,e},function(e,t){return e.count-=1,e.sum-=t.time,e},function(){return{count:0,sum:0}}),M=function(e){return r.floatDisplayFormat(e/60)},n.savedRebuildTimePerDay=function(e){return e.valueAccessor(function(e){return M(e.value.sum)}).group(n.srtDailyDimensionGroup,"Saved Rebuild Time (mins)").title(function(e){var t,n;return t=r.dateDisplayFormat(e.key),n=M(e.value.sum),t+": "+n}).on("preRender",function(e){return r.setDateXAxis(e,$.dateHandler.fromDate,$.dateHandler.toDate)}).on("renderlet",function(e){return r.setWWAxis(e)})},n.numberOfSavedRebuilds=function(e){return e.valueAccessor(function(e){return e.value.count}).group(n.srtDailyDimensionGroup,"Number of builds avoided").title(function(e){var t,n;return t=r.dateDisplayFormat(e.key),n=e.value.count,t+": "+n}).on("preRender",function(e){return r.setDateXAxis(e,$.dateHandler.fromDate,$.dateHandler.toDate)}).on("renderlet",function(e){return r.setWWAxis(e)})},n.cumulativeAvoided={},n.cumulativeAvoided.all=function(){var e,t;return e=0,t=[],n.srtDailyDimensionGroup.all().forEach(function(n,r){var i;return e+=n.value.sum,i={key:n.key,value:M(e)},t.push(i)}),t},n.cumulatedRebuildTimeSaved=function(e){return e.title(function(e){var t,n;return n=r.dateDisplayFormat(e.key),t=r.floatDisplayFormat(e.value),n+": "+t}).group(n.cumulativeAvoided,"Cumualted Saved Rebuild Time (mins)").on("preRender",function(e){return r.setDateXAxis(e,$.dateHandler.fromDate,$.dateHandler.toDate)}).on("renderlet",function(e){return r.setWWAxis(e)})},A=t.current.data.dbName,_=o.urls[A].buildbot_url,N=function(e,t){return t+"-"+e},n.tableGroup=function(e){return d3.time.format("%Y/%m/%d")(e.date)},n.tableSetup=function(e){return e.columns([function(e){return d3.time.format("%Y/%m/%d")(e.date)},function(e){return e.branch},function(e){return e.promotion},function(e){return r.displayBuildUrl(_,N(e.builds.preint.builder,e.branch),e.builds.preint.buildNumber)},function(e){return M(e.builds.preint.buildDuration)},function(e){return r.bbotResultLabels[e.builds.preint.buildResult]},function(e){return r.displayBuildUrl(_,N(e.builds.premerge.builder,e.branch),e.builds.premerge.buildNumber)},function(e){return M(e.builds.premerge.buildDuration)},function(e){return r.bbotResultLabels[e.builds.premerge.buildResult]},function(e){return M(e.time)}]).sortBy(function(e){var t;return t=e.date+e.branch}).order(d3.descending)},void(n.loading=!1))})}])}.call(this),function(){angular.module("app").controller("fast_revertController",["$state","$scope","metricsService","postCommitService","config","$timeout","$q","$http",function(e,t,n,r,i,o,a,s){var u,l,c,d,p,f,h;return t.loading=!0,t.ui_params={branches:[],nb_changes:[]},t.filter=function(e,t){return n.filter(e,t),dc.redrawAll()},l=e.current.data,t.metricsService=n,t.filter=function(e,t){return n.filter(e,t),dc.redrawAll()},u=e.current.data.dbName,c=void 0,p=void 0,d=0,t.resetAll=function(){return dc.filterAll(),dc.redrawAll()},h=[],f=a.all([n.jsv(l.api_url)]),f.then(function(e){var r,o,a,s,l,f,m,g,v,b;a=e[0],a.forEach(function(e,t){var r,i,o,a;try{a=angular.copy(e),a.time_in_ms=1e3*+a.startTime,a.date=new Date(a.time_in_ms),a.nB=+a.nB,r=a.builderName.split("-"),a.builder=r[1],a.branch=r[0],a.number=e.buildNumber,a.ww=n.getIntelWW(a.time_in_ms),p=null!=p?Math.min(a.time_in_ms,p):a.time_in_ms,c=null!=c?Math.max(a.time_in_ms,c):a.time_in_ms,d=Math.max(a.nB,d),h.push(a)}catch(o){i=o,console.log("got error: "+i),console.log(e)}}),g=function(){return dc.redrawAll(),dc.renderAll()},m=(c-p)/2592e6,b=crossfilter(h),v=n.setDefault,t.date_dimension=b.dimension(function(e){return e.date}),t.branch_dimension=b.dimension(function(e){return e.branch}),t.nb_changes_dimension=b.dimension(function(e){return e.nB}),s=n.formatDropdownData,t.drop_down_branches=s(t.ui_params.branches,t.branch_dimension),t.drop_down_nb_changes=s(t.ui_params.nb_changes,t.nb_changes_dimension),l=function(){return[t.date_dimension]},t.date_picker=n.makeFromToDatePicker(t,l,g,f=m),t.nber_change_dim_grp=t.nb_changes_dimension.group().reduceCount(),t.cum_nber_change_dim_grp={},o=n.computePercentage,t.cum_nber_change_dim_grp.all=function(){var e,n,r;return n=0,e=0,t.nber_change_dim_grp.all().forEach(function(t,n){return e+=t.value}),r=[],t.nber_change_dim_grp.all().forEach(function(t,i){var a;return console.log(t.value),n+=t.value,a={key:t.key,value:n,percentage:o(n,e)},r.push(a)}),r},t.cum_nber_change_setup=function(e){return e.valueAccessor(function(e){return e.percentage})},t.table_group=function(e){return"Work Week "+e.ww},r=function(e){var t,r;return r=i.urls[u].buildbot_url,t=[e.branch,e.builder].join("-"),n.displayBuildUrl(r,t,e.number)},t.table_post_format=function(e){return e.columns([function(e){return d3.time.format("%d/%m/%y")(e.date)},function(e){return e.branch},function(e){return r(e)},function(e){return e.nB}]).sortBy(function(e){return[e.branch,d3.format("04d")(e.nB),e.builder].join()}).order(d3.descending)},t.loading=!1})}])}.call(this),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};angular.module("app").controller("from_preint_to_premergeController",["$state","$scope","metricsService","postCommitService","config","$timeout","$q",function(t,n,r,i,o,a,s){var u,l,c;return n.loading=!0,n.ui_params={branches:[],owners:[]},l=t.current.data,n.metricsService=r,n.filter=function(e,t){return r.filter(e,t),dc.redrawAll()},n.resetAll=function(){return dc.filterAll(),dc.redrawAll()},u=t.current.data.dbName,c=s.all([r.jsv(l.api_url),r.getDefaultParams(l.api_url)]),c.then(function(t){var a,s,l,c,d,p,f,h,m,g,v,b,y,w,_,x,C,D,k,A,$,S,E,T,P,R,M,N,F,O,G,I,B,W,L,j,V;if(f=t[0],m=t[1],0!==f.length){$=function(e){return null!=e&&""!==e&&"None"!==e},b=function(e){var t,n,r,i;return r=e.split("-"),r.length>1?(t=r[0],n=r[1],i={branch:t,builder:n}):void 0},N={},B=r.setDefault,k=function(){var e;return e={preint:void 0,premerge_builds:[]}},S=function(e){return 0===e||1===e},f.forEach(function(e,t){var n,r,i,o,a,s,u;try{if(a=b(e.builderName),"preintegration"===a.builder){if(!S(+e.buildResult))return;n=e.builderName+"/"+e.buildNumber,u=B(N,n,k()),u.preint=e}else s=e.promotedFrom.split("/"),a=b(s[0]),o=s[1],n=a.branch+"-"+a.builder+"/"+o,u=B(N,n,k()),u.premerge_builds.push(e)}catch(i){r=i,console.log("got error: "+r),console.log(e)}}),V=[],p=function(e){var t,n,i;return t=b(e.builderName),n=e.date,i={builder:t.builder,branch:t.branch,number:e.buildNumber,date:r.parseCsvDate(e.date),week:r.getIntelWW(e.date),owner:e.buildSubmittersEmail,promoted_to:void 0}},d=function(e,t){var n,r,i;return null==t&&(t=void 0),n=p(e),null==t?n:(r=p(t),i={time:t.submitTime-e.finishTime,build:r},n.promoted_to=i,n)};for(T in N)if(L=N[T],null!=L.preint)if(0!==L.premerge_builds.length)for(G=L.premerge_builds,E=0,P=G.length;P>E;E++)F=G[E],V.push(d(L.preint,F));else V.push(d(L.preint));I=function(){return dc.redrawAll(),dc.renderAll()},j=crossfilter(V),n.date_dimension=h=j.dimension(function(e){return e.date}),n.branch_dimension=j.dimension(function(e){return e.branch}),n.owner_dimension=j.dimension(function(e){return e.owner}),n.weekly_dimension=j.dimension(function(e){return e.week}),_=function(){return[h]},n.date_picker=r.makeFromToDatePicker(n,_,I),g=n.date_picker,y=r.formatDropdownData,n.drop_down_branches=y(n.ui_params.branches,n.branch_dimension),n.drop_down_branches=y(n.ui_params.owners,n.owner_dimension),n.table_group=function(e){return"Work Week "+e.week},O=function(e){var t,n;return null!=e.promoted_to?(n=e.promoted_to.time,0===n?"AUTO_PROMOTE":(t=n/3600,t=r.floatDisplayFormat(t),t+" h")):"NOT_PROMOTED"},c=function(e){var t,n;return n=o.urls[u].buildbot_url,t=[e.branch,e.builder].join("-"),r.displayBuildUrl(n,t,e.number)},l=function(e){return null==e.promoted_to?"":c(e.promoted_to.build)},n.table_group=function(e){return"Work Week "+e.week},B=r.setDefault,x=function(e){return e.branch+"/"+e.number},C=function(e){return null!=e.promoted_to?x(e.promoted_to.build):"none"},W=[0,1,2,3,4,5],R=W.length-1,M=">"+R,s=function(t){var n,r,i;return i=function(){var e;e=[];for(T in t)L=t[T],e.push(T);return e}(),0===i.length?void 0:(r=function(){var e;e=[];for(T in t)L=t[T],null!=L.promoted_to&&e.push(T);return e}(),n=r.length,e.call(W,n)>=0?r.length:M)},A=function(e){return null!=e.promoted_to?0===e.promoted_to.time:!1},n.date_per_result_dim_grp=v=h.group().reduce(function(e,t){var n,r,i,o,a;return e.count++,A(t)?e.nber_auto_promote=e.nber_auto_promote+1:null!=t.promoted_to&&e.promotion_times.push(t.promoted_to.time),r=x(t),o=B(e.per_preint,r,{}),i=s(o),null!=i&&(a=e.per_promotion_nber[i],e.per_promotion_nber[i]=a-1),o[C(t)]=t,n=s(o),t=B(e.per_promotion_nber,n,0),e.per_promotion_nber[n]=t+1,e},function(e,t){var n,r,i,o,a,u;return e.count--,A(t)?e.nber_auto_promote=e.nber_auto_promote-1:null!=t.promoted_to&&(n=e.promotion_times.indexOf(t.promoted_to.time),e.promotion_times.splice(n,1)),i=x(t),a=e.per_preint[i],o=s(a),u=e.per_promotion_nber[o],e.per_promotion_nber[o]=u-1,delete a[C(t)],r=s(a),null!=r&&(t=B(e.per_promotion_nber,r,0),e.per_promotion_nber[r]=t+1),e},function(){return{count:0,per_preint:{},nber_auto_promote:0,promotion_times:[],per_promotion_nber:{}}}),D=function(e,t){return"NOT_PROMOTED"===t&&(t=0),f=e.value.per_promotion_nber,f[t]},n.number_of_submissions=function(e){var t,n;return n=W.concat([M]),n[0]="NOT_PROMOTED",t=i.createBarStacks(e,v,n,D),t.on("preRender",function(e){return r.setDateXAxis(e,g.dateHandler.fromDate,g.dateHandler.toDate)}).title(function(e){var t,n,i;t=r.dateDisplayFormat(e.key),i=t,n=e.value.per_promotion_nber;for(T in n)L=n[T],i+="\n\n"+T+":"+L;return i}).on("renderlet",function(e){return r.setWWAxis(e)})},w=function(e,t){return"AUTO_PROMOTE"===t?e.value.nber_auto_promote:e.value.count-e.value.nber_auto_promote},n.number_of_autopromote=function(e){var t,n;return n=["AUTO_PROMOTE","NO_AUTO_PROMOTE"],t=i.createBarStacks(e,v,n,w),t.on("preRender",function(e){return r.setDateXAxis(e,g.dateHandler.fromDate,g.dateHandler.toDate)}).title(function(e){var t,i,o,a;for(t=r.dateDisplayFormat(e.key),a=t,o=0,i=n.length;i>o;o++)T=n[o],L=w(e,T),a+="\n\n"+T+":"+L;return a}).on("renderlet",function(e){return r.setWWAxis(e)})},a=function(e){var t,n,i,o,a,s,u;for(u=0,t=e.value.promotion_times.length,a=e.value.promotion_times,o=0,i=a.length;i>o;o++)n=a[o],u+=n;return s=r.computeAvg(u,t),s/3600},n.line_execution_setup=function(e){return e.valueAccessor(a).renderArea(!0).interpolate("monotone").title(function(e){var t,n;return n=r.dateDisplayFormat(e.key),t=r.floatDisplayFormat(a(e)),n+": "+t}).on("preRender",function(e){return r.setDateXAxis(e,g.dateHandler.fromDate,g.dateHandler.toDate)}).on("renderlet",function(e){return r.setWWAxis(e)})},n.table_post_format=function(e){return e.columns([function(e){return d3.time.format("%d/%m/%y")(e.date)},function(e){return e.branch},function(e){return c(e)},function(e){return O(e)},function(e){return e.owner},function(e){return l(e)}]).sortBy(function(e){var t;return t=e.date+e.branch+e.owner}).order(d3.descending)},n.loading=!1}})}])}.call(this),function(){angular.module("app").controller("ftController",["$state","$scope","metricsService","config","$sce","glBreadcrumbService","glMenuService",function(e,t,n,r,i,o,a){var s,u,l,c,d,p;u=e.current.data,l=a.getGroups(),l=_.zipObject(_.map(l,function(e){return e.name}),l),p=e.current,s=[],(null!=(c=p.data)?c.group:void 0)&&s.push({caption:l[p.data.group].caption}),s.push({caption:(null!=(d=p.data)?d.caption:void 0)||_.humanize(p.name)}),s.push({caption:"Managed and maintained by "+u.ft_name}),o.setBreadcrumb(s),t.loading=!0,t.title=u.title,t.ft_name=u.ft_name,t.page_url=i.trustAsResourceUrl(r.urls.ft_pages_url+u.iframe_url)}])}.call(this),function(){angular.module("app").controller("ft_tel_tc_resultController",["$state","$scope","metricsService","config","$timeout",function(e,t,n,r,i){var o,a;return a=e.current.data,t.loading=!0,t.title=a.title,t.builder_name=a.builder_name,o=e.current.data.dbName,n.jsv(a.api_url).then(function(e){var r,o,s,u;return 0===e.length?void(t.nodata=!0):(t.loading=!1,t.csvUrl=a.api_url.replace("/jsv","/csv"),o=dc.dataCount(".null"),o._doRender=function(){return i(function(){return t.filter_count=o.dimension().size(),t.total_count=o.group().value()})},s=[],e.forEach(function(e,t){var r,i;try{e.Date=n.parseCsvDate(e.Date),e.Week=n.getIntelWW(e.Date),e.Build_number=+e.Build_number,e.Test_Case_tries=+e.Test_Case_tries,e.tc_execution_time=+e.tc_execution_time,s.push(e)}catch(i){return r=i,void console.log("Caught "+r+" "+e.Date)}}),t.xf=u=crossfilter(s),t.all=r=u.groupAll(),t.resetAll=function(){return dc.filterAll(),
dc.redrawAll()},t.all_records=e.length,t.all_filtered_records=e.length-s.length,o.dimension(u),o.group(r),t.branchDimension=u.dimension(function(e){return e.Branch}),t.builderTypeDimension=u.dimension(function(e){return e.Builder_type}),t.buildNumberDimension=u.dimension(function(e){return e.Build_number}),t.benchNameDimension=u.dimension(function(e){return e.Bench_name}),t.boardDimension=u.dimension(function(e){return e.Board}),t.deviceDimension=u.dimension(function(e){return e.Device}),t.campaignNameDimension=u.dimension(function(e){return e.Campaign_name}),t.testCaseNameDimension=u.dimension(function(e){return e.Test_Case_name}),t.resDimension=u.dimension(function(e){return e.Result}),t.resDimensionGroup=t.resDimension.group().reduceCount(),t.weekDimension=u.dimension(function(e){return e.Week}),t.weekDimensionGroup=t.weekDimension.group().reduce(function(e,t){return e[t.Result]+=1,e},function(e,t){return e[t.Result]-=1,e},function(){var e;return e={},n.testCaseValues.forEach(function(t){return e[t]=0}),e}),t.testCaseNameDimensionGroup=t.testCaseNameDimension.group().reduce(function(e,t){return e[t.Result]+=1,e.count+=1,e},function(e,t){return e[t.Result]-=1,e.count-=1,e},function(){var e;return e={},e.count=0,n.testCaseValues.forEach(function(t){return e[t]=0}),e}),t.resultPieChart=function(e){e.colors(n.ordinalTestCaseColors()).title(function(t){return n.pieTextDisplay(e,r,t)}).label(function(t){return n.pieTextDisplay(e,r,t)})},t.weekBarChart=function(e){return e.group(t.weekDimensionGroup,n.testCaseValues[0]).valueAccessor(function(e){return e.value[n.testCaseValues[0]]}).on("renderlet",function(e){return n.setWWAxis(e)}).title(function(e){var t;return t="Work Day:	"+e.key,n.testCaseValues.forEach(function(n,r){return t+="\n"+n+":	"+e.value[n]}),t}).colors(n.ordinalTestCaseColors()),n.testCaseValues.forEach(function(n,r){return 0!==r?e.stack(t.weekDimensionGroup,n,function(e){return e.value[n]}):void 0})},t.testCaseNameBarChart=function(e){return e.group(t.testCaseNameDimensionGroup,n.testCaseValues[0]).valueAccessor(function(e){return e.value[n.testCaseValues[0]]/e.value.count*100}).ordering(function(e){return-e.value.PASSED/e.value.count}).on("renderlet",function(e){return n.setVerticalAxis(e)}).title(function(e){var t;return t="Test Case:	"+e.key,n.testCaseValues.forEach(function(r,i){return t+="\n"+r+":	"+n.floatDisplayFormat(e.value[r]/e.value.count*100)+"%"}),t}).colors(n.ordinalTestCaseColors()),n.testCaseValues.forEach(function(n,r){return 0!==r?e.stack(t.testCaseNameDimensionGroup,n,function(e){return e.value[n]/e.value.count*100}):void 0})},t.tableGroup=function(e){return"Work Week "+e.Week},void(t.tablePostFormat=function(e){return e.columns([function(e){return d3.time.format("%d/%m/%y")(e.Date)},function(e){return e.Branch},function(e){return e.Builder_type},function(e){return e.Build_number},function(e){return e.Bench_name},function(e){return e.Board},function(e){return e.Device},function(e){return e.Campaign_name},function(e){return e.Test_Case_name},function(e){return e.Result},function(e){return e.tc_execution_time}]).order(d3.descending)}))})}])}.call(this),function(){angular.module("app").controller("gitProjectCategoryController",["$state","$scope","metricsService","config","$timeout",function(e,t,n,r,i){var o;return o=e.current.data,t.loading=!0,t.title=o.title,n.jsv(o.api_url).then(function(e){var r,a,s;return 0===e.length?void(t.nodata=!0):(t.loading=!1,t.csvUrl=o.api_url.replace("/jsv","/csv"),a=dc.dataCount(".null"),a._doRender=function(){return i(function(){return t.filter_count=a.dimension().size(),t.total_count=a.group().value()})},t.xf=s=crossfilter(e),t.all=r=s.groupAll(),t.resetAll=function(){return dc.filterAll(),dc.redrawAll()},t.all_records=e.length,t.all_filtered_records=e.length-e.length,a.dimension(s),a.group(r),t.categoryDimensionList=s.dimension(function(e){return e.category}),t.categoryDimension=s.dimension(function(e){return e.category}),t.categoryDimensionGroup=t.categoryDimension.group().reduceCount(),t.postActionCategoryPieChart=function(e){return e.data(function(e){return t.categoryDimensionGroup.all().filter(function(e){return e.value>0})}).label(function(t){return n.pieTextDisplay(e,r,t)}).title(function(t){return n.pieTextDisplay(e,r,t)})},t.tableGroup=function(e){return"Git Project Category "+e.category},void(t.tablePostFormat=function(e){return e.columns([function(e){return e.project_name},function(e){return e.category}])}))})}])}.call(this),function(){angular.module("app").controller("globalMetabuildsController",["$state","$scope","metricsService","config","$timeout",function(e,t,n,r,i){var o,a;return a=e.current.data,t.loading=!0,t.title=a.title,o=e.current.data.dbName,n.jsv(a.api_url).then(function(e){var s,u,l,c,d;return 0===e.length?void(t.nodata=!0):(t.loading=!1,t.csvUrl=a.api_url.replace(/\/jsv/,"/csv"),t.sqlUrl=a.api_url.replace(/\/jsv/,"/sql"),u=dc.dataCount(".null"),u._doRender=function(){return i(function(){return t.filter_count=u.dimension().size(),t.total_count=u.group().value()})},c=[],e.forEach(function(e,t){var r,i;if(null!=e.Date&&"None"!==e.Date&&"NULL"!==e.Date&&"None"!==e.BuildNumber)try{e.Date=n.parseCsvDate(e.Date),e.Result=n.resultValues[e.Result],c.push(e)}catch(i){return r=i,void console.log("catched "+r+" "+e.Date)}}),t.xf=d=crossfilter(c),t.all=s=d.groupAll(),t.resetAll=function(){return dc.filterAll(),dc.redrawAll()},t.all_records=e.length,t.all_filtered_records=e.length-c.length,u.dimension(d),u.group(s),t.dailyDimension=d.dimension(function(e){return e.Date}),t.dailyDimensionGroup=t.dailyDimension.group(d3.time.day).reduceCount(),t.min=t.dailyDimension.bottom(1)[0].Date,t.max=t.dailyDimension.top(1)[0].Date,t.builderTypeDimension=d.dimension(function(e){return e.builder_type}),t.branchDimension=d.dimension(function(e){return e.Branch}),t.resDimension=d.dimension(function(e){return e.Result}),t.resDimensionGroup=t.resDimension.group().reduceCount(),t.siteDimension=d.dimension(function(e){return e.Site}),t.siteDimensionGroup=t.siteDimension.group().reduceCount(),t.weeklyDimension=d.dimension(function(e){return n.getIntelWW(e.Date)}),t.weeklyDimensionGroup=t.weeklyDimension.group().reduce(function(e,t){return e[t.Result]+=1,e},function(e,t){return e[t.Result]-=1,e},function(){return n.resultValues.reduce(function(e,t,n){return e[t]=0,e},{})}),t.resultPieChart=function(e){e.colors(n.ordinalResultColors()).title(function(t){return n.pieTextDisplay(e,s,t)}).label(function(t){return n.pieTextDisplay(e,s,t)})},l=["#1F77B4","#FF7F0E","#2CA02C","#D62728","#9467BD"],t.sitePieChart=function(e){e.ordinalColors(l).title(function(t){return n.pieTextDisplay(e,s,t)}).label(function(t){return n.pieTextDisplay(e,s,t)})},t.resBarChart=function(e){return e.group(t.weeklyDimensionGroup,n.resultValues[0]).valueAccessor(function(e){return e.value[n.resultValues[0]]}).stack(t.weeklyDimensionGroup,n.resultValues[1],function(e){return e.value[n.resultValues[1]]}).stack(t.weeklyDimensionGroup,n.resultValues[2],function(e){return e.value[n.resultValues[2]]}).stack(t.weeklyDimensionGroup,n.resultValues[3],function(e){return e.value[n.resultValues[3]]}).stack(t.weeklyDimensionGroup,n.resultValues[4],function(e){return e.value[n.resultValues[4]]}).on("renderlet",function(e){return n.setWWAxis(e)}).title(function(e){return"Work Week:	"+e.key+"\n\nSucces:		"+e.value[n.resultValues[0]]+"\nWarning:	"+e.value[n.resultValues[1]]+"\nError:		"+e.value[n.resultValues[2]]+"\nSkipped:		"+e.value[n.resultValues[3]]+"\nInterrupted:	"+e.value[n.resultValues[4]]}).colors(n.ordinalResultColors())},t.tableGroup=function(e){return"Work Week "+n.getIntelWW(e.Date)},void(t.tablePostFormat=function(e){return e.columns([function(e){return n.displayBuildUrl(r.urls[o].buildbot_url,e.builderName,e.BuildNumber)},function(e){return d3.time.format("%d/%m/%y")(e.Date)},function(e){return e.Branch},function(e){return e.Result}]).order(d3.descending)}))})}])}.call(this),function(){angular.module("app").controller("history_sessionsController",["$state","$scope","metricsService","config","$timeout","$location",function(e,t,n,r,i,o){var a,s;return s=e.current.data,t.loading=!0,a=e.current.data.dbName,t.pageRoot=o.path().split("/")[1],n.jsv(s.api_url).then(function(e){var r,o,a,u;return 0===e.length?void(t.nodata=!0):(t.loading=!1,t.csvUrl=s.api_url.replace(/\/jsv/,"/csv"),t.sqlUrl=s.api_url.replace(/\/jsv/,"/sql"),o=dc.dataCount(".null"),o._doRender=function(){return i(function(){return t.filter_count=o.dimension().size(),t.total_count=o.group().value()})},a=[],e.forEach(function(e,t){var n,r;try{e.session_id=+e.session_id,e.campaign_id=+e.campaign_id,e.log_url="http://cti-prod.sh.intel.com:8088/job/testflow/"+e.task_number+"/console","None"===e.device_id?e.device_id=e.device_name:e.device_id,a.push(e)}catch(r){return n=r,void console.log("catched "+n)}}),t.xf=u=crossfilter(a),t.all=r=u.groupAll(),t.all_records=e.length,t.all_filtered_records=e.length-a.length,o.dimension(u),o.group(r),t.DevicemodelDimension=u.dimension(function(e){return e.device_model}),t.projectDimension=u.dimension(function(e){return e.project_name}),t.DeviceidDimension=u.dimension(function(e){return e.device_id}),t.StateDimension=u.dimension(function(e){return e.state}),t.workWeekDimension=u.dimension(function(e){return n.getIntelWW(e.submit_time)}),t.patchDimension=u.dimension(function(e){return e.id}),t.tableGroup=function(e){return"Work Week "+n.getIntelWW(e.submit_time)},void(t.tablePostFormat=function(e){return e.columns([function(e){return e.session_id},function(e){return e.project_name},function(e){return e.user_idsid},function(e){return e.submit_time},function(e){return e.campaign_name},function(e){return e.device_model},function(e){return"None"===e.device_id?"-":e.device_id},function(e){return"None"===e.time_in_queue?"-":e.time_in_queue},function(e){return e.state},function(e){return e.tcr_url?'<a href="'+e.tcr_url+'" target=_blank>VIEW</a>':"-"},function(e){return'<a href="'+e.log_url+'" target=_blank>VIEW</a>'},function(e){return"None"===e.time_duration?"-":e.time_duration}]).sortBy(function(e){var t;return t=+e.session_id}).order(d3.descending)}))})}])}.call(this),function(){angular.module("app").controller("inactive_device_monitorController",["$state","$scope","metricsService","config","$timeout","$location","glTopbarContextualActionsService",function(e,t,n,r,i,o,a){var s,u;return u=e.current.data,t.loading=!0,s=e.current.data.dbName,t.months=3,t.pageRoot=o.path().split("/")[1],e.params&&e.params.months&&(u.api_url+="?months="+e.params.months,t.months=e.params.months),n.jsv(u.api_url).then(function(e){var r,o,a,s,l;return 0===e.length?void(t.nodata=!0):(t.loading=!1,t.csvUrl=u.api_url.replace(/\/jsv/,"/csv"),t.sqlUrl=u.api_url.replace(/\/jsv/,"/sql"),o=dc.dataCount(".null"),o._doRender=function(){return i(function(){return t.filter_count=o.dimension().size(),t.total_count=o.group().value()})},s=[],e.forEach(function(e,t){var r,i;try{e.date=n.parseCsvDate(e.date),s.push(e)}catch(i){return r=i,void console.log("catched "+r)}}),a=function(){return dc.redrawAll(),dc.renderAll()},t.xf=l=crossfilter(s),t.all=r=l.groupAll(),t.all_records=e.length,t.all_filtered_records=e.length-s.length,o.dimension(l),o.group(r),t.projectDimension=l.dimension(function(e){return e.project_name}),t.patchDimension=l.dimension(function(e){return e.id}),t.tableGroup=function(e){return"Project:"+e.project_name},void(t.tablePostFormat=function(e){return e.columns([function(e){return e.id},function(e){return e.value},function(e){return e.location},function(e){return e.serialNumber}]).sortBy(function(e){return+e.id}).order(d3.descending)}))})}])}.call(this),function(){angular.module("app").controller("inactive_dms_monitorController",["$state","$scope","metricsService","config","$timeout","$location","glTopbarContextualActionsService",function(e,t,n,r,i,o,a){var s,u;return u=e.current.data,t.loading=!0,s=e.current.data.dbName,t.months=3,t.pageRoot=o.path().split("/")[1],e.params&&e.params.months&&(u.api_url+="?months="+e.params.months,t.months=e.params.months),n.jsv(u.api_url).then(function(e){var r,o,a,s;return 0===e.length?void(t.nodata=!0):(t.loading=!1,t.csvUrl=u.api_url.replace(/\/jsv/,"/csv"),t.sqlUrl=u.api_url.replace(/\/jsv/,"/sql"),o=dc.dataCount(".null"),o._doRender=function(){return i(function(){return t.filter_count=o.dimension().size(),t.total_count=o.group().value()})},a=[],e.forEach(function(e,t){var r,i;try{e.date=n.parseCsvDate(e.date),a.push(e)}catch(i){return r=i,void console.log("catched "+r)}}),t.xf=s=crossfilter(a),t.all=r=s.groupAll(),t.all_records=e.length,t.all_filtered_records=e.length-a.length,o.dimension(s),o.group(r),t.projectDimension=s.dimension(function(e){return e.project_name}),t.nameDimension=s.dimension(function(e){return e.name}),t.patchDimension=s.dimension(function(e){return e.id}),t.tableGroup=function(e){return"Project:"+e.project_name},void(t.tablePostFormat=function(e){return e.columns([function(e){return e.id},function(e){return e.publicIPAddress},function(e){return e.location}]).sortBy(function(e){var t;return t=+e.id}).order(d3.descending)}))})}])}.call(this),function(){angular.module("app").controller("kernel_DetailController",["$state","$scope","metricsService","config","$timeout","$location",function(e,t,n,r,i,o){var a,s;return s=e.current.data,t.loading=!0,a=e.current.data.dbName,t.pageRoot=o.path().split("/")[1],e.params&&e.params.topic&&(s.api_url+="?topic="+e.params.topic,t.topic=e.params.topic),n.jsv(s.api_url).then(function(e){var o,u,l,c,d;return 0===e.length?void(t.nodata=!0):(t.loading=!1,t.csvUrl=s.api_url.replace(/\/jsv/,"/csv"),t.sqlUrl=s.api_url.replace(/\/jsv/,"/sql"),l=dc.dataCount(".null"),l._doRender=function(){return i(function(){return t.filter_count=l.dimension().size(),t.total_count=l.group().value()})},c=[],e.forEach(function(e,t){var r,i;try{e.Duration=+e.Duration,e.Result=n.resultValues[e.Result],c.push(e)}catch(i){return r=i,void console.log("catched "+r+" "+e.Result+e.BuildNumber)}}),t.xf=d=crossfilter(c),t.all=o=d.groupAll(),t.resetAll=function(){return dc.filterAll(),dc.redrawAll()},t.all_records=e.length,t.all_filtered_records=e.length-c.length,l.dimension(d),l.group(o),t.patchDimension=d.dimension(function(e){return e.ChangeID}),t.patchDimensionGroup=t.patchDimension.group().reduce(function(e,t){return e.count++,e[t.Result]++,e},function(e,t){return e.count--,e[t.Result]--,e},function(){var e;return e={},e.count=0,t.resultDimensionGroup.orderNatural().all().forEach(function(t){return e[t.key]=0}),e}),t.patchDurationDimension=d.dimension(function(e){return e.ChangeID}),t.patchDurationDimensionGroup=t.patchDurationDimension.group().reduce(function(e,t){return e.count++,e.duration+=t.Duration,e},function(e,t){return e.count--,e.duration-=t.Duration,e},function(){var e;return e={},e.count=0,e.duration=0,e}),t.patchNumberDimension=d.dimension(function(e){return e.ChangeID}),t.patchNumberDimensionGroup=t.patchNumberDimension.group().reduceCount(),t.resultDimension=d.dimension(function(e){return e.Result}),t.resultDimensionGroup=t.resultDimension.group().reduceCount(),t.builderNameDimension=d.dimension(function(e){return e.BuilderName}),t.builderNameDimensionGroup=t.builderNameDimension.group(),t.gitProjectDimension=d.dimension(function(e){return e.GitProject}),t.branchNameDimension=d.dimension(function(e){return e.BranchName}),t.wwDimension=d.dimension(function(e){return n.getIntelWW(e.SubmitTime)}),t.topicDimension=d.dimension(function(e){return e.Topic}),t.resultPieChart=function(e){e.colors(n.ordinalResultColors()).title(function(t){return n.pieTextDisplay(e,o,t)}).label(function(t){return n.pieValueDisplay(e,o,t)})},u=["#1F77B4","#FF7F0E","#2CA02C","#D62728","#9467BD","#949599","#ffe404","#A2B5A1","#EBD4B4","#8c564b","#FCD4DC","#58585A"],t.builderNamePieChart=function(e){e.ordinalColors(u).slicesCap(8).title(function(t){return n.pieTextDisplay(e,o,t)}).label(function(t){return n.pieValueDisplay(e,o,t)})},t.patchRatioBarChart=function(e){return e.group(t.patchDimensionGroup,n.resultValues[0]).valueAccessor(function(e){return e.value[n.resultValues[0]]/e.value.count*100}).stack(t.patchDimensionGroup,n.resultValues[1],function(e){return e.value[n.resultValues[1]]/e.value.count*100}).stack(t.patchDimensionGroup,n.resultValues[2],function(e){return e.value[n.resultValues[2]]/e.value.count*100}).stack(t.patchDimensionGroup,n.resultValues[3],function(e){return e.value[n.resultValues[3]]/e.value.count*100}).stack(t.patchDimensionGroup,n.resultValues[4],function(e){return e.value[n.resultValues[4]]/e.value.count*100}).on("renderlet",function(e){return e.selectAll("g.x g").each(function(e){return d3.select(this).select("text").remove(),d3.select(this).append("text").text(e)}),e.selectAll("g.axis text").style("pointer-events","all"),n.setOrdonalAxis(e)}).title(function(e){return"ChangeID:	"+e.key+"\n\nSuccess:		"+e.value[n.resultValues[0]]+n.percentageDisplayFormat(e.value[n.resultValues[0]]/e.value.count)+"\nWarning:	"+e.value[n.resultValues[1]]+n.percentageDisplayFormat(e.value[n.resultValues[1]]/e.value.count)+"\nError:		"+e.value[n.resultValues[2]]+n.percentageDisplayFormat(e.value[n.resultValues[2]]/e.value.count)+"\nSkipped:		"+e.value[n.resultValues[3]]+n.percentageDisplayFormat(e.value[n.resultValues[3]]/e.value.count)+"\nInterrupted:	"+e.value[n.resultValues[4]]+n.percentageDisplayFormat(e.value[n.resultValues[4]]/e.value.count)}).colors(n.ordinalResultColors())},t.patchDurationBarChart=function(e){return e.valueAccessor(function(e){return e.value.duration/3600}).group(t.patchDurationDimensionGroup,"Overall build duration (Hours)").on("renderlet",function(e){return e.selectAll("g.x g").each(function(e){return d3.select(this).select("text").remove(),d3.select(this).append("text").text(e)}),e.selectAll("g.axis text").style("pointer-events","all"),n.setOrdonalAxis(e)}).title(function(e){return"ChangeID:		"+e.key+"\n\nOverall build duration:	"+n.intDisplayFormat(e.value.duration/3600)+" Hours\n# occurrences:		"+e.value.count+"\nDuration Average:		"+n.floatDisplayFormat(e.value.duration/e.value.count/60)+" mins"})},t.patchNumberBarChart=function(e){return e.group(t.patchNumberDimensionGroup,"# Build Number per Patch").valueAccessor(function(e){return e.value}).on("renderlet",function(e){return e.selectAll("g.x g").each(function(e){return d3.select(this).select("text").remove(),d3.select(this).append("text").text(e)}),e.selectAll("g.axis text").style("pointer-events","all"),n.setOrdonalAxis(e)}).title(function(e){return"ChangeID:	"+e.key+"\n\nOccurrences:	"+e.value})},t.tableGroup=function(e){return'<a href="'+r.urls.gerrit_url+e.ChangeID+'" target=_blank>'+e.ChangeID+"</a>"},void(t.tablePostFormat=function(e){return e.columns([function(e){return e.BranchName},function(e){return e.GitProject},function(e){return e.BuilderName},function(e){return n.displayBuildUrl(r.urls[a].buildbot_url,e.BuilderName,e.BuildNumber)},function(e){return e.Result},function(e){return e.SubmitTime},function(e){return e.StartTime},function(e){return e.FinishTime},function(e){return e.Duration}]).sortBy(function(e){return e.SubmitTime}).order(d3.descending)}))})}])}.call(this),function(){angular.module("app").controller("kernel_GeneralController",["$state","$scope","metricsService","config","$timeout","$location",function(e,t,n,r,i,o){var a,s;return s=e.current.data,t.loading=!0,a=e.current.data.dbName,t.pageRoot=o.path().split("/")[1],n.jsv(s.api_url).then(function(e){var o,a,u,l,c;return 0===e.length?void(t.nodata=!0):(t.loading=!1,t.csvUrl=s.api_url.replace(/\/jsv/,"/csv"),t.sqlUrl=s.api_url.replace(/\/jsv/,"/sql"),a=dc.dataCount(".null"),a._doRender=function(){return i(function(){return t.filter_count=a.dimension().size(),t.total_count=a.group().value()})},l=[],e.forEach(function(e,t){var r,i,o;try{e.Duration=+e.AllBuild_Duration,e.Result=n.resultValues[e.Result],o=e.AllBuild_Name_Result.split(";"),o.forEach(function(t,n){return-1!==o[n].search("mergebri")&&(o[n].indexOf("mergebri_0")>-1||o[n].indexOf("mergebridge_0")>-1||o[n].indexOf("mergebri_1")>-1||o[n].indexOf("mergebridge_1")>-1?e.MB="Success":e.MB="Fail"),-1!==o[n].search("preintegration")&&(o[n].indexOf("preintegration_0")>-1||o[n].indexOf("preintegration_1")>-1?e.PI="Success":e.PI="Fail"),-1!==o[n].search("premerge")&&(o[n].indexOf("premerge_0")>-1||o[n].indexOf("premerge_1")>-1?e.PM="Success":e.PM="Fail"),-1!==o[n].search("mergerequest")&&(o[n].indexOf("mergerequest_0")>-1||o[n].indexOf("mergerequest_1")>-1?e.MR="Success":e.MR="Fail"),-1!==o[n].search("release")?o[n].indexOf("release_0")>-1||o[n].indexOf("release_1")>-1?e.RE="Success":e.RE="Fail":void 0}),l.push(e)}catch(i){return r=i,void console.log("catched "+r+" "+e.Result+e.LastBuild_BuilderName)}}),t.xf=c=crossfilter(l),t.all=o=c.groupAll(),t.all_records=e.length,t.all_filtered_records=e.length-l.length,a.dimension(c),a.group(o),t.patchDimension=c.dimension(function(e){return e.ChangeID}),t.patchDimensionGroup=t.patchDimension.group().reduce(function(e,t){return e.count++,e[t.Result]++,e},function(e,t){return e.count--,e[t.Result]--,e},function(){var e;return e={},e.count=0,t.resultDimensionGroup.orderNatural().all().forEach(function(t){return e[t.key]=0}),e}),t.patchDurationDimension=c.dimension(function(e){return e.ChangeID}),t.patchDurationDimensionGroup=t.patchDurationDimension.group().reduce(function(e,t){return e.duration+=t.AllBuild_Duration,e.count+=t.AllBuild_Count,e},function(e,t){return e.duration-=t.AllBuild_Duration,e.count-=t.AllBuild_Count,e},function(){var e;return e={},e.count=0,e.duration=0,e}),t.buildCountDimension=c.dimension(function(e){return e.TopicWeek+" "+e.Topic}),t.buildCountDimensionGroup=t.buildCountDimension.group().reduce(function(e,t){return++e.count,e.sumMBDuration+=+t.MB_Duration,e.sumPIWaiting+=+t.PI_Waiting,e.sumPIDuration+=+t.PI_Duration,e.sumPMWaiting+=+t.PM_Waiting,e.sumPMDuration+=+t.PM_Duration,e.sumMRWaiting+=+t.MR_Waiting,e.sumMRDuration+=+t.MR_Duration,e.sumReleaseWaiting+=+t.Release_Waiting,e.sumReleaseDuration+=+t.Release_Duration,e},function(e,t){return--e.count,e.sumMBDuration-=+t.MB_Duration,e.sumPIWaiting-=+t.PI_Waiting,e.sumPIDuration-=+t.PI_Duration,e.sumPMWaiting-=+t.PM_Waiting,e.sumPMDuration-=+t.PM_Duration,e.sumMRWaiting-=+t.MR_Waiting,e.sumMRDuration-=+t.MR_Duration,e.sumReleaseWaiting-=+t.Release_Waiting,e.sumReleaseDuration-=+t.Release_Duration,e},function(){var e;return e={},e.count=0,e.sumMBDuration=0,e.sumPIWaiting=0,e.sumPIDuration=0,e.sumPMWaiting=0,e.sumPMDuration=0,e.sumMRWaiting=0,e.sumMRDuration=0,e.sumReleaseWaiting=0,e.sumReleaseDuration=0,e}),t.patchNumberDimension=c.dimension(function(e){return e.ChangeID}),t.patchNumberDimensionGroup=t.patchNumberDimension.group().reduceCount(),t.resultDimension=c.dimension(function(e){return e.Result}),t.resultDimensionGroup=t.resultDimension.group().reduceCount(),t.gitProjectDimension=c.dimension(function(e){return e.GitProject}),t.branchNameDimension=c.dimension(function(e){return e.BranchName}),t.workWeekDimension=c.dimension(function(e){return n.getIntelWW(e.FirstBuild_SubmitTime)}),u=["#1F77B4","#808080","#2CA02C","#D62728","#9467BD","#FF7F0E","#ffe404","#A2B5A1","#EBD4B4","#8c564b","#FCD4DC","#58585A"],t.topicDurationBarChart=function(e){return e.ordinalColors(u).group(t.buildCountDimensionGroup,"avgMBDuration").valueAccessor(function(e){return n.floatDisplayFormat(e.value.sumMBDuration/e.value.count)}).stack(t.buildCountDimensionGroup,"avgSubmitDuration",function(e){return n.floatDisplayFormat(e.value.sumPIWaiting/e.value.count)}).stack(t.buildCountDimensionGroup,"avgPIDuration",function(e){return n.floatDisplayFormat(e.value.sumPIDuration/e.value.count)}).stack(t.buildCountDimensionGroup,"avgSubmitDuration",function(e){return n.floatDisplayFormat(e.value.sumPMWaiting/e.value.count)}).stack(t.buildCountDimensionGroup,"avgPMDuration",function(e){return n.floatDisplayFormat(e.value.sumPMDuration/e.value.count)}).stack(t.buildCountDimensionGroup,"avgSubmitDuration",function(e){return n.floatDisplayFormat(e.value.sumMRWaiting/e.value.count)}).stack(t.buildCountDimensionGroup,"avgMRDuration",function(e){return n.floatDisplayFormat(e.value.sumMRDuration/e.value.count)}).on("renderlet",function(e){return n.setOrdonalAxis(e)}).title(function(e){return"Topic:		"+e.key+"\nNbr:		"+e.value.count+"\n\nMBDuration:	"+n.hours2DateDisplayFormat(e.value.sumMBDuration/e.value.count)+"\nSubmitDuration:		"+n.hours2DateDisplayFormat(e.value.sumPIWaiting/e.value.count)+"\nPIDuration:		"+n.hours2DateDisplayFormat(e.value.sumPIDuration/e.value.count)+"\nSubmitDuration:		"+n.hours2DateDisplayFormat(e.value.sumPMWaiting/e.value.count)+"\nPMDuration:		"+n.hours2DateDisplayFormat(e.value.sumPMDuration/e.value.count)+"\nSubmitDuration:		"+n.hours2DateDisplayFormat(e.value.sumMRWaiting/e.value.count)+"\nMRDuration:		"+n.hours2DateDisplayFormat(e.value.sumMRDuration/e.value.count)})},t.tableGroup=function(e){return e.TopicWeek+' <a href="#/'+t.pageRoot+"/kernel_Detail?topic="+e.Topic+'" target=_blank>'+e.Topic+"</a>"},void(t.tablePostFormat=function(e){return e.columns([function(e){return'<a href="'+r.urls.gerrit_url+e.ChangeID+'" target=_blank>'+e.ChangeID+"</a>"},function(e){return e.Cactus_BranchName},function(e){return e.FirstBuild_SubmitTime},function(e){return e.LastBuild_FinishTime},function(e){return e.AllBuild_Duration},function(e){return"Fail"===e.MB?"<span style='color:red'>"+e.MB_Duration+"</span>":"<span>"+e.MB_Duration+"</span>"},function(e){return e.PI_Waiting},function(e){return"Fail"===e.PI?"<span style='color:red'>"+e.PI_Duration+"</span>":"<span>"+e.PI_Duration+"</span>"},function(e){return e.PM_Waiting},function(e){return"Fail"===e.PM?"<span style='color:red'>"+e.PM_Duration+"</span>":"<span>"+e.PM_Duration+"</span>"},function(e){return e.MR_Waiting},function(e){return"Fail"===e.MR?"<span style='color:red'>"+e.MR_Duration+"</span>":"<span>"+e.MR_Duration+"</span>"},function(e){return e.Release_Waiting},function(e){return"Fail"===e.RE?"<span style='color:red'>"+e.Release_Duration+"</span>":"<span>"+e.Release_Duration+"</span>"},function(e){return'<a href="'+r.urls.jira_bug_url+e.JiraID+'" target=_blank>'+e.JiraID+"</a>"},function(e){return e.JiraCount}]).order(d3.descending)}))})}])}.call(this),function(){angular.module("app").controller("mc_campaignsController",["$state","$scope","metricsService","config","$timeout",function(e,t,n,r,i){var o,a;return a=e.current.data,t.loading=!0,t.title=a.title,t.builder_name=a.builder_name,o=e.current.data.dbName,n.jsv(a.api_url).then(function(e){var s,u,l,c,d;return 0===e.length?void(t.nodata=!0):(t.loading=!1,t.csvUrl=a.api_url.replace("/jsv","/csv"),u=dc.dataCount(".null"),u._doRender=function(){return i(function(){return t.filter_count=u.dimension().size(),t.total_count=u.group().value()})},c=[],e.forEach(function(e,t){var r,i;if(null!=e.Date&&"NULL"!==e.Date&&"None"!==e.BuildDuration&&"None"!==e.BuildPending)try{e.Date=n.parseCsvDate(e.Date),e.Week=n.getIntelWW(e.Date),e.Day=n.dateDisplayFormat(e.Date),e.BuildDuration=+e.BuildDuration,e.BuildPending=+e.BuildPending,e.Result=n.resultValues[e.Result],e.BuilderBuildNumber=+e.BuilderBuildNumber,c.push(e)}catch(i){return r=i,void console.log("Caught "+r+" "+e.Date)}}),t.xf=d=crossfilter(c),t.all=s=d.groupAll(),t.filter=function(e,t){return n.filter(e,t),dc.redrawAll()},t.resetAll=function(){return n.resetFilter(t.uiParams.branches,t.branchDimension),n.resetFilter(t.uiParams.builders,t.builderDimension),n.resetFilter(t.uiParams.boardProducts,t.boardproductDimension),n.resetFilter(t.uiParams.campaigns,t.campaignDimension),n.resetFilter(t.uiParams.testslaves,t.testslaveDimension),dc.filterAll(),dc.redrawAll()},t.all_records=e.length,t.all_filtered_records=e.length-c.length,u.dimension(d),u.group(s),t.uiParams={branches:[],builders:[],boardProducts:[],campaigns:[],testslaves:[]},t.branchDimension=d.dimension(function(e){return e.Builder}),t.dropDownBranches=n.formatDropdownData(t.uiParams.branches,t.branchDimension),t.builderDimension=d.dimension(function(e){return e.BuilderType}),t.dropDownBuilders=n.formatDropdownData(t.uiParams.builders,t.builderDimension),t.boardproductDimension=d.dimension(function(e){return e.BoardProduct}),t.dropDownBoardProducts=n.formatDropdownData(t.uiParams.boardProducts,t.boardproductDimension),t.campaignDimension=d.dimension(function(e){return e.TestCampaign}),t.dropDownCampaigns=n.formatDropdownData(t.uiParams.campaigns,t.campaignDimension),t.testslaveDimension=d.dimension(function(e){return e.SlaveName}),t.dropDownTestSlaves=n.formatDropdownData(t.uiParams.testslaves,t.testslaveDimension),t.resDimension=d.dimension(function(e){return e.Result}),t.resDimensionGroup=t.resDimension.group().reduceCount(),t.siteDimension=d.dimension(function(e){return e.Site}),t.siteDimensionGroup=t.siteDimension.group().reduceCount(),t.dateDimension=d.dimension(function(e){return e.Date}),t.dateDimensionGroup=t.dateDimension.group(d3.time.day).reduceCount(),t.dailyDimension=d.dimension(function(e){return e.Day}),t.dailyDimensionGroup=t.dailyDimension.group().reduce(function(e,t){return e[t.Result]+=1,e},function(e,t){return e[t.Result]-=1,e},function(){return n.resultValues.reduce(function(e,t,n){return e[t]=0,e},{})}),t.weeklyDimension=d.dimension(function(e){return e.Week}),t.weeklyDimensionGroup=t.weeklyDimension.group().reduce(function(e,t){return e[t.Result]+=1,e},function(e,t){return e[t.Result]-=1,e},function(){return n.resultValues.reduce(function(e,t,n){return e[t]=0,e},{})}),l=reductio(),l.count(!0),l.value("pending").max(function(e){return e.BuildPending/60}).count(!0).avg(function(e){return e.BuildPending/60}),l.value("duration").max(function(e){return e.BuildDuration/60}).count(!0).avg(function(e){return e.BuildDuration/60}),t.durationDimensionGroup=l(t.dailyDimension.group()),t.resultPieChart=function(e){e.colors(n.ordinalTestCaseColors()).title(function(t){return n.pieTextDisplay(e,s,t)}).label(function(t){return n.pieTextDisplay(e,s,t)})},t.sitePieChart=function(e){e.ordinalColors(n.siteColors).title(function(t){return n.pieTextDisplay(e,s,t)}).label(function(t){return n.pieTextDisplay(e,s,t)})},t.durationLineChart=function(e){return e.valueAccessor(function(e){return e.value.pending.count>0?e.value.pending.avg:0}).group(t.durationDimensionGroup,"AVG Time in Pending Queue (mins)").stack(t.durationDimensionGroup,"AVG Time of Execution (mins)",function(e){return e.value.duration.count>0?e.value.duration.avg:0}).on("renderlet",function(e){return n.setWWAxis(e)}).title(function(e){return e.value.count>0?"Date:		"+e.key+"\nOccurences		:"+e.value.count+"\n\nPending Time (mins):\nAvg:	"+n.floatDisplayFormat(e.value.pending.avg)+"\nMax:	"+n.floatDisplayFormat(e.value.pending.max)+"\n\nBuild Duration (mins):\nAvg:	"+n.floatDisplayFormat(e.value.duration.avg)+"\nMax:	"+n.floatDisplayFormat(e.value.duration.max):"Date:		"+e.key})},t.resdayBarChart=function(e){return e.group(t.dailyDimensionGroup,"Success").valueAccessor(function(e){return e.value[n.resultValues[0]]}).stack(t.dailyDimensionGroup,"Warning",function(e){return e.value[n.resultValues[1]]}).stack(t.dailyDimensionGroup,"Error",function(e){return e.value[n.resultValues[2]]}).stack(t.dailyDimensionGroup,"Skipped",function(e){return e.value[n.resultValues[3]]}).stack(t.dailyDimensionGroup,"Interrupted",function(e){return e.value[n.resultValues[4]]}).on("renderlet",function(e){return n.setWWAxis(e)}).title(function(e){return"Date:	"+e.key+"\n\nSuccess:		"+e.value[n.resultValues[0]]+"\nWarning:	"+e.value[n.resultValues[1]]+"\nError:		"+e.value[n.resultValues[2]]+"\nSkipped:		"+e.value[n.resultValues[3]]+"\nInterrupted:	"+e.value[n.resultValues[4]]}).colors(n.ordinalResultColors())},t.resweekBarChart=function(e){return e.group(t.weeklyDimensionGroup,"Success").valueAccessor(function(e){return e.value[n.resultValues[0]]}).stack(t.weeklyDimensionGroup,"Warning",function(e){return e.value[n.resultValues[1]]}).stack(t.weeklyDimensionGroup,"Error",function(e){return e.value[n.resultValues[2]]}).stack(t.weeklyDimensionGroup,"Skipped",function(e){
return e.value[n.resultValues[3]]}).stack(t.weeklyDimensionGroup,"Interrupted",function(e){return e.value[n.resultValues[4]]}).on("renderlet",function(e){return n.setWWAxis(e)}).title(function(e){return"Date:	"+e.key+"\n\nSuccess:		"+e.value[n.resultValues[0]]+"\nWarning:	"+e.value[n.resultValues[1]]+"\nError:		"+e.value[n.resultValues[2]]+"\nSkipped:		"+e.value[n.resultValues[3]]+"\nInterrupted:	"+e.value[n.resultValues[4]]}).colors(n.ordinalResultColors())},t.tableGroup=function(e){return"Work Week "+e.Week},void(t.tablePostFormat=function(e){return e.columns([function(e){return d3.time.format("%d/%m/%y")(e.Date)},function(e){return e.Builder},function(e){return e.BuilderType},function(e){return n.displayBuildUrl(r.urls[o].buildbot_url,"test_campaign",e.BuilderBuildNumber)},function(e){return e.Result},function(e){return"None"===e.BuildDuration?"-":n.floatDisplayFormat(e.BuildDuration/60)},function(e){return"None"===e.BuildPending?"-":n.floatDisplayFormat(e.BuildPending/60)},function(e){return e.SlaveName},function(e){return e.BoardProduct},function(e){return e.TestCampaign},function(e){var t,n,r,i;if("None"===e.TestCaseNames)return"INFRA_ISSUE";if("None"!==e.bugs){for(i=[],t=n=0,r=e.bugs.split(",").length-1;r>=0?r>=n:n>=r;t=r>=0?++n:--n)i.push('<a href="https://jira01.devtools.intel.com/browse/'+e.bugs.split(",")[t]+'" target=_blank>'+e.bugs.split(",")[t]+"</a>");return i}return"1 - Warning"===e.Result||"2 - Fail"===e.Result?"NOT_ANALYSED":"-"}]).ordering(function(e){return e.BuilderBuildNumber}).order(d3.descending)}))})}])}.call(this),function(){angular.module("app").controller("mc_tc_and_campaignController",["$state","$scope","metricsService","config","$timeout",function(e,t,n,r,i){var o,a;return a=e.current.data,t.loading=!0,t.title=a.title,t.builder_name=a.builder_name,o=e.current.data.dbName,n.jsv(a.api_url).then(function(e){var s,u,l,c,d;return 0===e.length?void(t.nodata=!0):(t.loading=!1,t.csvUrl=a.api_url.replace("/jsv","/csv"),u=dc.dataCount(".null"),u._doRender=function(){return i(function(){return t.filter_count=u.dimension().size(),t.total_count=u.group().value()})},l=["ACS_CORE_ISSUE","ACS_TC_SCRIPT_ISSUE","BENCH_ISSUE","INFRA_ISSUE","PLATFORM_REGRESSION","PLATFORM_RANDOM_REGRESSION","NOT_ANALYZED"],n.rootCauseGroupColors[1]=d3.scale.category20().range()[15],n.rootColors[6]=d3.scale.category20().range()[15],c=[],e.forEach(function(e,t){var r,i;if(null!=e.Date&&"NULL"!==e.Date&&"None"!==e.BuildDuration&&"None"!==e.BuildPending)try{e.Date=n.parseCsvDate(e.Date),e.Week=n.getIntelWW(e.Date),e.Day=d3.time.format("%y/%m/%d")(e.Date),e.BuildDuration=+e.BuildDuration,e.BuildPending=+e.BuildPending,"None"===e.TestCaseName?e.RootCause=l[3]:e.RootCause=l["0"===e.RootCause||"1"===e.RootCause||"2"===e.RootCause||"3"===e.RootCause||"4"===e.RootCause||"5"===e.RootCause||"6"===e.RootCause?e.RootCause:"6"],e.RootCause.match(/PLATFORM/)?e.RootGroup="PLATFORM":"NOT_ANALYZED"===e.RootCause?e.RootGroup="NOT_ANALYZED":e.RootGroup="INFRA",c.push(e)}catch(i){return r=i,void console.log("Caught "+r+" "+e.Date)}}),t.xf=d=crossfilter(c),t.all=s=d.groupAll(),t.resetAll=function(){return dc.filterAll(),dc.redrawAll()},t.all_records=e.length,t.all_filtered_records=e.length-c.length,u.dimension(d),u.group(s),t.branchDimension=d.dimension(function(e){return e.Builder}),t.builderDimension=d.dimension(function(e){return e.BuilderType}),t.board_productDimension=d.dimension(function(e){return e.BoardProduct}),t.campaignDimension=d.dimension(function(e){return e.TestCampaign}),t.testcasesDimension=d.dimension(function(e){return e.TestCaseName}),t.rootDimension=d.dimension(function(e){return e.RootCause}),t.rootDimensionGroup=t.rootDimension.group().reduceCount(),t.rootGroupDimension=d.dimension(function(e){return e.RootGroup}),t.rootGroupDimensionGroup=t.rootGroupDimension.group().reduceCount(),t.dateDimension=d.dimension(function(e){return e.Date}),t.dateDimensionGroup=t.dateDimension.group(d3.time.day).reduceCount(),t.dailyDimension=d.dimension(function(e){return e.Day}),t.dailyDimensionGroup=t.dailyDimension.group().reduce(function(e,t){return e[t.RootCause]+=1,e},function(e,t){return e[t.RootCause]-=1,e},function(){return l.reduce(function(e,t,n){return e[t]=0,e},{})}),t.weeklyDimension=d.dimension(function(e){return e.Week}),t.weeklyDimensionGroup=t.weeklyDimension.group().reduce(function(e,t){return e[t.RootCause]+=1,e},function(e,t){return e[t.RootCause]-=1,e},function(){return l.reduce(function(e,t,n){return e[t]=0,e},{})}),t.durationDimensionGroup=t.dailyDimension.group().reduce(function(e,t){return++e.count,e.totalDuration+=t.BuildDuration,e.totalPending+=t.BuildPending,e},function(e,t){return--e.count,e.totalDuration-=t.BuildDuration,e.totalPending-=t.BuildPending,e},function(){return{count:0,totalDuration:0,totalPending:0}}),t.rootPieChart=function(e){e.ordinalColors(n.rootCauseGroupColors).title(function(t){return n.pieTextDisplay(e,s,t)}).label(function(t){return n.pieTextDisplay(e,s,t)})},t.resdayBarChart=function(e){return e.group(t.dailyDimensionGroup,"ACS_CORE_ISSUE").valueAccessor(function(e){return e.value[l[0]]}).stack(t.dailyDimensionGroup,"ACS_TC_SCRIPT_ISSUE",function(e){return e.value[l[1]]}).stack(t.dailyDimensionGroup,"BENCH_ISSUE",function(e){return e.value[l[2]]}).stack(t.dailyDimensionGroup,"INFRA_ISSUE",function(e){return e.value[l[3]]}).stack(t.dailyDimensionGroup,"PLATFORM_REGRESSION",function(e){return e.value[l[4]]}).stack(t.dailyDimensionGroup,"PLATFORM_RANDOM_REGRESSION",function(e){return e.value[l[5]]}).stack(t.dailyDimensionGroup,"NOT_ANALYZED",function(e){return e.value[l[6]]}).on("renderlet",function(e){return n.setWWAxis(e)}).title(function(e){return"Work Day:	"+e.key+"\nACS_CORE_ISSUE:	"+e.value[l[0]]+"\nACS_TC_SCRIPT_ISSUE:		"+e.value[l[1]]+"\nBENCH_ISSUE:		"+e.value[l[2]]+"\nINFRA_ISSUE:	"+e.value[l[3]]+"\nPLATFORM_REGRESSION:	"+e.value[l[4]]+"\nPLATFORM_RANDOM_REGRESSION:	"+e.value[l[5]]+"\nNOT_ANALYZED:	"+e.value[l[6]]}).ordinalColors(n.rootColors)},t.resweekBarChart=function(e){return e.group(t.weeklyDimensionGroup,"ACS_CORE_ISSUE").valueAccessor(function(e){return e.value[l[0]]}).stack(t.weeklyDimensionGroup,"ACS_TC_SCRIPT_ISSUE",function(e){return e.value[l[1]]}).stack(t.weeklyDimensionGroup,"BENCH_ISSUE",function(e){return e.value[l[2]]}).stack(t.weeklyDimensionGroup,"INFRA_ISSUE",function(e){return e.value[l[3]]}).stack(t.weeklyDimensionGroup,"PLATFORM_REGRESSION",function(e){return e.value[l[4]]}).stack(t.weeklyDimensionGroup,"PLATFORM_RANDOM_REGRESSION",function(e){return e.value[l[5]]}).stack(t.weeklyDimensionGroup,"NOT_ANALYZED",function(e){return e.value[l[6]]}).on("renderlet",function(e){return n.setWWAxis(e)}).title(function(e){return"Work Day:	"+e.key+"\nACS_CORE_ISSUE:	"+e.value[l[0]]+"\nACS_TC_SCRIPT_ISSUE:		"+e.value[l[1]]+"\nBENCH_ISSUE:		"+e.value[l[2]]+"\nINFRA_ISSUE:	"+e.value[l[3]]+"\nPLATFORM_REGRESSION:	"+e.value[l[4]]+"\nPLATFORM_RANDOM_REGRESSION:	"+e.value[l[5]]+"\nNOT_ANALYZED:	"+e.value[l[6]]}).ordinalColors(n.rootColors)},t.tableGroup=function(e){return"Work Week "+e.Week},void(t.tablePostFormat=function(e){return e.columns([function(e){return d3.time.format("%d/%m/%y")(e.Date)},function(e){return e.Builder},function(e){return e.BuilderType},function(e){return n.displayBuildUrl(r.urls[o].buildbot_url,e.Builder+"-"+e.BuilderType,e.MetaBuildNumber)},function(e){return n.displayBuildUrl(r.urls[o].buildbot_url,"test_campaign",e.BuilderBuildNumber)},function(e){return e.TestCampaign},function(e){return e.BoardProduct},function(e){return e.slave_name},function(e){return"None"===e.TestCaseName?"-":e.TestCaseName},function(e){return"None"===e.Tries?"-":e.Tries},function(e){return"None"===e.RootCause?"NOT_ANALYZED":e.RootCause},function(e){return"None"===e.TestCaseName?"-":"None"===e.Bug?"NOT_ANALYZED":'<a href="https://jira01.devtools.intel.com/browse/'+e.Bug+'" target=_blank>'+e.Bug+"</a>"}]).order(d3.descending)}))})}])}.call(this),function(){angular.module("app").controller("metabuildsController",["$state","$scope","metricsService","config","$timeout","glTopbarContextualActionsService",function(e,t,n,r,i,o){var a,s;return s=e.current.data,t.loading=!0,t.title=s.title,t.builder_name=s.builder_name,a=e.current.data.dbName,o.setContextualActions([{caption:"xls",icon:"file-excel-o",action:function(){return window.location=s.api_url.replace("/jsv","/xls")}},{caption:"sql",icon:"file-code-o",action:function(){return window.location=s.api_url.replace("/jsv","/sql")}}]),n.jsv(s.api_url).then(function(e){var o,u,l,c,d,p,f;return 0===e.length?void(t.nodata=!0):(t.loading=!1,t.csvUrl=s.api_url.replace("/jsv","/csv"),t.sqlUrl=s.api_url.replace("/jsv","/sql"),u=dc.dataCount(".null"),u._doRender=function(){return i(function(){return t.filter_count=u.dimension().size(),t.total_count=u.group().value()})},p=[],e.forEach(function(e,t){var r,i;if(null!=e.Date&&"NULL"!==e.Date&&"None"!==e.BuildDuration&&"None"!==e.BuildPending)try{e.Date=n.parseCsvDateTime(e.Date),e.Week=n.getIntelWW(e.Date),e.BuildDuration=+e.BuildDuration,e.BuildPending=+e.BuildPending,e.Branch=e.BuilderName.split("-")[0],"None"===e.StepName?"0"===e.Result||"3"===e.Result||"4"===e.Result?(e.StepName=n.resultValues[e.Result],e.IssueCause=e.StepName):(e.StepName="Unknown",e.IssueCause=e.StepName):(e.StepName=e.StepName.split("|")[0],e.IssueCause=e.StepName),e.Result=n.resultValues[e.Result],p.push(e)}catch(i){return r=i,void console.log("catched "+r+" "+e.Date)}}),t.xf=f=crossfilter(p),t.all=o=f.groupAll(),t.resetAll=function(){return n.resetFilter(t.uiParams.branches,t.branchDimension),n.resetFilter(t.uiParams.fts,t.ftDimension),n.resetFilter(t.uiParams.sites,t.siteDimension),dc.filterAll(),dc.redrawAll()},t.filter=function(e,t){return n.filter(e,t),dc.redrawAll()},t.all_records=e.length,t.all_filtered_records=e.length-p.length,u.dimension(f),u.group(o),t.dailyDimension=f.dimension(function(e){return n.dateDayRound(e.Date)}),t.dailyDimensionGroup=t.dailyDimension.group().reduceCount(),t.min=t.dailyDimension.bottom(1)[0].Date,t.max=t.dailyDimension.top(1)[0].Date,t.uiParams={branches:[],fts:[],sites:[]},t.branchDimension=f.dimension(function(e){return e.Branch}),t.dropDownBranch=n.formatDropdownData(t.uiParams.branches,t.branchDimension),t.ftDimension=f.dimension(function(e){return e.FT}),t.dropDownFT=n.formatDropdownData(t.uiParams.fts,t.ftDimension),t.siteDimension=f.dimension(function(e){return e.Site}),t.dropDownSite=n.formatDropdownData(t.uiParams.sites,t.siteDimension),t.resDimension=f.dimension(function(e){return e.Result}),t.resDimensionGroup=t.resDimension.group().reduceCount(),t.issueCauseDimension=f.dimension(function(e){return e.IssueCause}),t.issueCauseDimensionGroup=t.issueCauseDimension.group().reduceCount(),t.issueCauseList=t.issueCauseDimensionGroup.all().map(function(e){return e.key}),t.weeklyDimension=f.dimension(function(e){return e.Week}),t.weeklyDimensionGroup=t.weeklyDimension.group().reduce(function(e,t){return e.count+=1,e[t.IssueCause]+=1,e},function(e,t){return e.count-=1,e[t.IssueCause]-=1,e},function(){var e;return e={},e.count=0,t.issueCauseList.forEach(function(t,n){return e[t]=0}),e}),t.durationDimension=f.dimension(function(e){return e.Week}),l=reductio(),l.count(!0),l.value("pending").max(function(e){return e.BuildPending/60}).count(!0).avg(function(e){return e.BuildPending/60}),l.value("duration").max(function(e){return e.BuildDuration/60}).count(!0).avg(function(e){return e.BuildDuration/60}),t.durationDimensionGroup=l(t.durationDimension.group()),t.resultPieChart=function(e){e.colors(n.ordinalResultColors()).title(function(t){return n.pieTextDisplay(e,o,t)}).label(function(t){return n.pieValueDisplay(e,o,t)})},c=["#8D4","#ade","#C6C","#F092DB","#EC6B3D","#1f77b4","#9101FF","#ff7f0e","#2ca02c","#949599","#ffe404","#A2B5A1","#EBD4B4","#8c564b","#FCD4DC","#58585A"],t.issueCausePieChart=function(e){e.ordinalColors(c).title(function(t){return n.pieTextDisplay(e,o,t)}).label(function(t){return n.pieValueDisplay(e,o,t)})},d=["#1F77B4","#FF7F0E","#2CA02C","#D62728","#9467BD"],t.sitePieChart=function(e){e.ordinalColors(d).title(function(t){return n.pieTextDisplay(e,o,t)}).label(function(t){return n.pieTextDisplay(e,o,t)})},t.durationLineChart=function(e){return e.valueAccessor(function(e){return e.value.pending.count>0?e.value.pending.avg:0}).group(t.durationDimensionGroup,"AVG Time in Pending Queue (mins)").stack(t.durationDimensionGroup,"AVG Time of Execution (mins)",function(e){return e.value.duration.count>0?e.value.duration.avg:0}).on("renderlet",function(e){return n.setWWAxis(e)}).yAxisPadding("10%").title(function(e){return e.value.count>0?n.displayKeyValuePercent("Work Week:",""+e.key)+n.displayKeyValuePercent("Occurences:",e.value.count)+"\nPending Time (mins):\n"+n.displayKeyFloat("Avg:",e.value.pending.avg)+n.displayKeyFloat("Max:",e.value.pending.max)+"\nBuild Duration (mins):\n"+n.displayKeyFloat("Avg:",e.value.duration.avg)+n.displayKeyFloat("Max:",e.value.duration.max):n.displayKeyValuePercent("Work Week:",""+e.key)})},t.resBarChart=function(e){return e.group(t.weeklyDimensionGroup,n.resultValues[0]).valueAccessor(function(e){return e.value[n.resultValues[0]]}).on("renderlet",function(e){return n.setWWAxis(e)}).yAxisPadding("10%").title(function(e){var r;return r=n.displayKeyValuePercent("Work Week:",""+e.key)+"\n\n",t.issueCauseList.forEach(function(t,i){return r+=n.displayKeyValuePercent(t,e.value[t],n.intDisplayFormat(e.value[t]/e.value.count*100))}),r+="\n\n"+n.displayKeyValuePercent("grand total:",e.value.count)}).ordinalColors(c),t.issueCauseList.forEach(function(n,r){return 0!==r?e.stack(t.weeklyDimensionGroup,n,function(e){return e.value[n]}):void 0})},t.tableGroup=function(e){return n.dateDisplayFormat(e.Date)},void(t.tablePostFormat=function(e){return e.columns([function(e){return n.timeDisplayFormat(e.Date)},function(e){return n.displayBuildUrl(r.urls[a].buildbot_url,e.BuilderName,e.BuildNumber)},function(e){return e.Branch},function(e){return e.FT},function(e){return e.UserName},function(e){return e.Result},function(e){return e.Result===n.resultValues[0]?"-":n.displayStepNameUrl(r.urls[a].buildbot_url,e.BuilderName,e.BuildNumber,e.StepName)},function(e){return e.Result===n.resultValues[0]?"-":n.displayStepNameUrl(r.urls[a].buildbot_url,e.BuilderName,e.BuildNumber,e.StepName)},function(e){return n.floatDisplayFormat(e.BuildPending/60)},function(e){return n.floatDisplayFormat(e.BuildDuration/60)}]).sortBy(function(e){return n.timeDisplayFormat(e.Date)}).order(d3.descending)}))})}])}.call(this),function(){angular.module("app").controller("metabuildsMRController",["$state","$scope","metricsService","config","$timeout","$filter",function(e,t,n,r,i,o){var a,s;return s=e.current.data,t.loading=!0,t.title=s.title,t.builder_name=s.builder_name,a=e.current.data.dbName,n.jsv(s.api_url).then(function(e){var o,u,l,c,d,p,f,h,m,g,v,b,y;return 0===e.length?void(t.nodata=!0):(t.loading=!1,t.csvUrl=s.api_url.replace("/jsv","/csv"),u=dc.dataCount(".null"),u._doRender=function(){return i(function(){return t.filter_count=u.dimension().size(),t.total_count=u.group().value()})},b=[],e.forEach(function(e,t){var r,i;if(null!=e.Date&&"NULL"!==e.Date&&"None"!==e.BuildDuration&&"None"!==e.BuildPending)try{e.Date=n.parseCsvDateTime(e.Date),e.Week=n.getIntelWW(e.Date),e.BuildDuration=+e.BuildDuration,e.BuildDurationMins=++e.BuildDuration/60,e.BuildPending=+e.BuildPending,e.BuildPendingMins=+e.BuildPending/60,"None"===e.IssueCause?"0"===e.Result||"3"===e.Result||"4"===e.Result?e.IssueCause=n.resultValues[e.Result]:e.IssueCause="Unknown":e.IssueCause=e.IssueCause.split("|")[0],e.Result=n.resultValues[e.Result],b.push(e)}catch(i){return r=i,void console.log("catched "+r+" "+e.Date)}}),t.xf=y=crossfilter(b),t.all=o=y.groupAll(),t.resetAll=function(){return n.resetFilter(t.uiParams.branches,t.branchDimension),n.resetFilter(t.uiParams.fts,t.ftDimension),n.resetFilter(t.uiParams.sites,t.siteDimension),dc.filterAll(),dc.redrawAll()},t.filter=function(e,t){return n.filter(e,t),dc.redrawAll()},t.all_records=e.length,t.all_filtered_records=e.length-b.length,u.dimension(y),u.group(o),t.dailyDimension=l=y.dimension(function(e){return e.Date}),t.dailyDimensionGroup=t.dailyDimension.group().reduce(function(e,t){return e.count+=1,e[t.IssueCause]+=1,e},function(e,t){return e.count-=1,e[t.IssueCause]-=1,e},function(){var e;return e={},t.issueCauseList.forEach(function(t,n){return e.count=0,e[t]=0}),e}),t.min=t.dailyDimension.bottom(1)[0].Date,t.max=t.dailyDimension.top(1)[0].Date,t.uiParams={branches:[],fts:[],sites:[]},t.branchDimension=y.dimension(function(e){return e.Branch}),t.dropDownBranch=n.formatDropdownData(t.uiParams.branches,t.branchDimension),t.branchDimensionGroup=t.branchDimension.group().reduceCount(),t.branchDimensionList=t.branchDimensionGroup.all().map(function(e){return e.key}),t.ftDimension=y.dimension(function(e){return e.FT}),t.dropDownFT=n.formatDropdownData(t.uiParams.fts,t.ftDimension),t.siteDimension=y.dimension(function(e){return e.Site}),t.dropDownSite=n.formatDropdownData(t.uiParams.sites,t.siteDimension),t.resDimension=y.dimension(function(e){return e.Result}),t.resDimensionGroup=t.resDimension.group().reduceCount(),t.issueCauseDimension=y.dimension(function(e){return e.IssueCause}),t.issueCauseDimensionGroup=t.issueCauseDimension.group().reduceCount(),t.issueCauseList=t.issueCauseDimensionGroup.all().map(function(e){return e.key}),t.weeklyDimension=y.dimension(function(e){return e.Week}),t.weeklyDimensionGroup=t.weeklyDimension.group().reduce(function(e,t){return e.count+=1,e[t.IssueCause]+=1,e},function(e,t){return e.count-=1,e[t.IssueCause]-=1,e},function(){var e;return e={},t.issueCauseList.forEach(function(t,n){return e.count=0,e[t]=0}),e}),t.durationDimension=c=y.dimension(function(e){return e.Date}),h=reductio(),h.count(!0),h.value("pending").max(function(e){return e.BuildPending/60}).count(!0).avg(function(e){return e.BuildPending/60}),h.value("duration").max(function(e){return e.BuildDuration/60}).count(!0).avg(function(e){return e.BuildDuration/60}),t.durationDimensionGroup=h(t.durationDimension.group()),t.weeklyDimensionBoxPlot=y.dimension(function(e){return e.Week}),t.buildPendingGroup=t.weeklyDimensionBoxPlot.group().reduce(function(e,t){return e.push(t.BuildPendingMins),e},function(e,t){var n;return n=e.indexOf(t.BuildPendingMins),n>=0&&(e.splice(n,1),e.sort(function(e,t){return e-t})),e},function(){return[]}),t.countBranchDimension=y.dimension(function(e){return[e.Date,e.Branch]}),t.countBranchDimensionGroup=t.countBranchDimension.group().reduce(function(e,t){return++e.count,e},function(e,t){return--e.count,e},function(){return{count:0}}),m=function(){return dc.redrawAll(),dc.renderAll()},v=[l],d=function(){return v},t.date_picker=n.makeFromToDatePicker(t,d,m,f=6),p=t.date_picker,g=function(t,n){var r;return r=n.orderNatural(),e=[],r.all().map(function(t){return t.value.count>0?e.push(t.key):void 0}),t.x(d3.scale.ordinal().domain(e))},t.resultPieChart=function(e){e.colors(n.ordinalResultColors()).title(function(t){return n.pieTextDisplay(e,o,t)}).label(function(t){return n.pieTextDisplay(e,o,t)})},t.issueCausePieChart=function(e){e.colors(n.ordinalRootCauseColors()).title(function(t){return n.pieTextDisplay(e,o,t)}).label(function(t){return n.pieTextDisplay(e,o,t)})},t.durationLineChart=function(e){return e.valueAccessor(function(e){return e.value.pending.count>0?e.value.pending.avg:0}).group(t.durationDimensionGroup,"AVG Time in Pending Queue (mins)").stack(t.durationDimensionGroup,"AVG Time of Execution (mins)",function(e){return e.value.duration.count>0?e.value.duration.avg:0}).on("preRender",function(e){return n.setDateXAxis(e,p.dateHandler.fromDate,p.dateHandler.toDate)}).renderDataPoints({radius:2,fillOpacity:.8,strokeOpacity:.8}).title(function(e){return e.value.count>0?"Work Week:		"+e.key[0]+"\nOccurences		:"+e.value.count+"\n\nPending Time (mins):\nAvg:	"+n.floatDisplayFormat(e.value.pending.avg)+"\nMax:	"+n.floatDisplayFormat(e.value.pending.max)+"\n\nBuild Duration (mins):\nAvg:	"+n.floatDisplayFormat(e.value.duration.avg)+"\nMax:	"+n.floatDisplayFormat(e.value.duration.max):"Work Week:		"+e.key[0]})},t.resBarChart=function(e){return e.group(t.weeklyDimensionGroup,n.resultValues[0]).valueAccessor(function(e){return e.value[n.resultValues[0]]}).on("preRender",function(e){return g(e,t.weeklyDimensionGroup)}).on("renderlet",function(e){return n.setWWAxis(e)}).title(function(e){var n,r;return r="Work Week:	"+e.key+"\n",n=0,t.issueCauseList.forEach(function(t,i){return r+="\n"+t+":		"+e.value[t],n+=e.value[t]}),r+="\n\ngrand total:		"+n}).colors(n.ordinalRootCauseColors()),t.issueCauseList.forEach(function(n,r){return 0!==r?e.stack(t.weeklyDimensionGroup,n,function(e){return e.value[n]}):void 0})},t.postCountLineChart=function(e){return e.seriesAccessor(function(e){return e.key[1]}).keyAccessor(function(e){return e.key[0]}).group(t.countBranchDimensionGroup).data(function(e){return e.all().filter(function(e){return e.value.count>0})}).valueAccessor(function(e){return"undefined"==typeof e.value.count||0===e.value.count?0:e.value.count}).chart(function(e){return dc.lineChart(e)}).on("preRender",function(e){return n.setDateXAxis(e,p.dateHandler.fromDate,p.dateHandler.toDate)}).childOptions({renderDataPoints:{radius:2,fillOpacity:.8,strokeOpacity:.8}}).title(function(e){return 0!==e.value.count?"Branch:			"+e.key[1]+"\n\nDate:		"+n.dateDisplayFormat(e.key[0])+"\n# Occurences:		"+e.value.count:void 0})},t.postDailyboxPlotChart=function(e){return e.on("preRender",function(e){return g(e,t.buildPendingGroup)}).on("renderlet",function(e){return n.setWWAxis(e)})},t.postDailyBarChart=function(e){return e.group(t.dailyDimensionGroup,n.resultValues[0]).valueAccessor(function(e){return e.value[n.resultValues[0]]}).on("preRender",function(e){return n.setDateXAxis(e,p.dateHandler.fromDate,p.dateHandler.toDate)}).title(function(e){var r,i;return i="Date:	"+n.dateDisplayFormat(e.key)+"\n",r=0,t.issueCauseList.forEach(function(t,n){return i+="\n"+t+":		"+e.value[t],r+=e.value[t]}),i+="\n\ngrand total:		"+r}).colors(n.ordinalRootCauseColors()),t.issueCauseList.forEach(function(n,r){return 0!==r?e.stack(t.dailyDimensionGroup,n,function(e){return e.value[n]}):void 0})},t.tableGroup=function(e){return"Work Week "+e.Week},void(t.tablePostFormat=function(e){return e.columns([function(e){return'<a href="'+r.urls[a].buildbot_url+"builders/"+e.BuilderName+"/builds/"+e.BuildNumber+'" target=_blank>'+e.BuildNumber+"</a>"},function(e){return d3.time.format("%Y/%m/%d %H:%M:%S")(e.Date)},function(e){return e.Branch},function(e){return e.FT},function(e){return e.UserName},function(e){return e.Result},function(e){return e.Result!==n.resultValues[0]?e.IssueCause:void 0},function(e){return e.Result!==n.resultValues[0]?e.StepName:void 0},function(e){return n.floatDisplayFormat(e.BuildPending/60)},function(e){return n.floatDisplayFormat(e.BuildDuration/60)}]).order(d3.descending)}))})}])}.call(this),function(){angular.module("app").controller("microbuildsController",["$state","$scope","metricsService","config","$timeout",function(e,t,n,r,i){var o;return t.loading=!0,o=e.current.data,t.csvUrl=o.api_url.replace(/\/jsv/,"/csv"),t.sqlUrl=o.api_url.replace(/\/jsv/,"/sql"),t.metricsService=n,n.jsv(o.api_url).then(function(e){var a,s,u,l,c,d,p,f;0!==e.length&&(t.loading=!1,l=dc.dataCount(".null"),l._doRender=function(){return i(function(){return t.filter_count=l.dimension().size(),t.total_count=l.group().value()})},e[0].SlaveName&&""!==e[0].SlaveName?c="SlaveName":t.filter=c="BoardProduct",t.filter=_.string.humanize(c),p=[],e.forEach(function(e,t){var r,i,o;if("None"!==e.site&&"None"!==e.PendingQueue&&"None"!==e.Duration)try{o={},o.Date=n.parseCsvDate(e.Date),o.Week=n.getIntelWW(o.Date),o.PendingQueue=+e.PendingQueue/60,o.Duration=+e.Duration/60,o.parent_builder=e.ParentBuilderName,o.parent_builder_name=e.ParentBuilderName.split("-")[0],o.parent_build_number=e.ParentBuildNumber,o.builder_type=e.builder_type,o.branch_name=e.branch_name,e.builder_name?o.builder_name=e.builder_name:(o.builder_name="test_campaign","None"===e.ParentBuilderName.split("-")[0]&&(o.builder_type="test_campaign")),o.builder_build_number=e.builder_build_number,o.target=e.TargetProduct,o.site=e.site,o.result=n.resultValues[+e.result],o.filter=e[c],p.push(o)}catch(i){r=i,console.log("catched "+r+" "+e.builder_build_number)}}),f=crossfilter(p),a=f.groupAll(),t.resetAll=function(){return n.resetFilter(t.uiParams.branches,t.branchDimension),n.resetFilter(t.uiParams.builders,t.builderDimension),n.resetFilter(t.uiParams.targets,t.targetDimension),n.resetFilter(t.uiParams.filters,t.filterDimension),dc.filterAll(),dc.redrawAll()},t.filter=function(e,t){return n.filter(e,t),dc.redrawAll()},l.dimension(f),l.group(a),u=e.length,s=e.length-p.length,e=[],t.parentDimension=f.dimension(function(e){return e.parent_builder_name}),t.branchDimension=f.dimension(function(e){return e.branch_name}),t.builderDimension=f.dimension(function(e){return e.builder_type}),t.targetDimension=f.dimension(function(e){return e.target}),t.filterDimension=f.dimension(function(e){return e.filter}),t.uiParams={parents:[],branches:[],builders:[],targets:[],filters:[]},t.dropDownParent=n.formatDropdownData(t.uiParams.parents,t.parentDimension),t.dropDownBranch=n.formatDropdownData(t.uiParams.branches,t.branchDimension),t.dropDownBuilder=n.formatDropdownData(t.uiParams.builders,t.builderDimension),t.dropDownTarget=n.formatDropdownData(t.uiParams.targets,t.targetDimension),t.dropDownFilter=n.formatDropdownData(t.uiParams.filters,t.filterDimension),t.siteDimension=f.dimension(function(e){return e.site}),t.siteDimensionGroup=t.siteDimension.group().reduceCount(),t.resDimension=f.dimension(function(e){return e.result}),t.resDimensionGroup=t.resDimension.group().reduceCount(),t.resKeyList=t.resDimensionGroup.all().map(function(e){return e.key}),d=reductio(),d.count(!0),d.value("pending").max(function(e){return e.PendingQueue}).count(!0).avg(function(e){return e.PendingQueue}),d.value("duration").max(function(e){return e.Duration}).count(!0).avg(function(e){return e.Duration}),t.durationDimension=f.dimension(function(e){return[e.Week,e.site]}),t.durationDimensionGroup=d(t.durationDimension.group()),t.numBuildsDimension=f.dimension(function(e){return e.Week}),t.numBuildsDimensionGroup=t.numBuildsDimension.group().reduce(function(e,t){return e[t.result]++,e},function(e,t){return e[t.result]--,e},function(){var e;return e={},t.resKeyList.forEach(function(t,n){return e[t]=0}),e}),t.postSetupPieChart=function(e){return e.title(function(t){return n.pieTextDisplay(e,a,t)}).label(function(t){return n.pieTextDisplay(e,a,t)})},t.postSetupSeriesChartDuration=function(e){return e.seriesAccessor(function(e){return e.key[1]}).keyAccessor(function(e){return e.key[0]}).valueAccessor(function(e){return 0===e.value.count?0:e.value.duration.avg}).chart(function(e){return dc.lineChart(e).interpolate("monotone")}).on("renderlet",function(e){return n.setWWAxis(e)}).title(function(e){return"Site:			"+e.key[1]+"\n\nWorkWeek:		"+e.key[0]+"\n# Occurences:		"+e.value.count+"\n\nPending Queue:\nAvg:			"+n.floatDisplayFormat(e.value.pending.avg)+"\nMax:			"+n.floatDisplayFormat(e.value.pending.max)+"\n\nDuration Avg:\nAvg:			"+n.floatDisplayFormat(e.value.duration.avg)+"\nMax:			"+n.floatDisplayFormat(e.value.duration.max)})},t.postSetupSeriesChartPendingQueue=function(e){return e.seriesAccessor(function(e){return e.key[1]}).keyAccessor(function(e){return e.key[0]}).valueAccessor(function(e){return e.value.pending.avg}).chart(function(e){return dc.lineChart(e).interpolate("monotone")}).on("renderlet",function(e){return n.setWWAxis(e)}).title(function(e){return"Site:			"+e.key[1]+"\n\nWorkWeek:		"+e.key[0]+"\n# Occurences:		"+e.value.count+"\n\nPending Queue:\nAvg:			"+n.floatDisplayFormat(e.value.pending.avg)+"\nMax:			"+n.floatDisplayFormat(e.value.pending.max)+"\n\nDuration Avg:\nAvg:			"+n.floatDisplayFormat(e.value.duration.avg)+"\nMax:			"+n.floatDisplayFormat(e.value.duration.max)})},t.postSetupBarChart=function(e){return e.group(t.numBuildsDimensionGroup,t.resKeyList[0]).valueAccessor(function(e){return e.value[t.resKeyList[0]]}).title(function(e){var n,r;return n="Work Week:		"+e.key+"\n",r=0,t.resKeyList.forEach(function(t,i){return n+="\n"+t+":		"+e.value[t],r+=e.value[t]}),n+"\n\ntotal:		"+r}).on("renderlet",function(e){return n.setWWAxis(e)}),t.resKeyList.forEach(function(n,r){return 0!==r?e.stack(t.numBuildsDimensionGroup,n,function(e){return e.value[n]}):void 0})},t.tableGroup=function(e){return"Work Week "+e.Week},t.tablePostFormat=function(e){return e.columns([function(e){return d3.time.format("%d/%m/%y")(e.Date)},function(e){return e.site},function(e){return e.filter},function(e){return"None"===e.parent_build_number?"None":n.displayBuildUrl(r.urls[o.dbName].buildbot_url,e.parent_builder,e.parent_build_number)},function(e){return e.builder_type},function(e){return n.displayBuildUrl(r.urls[o.dbName].buildbot_url,e.builder_name,e.builder_build_number)},function(e){return e.parent_builder_name},function(e){return e.target},function(e){return e.result},function(e){return n.floatDisplayFormat(e.PendingQueue)},function(e){return n.floatDisplayFormat(e.Duration)}]).sortBy(function(e){var t;return t=d3.time.format("%d/%m/%y")(e.Date)+e.parent_build_number}).order(d3.descending)})})}])}.call(this),function(){angular.module("app").controller("monitor_testslave_per_testcaseController",["$state","$scope","metricsService","config","$timeout",function(e,t,n,r,i){var o;return t.loading=!0,o=e.current.data,t.csvUrl=o.api_url.replace("/jsv","/csv"),t.metricsService=n,t.filter=function(e,t){return n.filter(e,t),dc.redrawAll()},n.jsv(o.api_url).then(function(e){var r,i,o,a,s,u;0!==e.length&&(o=dc.dataCount(".null"),u=[],i=[],e.forEach(function(e,t){var r,o,a;try{a={},a.date=n.parseCsvDate(e.Date),a.branch=e.branch_name,a.site=e.site,a.duration=+e.Duration/60,a.slavename=e.SlaveName,a.board_product=e.TargetProduct,a.testcase=e.testCaseName,a.week=n.getIntelWW(a.date),u.push(a),i.push(a.board_product)}catch(o){r=o,console.log("catched "+r+" "+e.Date)}}),i=n.arrayWithoutDuplicates(i),i=function(){var e,t,n;for(n=[],e=0,t=i.length;t>e;e++)r=i[e],n.push(r);return n}(),t.branchDimenstion,t.resetAll=function(){return dc.filterAll(),dc.redrawAll()},a=function(e){var t,r,i,a,s,l;return i={},i.ui_params={branches:[],tcs:[]},t=function(){var t,n,r;for(r=[],t=0,n=u.length;n>t;t++)s=u[t],s.board_product===e&&r.push(s);return r}(),l=crossfilter(t),o.dimension(l),o.group(l.groupAll()),i.branch_dimension=l.dimension(function(e){return e.branch}),i.testcase_dimension=l.dimension(function(e){return e.testcase}),r=n.formatDropdownData,i.drop_down_branch=r(i.ui_params.branches,i.branch_dimension),i.drop_down_testcase=r(i.ui_params.tcs,i.testcase_dimension),i.duration_dimension=l.dimension(function(e){return[e.week,e.slavename]}),a=i.duration_dimension.group(),i.duration_dimension_grp=a.reduce(function(e,t){return e.count++,e.sum+=t.duration,e},function(e,t){return e.count--,e.sum-=t.duration,e},function(){return{count:0,sum:0}}),i.xlabel="Work Week (Year.WW) on "+e,i.board_product_name=""+e,i},t.graphs=[],i.forEach(function(e,n){return t.graphs.push(a(e))}),s=function(e){var t;return t="Slave:			"+e.key[1],t+="\n\nWorkWeek:		"+e.key[0],t+="\n\n#Occurences		"+e.value.count},t.postSetupSeriesChartDuration=function(e){return e.seriesAccessor(function(e){return e.key[1]}).keyAccessor(function(e){return e.key[0]}).valueAccessor(function(e){var t;return 0===e.value.count?0:t=e.value.sum/e.value.count}).chart(function(e){return dc.lineChart(e)})._rangeBandPadding(1).on("renderlet",function(e){return n.setWWAxis(e)}).title(function(e){return s(e)})},t.loading=!1)})}])}.call(this),function(){angular.module("app").controller("patch_DetailController",["$state","$scope","metricsService","config","$timeout","$location","glTopbarContextualActionsService",function(e,t,n,r,i,o,a){var s,u;return u=e.current.data,
t.loading=!0,s=e.current.data.dbName,t.pageRoot=o.path().split("/")[1],e.params&&e.params.patchID&&(u.api_url+="?patchID="+e.params.patchID,t.patchID=e.params.patchID),n.jsv(u.api_url).then(function(e){var n,o,a,s;return 0===e.length?void(t.nodata=!0):(t.loading=!1,t.csvUrl=u.api_url.replace(/\/jsv/,"/csv"),t.sqlUrl=u.api_url.replace(/\/jsv/,"/sql"),o=dc.dataCount(".null"),o._doRender=function(){return i(function(){return t.filter_count=o.dimension().size(),t.total_count=o.group().value()})},a=[],e.forEach(function(e,t){var n,r;try{e.patchURL="https://buildbot.sh.intel.com/absp/builders/"+e.builder_name+"/builds/"+e.builder_build_number,a.push(e)}catch(r){return n=r,void console.log("catched "+n)}}),t.xf=s=crossfilter(a),t.all=n=s.groupAll(),t.all_records=e.length,t.all_filtered_records=e.length-a.length,o.dimension(s),o.group(n),t.builderNameDimension=s.dimension(function(e){return e.builder_name}),t.patchDimension=s.dimension(function(e){return e.ChangeID}),t.tableGroup=function(e){return"Builder Name:"+e.builder_name},void(t.tablePostFormat=function(e){return e.columns([function(e){return'<a href="'+r.urls.gerrit_url+e.ChangeID+'" target=_blank>'+e.ChangeID+"</a>"},function(e){return e.builder_name},function(e){return e.first_patchset_date},function(e){return'<a href="'+e.patchURL+'" target=_blank>'+e.builder_build_number+"</a>"},function(e){return e.result},function(e){return"None"===e.step?"-":e.step},function(e){return"None"===e.issueSummary?"-":e.issueSummary},function(e){return"None"===e.failureCategory?"-":e.failureCategory}]).order(d3.ascending)}))})}])}.call(this),function(){angular.module("app").controller("patch_failure_trendController",["$state","$scope","metricsService","config","$timeout","$location","glTopbarContextualActionsService",function(e,t,n,r,i,o,a){var s,u;return u=e.current.data,t.loading=!0,s=e.current.data.dbName,t.pageRoot=o.path().split("/")[1],n.jsv(u.api_url).then(function(e){var o,a,s,l;return 0===e.length?void(t.nodata=!0):(t.loading=!1,t.csvUrl=u.api_url.replace(/\/jsv/,"/csv"),t.sqlUrl=u.api_url.replace(/\/jsv/,"/sql"),a=dc.dataCount(".null"),a._doRender=function(){return i(function(){return t.filter_count=a.dimension().size(),t.total_count=a.group().value()})},t.uiParams={CactusBranches:[],GitProjects:[],GitBranches:[],Domains:[],initial_data:{}},s=[],e.forEach(function(e,t){var r,i,o,a,u,l,c,d,p;try{e.nb_cr_minus1=+e.nb_cr_minus1,e.nb_cr_minus2=+e.nb_cr_minus2,e.nb_v_minus1=+e.nb_v_minus1,e.month_date=+e.month_date,e.year_date=+e.year_date,e.month_date<=3?e.quarter_date=e.year_date+"-Q1":e.month_date>3&&e.month_date<=6?e.quarter_date=e.year_date+"-Q2":e.month_date>6&&e.month_date<=9?e.quarter_date=e.year_date+"-Q3":e.quarter_date=e.year_date+"-Q4",e.date=n.parseCsvDate(e.first_patchset_date),p=n.getIntelWW(e.first_patchset_date),r=new Date,a=n.getIntelWW(r),u=r.getFullYear(),i=r.getMonth()+1,o=3>=i?"Q1":i>3&&6>=i?"Q2":i>6&&9>=i?"Q3":"Q4",l=i>0&&10>i?u+"/0"+i:u+"/"+i,p!==a&&(e.work_week=p),e.year_month_date!==l&&(e.year_month=e.year_month_date),e.quarter_date!==u+"-"+o&&(e.quarter=e.quarter_date),s.push(e)}catch(d){return c=d,void console.log("catched "+c)}}),t.xf=l=crossfilter(s),t.all=o=l.groupAll(),t.filter=function(e,t){return n.filter(e,t),dc.redrawAll()},t.all_records=e.length,t.all_filtered_records=e.length-s.length,a.dimension(l),a.group(o),t.CactusBranchesDimensionList=l.dimension(function(e){return e.CactusBranch}),t.CactusBranchesDimension=l.dimension(function(e){return e.CactusBranch}),t.dropDownCactusBranches=n.formatDropdownDataMaster(t.uiParams.CactusBranches,t.CactusBranchesDimension),t.GitProjectDimension=l.dimension(function(e){return e.GitProject}),t.GitBranchDimension=l.dimension(function(e){return e.GitBranch}),t.DomainNameDimension=l.dimension(function(e){return e.domain_name}),t.OwnerDimension=l.dimension(function(e){return e.owner}),t.WorkWeekDimension=l.dimension(function(e){return e.work_week}),t.WorkMonthDimension=l.dimension(function(e){return e.year_month}),t.WorkQuarterDimension=l.dimension(function(e){return e.quarter}),t.filter(t.uiParams.CactusBranches,t.CactusBranchesDimensionList),t.linesweekDimension=l.dimension(function(e){return e.work_week}),t.CR_1_linesweekDimensionGroup=t.linesweekDimension.group().reduce(function(e,t){return++e.count,t.nb_cr_minus1>0&&(e.nb_cr1+=1),e},function(e,t){return--e.count,t.nb_cr_minus1>0&&(e.nb_cr1-=1),e},function(){var e;return e={},e.count=0,e.nb_cr1=0,e}),t.CR_2_linesweekDimensionGroup=t.linesweekDimension.group().reduce(function(e,t){return++e.count,t.nb_cr_minus2>0&&(e.nb_cr2+=1),e},function(e,t){return--e.count,t.nb_cr_minus2>0&&(e.nb_cr2-=1),e},function(){var e;return e={},e.count=0,e.nb_cr2=0,e}),t.V_1_linesweekDimensionGroup=t.linesweekDimension.group().reduce(function(e,t){return++e.count,t.nb_v_minus1>0&&(e.nb_v1+=1),e},function(e,t){return--e.count,t.nb_v_minus1>0&&(e.nb_v1-=1),e},function(){var e;return e={},e.count=0,e.nb_v1=0,e}),t.compositeweekChartOptions=function(e){var r,i,o;return r=dc.lineChart(e).dimension(t.linesweekDimension).group(t.CR_1_linesweekDimensionGroup,"CR-1").valueAccessor(function(e){return n.computePercentage(e.value.nb_cr1,e.value.count)}).colors("#9467BD").renderArea(!1).renderDataPoints({radius:2,fillOpacity:.8,strokeOpacity:0}).interpolate("monotone").title(function(e){return"Work Week:		"+e.key+"\nPatchNbr:		"+e.value.count+"\n\nCR-1:	"+n.displayPercentageAndCount(e.value.nb_cr1,e.value.count)}),i=dc.lineChart(e).dimension(t.linesweekDimension).group(t.CR_2_linesweekDimensionGroup,"CR-2").valueAccessor(function(e){return n.computePercentage(e.value.nb_cr2,e.value.count)}).colors("#1F77B4").renderArea(!1).renderDataPoints({radius:2,fillOpacity:.8,strokeOpacity:0}).interpolate("monotone").title(function(e){return"Work Week:		"+e.key+"\nPatchNbr:		"+e.value.count+"\n\nCR-2:	"+n.displayPercentageAndCount(e.value.nb_cr2,e.value.count)}),o=dc.lineChart(e).dimension(t.linesweekDimension).group(t.V_1_linesweekDimensionGroup,"V-1").valueAccessor(function(e){return n.computePercentage(e.value.nb_v1,e.value.count)}).colors("#D62728").renderArea(!1).renderDataPoints({radius:2,fillOpacity:.8,strokeOpacity:0}).interpolate("monotone").title(function(e){return"Work Week:		"+e.key+"\nPatchNbr:		"+e.value.count+"\n\nV-1:	"+n.displayPercentageAndCount(e.value.nb_v1,e.value.count)}),e.compose([r,i,o]).on("renderlet",function(e){return n.setWWAxis(e)})._rangeBandPadding(1).yAxis().tickFormat(d3.format("s"))},t.linesmonthDimension=l.dimension(function(e){return e.year_month}),t.CR_1_linesmonthDimensionGroup=t.linesmonthDimension.group().reduce(function(e,t){return++e.count,t.nb_cr_minus1>0&&(e.nb_cr1+=1),e},function(e,t){return--e.count,t.nb_cr_minus1>0&&(e.nb_cr1-=1),e},function(){var e;return e={},e.count=0,e.nb_cr1=0,e}),t.CR_2_linesmonthDimensionGroup=t.linesmonthDimension.group().reduce(function(e,t){return++e.count,t.nb_cr_minus2>0&&(e.nb_cr2+=1),e},function(e,t){return--e.count,t.nb_cr_minus2>0&&(e.nb_cr2-=1),e},function(){var e;return e={},e.count=0,e.nb_cr2=0,e}),t.V_1_linesmonthDimensionGroup=t.linesmonthDimension.group().reduce(function(e,t){return++e.count,t.nb_v_minus1>0&&(e.nb_v1+=1),e},function(e,t){return--e.count,t.nb_v_minus1>0&&(e.nb_v1-=1),e},function(){var e;return e={},e.count=0,e.nb_v1=0,e}),t.compositemonthChartOptions=function(e){var r,i,o;return r=dc.lineChart(e).dimension(t.linesmonthDimension).group(t.CR_1_linesmonthDimensionGroup,"CR-1").valueAccessor(function(e){return n.computePercentage(e.value.nb_cr1,e.value.count)}).colors("#9467BD").renderArea(!1).renderDataPoints({radius:2,fillOpacity:.8,strokeOpacity:0}).interpolate("monotone").title(function(e){return"Work month:		"+e.key+"\nPatchNbr:		"+e.value.count+"\n\nCR-1:	"+n.displayPercentageAndCount(e.value.nb_cr1,e.value.count)}),i=dc.lineChart(e).dimension(t.linesmonthDimension).group(t.CR_2_linesmonthDimensionGroup,"CR-2").valueAccessor(function(e){return n.computePercentage(e.value.nb_cr2,e.value.count)}).colors("#1F77B4").renderArea(!1).renderDataPoints({radius:2,fillOpacity:.8,strokeOpacity:0}).interpolate("monotone").title(function(e){return"Work month:		"+e.key+"\nPatchNbr:		"+e.value.count+"\n\nCR-2:	"+n.displayPercentageAndCount(e.value.nb_cr2,e.value.count)}),o=dc.lineChart(e).dimension(t.linesmonthDimension).group(t.V_1_linesmonthDimensionGroup,"V-1").valueAccessor(function(e){return n.computePercentage(e.value.nb_v1,e.value.count)}).colors("#D62728").renderArea(!1).renderDataPoints({radius:2,fillOpacity:.8,strokeOpacity:0}).interpolate("monotone").title(function(e){return"Work month:		"+e.key+"\nPatchNbr:		"+e.value.count+"\n\nV-1:	"+n.displayPercentageAndCount(e.value.nb_v1,e.value.count)}),e.compose([r,i,o]).on("renderlet",function(e){return n.setWWAxis(e)})._rangeBandPadding(1).yAxis().tickFormat(d3.format("s"))},t.linesquarterDimension=l.dimension(function(e){return e.quarter}),t.CR_1_linesquarterDimensionGroup=t.linesquarterDimension.group().reduce(function(e,t){return++e.count,t.nb_cr_minus1>0&&(e.nb_cr1+=1),e},function(e,t){return--e.count,t.nb_cr_minus1>0&&(e.nb_cr1-=1),e},function(){var e;return e={},e.count=0,e.nb_cr1=0,e}),t.CR_2_linesquarterDimensionGroup=t.linesquarterDimension.group().reduce(function(e,t){return++e.count,t.nb_cr_minus2>0&&(e.nb_cr2+=1),e},function(e,t){return--e.count,t.nb_cr_minus2>0&&(e.nb_cr2-=1),e},function(){var e;return e={},e.count=0,e.nb_cr2=0,e}),t.V_1_linesquarterDimensionGroup=t.linesquarterDimension.group().reduce(function(e,t){return++e.count,t.nb_v_minus1>0&&(e.nb_v1+=1),e},function(e,t){return--e.count,t.nb_v_minus1>0&&(e.nb_v1-=1),e},function(){var e;return e={},e.count=0,e.nb_v1=0,e}),t.compositequarterChartOptions=function(e){var r,i,o;return r=dc.lineChart(e).dimension(t.linesquarterDimension).group(t.CR_1_linesquarterDimensionGroup,"CR-1").valueAccessor(function(e){return n.computePercentage(e.value.nb_cr1,e.value.count)}).colors("#9467BD").renderArea(!1).renderDataPoints({radius:2,fillOpacity:.8,strokeOpacity:0}).interpolate("monotone").title(function(e){return"Work Quarter:		"+e.key+"\nPatchNbr:		"+e.value.count+"\n\nCR-1:	"+n.displayPercentageAndCount(e.value.nb_cr1,e.value.count)}),i=dc.lineChart(e).dimension(t.linesquarterDimension).group(t.CR_2_linesquarterDimensionGroup,"CR-2").valueAccessor(function(e){return n.computePercentage(e.value.nb_cr2,e.value.count)}).colors("#1F77B4").renderArea(!1).renderDataPoints({radius:2,fillOpacity:.8,strokeOpacity:0}).interpolate("monotone").title(function(e){return"Work Quarter:		"+e.key+"\nPatchNbr:		"+e.value.count+"\n\nCR-2:	"+n.displayPercentageAndCount(e.value.nb_cr2,e.value.count)}),o=dc.lineChart(e).dimension(t.linesquarterDimension).group(t.V_1_linesquarterDimensionGroup,"V-1").valueAccessor(function(e){return n.computePercentage(e.value.nb_v1,e.value.count)}).colors("#D62728").renderArea(!1).renderDataPoints({radius:2,fillOpacity:.8,strokeOpacity:0}).interpolate("monotone").title(function(e){return"Work Quarter:		"+e.key+"\nPatchNbr:		"+e.value.count+"\n\nV-1:	"+n.displayPercentageAndCount(e.value.nb_v1,e.value.count)}),e.compose([r,i,o]).on("renderlet",function(e){return n.setWWAxis(e)})._rangeBandPadding(1).yAxis().tickFormat(d3.format("s"))},t.patchDimension=l.dimension(function(e){return e.ChangeID}),t.tableGroup=function(e){return n.getIntelWW(e.date)},void(t.tablePostFormat=function(e){return e.columns([function(e){return'<a href="'+r.urls.gerrit_url+e.ChangeID+'" target=_blank>'+e.ChangeID+"</a>"},function(e){return"None"===e.owner?"-":e.owner},function(e){return"None"===e.domain_name?"-":e.domain_name},function(e){return e.first_patchset_date},function(e){return e.nb_cr_minus1},function(e){return e.nb_cr_minus2},function(e){return e.nb_v_minus1}]).sortBy(function(e){return e.first_patchset_date}).order(d3.descending)}))})}])}.call(this),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};angular.module("app").controller("patch_lifecycleController",["$state","$scope","metricsService","config","$timeout",function(t,n,r,i,o){var a;return a=t.current.data,n.loading=!0,n.viewsBooleans={showcactusbranches:!1,showgitbranches:!1,showdomains:!1,showweeks:!0,showplatform:!1,showtypes:!1,showpriorities:!1,showcomponents:!1},n.switchView=function(e){var t,r,i,o;for(o in n.viewsBooleans)n.viewsBooleans[o]=!1;switch(n.viewsBooleans[e]=!0,r="",t="",e){case"showcactusbranches":r="Cactus Branch",t="Builder";break;case"showgitbranches":r="Git Branch",t="Branch";break;case"showdomains":r="Patch Domain",t="Domain";break;case"showplatform":r="Program/Platform",t="BugPlatform";break;case"showtypes":r="Bug Type",t="BugType";break;case"showcomponents":r="Bug Component",t="ComponentName";break;case"showpriorities":r="Bug Priority",t="BugPriority"}return i=n.db.columns().length===n.nb_columns_original?0:1,""!==r&&n.db.columns().splice(2,i,{label:r,format:function(e){return e[t]}}),n.db.redraw()},r.jsv(a.api_url).then(function(t){var s,u,l,c,d,p,f,h,m,g,v;return 0===t.length?void(n.nodata=!0):(n.loading=!1,n.csvUrl=a.api_url.replace(/\/jsv\??/,"/csv?additional_fields=1&"),n.sqlUrl=a.api_url.replace(/\/jsv\??/,"/sql?additional_fields=1&"),l=dc.dataCount(".null"),l._doRender=function(){return o(function(){return n.total_count=l.dimension().size(),n.filter_count=l.group().value()})},g=[],n.uiParams={builders:[],projects:[],branches:[],domains:[],platforms:[],components:[],types:[],priorities:[],initial_data:{}},n.attribute_links={builders:{},projects:{},branches:{},domains:{},platforms:{},components:{},types:{},priorities:{}},n.dropDownsSelectionChange={builders:!1,projects:!1,branches:!1,domains:!1,platforms:!1,components:!1,types:!1,priorities:!1},n.dependences={builders:[],projects:["builders"],branches:["builders","projects"],domains:["builders","projects","branches"],platforms:["builders","projects","branches","domains"],components:["builders","projects","branches","domains","platforms"],types:["builders","projects","branches","domains","platforms","components"],priorities:["builders","projects","branches","domains","platforms","components","types"]},t.forEach(function(e,t){var i,o,a,s,u,l,c,d,p,f,h,m,v,b;if(null!=e.MergeDate&&"None"!==e.MergeDate){try{v={},v.date=r.parseCsvDate(e.MergeDate),v.BeforeReviewTime=+e.BeforeReviewTime,v.ReviewTime=+e.ReviewTime,v.MaintainerTime=+e.MaintainerTime,v.SubmitToMergeTime=+e.SubmitToMergeTime,v.MergeTime=+e.MergeTime,v.Branch=e.Branch,v.ComponentName=e.ComponentName,v.Id=e.Id,v.Builder=e.Builder,v.BugType=e.BugType,v.BugPriority=e.BugPriority,v.BugPlatform=e.BugPlatform,v.GitProject=e.GitProject,v.Domain=e.Domain,v.week=r.getIntelWW(v.date)}catch(l){u=l,v.week="0000 00"}if("0000 00"===v.week||0===v.IsMerged||isNaN(v.BeforeReviewTime)||isNaN(v.ReviewTime)||isNaN(v.MaintainerTime)||isNaN(v.SubmitToMergeTime)||isNaN(v.MergeTime)||v.BeforeReviewTime<0||v.ReviewTime<0||v.MaintainerTime<0||v.SubmitToMergeTime<0||v.MergeTime<0)return;m=r.setDefault,c=function(t){var n;switch(n="",t){case"builders":n=e.Builder;break;case"projects":n=e.GitProject;break;case"branches":n=e.Branch;break;case"platforms":n=e.BugPlatform;break;case"components":n=e.ComponentName;break;case"types":n=e.BugType;break;case"priorities":n=e.BugPriority;break;case"domains":n=e.Domain}return n},h=n.dependences;for(p in h)for(b=h[p],d=0,f=b.length;f>d;d++)i=b[d],o=c(i),s=c(p),a=m(n.attribute_links[i],o,{}),m(a,p,new Set).add(s);g.push(v)}}),n.ndx=d=crossfilter(g),n.all=s=d.groupAll(),n.resetAll=function(){var e,t,i,o;i=n.uiParams.initial_data;for(e in i)o=i[e],t=o.slice(),n.uiParams[e]=t;return r.resetFilter(n.uiParams.git_projects,n.gitProjectDimensionList),r.resetFilter(n.uiParams.branches,n.branchDimensionList),r.resetFilter(n.uiParams.builders,n.builderDimensionList),r.resetFilter(n.uiParams.types,n.bugTypeDimensionList),r.resetFilter(n.uiParams.priorities,n.bugPriorityDimensionList),r.resetFilter(n.uiParams.platforms,n.bugPlatformDimensionList),r.resetFilter(n.uiParams.domains,n.domainDimensionList),n.init_component_drop_down_list(),dc.filterAll(),dc.redrawAll()},c=function(e){var t,i,o,a,s,u,l,c,d,p,f,h,m,g,v,b,y,w,_,x,C,D,k,A,$,S;for(g=e.modified,s=e.impacted,C=n.uiParams,null==C.initial_data[s.attribute]&&(a=C[s.attribute].slice(),C.initial_data[s.attribute]=a),i=C.initial_data[s.attribute].slice(),D=C[g.attribute],v=function(){var e,t,n;for(n=[],e=0,t=D.length;t>e;e++)S=D[e],S.ticked&&n.push(S.name);return n}(),u=new Set,k=[],w=[],A=new Set,t=function(e){return A.add(e)},c=0,p=v.length;p>c;c++)$=v[c],n.attribute_links[g.attribute][$][s.attribute].forEach(t);for(k.push(A),w.push(A.size),b=n.dependences[g.attribute],d=0,f=b.length;f>d;d++){for(o=b[d],A=new Set,y=C[o],m=0,h=y.length;h>m;m++)S=y[m],S.ticked&&n.attribute_links[o][S.name][s.attribute].forEach(t);k.push(A),w.push(A.size)}return x=w.indexOf(Math.min.apply(null,w)),_=k[x],u=new Set,l=function(e){var t,n,r;t=!0;for(n in k)if(r=k[n],n!==x&&!r.has(e)){t=!1;break}return t?u.add(e):void 0},_.forEach(l),C[s.attribute]=function(){var e,t,n;for(n=[],t=0,e=i.length;e>t;t++)S=i[t],u.has(S.name)&&n.push(S);return n}(),r.filter(n.uiParams[g.attribute],n[g.dimension]),r.filter(n.uiParams[s.attribute],n[s.dimension])},n.filter=function(e,t){return r.filter(e,t),dc.redrawAll()},n.all_records=t.length,n.all_filtered_records=t.length-g.length,t={},l.dimension(d),l.group(s),n.weeklyDimension=d.dimension(function(e){return e.week}),n.gitProjectDimensionList=d.dimension(function(e){return e.GitProject}),n.gitProjectDimension=d.dimension(function(e){return e.GitProject}),n.dropDownGitProject=r.formatDropdownData(n.uiParams.projects,n.gitProjectDimension),n.branchDimensionList=d.dimension(function(e){return e.Branch}),n.branchDimension=d.dimension(function(e){return e.Branch}),n.dropDownBranch=r.formatDropdownData(n.uiParams.branches,n.branchDimension),n.componentDimensionList=d.dimension(function(e){return e.ComponentName}),n.componentDimension=d.dimension(function(e){return e.ComponentName}),n.componentCountDimension=d.dimension(function(e){return e.ComponentName}),n.dropDownComponent=r.formatDropdownData(n.uiParams.components,n.componentDimension),n.builderDimensionList=d.dimension(function(e){return e.Builder}),n.builderDimension=d.dimension(function(e){return e.Builder}),n.dropDownBuilder=r.formatDropdownData(n.uiParams.builders,n.builderDimension),n.bugTypeDimensionList=d.dimension(function(e){return e.BugType}),n.bugTypeDimension=d.dimension(function(e){return e.BugType}),n.dropDownBugType=r.formatDropdownData(n.uiParams.types,n.bugTypeDimension),n.bugPriorityDimensionList=d.dimension(function(e){return e.BugPriority}),n.bugPriorityDimension=d.dimension(function(e){return e.BugPriority}),n.dropDownBugPriority=r.formatDropdownData(n.uiParams.priorities,n.bugPriorityDimension),n.bugPlatformDimensionList=d.dimension(function(e){return e.BugPlatform}),n.bugPlatformDimension=d.dimension(function(e){return e.BugPlatform}),n.dropDownBugPlatforms=r.formatDropdownData(n.uiParams.platforms,n.bugPlatformDimension),n.domainDimensionList=d.dimension(function(e){return e.Domain}),n.domainDimension=d.dimension(function(e){return e.Domain}),n.dropDownDomain=r.formatDropdownData(n.uiParams.domains,n.domainDimension),n.cycleDimension=d.dimension(function(e){return e.week}),n.componentCountDimensionGroup=n.componentCountDimension.group().reduceCount(),n.componentCountDimensionGroup=function(){var e;return e=n.componentCountDimension.group().reduceCount(),{all:function(){return e.all().filter(function(e){return e.value>=50})}}},n.component_to_select_by_default=function(){var e,t,r,i;for(r=n.componentCountDimensionGroup().all(),i=[],e=0,t=r.length;t>e;e++)v=r[e],i.push(v.key);return i}(),n.dropDownItemClick=function(e,t){return n.dropDownsSelectionChange[t]=!0},u=function(e,t){var n;return n={attribute:e,dimension:t}},n.filter_change=function(e,t,r,i,o){var a;if(o){if(!n.dropDownsSelectionChange[e])return;n.dropDownsSelectionChange[e]=!1}return a={modified:u(e,t),impacted:u(r,i)},c(a)},n.set_cactusbranch=function(e){return n.filter_change("builders","builderDimensionList","projects","gitProjectDimensionList",e),n.set_gitproject(!1),e?dc.redrawAll():void 0},n.set_gitproject=function(e){return n.filter_change("projects","gitProjectDimensionList","branches","branchDimensionList",e),n.set_gitbranch(!1),e?dc.redrawAll():void 0},n.set_gitbranch=function(e){return n.filter_change("branches","branchDimensionList","domains","domainDimensionList",e),n.set_domain(!1),e?dc.redrawAll():void 0},n.set_domain=function(e){return n.filter_change("domains","domainDimensionList","platforms","bugPlatformDimensionList",e),n.set_bugplatform(e),e?dc.redrawAll():void 0},n.set_bugplatform=function(e){return n.filter_change("platforms","bugPlatformDimensionList","components","componentDimensionList",e),n.set_bugcomponent(!1),e?dc.redrawAll():void 0},n.set_bugcomponent=function(e){return n.filter_change("components","componentDimensionList","types","bugTypeDimensionList",e),n.set_bugtype(!1),e?dc.redrawAll():void 0},n.set_bugtype=function(e){return n.filter_change("types","bugTypeDimensionList","priorities","bugPriorityDimensionList",e),e?dc.redrawAll():void 0},n.init_component_drop_down_list=function(){var t,r,i,o;for(i=n.uiParams.components,t=0,r=i.length;r>t;t++)v=i[t],v.ticked=(o=v.name,e.call(n.component_to_select_by_default,o)>=0?!0:!1);return n.set_bugcomponent()},p=function(e,t){return++e.count,e.sumBeforeReviewTime+=+t.BeforeReviewTime,e.sumReviewTime+=+t.ReviewTime,e.sumMaintainerTime+=+t.MaintainerTime,e.sumSubmitToMergeTime+=+t.SubmitToMergeTime,e.sumMergeTime+=+t.MergeTime,e},f=function(e,t){return--e.count,e.sumBeforeReviewTime-=+t.BeforeReviewTime,e.sumReviewTime-=+t.ReviewTime,e.sumMaintainerTime-=+t.MaintainerTime,e.sumSubmitToMergeTime-=+t.SubmitToMergeTime,e.sumMergeTime-=+t.MergeTime,e},h=function(){return{count:0,sumBeforeReviewTime:0,sumReviewTime:0,sumMaintainerTime:0,sumSubmitToMergeTime:0,sumMergeTime:0}},m=function(e){return{all:function(){return e.all().filter(function(e){return e.value.count>0})}}},n.builderDimensionGroup=n.builderDimension.group().reduce(p,f,h),n.builderChartFilteredDimensionGroup=m(n.builderDimensionGroup),n.gitBranchDimensionGroup=n.branchDimension.group().reduce(p,f,h),n.gitBranchChartFilteredDimensionGroup=m(n.gitBranchDimensionGroup),n.domainDimensionGroup=n.domainDimension.group().reduce(p,f,h),n.domainChartFilteredDimensionGroup=m(n.domainDimensionGroup),n.bugPlatformDimensionGroup=n.bugPlatformDimension.group().reduce(p,f,h),n.bugPlatformChartFilteredDimensionGroup=m(n.bugPlatformDimensionGroup),n.cycleDimensionGroup=n.cycleDimension.group().reduce(p,f,h),n.bugTypeDimensionGroup=n.bugTypeDimension.group().reduce(p,f,h),n.bugTypeChartFilteredDimensionGroup=m(n.bugTypeDimensionGroup),n.bugPriorityDimensionGroup=n.bugPriorityDimension.group().reduce(p,f,h),n.bugPriorityChartFilteredDimensionGroup=m(n.bugPriorityDimensionGroup),n.componentDimensionGroup=n.componentDimension.group().reduce(p,f,h),n.componentChartFilteredDimensionGroup=m(n.componentDimensionGroup),n.stackedBarChartConfigure=function(e,t,n){return e.group(t,"avgBeforeReviewTime").valueAccessor(function(e){return r.intDisplayFormat(e.value.sumBeforeReviewTime/e.value.count)}).stack(t,"avgReviewTime",function(e){return r.intDisplayFormat(e.value.sumReviewTime/e.value.count)}).stack(t,"avgMaintainerTime",function(e){return r.intDisplayFormat(e.value.sumMaintainerTime/e.value.count)}).stack(t,"avgSubmitToMergeTime",function(e){return r.intDisplayFormat(e.value.sumSubmitToMergeTime/e.value.count)}).stack(t,"avgMergeTime",function(e){return r.intDisplayFormat(e.value.sumMergeTime/e.value.count)}).on("renderlet",function(e){return r.setOrdonalAxis(e)}).title(function(t){var i,o;return i=0,e.stack().forEach(function(e,n){return e.hidden?void 0:i+=t.value[e.name.replace("avg","sum")]}),o=r.padding_right(n+":",32)+t.key+"\n"+r.padding_right("Nbr:",32)+t.value.count+"\n\n",e.stack().forEach(function(e,n){var a;return e.hidden?void 0:(a=e.name.replace("avg",""),o+=r.displayKeyTimePercent(a.replace("Time","")+":",t.value["sum"+a]/t.value.count,t.value["sum"+a]/i*100))}),o}),e.yAxis().tickFormat(d3.format(",d"))},n.domainChartConfigure=function(e){return n.stackedBarChartConfigure(e,n.domainChartFilteredDimensionGroup,"Patch Domain")},n.cycleChartConfigure=function(e){return n.stackedBarChartConfigure(e,n.cycleDimensionGroup,"Work Week"),e.on("renderlet",function(e){return r.setWWAxis(e)})},n.builderChartConfigure=function(e){return n.stackedBarChartConfigure(e,n.builderChartFilteredDimensionGroup,"Cactus Branch")},n.gitBranchChartConfigure=function(e){return n.stackedBarChartConfigure(e,n.gitBranchChartFilteredDimensionGroup,"Git Branch")},n.bugPlatformChartConfigure=function(e){return n.stackedBarChartConfigure(e,n.bugPlatformChartFilteredDimensionGroup,"Bug Platform/Program")},n.bugTypeChartConfigure=function(e){return n.stackedBarChartConfigure(e,n.bugTypeChartFilteredDimensionGroup,"Bug Type")},n.bugPriorityChartConfigure=function(e){return n.stackedBarChartConfigure(e,n.bugPriorityChartFilteredDimensionGroup,"Bug Priority")},n.componentChartConfigure=function(e){return n.stackedBarChartConfigure(e,n.componentChartFilteredDimensionGroup,"Bug Component")},n.NbPatchBarChartConfigure=function(e,t){return e.valueAccessor(function(e){return e.value.count}).title(function(e){return t+": "+e.key+"\n\nNbr: "+e.value.count}).on("renderlet",function(e){return r.setOrdonalAxis(e)})},n.wwNbPatchBarChartSetup=function(e){return n.NbPatchBarChartConfigure(e,"Work Week"),e.on("renderlet",function(e){return r.setWWAxis(e)})},n.builderNbPatchBarChartSetup=function(e){return n.NbPatchBarChartConfigure(e,"Cactus Branch")},n.bugPlatformNbPatchBarChartSetup=function(e){return n.NbPatchBarChartConfigure(e,"Bug Platform/Program")},n.domainNbPatchBarChartSetup=function(e){return n.NbPatchBarChartConfigure(e,"Patch Domain")},n.gitBranchNbPatchBarChartSetup=function(e){return n.NbPatchBarChartConfigure(e,"Git Branch")},n.bugTypeNbBarChartSetup=function(e){return n.NbPatchBarChartConfigure(e,"Bug Type")},n.bugPriorityNbPatchBarChartSetup=function(e){return n.NbPatchBarChartConfigure(e,"Bug Priority")},n.componentNbPatchBarChartSetup=function(e){return n.NbPatchBarChartConfigure(e,"Bug Component")},n.tableGroup=function(e){return"WW"+e.week},n.tablePostFormat=function(e){return e.columns([{label:"Patch Id",format:function(e){return'<a href="'+i.urls.gerrit_url+e.Id+'" target=_blank>'+e.Id+"</a>"}},{label:"Date",format:function(e){return d3.time.format("%d/%m/%y")(e.date)}},{label:"Before Review Time",format:function(e){return e.BeforeReviewTime}},{label:"Review Time",format:function(e){return e.ReviewTime}},{label:"Maintainer Time",format:function(e){return e.MaintainerTime}},{label:"Submit To Merge Time",format:function(e){return e.SubmitToMergeTime}},{label:"Merge Time",format:function(e){return e.MergeTime}}]).sortBy(function(e){var t;return t=d3.time.format("%d/%m/%y")(e.date)+e.Id}).order(d3.descending),n.db=e,n.nb_columns_original=e.columns().length},void n.init_component_drop_down_list())})}])}.call(this),function(){angular.module("app").controller("patch_merged_summaryController",["$state","$scope","metricsService","config","$timeout","$location","glTopbarContextualActionsService",function(e,t,n,r,i,o,a){var s,u;return u=e.current.data,t.loading=!0,s=e.current.data.dbName,t.pageRoot=o.path().split("/")[1],n.jsv(u.api_url).then(function(e){var o,a,s,l,c,d,p,f,h;return 0===e.length?void(t.nodata=!0):(t.loading=!1,t.csvUrl=u.api_url.replace(/\/jsv/,"/csv"),t.sqlUrl=u.api_url.replace(/\/jsv/,"/sql"),a=dc.dataCount(".null"),a._doRender=function(){return i(function(){return t.filter_count=a.dimension().size(),t.total_count=a.group().value()})},f=[],e.forEach(function(e,t){var r,i,o,a,s;try{e.nb_cr_minus1=+e.nb_cr_minus1,e.nb_cr_minus2=+e.nb_cr_minus2,e.nb_v_minus1=+e.nb_v_minus1,e.nb_auto_failure=+e.nb_auto_failure,e.nb_preInt_failure=+e.nb_preInt_failure,e.nb_preMerge_failure=+e.nb_preMerge_failure,e.nb_mergeRequest_failure=+e.nb_mergeRequest_failure,e.IsMerged=+e.IsMerged,e.IsRevert=+e.IsRevert,e.IsAbandonned=+e.IsAbandonned,e.date=n.parseCsvDate(e.first_patchset_date),s=n.getIntelWW(e.first_patchset_date),r=new Date,i=n.getIntelWW(r),s!==i&&(e.work_week=s),1===e.IsMerged?e.status="Merged":1===e.IsAbandonned?e.status="Abandonned":e.status="Open",1===e.nb_cr_minus1?e.cr_minus1="CR-1=1":2===e.nb_cr_minus1?e.cr_minus1="CR-1=2":e.nb_cr_minus1>2?e.cr_minus1="CR-1>2":e.cr_minus1="Others",1===e.nb_cr_minus2?e.cr_minus2="CR-2=1":2===e.nb_cr_minus2?e.cr_minus2="CR-2=2":e.nb_cr_minus2>2?e.cr_minus2="CR-2>2":e.cr_minus2="Others",1===e.nb_v_minus1?e.v_minus1="V-1=1":2===e.nb_v_minus1?e.v_minus1="V-1=2":e.nb_v_minus1>2?e.v_minus1="V-1>2":e.v_minus1="Others",e.nb_auto_failure>0?e.auto="Auto_Fail>0":e.auto="Others",e.nb_preInt_failure>0?e.preInt="PreInt_Fail>0":e.preInt="Others",e.nb_preMerge_failure>0?e.preMerge="PreMerg_Fail>0":e.preMerge="Others",e.nb_mergeRequest_failure>0?e.mergeRequest="MergeRequest_Fail>0":e.mergeRequest="Others",e.nb_cr_minus1>0||e.nb_cr_minus2>0?e.CR="CR-1/-2":e.CR="NA(NO CR-1/-2)",e.nb_v_minus1>0?e.V="V-1":e.V="NA(NO V-1)",1===e.IsRevert?e.revert="Revert":e.revert="NA(NO Revert)",f.push(e)}catch(a){return o=a,void console.log("catched "+o)}}),t.xf=h=crossfilter(f),t.all=o=h.groupAll(),t.all_records=e.length,t.all_filtered_records=e.length-f.length,a.dimension(h),a.group(o),p=function(){return dc.redrawAll(),dc.renderAll()},t.CR_Dimension=h.dimension(function(e){return e.CR}),t.CR_DimensionGroup=t.CR_Dimension.group().reduceCount(),t.CR_PieChart=function(e){e.ordinalColors(n.siteColors).title(function(t){return n.pieTextDisplay(e,o,t)}).label(function(t){return n.pieValueDisplay(e,o,t)})},t.V_Dimension=h.dimension(function(e){return e.V}),t.V_DimensionGroup=t.V_Dimension.group().reduceCount(),t.V_PieChart=function(e){e.ordinalColors(n.siteColors).title(function(t){return n.pieTextDisplay(e,o,t)}).label(function(t){return n.pieValueDisplay(e,o,t)})},t.RevertDimension=h.dimension(function(e){return e.revert}),t.RevertDimensionGroup=t.RevertDimension.group().reduceCount(),t.RevertPieChart=function(e){e.ordinalColors(n.siteColors).title(function(t){return n.pieTextDisplay(e,o,t)}).label(function(t){return n.pieValueDisplay(e,o,t)})},t.DomainNameDimension=h.dimension(function(e){return e.domain_name}),t.OwnerDimension=h.dimension(function(e){return e.owner}),t.GitProjectDimension=h.dimension(function(e){return e.GitProject}),t.GitBranchDimension=h.dimension(function(e){return e.GitBranch}),t.CactusBranchDimension=h.dimension(function(e){return e.CactusBranch}),t.WorkWeekDimension=h.dimension(function(e){return n.getIntelWW(e.first_patchset_date)}),t.date_dimension=s=h.dimension(function(e){return e.date}),l=function(){return[s]},t.date_picker=n.makeFromToDayPicker(t,l,p,d=65),c=["#2CA02C","#1F77B4","#D62728","#808080","#9467BD","#FF7F0E","#ffe404","#A2B5A1","#EBD4B4","#8c564b","#FCD4DC","#58585A"],t.cr_1_CountDimension=h.dimension(function(e){return e.cr_minus1}),t.cr_1_DimensionGroup=t.cr_1_CountDimension.group().reduceCount(),t.cr_1_CountRowChart=function(e){return e.colors("#2CA02C").group(t.cr_1_DimensionGroup).valueAccessor(function(e){return e.value}).data(function(e){return t.cr_1_DimensionGroup.all().filter(function(e){return"Others"!==e.key})}).on("renderlet",function(e){return n.setOrdonalAxis(e)}).fixedBarHeight(140/3).title(function(e){return"Number:		"+e.value}).x(d3.scale.linear().range([0,e.width()-125]).domain([0,250])).xAxis().scale(e.x())},t.cr_2_CountDimension=h.dimension(function(e){return e.cr_minus2}),t.cr_2_DimensionGroup=t.cr_2_CountDimension.group().reduceCount(),t.cr_2_CountRowChart=function(e){return e.colors("#1F77B4").group(t.cr_2_DimensionGroup).valueAccessor(function(e){return e.value}).data(function(e){return t.cr_2_DimensionGroup.all().filter(function(e){return"Others"!==e.key})}).on("renderlet",function(e){return n.setOrdonalAxis(e)}).fixedBarHeight(140/3).title(function(e){return"Number:		"+e.value;
}).x(d3.scale.linear().range([0,e.width()-125]).domain([0,250])).xAxis().scale(e.x())},t.v_1_CountDimension=h.dimension(function(e){return e.v_minus1}),t.v_1_DimensionGroup=t.v_1_CountDimension.group().reduceCount(),t.v_1_CountRowChart=function(e){return e.colors("#D62728").group(t.v_1_DimensionGroup).valueAccessor(function(e){return e.value}).data(function(e){return t.v_1_DimensionGroup.all().filter(function(e){return"Others"!==e.key})}).on("renderlet",function(e){return n.setOrdonalAxis(e)}).fixedBarHeight(140/3).title(function(e){return"Number:		"+e.value}).x(d3.scale.linear().range([0,e.width()-125]).domain([0,250])).xAxis().scale(e.x())},t.autoCountDimension=h.dimension(function(e){return e.auto}),t.autoCountDimensionGroup=t.autoCountDimension.group().reduceCount(),t.autoCountRowChart=function(e){return e.colors("#FF7F0E").group(t.autoCountDimensionGroup).valueAccessor(function(e){return e.value}).data(function(e){return t.autoCountDimensionGroup.all().filter(function(e){return"Others"!==e.key})}).on("renderlet",function(e){return n.setOrdonalAxis(e)}).title(function(e){return"Number:		"+e.value}).x(d3.scale.linear().range([0,e.width()-75]).domain([0,150])).xAxis().scale(e.x())},t.preIntCountDimension=h.dimension(function(e){return e.preInt}),t.preIntCountDimensionGroup=t.preIntCountDimension.group().reduceCount(),t.preIntCountRowChart=function(e){return e.colors("#9467BD").group(t.preIntCountDimensionGroup).valueAccessor(function(e){return e.value}).data(function(e){return t.preIntCountDimensionGroup.all().filter(function(e){return"Others"!==e.key})}).on("renderlet",function(e){return n.setOrdonalAxis(e)}).title(function(e){return"Number:		"+e.value}).x(d3.scale.linear().range([0,e.width()-75]).domain([0,150])).xAxis().scale(e.x())},t.preMergeCountDimension=h.dimension(function(e){return e.preMerge}),t.preMergeCountDimensionGroup=t.preMergeCountDimension.group().reduceCount(),t.preMergeCountRowChart=function(e){return e.colors("#8c564b").group(t.preMergeCountDimensionGroup).valueAccessor(function(e){return e.value}).data(function(e){return t.preMergeCountDimensionGroup.all().filter(function(e){return"Others"!==e.key})}).on("renderlet",function(e){return n.setOrdonalAxis(e)}).title(function(e){return"Number:		"+e.value}).x(d3.scale.linear().range([0,e.width()-75]).domain([0,150])).xAxis().scale(e.x())},t.mergeRequestCountDimension=h.dimension(function(e){return e.mergeRequest}),t.mergeRequestCountDimensionGroup=t.mergeRequestCountDimension.group().reduceCount(),t.mergeRequestCountRowChart=function(e){return e.colors("#58585A").group(t.mergeRequestCountDimensionGroup).valueAccessor(function(e){return e.value}).data(function(e){return t.mergeRequestCountDimensionGroup.all().filter(function(e){return"Others"!==e.key})}).on("renderlet",function(e){return n.setOrdonalAxis(e)}).title(function(e){return"Number:		"+e.value}).x(d3.scale.linear().range([0,e.width()-75]).domain([0,150])).xAxis().scale(e.x())},t.linesDimension=h.dimension(function(e){return e.work_week}),t.CR_1_linesDimensionGroup=t.linesDimension.group().reduce(function(e,t){return++e.count,t.nb_cr_minus1>0&&(e.nb_cr1+=1),e},function(e,t){return--e.count,t.nb_cr_minus1>0&&(e.nb_cr1-=1),e},function(){var e;return e={},e.count=0,e.nb_cr1=0,e}),t.CR_2_linesDimensionGroup=t.linesDimension.group().reduce(function(e,t){return++e.count,t.nb_cr_minus2>0&&(e.nb_cr2+=1),e},function(e,t){return--e.count,t.nb_cr_minus2>0&&(e.nb_cr2-=1),e},function(){var e;return e={},e.count=0,e.nb_cr2=0,e}),t.V_1_linesDimensionGroup=t.linesDimension.group().reduce(function(e,t){return++e.count,t.nb_v_minus1>0&&(e.nb_v1+=1),e},function(e,t){return--e.count,t.nb_v_minus1>0&&(e.nb_v1-=1),e},function(){var e;return e={},e.count=0,e.nb_v1=0,e}),t.Auto_linesDimensionGroup=t.linesDimension.group().reduce(function(e,t){return++e.count,t.nb_auto_failure>0&&(e.nb_auto+=1),e},function(e,t){return--e.count,t.nb_auto_failure>0&&(e.nb_auto-=1),e},function(){var e;return e={},e.count=0,e.nb_auto=0,e}),t.PreInt_linesDimensionGroup=t.linesDimension.group().reduce(function(e,t){return++e.count,t.nb_preInt_failure>0&&(e.nb_preInt+=1),e},function(e,t){return--e.count,t.nb_preInt_failure>0&&(e.nb_preInt-=1),e},function(){var e;return e={},e.count=0,e.nb_preInt=0,e}),t.PreMerge_linesDimensionGroup=t.linesDimension.group().reduce(function(e,t){return++e.count,t.nb_preMerge_failure>0&&(e.nb_preMerge+=1),e},function(e,t){return--e.count,t.nb_preMerge_failure>0&&(e.nb_preMerge-=1),e},function(){var e;return e={},e.count=0,e.nb_preMerge=0,e}),t.MergeRequest_linesDimensionGroup=t.linesDimension.group().reduce(function(e,t){return++e.count,t.nb_mergeRequest_failure>0&&(e.nb_mergeRequest+=1),e},function(e,t){return--e.count,t.nb_mergeRequest_failure>0&&(e.nb_mergeRequest-=1),e},function(){var e;return e={},e.count=0,e.nb_mergeRequest=0,e}),t.compositeChartOptions=function(e){var r,i,o,a,s,u,l;return i=dc.lineChart(e).dimension(t.linesDimension).group(t.CR_1_linesDimensionGroup,"CR-1").valueAccessor(function(e){return n.computePercentage(e.value.nb_cr1,e.value.count)}).colors("#2CA02C").renderArea(!1).renderDataPoints({radius:2,fillOpacity:.8,strokeOpacity:0}).interpolate("monotone").title(function(e){return"Work Week:		"+e.key+"\nPatchNbr:		"+e.value.count+"\n\nCR-1:	"+n.displayPercentageAndCount(e.value.nb_cr1,e.value.count)}),o=dc.lineChart(e).dimension(t.linesDimension).group(t.CR_2_linesDimensionGroup,"CR-2").valueAccessor(function(e){return n.computePercentage(e.value.nb_cr2,e.value.count)}).colors("#1F77B4").renderArea(!1).renderDataPoints({radius:2,fillOpacity:.8,strokeOpacity:0}).interpolate("monotone").title(function(e){return"Work Week:		"+e.key+"\nPatchNbr:		"+e.value.count+"\n\nCR-2:	"+n.displayPercentageAndCount(e.value.nb_cr2,e.value.count)}),l=dc.lineChart(e).dimension(t.linesDimension).group(t.V_1_linesDimensionGroup,"V-1").valueAccessor(function(e){return n.computePercentage(e.value.nb_v1,e.value.count)}).colors("#D62728").renderArea(!1).renderDataPoints({radius:2,fillOpacity:.8,strokeOpacity:0}).interpolate("monotone").title(function(e){return"Work Week:		"+e.key+"\nPatchNbr:		"+e.value.count+"\n\nV-1:	"+n.displayPercentageAndCount(e.value.nb_v1,e.value.count)}),r=dc.lineChart(e).dimension(t.linesDimension).group(t.Auto_linesDimensionGroup,"Auto_Fail").valueAccessor(function(e){return n.computePercentage(e.value.nb_auto,e.value.count)}).colors("#FF7F0E").renderArea(!1).renderDataPoints({radius:2,fillOpacity:.8,strokeOpacity:0}).interpolate("monotone").title(function(e){return"Work Week:		"+e.key+"\nPatchNbr:		"+e.value.count+"\n\nAuto_Fail:	"+n.displayPercentageAndCount(e.value.nb_auto,e.value.count)}),s=dc.lineChart(e).dimension(t.linesDimension).group(t.PreInt_linesDimensionGroup,"PreInt_Fail").valueAccessor(function(e){return n.computePercentage(e.value.nb_preInt,e.value.count)}).colors("#9467BD").renderArea(!1).renderDataPoints({radius:2,fillOpacity:.8,strokeOpacity:0}).interpolate("monotone").title(function(e){return"Work Week:		"+e.key+"\nPatchNbr:		"+e.value.count+"\n\nPreInt_Fail:	"+n.displayPercentageAndCount(e.value.nb_preInt,e.value.count)}),u=dc.lineChart(e).dimension(t.linesDimension).group(t.PreMerge_linesDimensionGroup,"PreMerge_Fail").valueAccessor(function(e){return n.computePercentage(e.value.nb_preMerge,e.value.count)}).colors("#8c564b").renderArea(!1).renderDataPoints({radius:2,fillOpacity:.8,strokeOpacity:0}).interpolate("monotone").title(function(e){return"Work Week:		"+e.key+"\nPatchNbr:		"+e.value.count+"\n\nPreMerge_Fail:	"+n.displayPercentageAndCount(e.value.nb_preMerge,e.value.count)}),a=dc.lineChart(e).dimension(t.linesDimension).group(t.MergeRequest_linesDimensionGroup,"MergeRequest_Fail").valueAccessor(function(e){return n.computePercentage(e.value.nb_mergeRequest,e.value.count)}).colors("#58585A").renderArea(!1).renderDataPoints({radius:2,fillOpacity:.8,strokeOpacity:0}).interpolate("monotone").title(function(e){return"Work Week:		"+e.key+"\nPatchNbr:		"+e.value.count+"\n\nMergeRequest_Fail:	"+n.displayPercentageAndCount(e.value.nb_mergeRequest,e.value.count)}),e.compose([i,o,l,r,s,u,a]).on("renderlet",function(e){return n.setWWAxis(e)})._rangeBandPadding(1).yAxis().tickFormat(d3.format("s"))},t.patchDimension=h.dimension(function(e){return e.ChangeID}),t.tableGroup=function(e){return n.getIntelWW(e.date)},void(t.tablePostFormat=function(e){return e.columns([function(e){return 1===e.IsRevert?"<a style='color:red' href=\""+r.urls.gerrit_url+e.ChangeID+'" target=_blank>'+e.ChangeID+"</a>":'<a href="'+r.urls.gerrit_url+e.ChangeID+'" target=_blank>'+e.ChangeID+"</a>"},function(e){return"None"===e.owner?"-":e.owner},function(e){return"None"===e.domain_name?"-":e.domain_name},function(e){return e.first_patchset_date},function(e){return e.nb_cr_minus1},function(e){return e.nb_cr_minus2},function(e){return e.nb_v_minus1},function(e){return e.nb_auto_failure},function(e){return e.nb_preInt_failure},function(e){return e.nb_preMerge_failure},function(e){return e.nb_mergeRequest_failure},function(e){return 0===e.nb_auto_failure&&0===e.nb_preInt_failure&&0===e.nb_preMerge_failure&&0===e.nb_mergeRequest_failure?"-":'<a href="#/'+t.pageRoot+"/patch_Detail?patchID="+e.ChangeID+'" target=_blank>VIEW</a>'}]).sortBy(function(e){return e.first_patchset_date}).order(d3.descending)}))})}])}.call(this),function(){angular.module("app").controller("patch_open_summaryController",["$state","$scope","metricsService","config","$timeout","$location","glTopbarContextualActionsService",function(e,t,n,r,i,o,a){var s,u;return u=e.current.data,t.loading=!0,s=e.current.data.dbName,t.pageRoot=o.path().split("/")[1],n.jsv(u.api_url).then(function(e){var o,a,s,l,c,d,p,f,h;return 0===e.length?void(t.nodata=!0):(t.loading=!1,t.csvUrl=u.api_url.replace(/\/jsv/,"/csv"),t.sqlUrl=u.api_url.replace(/\/jsv/,"/sql"),a=dc.dataCount(".null"),a._doRender=function(){return i(function(){return t.filter_count=a.dimension().size(),t.total_count=a.group().value()})},f=[],e.forEach(function(e,t){var r,i,o,a,s;try{e.nb_cr_minus1=+e.nb_cr_minus1,e.nb_cr_minus2=+e.nb_cr_minus2,e.nb_v_minus1=+e.nb_v_minus1,e.nb_auto_failure=+e.nb_auto_failure,e.nb_preInt_failure=+e.nb_preInt_failure,e.nb_preMerge_failure=+e.nb_preMerge_failure,e.nb_mergeRequest_failure=+e.nb_mergeRequest_failure,e.IsMerged=+e.IsMerged,e.IsRevert=+e.IsRevert,e.IsAbandonned=+e.IsAbandonned,e.date=n.parseCsvDate(e.first_patchset_date),s=n.getIntelWW(e.first_patchset_date),r=new Date,i=n.getIntelWW(r),s!==i&&(e.work_week=s),1===e.IsMerged?e.status="Merged":1===e.IsAbandonned?e.status="Abandonned":e.status="Open",1===e.nb_cr_minus1?e.cr_minus1="CR-1=1":2===e.nb_cr_minus1?e.cr_minus1="CR-1=2":e.nb_cr_minus1>2?e.cr_minus1="CR-1>2":e.cr_minus1="Others",1===e.nb_cr_minus2?e.cr_minus2="CR-2=1":2===e.nb_cr_minus2?e.cr_minus2="CR-2=2":e.nb_cr_minus2>2?e.cr_minus2="CR-2>2":e.cr_minus2="Others",1===e.nb_v_minus1?e.v_minus1="V-1=1":2===e.nb_v_minus1?e.v_minus1="V-1=2":e.nb_v_minus1>2?e.v_minus1="V-1>2":e.v_minus1="Others",e.nb_auto_failure>0?e.auto="Auto_Fail>0":e.auto="Others",e.nb_preInt_failure>0?e.preInt="PreInt_Fail>0":e.preInt="Others",e.nb_preMerge_failure>0?e.preMerge="PreMerg_Fail>0":e.preMerge="Others",e.nb_mergeRequest_failure>0?e.mergeRequest="MergeRequest_Fail>0":e.mergeRequest="Others",e.nb_cr_minus1>0||e.nb_cr_minus2>0?e.CR="CR-1/-2":e.CR="NA(NO CR-1/-2)",e.nb_v_minus1>0?e.V="V-1":e.V="NA(NO V-1)",1===e.IsRevert?e.revert="Revert":e.revert="NA(NO Revert)",f.push(e)}catch(a){return o=a,void console.log("catched "+o)}}),t.xf=h=crossfilter(f),t.all=o=h.groupAll(),t.all_records=e.length,t.all_filtered_records=e.length-f.length,a.dimension(h),a.group(o),p=function(){return dc.redrawAll(),dc.renderAll()},t.CR_Dimension=h.dimension(function(e){return e.CR}),t.CR_DimensionGroup=t.CR_Dimension.group().reduceCount(),t.CR_PieChart=function(e){e.ordinalColors(n.siteColors).title(function(t){return n.pieTextDisplay(e,o,t)}).label(function(t){return n.pieValueDisplay(e,o,t)})},t.V_Dimension=h.dimension(function(e){return e.V}),t.V_DimensionGroup=t.V_Dimension.group().reduceCount(),t.V_PieChart=function(e){e.ordinalColors(n.siteColors).title(function(t){return n.pieTextDisplay(e,o,t)}).label(function(t){return n.pieValueDisplay(e,o,t)})},t.RevertDimension=h.dimension(function(e){return e.revert}),t.RevertDimensionGroup=t.RevertDimension.group().reduceCount(),t.RevertPieChart=function(e){e.ordinalColors(n.siteColors).title(function(t){return n.pieTextDisplay(e,o,t)}).label(function(t){return n.pieValueDisplay(e,o,t)})},t.DomainNameDimension=h.dimension(function(e){return e.domain_name}),t.OwnerDimension=h.dimension(function(e){return e.owner}),t.GitProjectDimension=h.dimension(function(e){return e.GitProject}),t.GitBranchDimension=h.dimension(function(e){return e.GitBranch}),t.CactusBranchDimension=h.dimension(function(e){return e.CactusBranch}),t.WorkWeekDimension=h.dimension(function(e){return n.getIntelWW(e.first_patchset_date)}),t.date_dimension=s=h.dimension(function(e){return e.date}),l=function(){return[s]},t.date_picker=n.makeFromToDayPicker(t,l,p,d=65),c=["#2CA02C","#1F77B4","#D62728","#808080","#9467BD","#FF7F0E","#ffe404","#A2B5A1","#EBD4B4","#8c564b","#FCD4DC","#58585A"],t.cr_1_CountDimension=h.dimension(function(e){return e.cr_minus1}),t.cr_1_DimensionGroup=t.cr_1_CountDimension.group().reduceCount(),t.cr_1_CountRowChart=function(e){return e.colors("#2CA02C").group(t.cr_1_DimensionGroup).valueAccessor(function(e){return e.value}).data(function(e){return t.cr_1_DimensionGroup.all().filter(function(e){return"Others"!==e.key})}).on("renderlet",function(e){return n.setOrdonalAxis(e)}).fixedBarHeight(140/3).title(function(e){return"Number:		"+e.value}).x(d3.scale.linear().range([0,e.width()-125]).domain([0,250])).xAxis().scale(e.x())},t.cr_2_CountDimension=h.dimension(function(e){return e.cr_minus2}),t.cr_2_DimensionGroup=t.cr_2_CountDimension.group().reduceCount(),t.cr_2_CountRowChart=function(e){return e.colors("#1F77B4").group(t.cr_2_DimensionGroup).valueAccessor(function(e){return e.value}).data(function(e){return t.cr_2_DimensionGroup.all().filter(function(e){return"Others"!==e.key})}).on("renderlet",function(e){return n.setOrdonalAxis(e)}).fixedBarHeight(140/3).title(function(e){return"Number:		"+e.value}).x(d3.scale.linear().range([0,e.width()-125]).domain([0,250])).xAxis().scale(e.x())},t.v_1_CountDimension=h.dimension(function(e){return e.v_minus1}),t.v_1_DimensionGroup=t.v_1_CountDimension.group().reduceCount(),t.v_1_CountRowChart=function(e){return e.colors("#D62728").group(t.v_1_DimensionGroup).valueAccessor(function(e){return e.value}).data(function(e){return t.v_1_DimensionGroup.all().filter(function(e){return"Others"!==e.key})}).on("renderlet",function(e){return n.setOrdonalAxis(e)}).fixedBarHeight(140/3).title(function(e){return"Number:		"+e.value}).x(d3.scale.linear().range([0,e.width()-125]).domain([0,250])).xAxis().scale(e.x())},t.autoCountDimension=h.dimension(function(e){return e.auto}),t.autoCountDimensionGroup=t.autoCountDimension.group().reduceCount(),t.autoCountRowChart=function(e){return e.colors("#FF7F0E").group(t.autoCountDimensionGroup).valueAccessor(function(e){return e.value}).data(function(e){return t.autoCountDimensionGroup.all().filter(function(e){return"Others"!==e.key})}).on("renderlet",function(e){return n.setOrdonalAxis(e)}).title(function(e){return"Number:		"+e.value}).x(d3.scale.linear().range([0,e.width()-75]).domain([0,150])).xAxis().scale(e.x())},t.preIntCountDimension=h.dimension(function(e){return e.preInt}),t.preIntCountDimensionGroup=t.preIntCountDimension.group().reduceCount(),t.preIntCountRowChart=function(e){return e.colors("#9467BD").group(t.preIntCountDimensionGroup).valueAccessor(function(e){return e.value}).data(function(e){return t.preIntCountDimensionGroup.all().filter(function(e){return"Others"!==e.key})}).on("renderlet",function(e){return n.setOrdonalAxis(e)}).title(function(e){return"Number:		"+e.value}).x(d3.scale.linear().range([0,e.width()-75]).domain([0,150])).xAxis().scale(e.x())},t.preMergeCountDimension=h.dimension(function(e){return e.preMerge}),t.preMergeCountDimensionGroup=t.preMergeCountDimension.group().reduceCount(),t.preMergeCountRowChart=function(e){return e.colors("#8c564b").group(t.preMergeCountDimensionGroup).valueAccessor(function(e){return e.value}).data(function(e){return t.preMergeCountDimensionGroup.all().filter(function(e){return"Others"!==e.key})}).on("renderlet",function(e){return n.setOrdonalAxis(e)}).title(function(e){return"Number:		"+e.value}).x(d3.scale.linear().range([0,e.width()-75]).domain([0,150])).xAxis().scale(e.x())},t.mergeRequestCountDimension=h.dimension(function(e){return e.mergeRequest}),t.mergeRequestCountDimensionGroup=t.mergeRequestCountDimension.group().reduceCount(),t.mergeRequestCountRowChart=function(e){return e.colors("#58585A").group(t.mergeRequestCountDimensionGroup).valueAccessor(function(e){return e.value}).data(function(e){return t.mergeRequestCountDimensionGroup.all().filter(function(e){return"Others"!==e.key})}).on("renderlet",function(e){return n.setOrdonalAxis(e)}).title(function(e){return"Number:		"+e.value}).x(d3.scale.linear().range([0,e.width()-75]).domain([0,150])).xAxis().scale(e.x())},t.linesDimension=h.dimension(function(e){return e.work_week}),t.CR_1_linesDimensionGroup=t.linesDimension.group().reduce(function(e,t){return++e.count,t.nb_cr_minus1>0&&(e.nb_cr1+=1),e},function(e,t){return--e.count,t.nb_cr_minus1>0&&(e.nb_cr1-=1),e},function(){var e;return e={},e.count=0,e.nb_cr1=0,e}),t.CR_2_linesDimensionGroup=t.linesDimension.group().reduce(function(e,t){return++e.count,t.nb_cr_minus2>0&&(e.nb_cr2+=1),e},function(e,t){return--e.count,t.nb_cr_minus2>0&&(e.nb_cr2-=1),e},function(){var e;return e={},e.count=0,e.nb_cr2=0,e}),t.V_1_linesDimensionGroup=t.linesDimension.group().reduce(function(e,t){return++e.count,t.nb_v_minus1>0&&(e.nb_v1+=1),e},function(e,t){return--e.count,t.nb_v_minus1>0&&(e.nb_v1-=1),e},function(){var e;return e={},e.count=0,e.nb_v1=0,e}),t.Auto_linesDimensionGroup=t.linesDimension.group().reduce(function(e,t){return++e.count,t.nb_auto_failure>0&&(e.nb_auto+=1),e},function(e,t){return--e.count,t.nb_auto_failure>0&&(e.nb_auto-=1),e},function(){var e;return e={},e.count=0,e.nb_auto=0,e}),t.PreInt_linesDimensionGroup=t.linesDimension.group().reduce(function(e,t){return++e.count,t.nb_preInt_failure>0&&(e.nb_preInt+=1),e},function(e,t){return--e.count,t.nb_preInt_failure>0&&(e.nb_preInt-=1),e},function(){var e;return e={},e.count=0,e.nb_preInt=0,e}),t.PreMerge_linesDimensionGroup=t.linesDimension.group().reduce(function(e,t){return++e.count,t.nb_preMerge_failure>0&&(e.nb_preMerge+=1),e},function(e,t){return--e.count,t.nb_preMerge_failure>0&&(e.nb_preMerge-=1),e},function(){var e;return e={},e.count=0,e.nb_preMerge=0,e}),t.MergeRequest_linesDimensionGroup=t.linesDimension.group().reduce(function(e,t){return++e.count,t.nb_mergeRequest_failure>0&&(e.nb_mergeRequest+=1),e},function(e,t){return--e.count,t.nb_mergeRequest_failure>0&&(e.nb_mergeRequest-=1),e},function(){var e;return e={},e.count=0,e.nb_mergeRequest=0,e}),t.compositeChartOptions=function(e){var r,i,o,a,s,u,l;return i=dc.lineChart(e).dimension(t.linesDimension).group(t.CR_1_linesDimensionGroup,"CR-1").valueAccessor(function(e){return n.computePercentage(e.value.nb_cr1,e.value.count)}).colors("#2CA02C").renderArea(!1).renderDataPoints({radius:2,fillOpacity:.8,strokeOpacity:0}).interpolate("monotone").title(function(e){return"Work Week:		"+e.key+"\nPatchNbr:		"+e.value.count+"\n\nCR-1:	"+n.displayPercentageAndCount(e.value.nb_cr1,e.value.count)}),o=dc.lineChart(e).dimension(t.linesDimension).group(t.CR_2_linesDimensionGroup,"CR-2").valueAccessor(function(e){return n.computePercentage(e.value.nb_cr2,e.value.count)}).colors("#1F77B4").renderArea(!1).renderDataPoints({radius:2,fillOpacity:.8,strokeOpacity:0}).interpolate("monotone").title(function(e){return"Work Week:		"+e.key+"\nPatchNbr:		"+e.value.count+"\n\nCR-2:	"+n.displayPercentageAndCount(e.value.nb_cr2,e.value.count)}),l=dc.lineChart(e).dimension(t.linesDimension).group(t.V_1_linesDimensionGroup,"V-1").valueAccessor(function(e){return n.computePercentage(e.value.nb_v1,e.value.count)}).colors("#D62728").renderArea(!1).renderDataPoints({radius:2,fillOpacity:.8,strokeOpacity:0}).interpolate("monotone").title(function(e){return"Work Week:		"+e.key+"\nPatchNbr:		"+e.value.count+"\n\nV-1:	"+n.displayPercentageAndCount(e.value.nb_v1,e.value.count)}),r=dc.lineChart(e).dimension(t.linesDimension).group(t.Auto_linesDimensionGroup,"Auto_Fail").valueAccessor(function(e){return n.computePercentage(e.value.nb_auto,e.value.count)}).colors("#FF7F0E").renderArea(!1).renderDataPoints({radius:2,fillOpacity:.8,strokeOpacity:0}).interpolate("monotone").title(function(e){return"Work Week:		"+e.key+"\nPatchNbr:		"+e.value.count+"\n\nAuto_Fail:	"+n.displayPercentageAndCount(e.value.nb_auto,e.value.count)}),s=dc.lineChart(e).dimension(t.linesDimension).group(t.PreInt_linesDimensionGroup,"PreInt_Fail").valueAccessor(function(e){return n.computePercentage(e.value.nb_preInt,e.value.count)}).colors("#9467BD").renderArea(!1).renderDataPoints({radius:2,fillOpacity:.8,strokeOpacity:0}).interpolate("monotone").title(function(e){return"Work Week:		"+e.key+"\nPatchNbr:		"+e.value.count+"\n\nPreInt_Fail:	"+n.displayPercentageAndCount(e.value.nb_preInt,e.value.count)}),u=dc.lineChart(e).dimension(t.linesDimension).group(t.PreMerge_linesDimensionGroup,"PreMerge_Fail").valueAccessor(function(e){return n.computePercentage(e.value.nb_preMerge,e.value.count)}).colors("#8c564b").renderArea(!1).renderDataPoints({radius:2,fillOpacity:.8,strokeOpacity:0}).interpolate("monotone").title(function(e){return"Work Week:		"+e.key+"\nPatchNbr:		"+e.value.count+"\n\nPreMerge_Fail:	"+n.displayPercentageAndCount(e.value.nb_preMerge,e.value.count)}),a=dc.lineChart(e).dimension(t.linesDimension).group(t.MergeRequest_linesDimensionGroup,"MergeRequest_Fail").valueAccessor(function(e){return n.computePercentage(e.value.nb_mergeRequest,e.value.count)}).colors("#58585A").renderArea(!1).renderDataPoints({radius:2,fillOpacity:.8,strokeOpacity:0}).interpolate("monotone").title(function(e){return"Work Week:		"+e.key+"\nPatchNbr:		"+e.value.count+"\n\nMergeRequest_Fail:	"+n.displayPercentageAndCount(e.value.nb_mergeRequest,e.value.count)}),e.compose([i,o,l,r,s,u,a]).on("renderlet",function(e){return n.setWWAxis(e)})._rangeBandPadding(1).yAxis().tickFormat(d3.format("s"))},t.patchDimension=h.dimension(function(e){return e.ChangeID}),t.tableGroup=function(e){return n.getIntelWW(e.date)},void(t.tablePostFormat=function(e){return e.columns([function(e){return 1===e.IsRevert?"<a style='color:red' href=\""+r.urls.gerrit_url+e.ChangeID+'" target=_blank>'+e.ChangeID+"</a>":'<a href="'+r.urls.gerrit_url+e.ChangeID+'" target=_blank>'+e.ChangeID+"</a>"},function(e){return"None"===e.owner?"-":e.owner},function(e){return"None"===e.domain_name?"-":e.domain_name},function(e){return e.first_patchset_date},function(e){return e.nb_cr_minus1},function(e){return e.nb_cr_minus2},function(e){return e.nb_v_minus1},function(e){return e.nb_auto_failure},function(e){return e.nb_preInt_failure},function(e){return e.nb_preMerge_failure},function(e){return e.nb_mergeRequest_failure},function(e){return 0===e.nb_auto_failure&&0===e.nb_preInt_failure&&0===e.nb_preMerge_failure&&0===e.nb_mergeRequest_failure?"-":'<a href="#/'+t.pageRoot+"/patch_Detail?patchID="+e.ChangeID+'" target=_blank>VIEW</a>'}]).sortBy(function(e){return e.first_patchset_date}).order(d3.descending)}))})}])}.call(this),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};angular.module("app").controller("patchesController",["$state","$scope","metricsService","config","$timeout",function(t,n,r,i,o){var a;return a=t.current.data,n.loading=!0,n.title=a.title,r.jsv(a.api_url).then(function(t){var s,u,l,c,d,p,f,h,m,g,v,b,y;if(0===t.length)return void(n.nodata=!0);n.loading=!1,n.csvUrl=a.api_url.replace(/\/jsv/,"/csv"),n.sqlUrl=a.api_url.replace(/\/jsv/,"/sql"),c=dc.dataCount(".null"),c._doRender=function(){return o(function(){return n.filter_count=c.dimension().size(),n.total_count=c.group().value()})},n.attribute_links={bugprojects_and_bugcomponents:{}},n.uiParams={branches:[],components:[],bugprojects:[],initial_data:{}},v=[],t.forEach(function(e,t){var i,o,a;if(null!=e.MergeDate&&"NULL"!==e.MergeDate)try{e.MergeDate=r.parseCsvDate(e.MergeDate),e.WW=r.getIntelWW(e.MergeDate),e.NbrAddedLines=+e.NbrAddedLines,e.NbrDeletedLines=-e.NbrDeletedLines,e.ComponentName=e.ComponentName,e.BugId=e.BugId,e.BugComponent=e.ComponentName.split("-")[0],e.BugProject=e.BugId.split("-")[0],r.isIcdgProject(e.GitProject)?e.Category="iCDG":r.isIcdgKernelProject(e.GitProject)?e.Category="iCDG Kernel":e.GitProject.search(/(kernel)|(linux-2\.)/)>=0?e.Category="Kernel":e.GitProject.search(/(aosp.*intel)|manifest/)>=0?e.Category="AOSP Intel":e.GitProject.search(/aosp/)>=0?e.Category="AOSP":e.Category="Other",a=r.setDefault,a(n.attribute_links.bugprojects_and_bugcomponents,e.BugProject,[]).push(e.BugComponent),v.push(e)}catch(o){return i=o,void console.log("catched "+i+" "+e.MergeDate)}}),m=n.attribute_links;for(s in m){f=m[s];for(p in f)b=f[p],h=r.arrayWithoutDuplicates(b),f[p]=h}n.xf=y=crossfilter(v),n.all=u=y.groupAll(),g=function(e){return{all:function(){return e.all().filter(function(e){return 0!==e.value})}}},n.resetAll=function(){var e,t;t=n.uiParams.initial_data;for(p in t)b=t[p],e=b.slice(),n.uiParams[p]=e;return r.resetFilter(n.uiParams.branches,n.branchDimensionList),r.resetFilter(n.uiParams.components,n.componentDimension),r.resetFilter(n.uiParams.bugprojects,n.bugProjectDimension),dc.filterAll(),dc.redrawAll()},n.filter=function(e,t){return r.filter(e,t),dc.redrawAll()},n.all_records=t.length,n.all_filtered_records=t.length-v.length,c.dimension(y),c.group(u),n.branchDimensionList=y.dimension(function(e){return e.Branch}),n.branchDimension=y.dimension(function(e){return e.Branch}),n.branchDimensionGroup=n.branchDimension.group().reduceCount(),n.categoryDimension=y.dimension(function(e){return e.Category}),n.categoryDimensionGroup=n.categoryDimension.group().reduceCount(),n.componentChartDimension=y.dimension(function(e){return e.BugComponent}),n.componentChartDimensionGroup=n.componentChartDimension.group().reduceCount(),n.componentChartfilteredDimensionGroup=g(n.componentChartDimensionGroup),n.componentDimension=y.dimension(function(e){return e.BugComponent}),n.componentDimensionGroup=n.componentDimension.group(),n.groupList=n.componentDimensionGroup.orderNatural().all().map(function(e){return e.key}),1===n.groupList.length&&(n.groupList=n.branchDimensionGroup.orderNatural().all().map(function(e){return e.key})),n.bugProjectDimension=y.dimension(function(e){return e.BugProject}),n.dropDownBranch=r.formatDropdownData(n.uiParams.branches,n.branchDimensionList),n.dropDownComponent=r.formatDropdownData(n.uiParams.components,n.componentDimension),n.dropDownBugProject=r.formatDropdownData(n.uiParams.bugprojects,n.bugProjectDimension),n.weeklyDimension=y.dimension(function(e){return e.WW}),n.weeklyDimensionGroup=n.weeklyDimension.group().reduce(function(e,t){return e[t.BugComponent].count++,e[t.BugComponent].linesAdded+=t.NbrAddedLines,e[t.BugComponent].linesDeleted+=t.NbrDeletedLines,e},function(e,t){return e[t.BugComponent].count--,e[t.BugComponent].linesAdded-=t.NbrAddedLines,e[t.BugComponent].linesDeleted-=t.NbrDeletedLines,e},function(){var e,t,r,i,o;for(i={},o=n.groupList,t=0,r=o.length;r>t;t++)e=o[t],i[e]={count:0,linesAdded:0,linesDeleted:0};return i}),n.linesDimension=y.dimension(function(e){return e.WW}),n.linesDimensionGroup=n.linesDimension.group().reduce(function(e,t){return e.count++,e.linesAdded+=t.NbrAddedLines,e.linesDeleted+=t.NbrDeletedLines,e},function(e,t){return e.count--,e.linesAdded-=t.NbrAddedLines,e.linesDeleted-=t.NbrDeletedLines,e},function(){return{count:0,linesAdded:0,linesDeleted:0}}),n.postActionBranchPieChart=function(e){return e.label(function(t){return r.pieTextDisplay(e,u,t)}).title(function(t){return r.pieTextDisplay(e,u,t)})},n.postActionCategoryPieChart=function(e){return e.ordering(function(e){return e.value}).slicesCap(10).ordinalColors(r.siteColors).label(function(t){return r.pieTextDisplay(e,u,t)}).title(function(t){return r.pieTextDisplay(e,u,t)})},n.patchesBarChart=function(e){return e.group(n.weeklyDimensionGroup,n.groupList[0]).valueAccessor(function(e){return e.value[n.groupList[0]].count}).on("renderlet",function(e){return r.setWWAxis(e)}).colors(r.colorPalette()).title(function(e){var t,n,r,i;i=0,n=0,r=0;for(t in e.value)i+=e.value[t].count,n+=e.value[t].linesAdded,r+=e.value[t].linesDeleted;return"Work Week:		"+e.key+"\nTotal of Patches:		"+i+"\nLines Added:		"+d3.format(".2s")(n)+"\nLines Deleted:		"+d3.format(".2s")(r)+"\nDelta Lines Of Code:	"+d3.format(".2s")(n-r)}),n.groupList.forEach(function(t,r){return 0!==r?e.stack(n.weeklyDimensionGroup,t,function(e){return e.value[t].count}):void 0})},n.componentBarChart=function(e){return e.title(function(e){return e.key+"\n# patches:	"+e.value}).group(n.componentChartfilteredDimensionGroup).on("renderlet",function(e){return r.setOrdonalEndXAxis(e),e.selectAll("rect.bar").each(function(e){return d3.select(this).attr("style","fill: "+r.colorPalette()(e.x))})})},n.compositeChartOptions=function(e){var t,i;return t=dc.lineChart(e).dimension(n.linesDimension).group(n.linesDimensionGroup).valueAccessor(function(e){return e.value.linesAdded}).colors("#2CA02C").renderArea(!0).interpolate("monotone").title(function(e){return"Work Week:		"+e.key}),i=dc.lineChart(e).dimension(n.addedLinesDimension).group(n.addedLinesDimensionGroup).valueAccessor(function(e){return e.value.linesDeleted}).colors("#D62728").renderArea(!0).interpolate("monotone").title(function(e){return"Work Week:		"+e.key}),e.compose([t,i]).on("renderlet",function(e){return r.setWWAxis(e)}).yAxis().tickFormat(d3.format("s"))},n.tableGroup=function(e){return"Work Week "+r.getIntelWW(e.MergeDate)},n.tablePostFormat=function(e){return e.columns([function(e){return'<a href="'+i.urls.gerrit_url+e.Id+'" target=_blank>'+e.Id+"</a>"},function(e){return d3.time.format("%d/%m/%y")(e.MergeDate)},function(e){return e.Branch},function(e){return e.Category},function(e){return e.GitProject},function(e){return'<a href="'+i.urls.jira_bug_url+e.BugId+'" target=_blank>'+e.BugId+"</a>"},function(e){return e.ComponentName},function(e){return e.NbrAddedLines-e.NbrDeletedLines}]).sortBy(function(e){var t;return t=e.WW+e.MergeDate+e.Id}).order(d3.descending)},d=function(t){var i,o,a,s,u,l,c,d,f,h,m,g,v,y;l=t.modified,s=t.impacted,null==n.uiParams.initial_data[s.attribute]&&(o=n.uiParams[s.attribute].slice(),n.uiParams.initial_data[s.attribute]=o),g=n.uiParams,h=g.initial_data[s.attribute],i=h.slice(),v=n.uiParams[l.attribute],m=function(){var e,t,n;for(n=[],e=0,t=v.length;t>e;e++)y=v[e],y.ticked&&n.push(y.name);return n}(),u=[],f=n.attribute_links[t.relation];for(p in f)b=f[p],e.call(m,p)>=0&&(u=u.concat(b));return d=r.arrayWithoutDuplicates,a=d(u),c=function(){var t,n,r,o;for(o=[],t=0,n=i.length;n>t;t++)y=i[t],r=y.name,e.call(a,r)>=0&&o.push(y);return o}(),n.uiParams[s.attribute]=c,n.filter(n.uiParams[l.attribute],n[l.dimension]),n.filter(n.uiParams[s.attribute],n[s.dimension])},l=function(e,t){var n;return n={attribute:e,dimension:t}},n.set_bugproject=function(){var e;return e={modified:l("bugprojects","bugProjectDimension"),impacted:l("components","componentDimension"),relation:"bugprojects_and_bugcomponents"},d(e)}})}])}.call(this),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};angular.module("app").controller("postcommit_bugs_and_patchesController",["$state","$scope","$q","metricsService","postCommitService","config","$timeout",function(t,n,r,i,o,a,s){var u,l,c,d;return d=t.current.data,n.loading=!0,n.redrawAll=function(){return dc.redrawAll(),dc.renderAll()},n.bugsInCollaterallToo=[],
n.minDate="",n.maxDate="",u={},u.res=[],n.allResolution=[],l=function(e){var t,n,r;return r={},r.url="MCG/bugs_git_projects/jsv",t=function(){var t,r,i;for(i=[],t=0,r=e.length;r>t;t++)n=e[t],i.push("'"+n+"'");return i}(),t=t.join(","),r.params={},r.params.bugtrids=t,r},c=function(e){return null==e?"Undefined":e},d3.json(d.api_url,function(t){var r,a,s,d,p,f,h,m,g;return s=function(e,t,r,i){var a,s,u;return s={},s.platform=e,a="FT - Collateral Issues (Collateral Issues)",null===t&&(t=r.name===a?"collateral_issues":"FT - Crashes (Crashes)"===r.name?"crashes":"unknown"),s.domain=t,s.buildid=o.createBuildId(r),s.builder=r.builderName,s.name=r.name,s.verdict=r.result,s.time_in_ms=r.startTime,u=1e3*r.startTime,s.workWeek=d3.time.week(new Date(u)),s.time=o.timeToHumanReadable(u),s.priority=i,o.updateMinAndMaxDate(n,s.workWeek),null!=r.bugs?s.bugs=r.bugs:s.bugs={},s},f=function(e,t,n,r){var i;return i=r.domain,r.manualOnly.forEach(function(n,i){return n.manual.forEach(function(n,i){return e.res.push(s(t,r.domain,n,r.priority))})}),r.single.forEach(function(n,o){var a;return a=s(t,i,n.manual,r.priority),e.res.push(a)}),r.multiple.forEach(function(n,o){return n.manual.forEach(function(n,o){var a;return a=s(t,i,n,r.priority),e.res.push(a)})}),e},h=o.browseJsonData(t,u,f),r=[],a=[],p=function(e){var t,n,r;return t=function(){var t,i;t=e.bugs,i=[];for(n in t)r=t[n],i.push(n);return i}(),t.length>0},h.container.res=function(){var e,t,n,r;for(n=h.container.res,r=[],e=0,t=n.length;t>e;e++)g=n[e],p(g)&&r.push(g);return r}(),d=function(e){var t;return function(){var n;n=[];for(t in e)g=e[t],n.push(t);return n}()},h.container.res.forEach(function(e,t){var n;return n=d(e.bugs),n.forEach(function(e,t){return r.push(e)})}),r=i.arrayWithoutDuplicates(r),m=l(r),i.jsv(m.url,m.params).then(function(t){var s,u,l,d,f,m,v,b,y,w,_,x,C,D,k,A,$,S,E,T,P,R,M,N,F,O,G,I,B,W,L,j,V,H,q,U,z,Y,X,K,Z,J,Q,ee,te,ne,re,ie,oe;J={},A=function(){var e;return e={},e.domains={},e.testCases=[],e.collaterals=[],e.crashes=[],e},r.forEach(function(e,t){return J[e]=A()}),t.forEach(function(e,t){var n,r;return"None"===e.name&&(e.name="Undefined"),r=J[e.trid].domains,a.push(e.name),n=i.setDefault(r,e.name,new Array),n.push(e)}),j=function(e){var t;return t="FT - Collateral Issues (Collateral Issues)",e===t},V=function(e){return"FT - Crashes (Crashes)"===e},L=function(e){return j(e)||V(e)},W=function(e){return"crashes"===e||"collateral_issues"===e},v=[],m=[],z=i.arrayWithoutDuplicates,h.container.res.forEach(function(e,t){var r,i,o,a,s;o=e.bugs,s=[];for(r in o)i=o[r],null!=J[r]&&(J[r].testCases.push(e),j(e.name)?(J[r].collaterals.push(e),m.push(r)):V(e.name)&&(J[r].crashes.push(e),v.push(r))),i.error?s.push(void 0):(a=c(i.value.resolution),n.allResolution.push(a),s.push(n.allResolution=z(n.allResolution)));return s});for(f in J)["testCases","collaterals","crashes"].forEach(function(e,t){return null!=J[f]?J[f][e].sort(function(e,t){return e.time_in_ms-t.time_in_ms}):void 0});return m=z(m),v=z(v),R=function(e){return e.length>0?e[0]:void 0},h.container.res.forEach(function(t,n){var r,i,o,a,s,u,l;i=[],s=V(t.name),a=j(t.name),o=function(e){var n,r,o;r=[];for(f in t.bugs)null!=J[f]&&(o=R(J[f][e]),n=o,null!=n&&t!==n?r.push(i.push(f)):r.push(void 0));return r},o(s?"crashes":a?"collaterals":"testCases"),i=z(i),t.uniqueBugs={},t.bugsInCrash={},t.bugsInCollateral={},u=t.bugs,l=[];for(f in u)r=u[f],e.call(i,f)>=0||(s||a?l.push(t.uniqueBugs[f]=r):e.call(m,f)>=0?l.push(t.bugsInCollateral[f]=r):e.call(v,f)>=0?l.push(t.bugsInCrash[f]=r):l.push(t.uniqueBugs[f]=r));return l}),_=dc.dataCount(".null"),n.xf=oe=crossfilter(h.container.res),n.all=l=oe.groupAll(),_.dimension(oe),_.group(l),a=i.arrayWithoutDuplicates(a),N=function(e){var t,n,r,i;i=0;for(f in e.uniqueBugs){r=J[f].domains;for(t in r)n=r[t],i+=n.length}return i},ne=function(e){var t,n,r,i;r=e.key,t=[];for(n in e.value.perFts)i=e.value.perFts[n],h={},h.ft=n,h.numberBugs=i.bugs.length,h.numberPatches=i.patches.length,h.value=i.patches.length,t.push(h);return t=function(){var e,n,r;for(r=[],e=0,n=t.length;n>e;e++)g=t[e],g.value>0&&r.push(g);return r}(),t.sort(function(e,t){return t.value-e.value}),t.forEach(function(e,t){return r+="\n\n"+e.ft+": bugs=",r+=e.numberBugs+", patches="+e.numberPatches}),r},ee=function(e,t,n){var r;return r=e[t],r.push(n),e[t]=z(r)},u=function(e,t){var n,r,i,o,a,s;o=t.uniqueBugs;for(f in o){n=o[f],a=J[f].domains;for(r in a)i=a[r],e.perFts[r].bugs.push(f),i.forEach(function(t,n){var i;return i=t.short_change_id,ee(e.perFts[r],"patches",i)});e.numberBugs+=1,n.error||(s=n.value.resolution,e.bugResolutions[s]+=1)}return e},C=function(e,t){var n,r,o,a,s,u,l,c,d;l=t.uniqueBugs;for(n in l){r=l[n],c=J[f].domains;for(o in c)a=c[o],s=i.pop,u=s(e.perFts[o].bugs,f),e.perFts[o].bugs=u,a.forEach(function(t,n){return u=s(e.perFts[o].patches,t.short_change_id),e.perFts[o].patches=u});e.numberBugs-=1,r.error||(d=r.value.resolution,e.bugResolutions[d]-=1)}return e},B=function(){return h={},h.perFts={},h.perVerdicts={},a.forEach(function(e,t){var n;return n={},n.bugs=[],n.patches=[],h.perFts[e]=n}),h.numberBugs=0,h.bugResolutions={},n.allResolution.forEach(function(e,t){return h.bugResolutions[e]=0}),h},te=["Software Change","merged_fixes","Unknown Fix","Transferred","Not Fixed","Infrastructure Change","Hardware Change","Duplicate","Cannot Reproduce","Will Not Fix","Not a Defect","Undefined"],O={foundCrashes:{},foundCollaterals:{}},te.forEach(function(e,t){return O.foundCrashes[e]=0,O.foundCollaterals[e]=0}),I=function(){return h={},h.priority="unknown",h.nberExecution=0,te.forEach(function(e,t){var n;return n={testCases:0,uniqueBugsInCollaterals:0,crashes:0,collaterals:0},h[e]=n}),h},s=function(e){return null==e&&(e=!0),function(t,n){var r;return t.priority=n.priority,t.name=n.name,t.nberExecution+=1,r=function(r,i,o){var a,s,u,l,d,p,h,m,g,v;null==o&&(o=void 0),v=function(r,a){return t[r][i]+=a,null!=o&&e?(n=O[o],n[r]+=a):void 0},d=n[r],g=[];for(f in d){a=d[f],m="Undefined",a.error||(h=a.value.resolution,m=c(h)),v(m,1),l=0,p=J[f].domains;for(s in p)u=p[s],l+=u.length;g.push(v("merged_fixes",l))}return g},r("uniqueBugs","testCases"),r("bugsInCrash","crashes","foundCrashes"),r("bugsInCollateral","collaterals","foundCollaterals"),j(t.name)&&r("uniqueBugs","uniqueBugsInCollaterals"),t}},x=function(e){return null==e&&(e=!0),function(t,n){var r;return t.nberExecution-=1,r=function(r,i,o){var a,s,u,l,d,p,h,m,g,v;null==o&&(o=void 0),v=function(r,a){return t[r][i]-=a,null!=o&&e?(n=O[o],n[r]-=a):void 0},d=n[r],g=[];for(f in d){a=d[f],m="Undefined",a.error||(h=a.value.resolution,m=c(h)),v(m,1),l=0,p=J[f].domains;for(s in p)u=p[s],l+=u.length;g.push(v("merged_fixes",l))}return g},r("uniqueBugs","testCases"),r("bugsInCrash","crashes","foundCrashes"),r("bugsInCollateral","collaterals","foundCollaterals"),j(t.name)&&r("uniqueBugs","uniqueBugsInCollaterals"),t}},M=function(e,t){return e.value.perFts[t].patches.length},T=function(e,t){return e.value.bugResolutions[t]},$=function(e){return L(e.key)},P=function(e,t){return $(e)?0:e.value.bugResolutions[t]},F=function(e,t){var n,r,i;return i=e.value[t],r=i.uniqueBugsInCollaterals,n=i.collaterals,h=r-n},Q=function(e){var t,r,i,o;return i=e.key,t=[],r={total:0,unrespected:0},n.allResolution.forEach(function(n,i){var o;return o={},o.resolution=n,o.value=F(e,n),r.total+=e.value[n].uniqueBugsInCollaterals,r.unrespected+=o.value,t.push(o)}),t=t.sort(function(e,t){return d3.descending(e.value,t.value)}),o=100*r.unrespected,o/=r.total,o=d3.format("02f")(o),i="Unrespected "+o+"%",t.forEach(function(e,t){var n,r;return r=e.resolution,n=e.value,i+="\n\n "+r+": "+n}),i},n.domainDimension=oe.dimension(function(e){return e.domain}),n.workWeekDimension=oe.dimension(function(e){return e.workWeek}),n.platformDimension=oe.dimension(function(e){return e.platform}),n.priorityDimension=oe.dimension(function(e){return e.priority}),n.workWeekDimensionForZoom=oe.dimension(function(e){return e.workWeek}),re=n.workWeekDimension.group(),ie=n.workWeekDimensionForZoom.group(),n.workWeekDimensionGroupForZoom=ie.reduceSum(function(e){return N(e)}),n.builderDimension=oe.dimension(function(e){return e.builder}),n.testCaseDimension=oe.dimension(function(e){return e.name}),S=n.domainDimension.group(),n.domainDimensionGroup=S.reduce(u,C,B),S=n.testCaseDimension.group(),n.testCaseDimensionGroup=S.reduce(u,C,B),U=oe.dimension(function(e){return e.name}),S=U.group(),n.rankingTestCaseDimensionGroup=S.reduce(s(),x(),I),S=n.platformDimension.group(),n.platformDimensionGroup=S.reduce(u,C,B),n.processNotRespectedDimensionGroup=re.reduce(s(!1),x(!1),I),K=function(e){var t,r;return r=e.key,t=[],n.allResolution.forEach(function(n,r){var i;return i={},i.resolution=n,i.value=e.value.bugResolutions[n],t.push(i)}),t=t.sort(function(e,t){return d3.descending(e.value,t.value)}),t.forEach(function(e,t){var n,i;return i=e.resolution,n=e.value,r+="\n\n "+i+": "+n}),r},d=n.allResolution,E=function(e){var t,n;h=0,n=e.value.bugResolutions;for(t in n)g=n[t],isNaN(g)||(h+=g);return h},p=function(e){return E(e)>0},Y=function(e){return h=0,a.forEach(function(t,n){return h+=e.value.perFts[t].patches.length}),h},Z=function(e,t,n,r){var i,a,s,u;return i=function(e,t){return d3.descending(n(e),n(t))},a=o.computeXLabelOrdering,s=a(t,i,r),u=d3.scale.ordinal(t).domain(s),e.x(u)},n.wwSetupForZoom=function(e){return e.on("renderlet",function(e){return i.setWWAxis(e)})},n.platformSetup=function(e){var t;return t=n.platformDimensionGroup,h=o.createBarStacks(e,t,d,T),h.title(function(e){return K(e)}).on("preRender",function(e){return Z(e,t,E,p)}).on("renderlet",function(e){return i.setPlatformAxis(e)})},n.processNotRespectedSetup=function(e){var t,r;return r=n.processNotRespectedDimensionGroup,t=F,h=o.createBarStacks(e,r,d,t),h.title(function(e){return Q(e)}).on("renderlet",function(e){return i.setWWAxis(e)}).xAxis().tickFormat(function(e){return i.getIntelWW(e)})},n.testCaseResolveSetupWithoutCrash=function(e){var t,r;return r=n.testCaseDimensionGroup,t=P,h=o.createBarStacks(e,r,d,t),h.title(function(e){return K(e)}).on("preRender",function(e){return Z(e,r,E,p)}).on("renderlet",function(e){return i.hideAxis(e)})},G=function(e){return Y(e)>0},n.domainSetup=function(e){var t,r;return r=n.domainDimensionGroup,t=function(e){return Z(e,r,Y,G)},h=o.createBarStacks(e,r,a,M),h.title(function(e){return ne(e)}).on("preRender",function(e){return t(e)}).on("renderlet",function(e){return i.setTestDomainAxis(e)})},n.testCaseSetup=function(e){var t,r;return r=n.testCaseDimensionGroup,h=o.createBarStacks(e,r,a,M),t=function(e){return Z(e,r,Y,G)},h.title(function(e){return ne(e)}).on("preRender",function(e){return t(e)}).on("renderlet",function(e){return i.hideAxis(e)})},n.tableGroup=function(e){return e.name},y=function(e){return h="",h+=i.startsWith(e,"IMINAN-")?"<a href='https://jira01.devtools.intel.com/browse/":"<a href='http://umgbugzilla.sh.intel.com:41006/buglist.cgi?quicksearch=",h+e+"'>"+e+"</a>"},w=function(e){return"<a href='https://android.intel.com/#/c/"+e+"'>"+e+"</a>"},D=function(e){var t,n,r,i,o,a,s,u,l,c,d;u="",a=e.bugs;for(f in a){n=a[f],t=y(f),u+="<br/> "+t,n.error||(d=n.value.summary,c=n.value.severity,l=n.value.resolution,o=n.value.priority,u+=": "+d+"/"+c,u+="/"+l+"/"+o),s=J[f].domains;for(r in s)i=s[r],u+=": <br/>",i.forEach(function(e,t){var n;return u+="- "+e.name+" ",n=e.short_change_id,u+=w(n),u+="<br/><br/>"})}return u},X=function(e){var t,n,r,i;i=0;for(f in e.bugs){r=J[f].domains;for(t in r)n=r[t],i+=n.length}return i},q=function(e,t){return h=d3.descending(e.numPatches,t.numPatches),0!==h?h:d3.ascending(e.string,t.string)},n.rankingTableGroup=function(e){var t;return t="Legend ",t+="<br/>",t+="<ul>",t+="<li>",t+="<p class='jira'>jira related dimension</p>, ",t+="<p class='gerrit'>gerrit related dimension.</p>",t+="</li>",t+="<li>x=y+z",t+="<ul>",t+="<li> x = total of issues as ",t+="crash or collateral issues,</li> ",t+="<li>",t+="y = total linked to functional test cases,",t+="</li> ",t+="<li>",t+="z = total not linked to functional test cases.",t+="</li>",t+="</ul></li>",t+="<li> x/y/z",t+="<ul><li> x = issue directly linked to ",t+="tested functionality,</li>",t+="<li>",t+="y = collateral issue found during test execution,",t+="</li>",t+="<li>z = crash found during test execution.</li>",t+="</li></ul>"},H=function(e,t){var n;return n=0,e.forEach(function(e,r){var i;return 0===n?(i=t[r],n=e.orderF(e.value,i.value)):void 0}),n},n.tablePostFormat=function(e){return e.columns([function(e){return e.buildid},function(e){return e.platform},function(e){return e.domain},function(e){return e.name},function(e){return e.verdict},function(e){return D(e)},function(e){return e.time}]).sortBy(function(e){var t;return t={},t.numPatches=X(e),t.string=e.buildid+e.platform+e.name+e.time,t}).order(q)},k=function(e,t){var n,r,i,o,a,s,u;return i=e.name,s=e[t],r=s,null!=s.testCases&&(V(i)?(u=s.testCases,a=O.foundCrashes[t],o=u-a,r=u+"=",r+="<p class='linked_crash'>"+a+"</p>+",r+=""+o):j(i)?(u=s.testCases,n=O,a=n.foundCollaterals[t],o=u-a,r=u+"="+a+"+",r+="<p class='not_linked_collateral'>",r+=o+"</p>"):(r=s.testCases+"/",r+=s.collaterals+"/",r+=""+s.crashes)),r},b=function(e){return null!=e.testCases?e.testCases+e.collaterals+e.crashes:e},n.rankingTablePostFormat=function(e){var t,n,r;return n=["name","priority"],t=n.concat(te),t=t.concat(["nberExecution"]),r=te.concat(["priority","nberExecution"]),e.columns(t.map(function(e){return function(t){return k(t.value,e)}})).sortBy(function(e){return r.map(function(t){var n;return n={},n.name=t,n.value=b(e.value[t]),n.orderF=d3.descending,"nberExecution"===t&&(n.orderF=d3.ascending),n})}).order(H)},n.loading=!1})})}])}.call(this),function(){angular.module("app").controller("postcommit_campaigns_re_executionController",["$state","$scope","metricsService","postCommitService","config","$timeout",function(e,t,n,r,i,o){var a,s,u,l,c,d,p,f,h,m,g;return t.minDate="",t.maxDate="",u=function(e){return r.computeBranchBuilderBuildnumber(t,e)},g=function(e){var t;return t={},e=u(e),t.campaign_name=e.campaign_name,t.buildNumber=e.buildNumber,t.cactusBranch=e.cactusBranch,t.builder=e.builder,t.board_product=e.board_product,t.workWeek=e.workWeek,t.CampaignFinishTime=e.CampaignFinishTime,t.buildIdentifier=e.buildIdentifier,t.slave_name=e.slave_name,t.awr_uuid=e.awr_uuid,t},p=function(e){var t,n,r,i,o,a,s;for(t=function(e){var t,n,r;n="";for(t in e)r=e[t],n+=r;return n},a={},r=n=0,i=e.length-1;i>=0?i>=n:n>=i;r=i>=0?++n:--n)a[t(e[r])]=e[r];return o=function(){var e;e=[];for(r in a)s=a[r],e.push(s);return e}()},c=function(e){return{campaign_name:e.campaign_name,buildNumber:e.buildNumber,cactusBranch:e.cactusBranch,builder:e.builder,board_product:e.board_product,workWeek:e.workWeek,CampaignFinishTime:e.CamgaignFinishTime,buildIdentifier:e.buildIdentifier}},l=function(e){return e.campaign_name+e.buildIdentifier},f=function(e){return e.CampaignFinishTime.getTime()},a=function(e,t){var r,i,o;return r=l(t),o=n.setDefault(e.builds,r,{}),i=n.setDefault(o,t.board_product,[]),i.push(t),i=n.arrayWithoutDuplicates(i,f),e.builds[r][t.board_product]=i,e},d=function(e,t){var r,i;return r=l(t),i=e.builds[r][t.board_product],null!=i&&(i=n.pop(i,t,f),e.builds[r][t.board_product]=i),e},m=function(){var e;return e={},e.builds={},e},s=function(e){var t,n,r,i,o,s,u,l,d;s=[],d=m(),e.forEach(function(e,t){return d=a(d,e)}),l=d.builds;for(n in l){u=l[n];for(t in u)i=u[t],0!==i.length&&(o=c(i[0]),o.re_exec_count=i.length-1,o.dateSlaves=[],i.forEach(function(e,t){var n;return n={date:e.CampaignFinishTime,slaveName:e.slave_name,awrUuid:e.awr_uuid},o.dateSlaves.push(n)}),r=function(e,t){return d3.ascending(e.date,t.date)},o.dateSlaves=o.dateSlaves.sort(r),o.CampaignFinishTime=o.dateSlaves[0].date,o.workWeek=d3.time.week(o.CampaignFinishTime),s.push(o))}return s},h=e.current.data,t.loading=!0,t.title=h.title,n.jsv(h.api_url).then(function(e){var i,o,u,c,f,h,v,b,y,w,_,x,C,D,k,A,$,S,E,T,P,R;e=function(){var t,n,r;for(r=[],t=0,n=e.length;n>t;t++)D=e[t],r.push(g(D));return r}(),e=s(p(e)),t.xf=R=crossfilter(e),t.all=i=R.groupAll(),t.resetAll=function(){return dc.filterAll(),dc.redrawAll()},k=dc.dataCount(".null"),k.dimension(R),k.group(i),t.wwDimension=R.dimension(function(e){return e.workWeek}),P=t.workWeekDimensionForZoom=R.dimension(function(e){return e.workWeek}),c=t.buildIdentifierDimension=R.dimension(function(e){return e.buildIdentifier}),h=t.boardProductDimension=R.dimension(function(e){return e.board_product}),b=t.campaignDimension=R.dimension(function(e){return e.campaign_name}),o=t.builderReExecutionDimension=R.dimension(function(e){return e.builder}),y=t.campaignDimensionBis=R.dimension(function(e){return e.campaign_name}),t.reExecDimension=R.dimension(function(e){return e.re_exec_count}),a=function(e,t){var r,i;return r=l(t),i=n.setDefault(e.builds,r,{}),i[t.board_product]=t,e},d=function(e,t){var n,r;return n=l(t),r=e.builds[n],delete r[t.board_product],e},m=function(){var e;return e={},e.builds={},e},x=function(e){return e.group().reduce(a,d,m)},_=t.campaignReExecutionGroup=x(y),f=t.buildIdentifierDimensionGroup=x(c),u=t.builderReExecutionDimensionGroup=x(o),v=t.boardProductDimensionGroup=x(h),w=t.campaignDimensionGroup=b.group().reduceSum(function(e){return 1}),t.workWeekDimensionGroupForZoom=x(P),C=function(e){var t,n,r,i,o,a,s,u;u=0,s=e.value.builds;for(n in s){a=s[n],o=[0];for(t in a)i=a[t],o.push(i.re_exec_count);r=Math.max.apply(null,o),u+=r}return u},t.workWeekDimensionGroupForZoomSetup=function(e){return e.valueAccessor(C).on("renderlet",function(e){return n.setWWAxis(e)})},E=function(e,t,n){var i,o,a;return null==n&&(n=C),o=r.computeXLabelOrdering,i=e.top(1/0),a=o(e,function(e,t){return d3.descending(n(e),n(t))},function(e){return n(e)>0}),t.x(d3.scale.ordinal(e).domain(a))},t.campaignSetup=function(e){return e.on("preRender",function(e){return E(w,e,function(e){return e.value})}).on("renderlet",function(e){return n.setTestCampaignAxis(e)})},T=function(e){return function(t){return t.valueAccessor(C).on("preRender",function(t){return E(e,t)}).on("renderlet",function(e){return n.setTestCampaignAxis(e)})}},t.campaignReExecutionSetup=T(_),t.builderReExecutionDimensionGroupSetup=T(u),t.buildIdentifierDimensionGroupSetup=function(e){return e.valueAccessor(C).on("preRender",function(e){return E(f,e)}).on("renderlet",function(e){return n.hideAxis(e)})},t.boardProductDimensionGroupSetup=function(e){return e.valueAccessor(C).on("preRender",function(e){return E(v,e)}).on("renderlet",function(e){return n.setBoardProductAxis(e)})},t.tableGroup=function(e){return e.re_exec_count},S=function(e,t){var n,r,i,o;return o=d3.descending(e.re_exec_count,t.re_exec_count),0!==o?o:(i=function(e){return e.cactusBranch+"-"+e.builder},n=i(e),r=i(t),o=d3.ascending(n,r),0!==o?o:(o=d3.descending(e.buildNumber,t.buildNumber),0!==o?o:(o=d3.descending(e.board_product,t.board_product),0!==o?o:d3.ascending(e.CampaignFinishTime,t.CampaignFinishTime))))},A=function(e){return d3.time.format("%Y-%m-%d/%HH%M")(e)},$=function(e){var t,r,i,o,a;return r=e.dateSlaves[0],t=function(e,t,r){var i;return i=n.createAwrUrl(r),"<a href='"+i+"'>"+e+":"+t+"</a>"},i=t(A(r.date),r.slaveName,r.awrUuid),a=[],o=r.date,e.dateSlaves.forEach(function(e,r){var i,s,u;return 0!==r?(i=e.date,s=n.computeDateDiff(i,o),u=d3.time.format("+%HH%Mm")(s),o=i,a.push(t(u,e.slaveName,e.awrUuid))):void 0}),i+"<br/>"+a.join("<br/>")},t.tablePostFormat=function(e){return e.columns([function(e){return e.buildIdentifier},function(e){return e.campaign_name},function(e){return e.board_product},function(e){return $(e)},function(e){return e.re_exec_count}]).order(S)},t.loading=!1})}])}.call(this),function(){angular.module("app").controller("postcommit_mapping_debugController",["$state","$scope","metricsService","postCommitService","config","$timeout",function(e,t,n,r,i,o){var a;return a=e.current.data,t.loading=!0,d3.json(a.api_url,function(e){var i,o,s,u,l,c,d,p,f,h,m,g,v,b,y,w,_,x,C,D,k,A,$;t.loading=!1,t.jsonUrl=a.api_url,d=dc.dataCount(".null"),u={},u.res=[],s=[],l=function(e,t,i,o,a,u,l){var c;return c={},c.buildid=r.createBuildId(l),c.verdict=l.result,c.platform=e,c.tcname=t,c.campaignName="manual",c.name=l.name,null!=l.campaignName&&(c.campaignName=l.campaignName),null==i&&(i="undefined"),c.domain=i,o=1e3*o,c.workWeek=n.getIntelWW(o),c.time=r.timeToHumanReadable(o),c.framework=u,c.mappingType=a,s.push(a),c},g=function(e){return 0===e.length?"0":1===e.length?"1":"+"},y=function(e,t,n,r){return r.single.forEach(function(i,o){var a;return a=l(t,n,r.domain,i.autom.startTime,"1/1",i.autom.framework,i.autom),e.res.push(a)}),r.multiple.forEach(function(i,o){var a,s;return s=g(i.autom),s+="/"+g(i.manual),a=s,i.manual.forEach(function(i,o){return s=l(t,n,r.domain,i.startTime,a,"manual",i),e.res.push(s)}),i.autom.forEach(function(i,o){return s=l(t,n,r.domain,i.startTime,a,i.framework,i),e.res.push(s)})}),e},w=r.browseJsonData(e,u,y),D=n.arrayWithoutDuplicates,s=D(s),t.allDomain=w.allDomain,t.allPlatform=w.allPlatform,t.xf=$=crossfilter(w.container.res),t.all=o=$.groupAll(),t.resetAll=function(){return dc.filterAll(),dc.redrawAll()},d.dimension($),d.group(o),i=function(e,t){return e.perMappingType[t.mappingType]+=1,e},f=function(e,t){return e.perMappingType[t.mappingType]-=1,e},m=function(e,t){return w={},w.perMappingType={},s.forEach(function(e,t){return w.perMappingType[e]=0}),w},h=function(e,t){return e.value.perMappingType[t]},k=t.workWeekDimension=$.dimension(function(e){return e.workWeek}),c=t.domainDimension=$.dimension(function(e){return e.domain}),v=t.platformDimension=$.dimension(function(e){return e.platform}),x=t.tcDimension=$.dimension(function(e){return e.tcname}),A=t.workWeekDimensionGroup=k.group().reduce(i,f,m),p=t.domainDimensionGroup=c.group().reduce(i,f,m),b=t.platformDimensionGroup=v.group().reduce(i,f,m),C=t.tcDimensionGroup=t.tcDimension.group().reduce(i,f,m),t.wwSetup=function(e){return w=r.createBarStacks(e,A,s,h),w=w.title(function(e){return e.key}),w=w.on("renderlet",function(e){return n.setWWAxis(e)})},t.domainSetup=function(e){return w=r.createBarStacks(e,p,s,h),w=w.title(function(e){return e.key}),w=w.on("renderlet",function(e){return n.setTestDomainAxis(e)})},t.platformSetup=function(e){return w=r.createBarStacks(e,b,s,h),w=w.title(function(e){return e.key}),w=w.on("renderlet",function(e){return n.setPlatformAxis(e)})},t.tcSetup=function(e){return w=r.createBarStacks(e,C,s,h),w=w.title(function(e){return e.key}),w=w.on("renderlet",function(e){return n.hideAxis(e)})},t.tableGroup=function(e){return"WW"+e.workWeek},_=function(e){var t;return t=e.buildid+e.platform+e.campaignName,t+=e.tcName+e.time},t.tablePostFormat=function(e){return e.columns([function(e){return e.buildid},function(e){return e.platform},function(e){return e.domain},function(e){return e.campaignName},function(e){return e.name},function(e){return e.mappingType},function(e){return e.verdict},function(e){return e.time}]).sortBy(_)},t.$apply()})}])}.call(this),function(){angular.module("app").controller("postcommit_reliability_costController",["$state","$scope","metricsService","postCommitService","config","$timeout",function(e,t,n,r,i,o){var a;return a=e.current.data,t.loading=!0,d3.json(a.api_url,function(e){var i,o,s,u,l,c,d,p,f,h;t.loading=!1,t.jsonUrl=a.api_url,u=dc.dataCount(".null"),p=r.computeCost(e),t.allDomain=p.allDomain,t.allPlatform=p.allPlatform,t.xf=h=crossfilter(p.costOfReplayedManual),t.all=o=h.groupAll(),t.resetAll=function(){return dc.filterAll(),dc.redrawAll()},u.dimension(h),u.group(o),i=function(e,t){return e.perDomain[t.domain]+=t.cost,e.perPlatform[t.platform]+=t.cost,e.overall+=t.cost,e},l=function(e,t){return e.perDomain[t.domain]-=t.cost,e.perPlatform[t.platform]-=t.cost,e.overall-=t.cost,e},c=function(e,n){var r;return r={},r.overall=0,r.perDomain={},r.perPlatform={},t.allDomain.forEach(function(e,t){return r.perDomain[e]=0}),t.allPlatform.forEach(function(e,t){return r.perPlatform[e]=0}),r},t.getPerPlatformValue=function(e,t){return e.value.perPlatform[t]},t.getPerDomainValue=function(e,t){return e.value.perDomain[t]},d=t.platformDimension=h.dimension(function(e){return e.platform}),t.platformDimensionGroupPerDomain=d.group().reduce(i,l,c),s=t.domainDimension=h.dimension(function(e){return e.domain}),t.frameworkDimension=h.dimension(function(e){return e.framework}),t.domainDimensionGroupPerPlatform=s.group().reduce(i,l,c),f=t.workWeekDimension=h.dimension(function(e){return e.workWeek}),t.workWeekDimensionGroupPerPlatform=f.group().reduce(i,l,c),t.workWeekDimensionGroupPerDomain=f.group().reduce(i,l,c),t.wwSetup=function(e,t,i){return function(o){return p=r.createBarStacks(o,e,t,i),p=p.title(function(e){var t;return t=e.key+": ",t+=n.floatDisplayFormat(e.value.overall),t+="$"}),p=p.on("renderlet",function(e){return n.setWWAxis(e)})}},t.overallSetup=function(e,t,i){return function(o){return p=r.createBarStacks(o,e,t,i),p=p.title(function(e){var t;return t=e.key+": ",t+=n.floatDisplayFormat(e.value.overall),t+="$"}),p=p.x(d3.scale.ordinal(e)),p=p.on("renderlet",function(e){return n.setPlatformAxis(e)})}},t.platformTitle="Overall cost: ",t.platformTitle+=n.floatDisplayFormat(p.overall),t.platformTitle+="$",t.$apply()})}])}.call(this),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};angular.module("app").controller("postcommit_reliability_evaluationController",["$state","$scope","metricsService","postCommitService","config","$timeout",function(t,n,r,i,o,a){var s;return s=t.current.data,n.loading=!0,n.redrawAll=dc.redrawAll,n.renderAll=dc.renderAll,n.minDate="",n.maxDate="",n.workWeekTickValues=[],d3.json(s.api_url,function(t){var o,a,u,l,c,d,p,f,h,m,g,v,b,y,w,_,x,C,D,k,A,$,S,E,T,P,R,M,N,F,O,G,I,B;n.dataOutputMode={},n.yValues=new Array("%","#"),N=n.perTestCaseOrderingVerdicts=new Array("FN","CN","P"),M=n.perTestCaseOrderingModes=new Array("Descending","Ascending"),n.dataOutputMode.yValue=n.yValues[0],n.dataOutputMode.perTestCaseOrderingVerdict=N[0],n.dataOutputMode.perTestCaseOrderingMode=M[0],n.jsonUrl=s.api_url,w=dc.dataCount(".null"),g={},g.res=[],g.duplicatedManualTests={},u=new Array,l=new Array,F={},v=function(e,t,n,o,a){var s,c;return s=i.createDataToDisplayInTable(e,t,n,o),s.priority=a,u.push(s.buildid),l.push(t),c=r.setDefault(F,n,[]),c.push(t),F[n]=r.arrayWithoutDuplicates(c),s},T=function(e,t,o,a){return a.single.forEach(function(o,s){var u,l,c;return c=v(t,o.manual.name,a.domain,o.autom,a.priority),u=o.autom.result,l=o.manual.result,c.verdictType=i.computeVerdictType(u,l),c.workWeek=r.intelWWToTime(c.workWeek),i.updateMinAndMaxDate(n,c.workWeek),e.res.push(c)}),a.multiple.forEach(function(n,i){var a,s,u,l;return n.manual.length>1?(u=n.manual[0].result,a=!1,n.manual.forEach(function(e,t){return 0!==t&&e.result!==u?a=!0:void 0}),s=e.duplicatedManualTests,l=r.setDefault(s,t,{}),l[o]=n.manual.length):void 0}),e},P=i.browseJsonData(t,g,T),c=i.getAllVerdicts(),u=r.arrayWithoutDuplicates(u),l=r.arrayWithoutDuplicates(l),n.allDomain=P.allDomain,n.allPlatform=P.allPlatform,n.xf=B=crossfilter(P.container.res),n.all=a=B.groupAll(),n.resetAll=function(){return dc.filterAll(),dc.redrawAll()},w.dimension(B),w.group(a),o=function(e,t){var n;return e.count+=1,e.perVerdictType[t.verdictType]+=1,e.perBuilds[t.buildid]+=1,n=e.perTcs[t.tcname],n[t.verdictType]+=1,n.count+=1,e},_=function(e,t){var n;return e.count-=1,e.perVerdictType[t.verdictType]-=1,e.perBuilds[t.buildid]-=1,n=e.perTcs[t.tcname],n[t.verdictType]-=1,n.count-=1,e},k=function(e,t){return P={},P.count=0,P.perVerdictType={},P.perBuilds={},P.perTcs={},c.forEach(function(e,t){return P.perVerdictType[e]=0}),u.forEach(function(e,t){return P.perBuilds[e]=0}),l.forEach(function(e,n){return t=P.perTcs[e]={},t.count=0,c.forEach(function(e,n){return t[e]=0})}),P},C=function(e,t){var r,o;return r=e.value.perVerdictType[t],o=n.dataOutputMode.yValue,i.applyDataOutputMode(o,r,e.value.count)},x=function(e,t){return P=C(e,t),"#"===n.dataOutputMode.yValue?P:P.toFixed(2)+"%"},m=function(e,t){var n;return n=new Array("CN","FN","P"),n.forEach(function(n,r){return e+="\n\n"+n+": "+x(t,n)}),e},$=function(e){var t;return"#"===n.dataOutputMode.yValue?m(e.key,e):(t=e.key+" (#"+e.value.count+")",m(t,e))},n.workWeekDimension=B.dimension(function(e){return e.workWeek}),n.workWeekDimensionForZoom=B.dimension(function(e){return e.workWeek}),b=n.domainDimension=B.dimension(function(e){return e.domain}),n.platformDimension=B.dimension(function(e){return e.platform}),n.tcDimension=B.dimension(function(e){return e.tcname}),n.builderDimension=B.dimension(function(e){return e.buildername}),n.frameworkDimension=B.dimension(function(e){return e.framework}),n.priorityDimension=B.dimension(function(e){return e.priority}),I=n.workWeekDimension.group(),O=n.workWeekDimensionGroup=I.reduce(o,_,k),G=n.workWeekDimensionForZoom.group(),n.workWeekDimensionGroupForZoom=G.reduceSum(function(e){return"FN"===e.verdictType?1:0}),y=n.domainDimensionGroup=b.group().reduce(o,_,k),E=n.platformDimension.group(),S=n.platformDimensionGroup=E.reduce(o,_,k),R=n.tcDimensionGroup=n.tcDimension.group().reduce(o,_,k),p=n.builderDimension.group(),d=n.builderDimensionGroup=p.reduce(o,_,k),f=function(){var e,t,n;return e=O.top(1/0),t=function(e,t){var n,r;return n=e.key.getTime(),r=t.key.getTime(),r>n?-1:n>r?1:0},n=e.sort(t),n.map(function(e){return e.key})},A=function(){return d3.scale.ordinal(O).domain(f(O))},n.wwSetup=function(e){return P=i.createBarStacks(e,O,c,C),P=P.title(function(e){var t,n,r,i;r=new Array,n=e.value.perBuilds;for(t in n)i=n[t],i>0&&r.push(t);return P="\n\nNbr of tested builds: "+r.length,$(e)+P}),P=P.on("preRender",function(e){return e.x(A())}),P=P.on("renderlet",function(e){return r.setWWAxis(e)}),P=P.xAxis().tickFormat(function(e){return r.getIntelWW(e)})},n.wwSetupForZoom=function(e){return e.on("renderlet",function(e){return r.setWWAxis(e)})},D=function(e,t){var r;return r=n.dataOutputMode.perTestCaseOrderingMode,t>e?"Ascending"===r?-1:1:e>t?"Ascending"===r?1:-1:0},h=function(e){var t,r,i,o,a;return t=e.top(1/0),o=n.dataOutputMode.perTestCaseOrderingVerdict,a=n.dataOutputMode.perTestCaseOrderingMode,r=function(e,t){var r,i,a,s,u;return i=C(e,o),s=C(t,o),"#"===n.dataOutputMode.yValue?D(i,s):(u=function(e){return 5>e},r=u(e.value.count),a=u(t.value.count),r?a?D(i,s):1:a?-1:D(i,s))},i=t.sort(r),i.map(function(e){return e.key})},n.makeTcX=function(e){return d3.scale.ordinal(e).domain(h(e))},n.builderSetup=function(e){return P=i.createBarStacks(e,d,c,C),P=P.title(function(e){return $(e)}),P=P.on("preRender",function(e){return e.x(n.makeTcX(d))}),P=P.on("renderlet",function(e){return r.setWWAxis(e)})},n.domainSetup=function(e){return P=i.createBarStacks(e,y,c,C),P=P.title(function(e){return $(e)}),P=P.on("preRender",function(e){return e.x(n.makeTcX(y))}),P=P.on("renderlet",function(e){return r.setTestDomainAxis(e)})},n.platformSetup=function(e){return P=i.createBarStacks(e,S,c,C),P=P.title(function(e){return $(e)}),P=P.on("preRender",function(e){return e.x(n.makeTcX(S))}),P=P.on("renderlet",function(e){return r.setPlatformAxis(e)})},n.tcSetup=function(e){return P=i.createBarStacks(e,R,c,C),P=P.title(function(e){return $(e)}),P=P.on("preRender",function(e){return e.x(n.makeTcX(R))}),P=P.on("renderlet",function(e){return r.hideAxis(e)})},n.compositeChartOptions=function(t){return function(o){var a,s,u;return a=[],u=F[t],s=0,l.forEach(function(t,l){var c,d,p;if(!(e.call(u,t)<0))return p=n.dataOutputMode.yValue,d=function(e){var n,r,o;return r=e.value.perTcs[t],n=r.count,o=r.FN,5>n?-10:P=i.applyDataOutputMode(p,o,n)},c=dc.lineChart(o).dimension(n.workWeekDimension).group(n.workWeekDimensionGroup,t.substring(4,20)+"...").valueAccessor(d).renderArea(!1).colors(r.getColorFromIdx(s)).title(function(e){return t}),a.push(c),s+=1}),o.compose(a).on("preRender",function(e){return e.x(A())}).on("renderlet",function(e){return r.setWWAxis(e)}).xAxis().tickFormat(function(e){return r.getIntelWW(e)})}},n.tableGroup=function(e){return"WW"+e.workWeek;
},n.tablePostFormat=function(e){return e.columns([function(e){return e.buildid},function(e){return e.platform},function(e){return e.domain},function(e){return e.tcname},function(e){return e.originalTcName},function(e){return e.verdictType}])},n.loading=!1,n.$apply()})}])}.call(this),function(){angular.module("app").controller("postcommit_tc_re_execution_we_can_avoidController",["$state","$scope","metricsService","postCommitService","config","$timeout",function(e,t,n,r,i,o){var a,s,u,l,c,d,p,f,h,m,g,v;return t.minDate="",t.maxDate="",t.renderAll=dc.renderAll,t.resetAll=function(){return dc.filterAll(),dc.redrawAll()},c=function(e){return r.computeBranchBuilderBuildnumber(t,e)},d=function(e,t){var n;return null==t&&(t=!1),n=e.buildIdentifier,t&&(n+=e.campaign_name+e.CampaignStartTime),n},h=function(e){return r.computeTime(e).getTime()},f=function(e){return h(e.TestCaseFinishTime)},a=function(e,t,r){var i,o,a;return null==r&&(r=!1),t.buildId=d(t,r),o=n.setDefault(e.builds,t.buildId,{}),a=n.setDefault(o,t.board_product,{}),i=n.setDefault(a,t.test_case_name,[]),i.push(t),i=n.arrayWithoutDuplicates(i,f),e.builds[t.buildId][t.board_product][t.test_case_name]=i,e},g=function(){var e;return e={},e.builds={},e},v=function(e){var t;return t=e.test_case_name,n.startsWith(t,"[PRELOAD]")},l=function(e){var t,n;return t=["PUPDR - Phone Flash","PUPDR phone flash","PUPDR_SYSTEM_FLASH","SI_SYSTEM_SETUP_EMBEDDED","NO_CHECK_NEEDED_POST_COMMIT_SETUP"],n=-1!==t.indexOf(e.test_case_name),!n},p=function(e){var t;return t=[],e.forEach(function(e,n){return!v(e)&&l(e)?t.push(e):void 0}),t},s=function(e){var t,r,i,o,s,u,l,c,d,p,f,h,m,v,b,y,w,_,x,C,D,k,A,$;f=[],_=g(),e.forEach(function(e,t){return _=a(_,e,!0)}),m={},y=_.builds;for(r in y){h=y[r];for(t in h){v=h[t];for(c in v)A=v[c],k=A[0],i=k.campaign_name,o=n.setDefault(m,i,[]),o.push(c),$=n.arrayWithoutDuplicates,o=$(o),m[i]=o}}w=_.builds;for(r in w){h=w[r];for(t in h){v=h[t],D=function(){var e;e=[];for(c in v)k=v[c],e.push(k[0]);return e}(),s=D[0],i=s.campaign_name,p=angular.copy(m[i]);for(x in v)C=v[x],u=p.indexOf(x),p.splice(u,1),f.push(C[0]);for(s=D[0],l=0,d=p.length;d>l;l++)c=p[l],b=angular.copy(s),b.test_case_name=c,b.result="BLOCKED",f.push(b)}}return f},u=function(e){var t,n,r,i,o,s,u,l,c,d,p,f;o=[],d=g(),e.forEach(function(e,t){return d=a(d,e)}),l=[],r=function(e,t,n,r){var i,o,a,s;return d={},d.uselessExecutionNumber=0,d.previousSuccess={},a=d.previousSuccess,a.awrUuid="none",a.campaign="none",a.TestCaseStartTime="none",s=r.sort(function(e,t){return d3.ascending(h(e.TestCaseStartTime),h(t.TestCaseStartTime))}),i=s[s.length-1],o=i.result,"PASSED"!==o&&r.forEach(function(e,t){return"PASSED"===e.result&&t!==r.length-1?(d.uselessExecutionNumber=1,a=d.previousSuccess,a.awrUuid=e.awr_uuid,a.campaignName=e.campaign_name,a.TestCaseStartTime=e.TestCaseStartTime):void 0}),d.builder=i.builder,d.workWeek=i.workWeek,d.buildNumber=i.buildNumber,d.cactusBranch=i.cactusBranch,d.campaignName=i.campaign_name,d.slaveName=i.slave_name,d.awrUuid=i.awr_uuid,d.TestCaseStartTime=i.TestCaseStartTime,d.TestCaseFinishTime=i.TestCaseFinishTime,d.boardProduct=t,d.buildId=e,d.tcName=i.test_case_name,d},c=d.builds;for(n in c){s=c[n];for(t in s){u=s[t];for(p in u)f=u[p],0!==f.length&&(i=r(n,t,p,f),l.push(i))}}return l},m=e.current.data,t.loading=!0,t.title=m.title,n.jsv(m.api_url).then(function(e){var i,o,a,l,d,h,m,g,v,b,y,w,_,x,C,D,k,A,$,S,E,T,P,R;y=p(e),e=function(){var e,t,n;for(n=[],e=0,t=y.length;t>e;e++)g=y[e],n.push(c(g));return n}(),e=u(s(e)),t.xf=R=crossfilter(e),t.all=i=R.groupAll(),t.resetAll=function(){return dc.filterAll(),dc.redrawAll()},v=dc.dataCount(".null"),v.dimension(R),v.group(i),E=t.wwDimension=R.dimension(function(e){return e.workWeek}),T=t.wwbDimension=R.dimension(function(e){return e.workWeek}),h=t.campaignDimension=R.dimension(function(e){return e.campaignName}),$=t.tcDimension=R.dimension(function(e){return e.tcName}),l=t.boardProductDimension=R.dimension(function(e){return e.boardProduct}),o=t.buildIdDimension=R.dimension(function(e){return e.buildId}),k=function(e){return e.group().reduceSum(function(e){return e.uselessExecutionNumber})},t.wwDimensionGroup=k(E),P=t.wwbDimensionGroup=T.group().reduceSum(function(e){return 0===e.uselessExecutionNumber?1:0}),m=t.campaignDimensionGroup=k(h),d=t.boardProductDimensionGroup=k(l),S=t.tcDimensionGroup=k($),a=t.buildIdDimensionGroup=k(o),b=function(e){return e.value},A=function(e,t){var n,i,o,a;return i=r.computeXLabelOrdering,n=e.top(1/0),o=b,a=i(e,function(e,t){return d3.descending(o(e),o(t))},function(e){return o(e)>0}),t.x(d3.scale.ordinal(e).domain(a))},t.wwbSetup=function(e){return e.on("renderlet",function(e){return n.setWWAxis(e)}).xAxis().tickFormat(function(e){return n.getIntelWW(e)})},t.wwSetupForZoom=function(e){return e.on("renderlet",function(e){return n.setWWAxis(e)})},t.campaignSetup=function(e){return e.on("preRender",function(t){return A(m,e)}).on("renderlet",function(e){return n.setTestCampaignAxis(e)})},t.boardProductSetup=function(e){return e.on("preRender",function(t){return A(d,e)}).on("renderlet",function(e){return n.setBoardProductAxis(e)})},t.buildIdSetup=function(e){return e.on("preRender",function(t){return A(a,e)}).on("renderlet",function(e){return n.hideAxis(e)})},t.tcSetup=function(e){return e.on("preRender",function(t){return A(S,e)}).on("renderlet",function(e){return n.hideAxis(e)})},t.tableGroup=function(e){return n.getIntelWW(e.workWeek)},w=function(e,t){var r;return"none"!==e?(r=n.createAwrUrl(e),"<a href='"+r+"'>"+t+"</a>"):""},D=function(e,t){var n,r,i,o;return o=d3.descending(e.uselessExecutionNumber,t.uselessExecutionNumber),0!==o?o:(i=function(e){return e.cactusBranch+"-"+e.builder},n=i(e),r=i(t),o=d3.ascending(n,r),0!==o?o:(o=d3.descending(e.buildNumber,t.buildNumber),0!==o?o:(o=d3.descending(e.boardProduct,t.boardProduct),0!==o?o:d3.ascending(f(e),f(t)))))},C=function(e){return new Date(1e3*parseInt(e))},_=function(e){var t;return(t=d3.time.format("%Y-%m-%d/%HH%M"))(C(e))},x=function(e){var t,r,i,o,a;return a=e.previousSuccess,o=C,t=n.computeDateDiff(o(e.TestCaseStartTime),o(a.TestCaseStartTime)),r=d3.time.format("-%HH%M")(t),i=r+":"+a.campaignName,w(a.awrUuid,i)},t.tablePostFormat=function(e){return e.columns([function(e){return e.buildId},function(e){return e.campaignName},function(e){return e.tcName},function(e){return e.boardProduct},function(e){return w(e.awrUuid,_(e.TestCaseStartTime))},function(e){return x(e)}]).order(D)},t.loading=!1})}])}.call(this),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};angular.module("app").controller("preint_regsController",["$state","$scope","metricsService","postCommitService","config","$timeout","$q",function(t,n,r,i,o,a,s){var u,l,c;return n.loading=!0,n.ui_params={verdicts:[],type_of_tests:[],branches:[]},l=t.current.data,n.metricsService=r,n.filter=function(e,t){return r.filter(e,t),dc.redrawAll()},u=t.current.data.dbName,n.resetAll=function(){return dc.filterAll(),dc.redrawAll()},c=s.all([r.jsv(l.api_url),r.getDefaultParams(l.api_url)]),c.then(function(t){var a,s,l,c,d,p,f,h,m,g,v,b,y,w,_,x,C,D,k,A,$,S,E,T,P,R,M,N,F,O,G,I,B,W,L,j,V,H,q,U,z,Y,X,K,Z,J,Q,ee,te,ne,re,ie,oe,ae,se,ue,le,ce,de,pe,fe,he,me,ge,ve,be,ye,we,_e,xe,Ce,De,ke,Ae,$e,Se,Ee,Te,Pe,Re,Me,Ne,Fe,Oe,Ge,Ie,Be,We,Le,je,Ve,He,qe,Ue,ze,Ye,Xe,Ke,Ze,Je,Qe,et,tt,nt,rt;if(M=t[0],L=t[1],0!==M.length){W=L.data,I=[],B=[],j=[],null!=W.branch&&(I=W.branch.split(",")),null!=W.builder&&(B=W.builder.split(",")),null!=W.type_of_tests&&(j=W.type_of_tests.split(",")),le=[],null!=W.infra_tests&&(le=W.infra_tests.split(",")),de=function(e){return null!=e&&""!==e&&"None"!==e},fe=function(e){return"preintegration"===e||"premerge"===e||"mergerequest"===e||"autobuild"===e},q=function(e){var t,n,r,i;return r=e.split("-"),r.length>1&&(t=r[0],n=r[1],fe(n))?i={branch:t,builder:n}:void 0},Z=function(e){var t,n,r;return n=void 0,t=q(e.builderName),null!=t?n={branch:t.branch,builder:t.builder,number:+e.buildNumber,macro:!0}:(r=e.branchBuilderFromParentBuild,t=q(r),null!=t&&(n={branch:t.branch,builder:t.builder,number:+e.numberFromParentBuild,macro:!1}),n)},pe=function(e){return"PRIMARY"===e},Ge=function(e){return e.slice(1,e.length-1)},Se=function(e){var t,n,r,i,o,a,s,u,l,c;for(e=e.slice(0,e.indexOf("]]")+2),l=Ge(e),n=l.replace(/],/g,"];"),u=n.split(";"),t=function(e){var t,n;return t=Ge(e),n=t.split(","),t={changeid:+n[1],patchset:+n[2]}},s={},a=function(){var e,n,r;for(r=[],n=0,e=u.length;e>n;n++)c=u[n],r.push(t(c));return r}(),r=0,i=a.length;i>r;r++)o=a[r],s[o.changeid]=o.patchset;return s},we=void 0,_e=void 0,je=function(e,t,n){return e.start_time=t.start_time,e.finish_time=t.finish_time,e.ww=r.getIntelWW(1e3*e.start_time),e.date=r.parseCsvDate(t.date),_e=null!=_e?Math.min(_e,e.date):e.date,we=null!=we?Math.max(we,e.date):e.date,e.builder=n.builder,e.branch=n.branch,e.number=n.number,e.submitter=t.buildSubmittersEmail,e.result=t.bResult,e.changes_patchsets=Se(t.repoDl)},E=function(e){var t;return t={result:+e.bResult,number:+e.buildNumber,builder:e.builderName,slavename:e.slaveName,macro_start_time:e.start_time,macro_finish_time:e.finish_time}},a=function(t,n){var r,i;if(!isNaN(n.result))return i=n.type_of_test,r=e.call(j,i)>=0,0===j.length||r?t.tests.push(n):void 0},Ue=function(e,t,n){var r,i,o,s,u,l;return null==e.tests&&(e.tests=[]),pe(t.boardType)?(u=E(t),u.product=t.boardProduct,u.type_of_test=t.campaign,u.test_cases={},r=void 0,de(t.tcName)&&(r={name:t.tcName,verdict:t.tcResult,time:t.tcStartTime},u.test_cases[t.tcName]=r),i=function(e){var n;return n=e.product===t.boardProduct},s=function(){var t,n,r,o;for(r=e.tests,o=[],t=0,n=r.length;n>t;t++)l=r[t],i(l)&&o.push(l);return o}(),s.length>0?(o=s[0],(o.number=+t.buildNumber)?o.test_cases[t.tcName]=r:void 0):a(e,u)):void 0},Le=function(e,t,n){var r;return null==e.tests&&(e.tests=[]),r=E(t),r.product=t.targetProduct,r.type_of_test="build",r.test_cases={},a(e,r)},qe=function(e,t,n){var r;return null==e.tests&&(e.tests=[]),r=E(t),r.result=+t.stepResult,r.type_of_test=t.stepName,r.test_cases={},r.product="All",a(e,r)},Ve=function(e,t,n){return de(t.targetProduct)?Le(e,t,n):de(t.boardProduct)?Ue(e,t,n):void 0},He=function(e,t,n){return n.macro?(je(e,t,n),de(t.stepName)?qe(e,t,n):void 0):Ve(e,t,n)},ce=function(e,t,n){var r;return r={},r.build_id=e,He(r,t,n),r},g={},n.builder=B[0],M.forEach(function(t,n){var i,o,a,s,u,l,c,d,p;try{if(p={},o=Z(t),null==o)return;if(I.length>0&&(c=o.branch,e.call(I,c)<0))return;if(d=o.builder,e.call(B,d)<0)return;i=o,a=i.branch+"-"+i.builder+"/"+i.number,t.bResult=+t.bResult,l=r.setDefault(g,a,ce(a,t,i)),He(l,t,i)}catch(u){s=u,console.log("got error: "+s),console.log(t)}}),X=function(e){var t,n,r;n={};for(t in e)r=e[t],null!=r.builder&&(n[t]=r);return n},g=X(g),m={},b=function(e){var t,n,r;r=[];for(t in e)n=e[t],r.push(t+"/"+n);return r.join(",")};for(h in g)f=g[h],v=b(f.changes_patchsets),3!==(Fe=f.result)&&4!==Fe&&6!==Fe&&(f.changes=v,r.setDefault(m,v,[]).push(f));Ze=[],P=function(e,t,n){var i;return null==n&&(n=void 0),i={product:t.product,type_of_test:t.type_of_test,test_cases:t.test_cases,efficiency_verdict:n,date:e.date,ww:e.ww,week:r.getIntelWW(e.date),builder:e.builder,branch:e.branch,number:e.number,micro_number:t.number,micro_builder:t.builder,result:t.result,macro_result:e.result,submitter:e.submitter,build_id:e.build_id,slavename:t.slavename,success:[],failure:[],changes:e.changes,macro_start_time:t.macro_start_time,macro_finish_time:t.macro_finish_time}},l=function(e,t){var n,r,i,o,a,s;if(null!=e.tests){for(o=e.tests,a=[],n=0,r=o.length;r>n;n++)s=o[n],i=P(e,s,t),a.push(Ze.push(i));return a}},s=function(e){return l(e,"OTHER")},c=function(e){var t,n,r,i,o,a,s;for(i=e.tests,o=[],t=0,n=i.length;n>t;t++)a=i[t],s="NO_REG",1===a.result&&(s="WARNING"),r=P(e,a,s),o.push(Ze.push(r));return o},ae=function(e){return e.product+"/"+e.type_of_test};for(v in m)if(f=m[v],$e=function(){var e,t,n,r;for(r=[],e=0,t=f.length;t>e;e++)nt=f[e],0!==(n=nt.result)&&1!==n&&2!==n&&r.push(nt);return r}(),tt=function(){var e,t,n;for(n=[],e=0,t=f.length;t>e;e++)nt=f[e],1===nt.result&&n.push(nt);return n}(),d=function(e){var t,n,r,i;for(i=[],n=0,r=f.length;r>n;n++)t=f[n],i.push(e(t,f));return i},$e.length>0)d(s);else if(tt.length>0){if(1!==f.length){xe="ERROR: build in warning ",xe+="should not be rebuilt",console.log(xe),console.log(f);continue}p=f[0],c(p)}else{for(Ee={},Be=r.setDefault,he=0,me=f.length;me>he;he++)if(p=f[he],null!=p.tests)for(Oe=p.tests,Ce=0,ge=Oe.length;ge>Ce;Ce++)Ke=Oe[Ce],R=Be(Ee,ae(Ke),[]),ke=P(p,Ke),R.push(ke);else console.log(p),s(p);for(Pe in Ee){if(Je=Ee[Pe],z=function(){var e,t,n;for(n=[],t=0,e=Je.length;e>t;t++)nt=Je[t],2===nt.result&&n.push(nt);return n}(),ze=function(){var e,t,n;for(n=[],t=0,e=Je.length;e>t;t++)nt=Je[t],0===nt.result&&n.push(nt);return n}(),et=void 0,0===z.length)et="NO_REG";else if(0===ze.length)for(et="REG",Re=0,ve=Je.length;ve>Re;Re++)nt=Je[Re],nt.efficiency_verdict="REG";else et="UNRELIABLE";for(Xe=0,be=Je.length;be>Xe;Xe++)nt=Je[Xe],nt.efficiency_verdict=et,U=function(e){return e.build_id!==nt.build_id},nt.failure=function(){var e,t,n;for(t=[],n=0,e=z.length;e>n;n++)Ae=z[n],U(Ae)&&t.push(Ae);return t}(),nt.success=function(){var e,t,n;for(t=[],n=0,e=ze.length;e>n;n++)Ae=ze[n],U(Ae)&&t.push(Ae);return t}(),Ze.push(nt)}}Ie=function(){return dc.redrawAll(),dc.renderAll()},rt=crossfilter(Ze),n.date_dimension=N=rt.dimension(function(e){return e.date}),n.date_for_builds=F=rt.dimension(function(e){return[e.branch,e.date]}),n.date_for_ww=O=rt.dimension(function(e){return[e.branch,e.ww]}),n.ww_dim=rt.dimension(function(e){return e.ww}),n.verdict_dimension=rt.dimension(function(e){return e.efficiency_verdict}),n.type_of_test_dimension=rt.dimension(function(e){return e.type_of_test}),n.branch_dimension=rt.dimension(function(e){return e.branch}),ee=function(){return[N]},De=(we-_e)/2592e6,n.date_picker=r.makeFromToDatePicker(n,ee,Ie,De=De),V=n.date_picker,n.product_dimension=rt.dimension(function(e){return e.product}),n.weekly_dimension=rt.dimension(function(e){return e.week}),K=r.formatDropdownData,n.drop_down_verdicts=K(n.ui_params.verdicts,n.verdict_dimension),n.drop_down_branches=K(n.ui_params.branches,n.branch_dimension),G=K(n.ui_params.type_of_tests,n.type_of_test_dimension),n.drop_down_type_of_tests=G,Be=r.setDefault,n.date_per_result_dim_grp=H=N.group().reduce(function(e,t){var n;return e.count++,n=Be(e.count_per_result,t.efficiency_verdict,0),e.count_per_result[t.efficiency_verdict]=n+1,"REG"===t.efficiency_verdict&&(n=Be(e.regression_finders,t.type_of_test,0),e.regression_finders[t.type_of_test]=n+1),e},function(e,t){var n;return e.count--,n=Be(e.count_per_result,t.efficiency_verdict,0),e.count_per_result[t.efficiency_verdict]=n-1,"REG"===t.efficiency_verdict&&(n=Be(e.regression_finders,t.type_of_test,0),e.regression_finders[t.type_of_test]=n-1),e},function(){return{count:0,count_per_result:{},regression_finders:{}}}),n.builds_failed_false_neg=F.group().reduce(function(e,t){var n,r,i,o;return e.count++,n=[t.branch,t.builder,t.number].join("-"),r=Be(e.per_metabuild_verdicts,n,{}),i=[t.micro_builder,t.micro_number].join("-"),o={verdict:t.efficiency_verdict,status:t.result},r[i]=o,e},function(e,t){var n,r,i;return e.count--,n=[t.branch,t.builder,t.number].join("-"),r=e.per_metabuild_verdicts[n],i=[t.micro_builder,t.micro_number].join("-"),delete r[i],e},function(){return{count:0,per_metabuild_verdicts:{}}}),Te={infra:"INFRA / CONF ISSUE",unreliable:"UNRELIABLE TESTS",reg:"REG"},Y=function(t){var n,r,i,o,a,s,u;return 0===t.result?void 0:(u=t.test_cases,r=function(){var e,n;e=t.test_cases,n=[];for(i in e)s=e[i],n.push(s);return n}(),0===r.length?Te.infra:(u=r.sort(function(e,t){return e.time-t.time}),o=function(){var e,t,n;for(t=[],n=0,e=u.length;e>n;n++)nt=u[n],"PASSED"!==nt.verdict&&t.push(nt);return t}(),0===o.length?Te.infra:(n=o[0],a=n.name,e.call(le,a)>=0?Te.infra:"UNRELIABLE"===t.efficiency_verdict?Te.unreliable:Te.reg)))},Ne={add:function(e,t){var n,r,i,o,a;return e.count++,a=Be(e.per_changes,t.changes,{}),n=[t.branch,t.builder,t.number].join("-"),r=Be(a,n,{}),i=[t.micro_builder,t.micro_number].join("-"),o={macro_result:t.macro_result,micro_result:t.result,macro_start_time:t.macro_start_time,macro_finish_time:t.macro_finish_time,verdict:t.efficiency_verdict,failure_category:Y(t)},r[i]=o,e},del:function(e,t){var n,r,i,o;return e.count--,o=Be(e.per_changes,t.changes,{}),n=[t.branch,t.builder,t.number].join("-"),r=o[n],i=[t.micro_builder,t.micro_number].join("-"),delete r[i],e},init:function(){return{count:0,per_changes:{}}}},n.lost_time_due_to_unreliability=O.group().reduce(Ne.add,Ne.del,Ne.init),n.overall_efficiency=n.ww_dim.group().reduce(Ne.add,Ne.del,Ne.init),n.meta_failure_category=n.ww_dim.group().reduce(Ne.add,Ne.del,Ne.init),oe=function(e,t){return M=e.value.count_per_result,t in M?M[t]:0},n.regression_setup=function(e){var t,n;return n=["NO_REG","UNRELIABLE","REG","OTHER","WARNING"],t=i.createBarStacks(e,H,n,oe),t.on("preRender",function(e){return r.setDateXAxis(e,V.dateHandler.fromDate,V.dateHandler.toDate)}).title(function(e){var t,n,i,o,a;t=r.dateDisplayFormat(e.key),o=t,i=e.value.count_per_result;for(n in i)a=i[n],o+="\n\n"+n+":"+a;return o}).on("renderlet",function(e){return r.setWWAxis(e)})},x=function(e,t){var n,r,i,o;return null==t&&(t="UNRELIABLE"),n=function(e){var n,r,i;return r=function(){var r;r=[];for(n in e)i=e[n],i.verdict===t&&2===i.status&&r.push(n);return r}(),r.length>=1},i=function(){var t;t=[];for(r in e)o=e[r],n(o)&&t.push(r);return t}(),i.length},D=function(e){return x(e,"UNRELIABLE")},C=function(e){return x(e,"REG")},Me=function(e){var t,n,r;return e=function(){var t,n,r;for(n=[],r=0,t=e.length;t>r;r++)U=e[r],null!=U&&n.push(U);return n}(),0===e.length?void 0:(n=[Te.infra,Te.unreliable,Te.reg],t=function(e){return n.indexOf(e)},r=e.sort(function(e,n){return t(e)-t(n)}),r[0])},ne=function(e){var t,n,r,i,o,a,s;return r=function(){var t;t=[];for(n in e)s=e[n],t.push(s);return t}(),a=function(){var e,t,n;for(t=[],n=0,e=r.length;e>n;n++)nt=r[n],"UNRELIABLE"===nt.verdict&&t.push(nt);return t}(),i=function(){var e,t,n;for(t=[],n=0,e=r.length;e>n;n++)nt=r[n],"REG"===nt.verdict&&t.push(nt);return t}(),0===r.length?void 0:(t=function(){var e,t,n;for(t=[],n=0,e=r.length;e>n;n++)s=r[n],t.push(s.failure_category);return t}(),o={start_time:r[0].macro_start_time,finish_time:r[0].macro_finish_time,got_unreliable:a.length>0,got_reg:i.length>0,result:r[0].macro_result,failure_category:Me(t)})},Q=function(e){var t,n,r;return n=function(){var n;n=[];for(t in e)r=e[t],n.push(ne(r));return n}(),function(){var e,t,r;for(t=[],r=0,e=n.length;e>r;r++)nt=n[r],null!=nt&&t.push(nt);return t}()},y=function(e){var t,n;return n={max:void 0,min:void 0,sum:0,count:0},t=function(e,t){return e.sum+=t,e.count+=1,null==e.min&&(e.min=t),null==e.max&&(e.max=t),e.min=Math.min(e.min,t),e.max=Math.max(e.max,t),e},e.reduce(t,n)},te=function(e,t){var n,r,i,o;return null==t&&(t=function(e){return e.finish_time}),n=function(e){var n,r,i,o,a,s,u;return i=Q(e),s=function(){var e,t,n;for(t=[],n=0,e=i.length;e>n;n++)u=i[n],u.got_unreliable&&t.push(u);return t}(),s.length<=1?0:(o=function(){var e,t,n;for(t=[],n=0,e=s.length;e>n;n++)u=s[n],2===u.result&&t.push(u.start_time);return t}(),a=function(){var e,n,r;for(n=[],r=0,e=s.length;e>r;r++)u=s[r],0===u.result&&n.push(t(u));return n}(),0===a.length||0===o.length?0:(n=Math.min.apply(null,o),r=Math.min.apply(null,a),Math.max(0,(r-n)/3600)))},i=function(){var t,i;t=e.value.per_changes,i=[];for(r in t)o=t[r],i.push(n(o));return i}(),y(i)},Ye=function(e,t){return e+t},J=function(e,t){var n,r,i,o;return r=function(e){var n,r,i,o;return i=Q(e),r=function(){var e,n,r;for(n=[],r=0,e=i.length;e>r;r++)o=i[r],t(o)&&n.push(o);return n}(),r.length<1?0:(n=function(){var e,t,n;for(t=[],n=0,e=r.length;e>n;n++)o=r[n],t.push(o.finish_time-o.start_time);return t}(),n.reduce(Ye,0)/3600)},n=function(){var t,n;t=e.value.per_changes,n=[];for(i in t)o=t[i],n.push(r(o));return n}(),y(n)},A=r.computePercentage,k=function(e){var t,n,r,i,o,a,s,u,l,c;for(t=function(e,t){var n,r,i,o,a,s,u;for(a=function(){var e;e=[];for(n in t)s=t[n],e.push(s);return e}(),o=Q(a),u=0,r=o.length;r>u;u++)i=o[u],e.push(i);return e},v=function(){var t,n;t=e.value.per_changes,n=[];for(a in t)l=t[a],n.push(l);return n}(),n=v.reduce(t,[]),r=function(){var e;e=[];for(a in Te)l=Te[a],e.push(l);return e}(),u={},o=function(e){var t;return U=function(t){return t.failure_category===e},t=function(){var e,t,r;for(t=[],r=0,e=n.length;e>r;r++)l=n[r],U(l)&&t.push(l);return t}(),t.length},c=0,s=r.length;s>c;c++)i=r[c],u[i]=o(i);return u},re=function(e,t){return k(e)[t]},n.metafailure_category_setup=function(e){var t,o,a,s,u;return s=function(){var e;e=[];for(t in Te)u=Te[t],e.push(u);return e}(),o=n.meta_failure_category,a=i.createBarStacks(e,o,s,re),a.title(function(e){var n,i,o,a,s,l;l=e.key,s=k(e),n=function(){var e;e=[];for(t in s)u=s[t],e.push(u);return e}(),i=n.reduce(Ye,0),a=r.displayPercentageAndCount;for(t in s)u=s[t],o=a(u,i),l+="\n\n "+t+": "+o;return l}).on("renderlet",function(e){return r.setWWAxis(e)})},ye={radius:2,fillOpacity:.8,strokeOpacity:.8},We={renderDataPoints:ye},T=function(e){return function(t){return t.seriesAccessor(function(e){return e.key[0]}).keyAccessor(function(e){return e.key[1]}).chart(function(e){return dc.lineChart(e).interpolate("monotone")}).childOptions(We).valueAccessor(function(t){var n,r,i;return i=e(t.value.per_metabuild_verdicts),r=function(){var e;e=[];for(n in t.value.per_metabuild_verdicts)e.push(n);return e}(),A(i,r.length)}).on("preRender",function(e){return r.setDateXAxis(e,V.dateHandler.fromDate,V.dateHandler.toDate)}).title(function(t){var n,i,o,a,s,u;return s=e(t.value.per_metabuild_verdicts),i=r.displayPercentageAndCount,n=r.dateDisplayFormat(t.key[1]),a=function(){var e;e=[];for(o in t.value.per_metabuild_verdicts)e.push(o);return e}(),u=i(s,a.length),n+" "+u}).on("renderlet",function(e){return r.setWWAxis(e)})}},n.lost_metabuild_setup=T(D),n.win_metabuild_setup=T(C),Qe=function(e){var t,n;return t=Math.floor(e),n=Math.floor(e%1*60),n=""+n,2!==n.length&&(n="0"+n),t+"H"+n+"m"},n.lost_time_chart=function(e){return e.seriesAccessor(function(e){return e.key[0]}).keyAccessor(function(e){return e.key[1]}).chart(function(e){return dc.lineChart(e).interpolate("monotone")}).childOptions(We).valueAccessor(function(e){return te(e).sum}).title(function(e){var t,n,r,i,o;return o=te(e),t=0,0!==o.count&&(t=o.sum/o.count),n=Qe(o.sum),t=Qe(t),i=Qe(o.max),r=e.key[1],o=r+" "+n+" ("+o.count,o+=" different group of changes)",o+="\n\nAvg: "+t,o+="\n\nMax: "+i}).on("renderlet",function(e){return r.setWWAxis(e)})},ie=function(e){return J(e,function(e){return e.got_reg}).sum},se=function(e){var t;return U=function(e){return!(e.got_reg||e.got_unreliable)},t=J(e,U),t.sum},ue=function(e){return te(e).sum},n.comparison_with_optimal_execution=function(e){return e.renderDataPoints(ye).valueAccessor(ie).group(n.overall_efficiency,"Optimal execution").stack(n.overall_efficiency,"Time lost in reliable success",se).stack(n.overall_efficiency,"Time lost in unreliable failure",ue).title(function(e){var t,n,r,i,o;return i="WW "+e.key,o=Qe,r=o(ie(e)),t=o(se(e)),n=o(ue(e)),i+="\n\nOptimal execution: "+r,i+="\n\nLost in reliable success: "+t,i+="\n\nLost in unreliable failure: "+n}).on("renderlet",function(e){return r.setWWAxis(e)})},w=function(e){var t,n;return n=o.urls[u].buildbot_url,t=[e.branch,e.builder].join("-"),r.displayBuildUrl(n,t,e.number)},_=function(e){var t;return t=o.urls[u].buildbot_url,r.displayBuildUrl(t,e.micro_builder,e.micro_number)},$=function(e){var t,n;return t=w(e),n=_(e),t===n?t+" ("+e.type_of_test+")":t+"/"+n},S=function(e){var t;return t=function(){var t,n,r;for(n=[],r=0,t=e.length;t>r;r++)nt=e[r],n.push($(nt));return n}(),t=r.arrayWithoutDuplicates(t),t.join(" ")},n.table_group=function(e){return"Work Week "+e.week},n.table_post_format=function(e){return e.columns([function(e){return d3.time.format("%d/%m/%y")(e.date)},function(e){return e.branch},function(e){return w(e)},function(e){return e.type_of_test},function(e){return e.product},function(e){return e.slavename},function(e){return $(e)},function(e){return r.bbotResultLabels[e.result]},function(e){return e.efficiency_verdict},function(e){return e.submitter},function(e){return S(e.success)},function(e){return S(e.failure)}]).sortBy(function(e){var t;return t=e.changes+e.branch,t+=e.builder+e.number+e.date+e.board_product}).order(d3.descending)},n.loading=!1}})}])}.call(this),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};angular.module("app").controller("preint_testsController",["$state","$scope","metricsService","postCommitService","config","$timeout","$q",function(t,n,r,i,o,a,s){var u,l,c;return n.loading=!0,n.ui_params={branches:[],campaigns:[],board_products:[],board_types:[],sites:[],slaves:[],testcases:[],builders:[],verdicts:[],initial_data:{}},l=t.current.data,n.metricsService=r,n.filter=function(e,t){return r.filter(e,t),n.update_tcs(),dc.redrawAll()},u=t.current.data.dbName,n.choice={testcases:[]},n.attribute_links={campaign_and_testcases:{},branches_and_board_products:{},sites_and_slaves:{},board_types_and_board_products:{}},n.resetAll=function(){var e,t,i,o;i=n.ui_params.initial_data;for(e in i)o=i[e],t=o.slice(),n.ui_params[e]=t;return r.resetFilter(n.ui_params.campaigns,n.campaign_dimension),r.resetFilter(n.ui_params.branches,n.branch_dimension),r.resetFilter(n.ui_params.campaigns,n.campaign_dimension),r.resetFilter(n.ui_params.board_types,n.bpt_dimension),r.resetFilter(n.ui_params.board_products,n.bp_dimension),r.resetFilter(n.ui_params.sites,n.site_dimension),r.resetFilter(n.ui_params.slaves,n.slave_dimension),r.resetFilter(n.ui_params.testcases,n.tc_dimension),r.resetFilter(n.ui_params.verdicts,n.verdict_dimension),dc.filterAll(),dc.redrawAll()},c=s.all([r.jsv(l.api_url),r.getDefaultParams(l.api_url)]),c.then(function(t){var a,s,c,d,p,f,h,m,g,v,b,y,w,_,x,C,D,k,A,$,S,E,T,P,R,M,N,F,O,G,I,B,W,L,j,V,H,q,U,z,Y,X,K,Z,J,Q,ee,te,ne,re,ie,oe,ae,se,ue,le,ce,de,pe,fe,he,me,ge,ve,be,ye,we,_e,xe,Ce,De,ke,Ae,$e,Se,Ee,Te,Pe,Re,Me,Ne,Fe,Oe,Ge,Ie;if(D=t[0],G=t[1],0!==D.length){O=G.data,n.legacy_bps=[],null!=O.legacy_board_products&&(n.legacy_bps=O.legacy_board_products.split(",")),n.per_build=O.per_build,n.per_slave=O.per_slave,n.tc_details_status=O.tc_details_status,n.csvUrl=l.api_url.replace(/\/jsv/,"/csv"),n.sqlUrl=l.api_url.replace(/\/jsv/,"/sql"),F=[],N=[],ke=void 0,null!=O.campaign&&(F=O.campaign.split(",")),null!=O.branch&&(N=O.branch.split(",")),null!=O.testcase&&(ke=O.testcase.split(",")),null!=O.verdicts&&(Ae=O.verdicts.split(",")),Oe=[],se=function(e){return"1"===e.isWarning?"True":"0"===e.isWarning?"False":"NA"},re=function(e){return null==e||""===e||"None"===e},ae=function(e){return"engineering"===e||"preintegration"===e||"premerge"===e||"mergerequest"===e||"latest"===e||"release_candidate"===e||"weekly"===e||"daily"===e},U=function(e){var t,n,r,i,o;return i=void 0,o=[e.branchBuilderFromParentBuild,e.branchBuilderFromTriggeringBuild],r=e.buildNumber,o.forEach(function(e,t){var n,o;if(null!=e&&null==i)return o=e.split("-"),o.length>1&&(n=o[1],ae(n))?i={branch:o[0],builder:n,number:r}:void 0}),null==i&&null!=e.dailyInfoFromTriggerringBuild&&(n=e.dailyInfoFromTriggerringBuild.split("/"),4===n.length&&(t=n[2],ae(t)&&(i={branch:n[0],builder:n[2],number:n[3]}))),i},d=[],D.forEach(function(t,i){var o,a,s,u,l,c,p;try{if(p={},(null!=F?F.length:void 0)>0&&(u=t.Campaign,e.call(F,u)<0))return;if(p.campaign=t.Campaign,o=U(t),re(o))return;if(l=o.branch,e.call(N,l)<0)return;if(p.branch=o.branch,re(t.tCName))return;p.date=r.parseCsvDate(t.Date),p.week=r.getIntelWW(t.Date),p.builder=o.builder,p.build_result=t.bResult,p.number=o.number,p.build=p.branch+"-"+p.builder+"/"+p.number,d.push(p.builder),p.site=t.site,re(t.Duration)&&(t.Duration=0),p.duration=+t.Duration/60,re(t.bDuration)&&(t.bDuration=0),p.build_duration=+t.bDuration/60,p.start_time=+t.tcStartTime,p.slavename=t.SlaveName,p.board_product=t.TargetProduct,p.board_type=t.BoardType,p.testcase=t.tCName,p.build_number=t.buildNumber,p.week=r.getIntelWW(p.date),p.tc_result=t.tcResult,p.build_submitters_email=t.buildSubmittersEmail,p.isWarning=se(t),c=r.setDefault,c(n.attribute_links.campaign_and_testcases,p.campaign,[]).push(p.testcase),c(n.attribute_links.branches_and_board_products,p.branch,[]).push(p.board_product),c(n.attribute_links.sites_and_slaves,p.site,[]).push(p.slavename),c(n.attribute_links.board_types_and_board_products,p.board_type,[]).push(p.board_product),re(p.tc_result)&&(p.tc_result="NA"),Oe.push(p)}catch(s){a=s,console.log("catched "+a+" "+t.Date)}}),ye=n.attribute_links;for(a in ye){ce=ye[a];for(ue in ce)Ge=ce[ue],me=r.arrayWithoutDuplicates(Ge),ce[ue]=me}p=[],we=n.attribute_links.campaign_and_testcases;for(a in we)Fe=we[a],p=p.concat(Fe);p=r.arrayWithoutDuplicates(p),d=r.arrayWithoutDuplicates(d),n.display_builder_filter=d.length>1,pe=function(e,t){return r.measureTrend(e,t,+O.trend_threshold)},Ee=function(e){var t,r;return r=g(e.yestday.pass,e.yestday.count),t=g(e.yest_yestday.pass,e.yest_yestday.count),n.trend_val=pe(r,t)},Ie=crossfilter(Oe),c=Ie.groupAll(),ie=function(e){return"PASSED"===e.tc_result},oe=function(e){return"NA"!==e.tc_result&&"INVALID"!==e.tc_result},te=function(e){var t,n,i,o;return t=d3.time.format("%Y-%m-%d"),o=t(r.computeDayBefore(new Date)),i=t(r.computeDayBefore(o)),n=function(e,n){var r,a;return a=t(n.date),r=void 0,a===o?r=e.yestday:a===i&&(r=e.yest_yestday),r},e.reduce(function(e,t){var r;return e.count++,r=n(e,t),null!=r&&(r.count++,ie(t)&&r.pass++),e},function(e,t){var r;return e.count--,r=n(e,t),null!=r&&(r.count++,ie(t)&&r.pass--),e},function(){return{count:0,yestday:{pass:0,count:0},yest_yestday:{pass:0,count:0}}})},te(c),H=r.formatDropdownData,n.display_builder_filter&&(n.builder_dimension=Ie.dimension(function(e){return e.builder}),n.drop_down_builders=H(n.ui_params.builders,n.builder_dimension)),n.branch_dimension=Ie.dimension(function(e){return e.branch}),n.drop_down_branch=H(n.ui_params.branches,n.branch_dimension),n.campaign_dimension=Ie.dimension(function(e){return e.campaign}),n.drop_down_campaign=H(n.ui_params.campaigns,n.campaign_dimension),n.bpt_dimension=Ie.dimension(function(e){return e.board_type}),n.drop_down_bpt=H(n.ui_params.board_types,n.bpt_dimension),n.bp_dimension=Ie.dimension(function(e){return e.board_product}),n.drop_down_bp=H(n.ui_params.board_products,n.bp_dimension),n.site_dimension=Ie.dimension(function(e){return e.site}),n.drop_down_site=H(n.ui_params.sites,n.site_dimension),n.slave_dimension=Ie.dimension(function(e){return e.slavename}),n.drop_down_slave=H(n.ui_params.slaves,n.slave_dimension),n.verdict_dimension=Ie.dimension(function(e){return e.tc_result}),n.drop_down_verdict=H(n.ui_params.verdicts,n.verdict_dimension,function(t){var n;return n=Ae,n?e.call(n,t)>=0:!0}),n.tc_dimension=Ie.dimension(function(e){return e.testcase}),L=n.ui_params.default_values_applied,n.drop_down_testcase=H(n.ui_params.testcases,n.tc_dimension,function(t){var n;return n=ke,null!=n?e.call(n,t)>=0:!0}),n.date_dimension=k=Ie.dimension(function(e){return e.date}),n.date_bp=Ie.dimension(function(e){return[e.board_product,e.date]}),n.date_dimension_bis=A=Ie.dimension(function(e){return e.date}),n.date_dimension_third=$=Ie.dimension(function(e){return e.date}),_e=function(){return dc.redrawAll(),dc.renderAll()},Ne=[k,A,$],S=function(){return Ne},n.date_picker=r.makeFromToDatePicker(n,S,_e),B=n.date_picker,n.result_dimension=be=Ie.dimension(function(e){return e.tc_result}),n.weekly_dimension=Ie.dimension(function(e){return e.week}),n.date_per_result_dim_grp=W=k.group().reduce(function(e,t){return e.count++,e.count_per_result[t.tc_result]++,e},function(e,t){return e.count--,e.count_per_result[t.tc_result]--,e},function(){return{count:0,count_per_result:{PASSED:0,FAILED:0,BLOCKED:0,NA:0,
INVALID:0}}}),De=r.setDefault,ee=function(){var e;return e={tc_with_planner_effect:[],tc_that_generated_fail:[],build_status_counted:!1}},ne=function(e){return"0"===e},I=function(e){return e>180},ve=function(e){return r.isPreload(e.testcase)?!1:ne(e.build_result)?!ie(e):!1},M=function(e,t){var n;return Ge=e.tc_that_fail[t.testcase],n=Ge-1,0===n?delete e.tc_that_fail[t.testcase]:e.tc_that_fail[t.testcase]=n},Q=function(e,t){return Ge=De(e.tc_that_fail,t.testcase,0),e.tc_that_fail[t.testcase]=Ge+1},Re=function(e){return e.tc_that_generated_fail.sort(function(e,t){return e.start_time-t.start_time})},J=function(e,t,n){var i,o;if(!r.isPreload(t.testcase)&&!ne(t.build_result)&&!ie(t)&&(De=r.setDefault,o=n.tc_that_generated_fail[0],n.tc_that_generated_fail.push(t),Re(n),i=n.tc_that_generated_fail[0],o!==i))return Q(e,i),null!=o?M(e,o):void 0},K=function(e,t,n){return n.build_status_counted?void 0:(ne(t.build_result)?e.number_success_not_due_to_planner+=1:I(t.build_duration)?e.number_timeout+=1:e.number_not_success+=1,n.build_status_counted=!0)},Z=function(e,t,n){return ne(t.build_result)&&ve(t)?(0===n.tc_with_planner_effect.length&&(e.number_success_not_due_to_planner-=1,e.number_success_due_to_planner+=1),n.tc_with_planner_effect.push(t.testcase)):void 0},R=function(e,t,n){var i,o,a,s;if(!r.isPreload(t.testcase)&&!ne(t.build_result)&&!ie(t)&&(De=r.setDefault,s=n.tc_that_generated_fail[0],i=n.tc_that_generated_fail,o=i.indexOf(t.testcase),i.splice(o,1),Re(n),a=n.tc_that_generated_fail[0],s!==a))return M(e,s),null!=a?Q(e,a):void 0},T=function(e,t,n){return n.build_status_counted?(ne(t.build_result)?e.number_success_not_due_to_planner-=1:I(t.build_duration)?e.number_timeout-=1:e.number_not_success-=1,n.build_status_counted=!1):void 0},P=function(e,t,n){var r,i;if(ne(t.build_result))return ve(t)&&(i=n.tc_with_planner_effect,r=i.indexOf(t.testcase),i.splice(r,1),0===i.length)?(e.number_success_not_due_to_planner+=1,e.number_success_due_to_planner-=1):void 0},n.avoided_failures_dim_grp=s=k.group().reduce(function(e,t){var n;return n=De(e.per_testcampaign_build,t.build_number,ee()),J(e,t,n),K(e,t,n),Z(e,t,n),e},function(e,t){var n;return n=e.per_testcampaign_build[t.build_number],R(e,t,n),T(e,t,n),P(e,t,n),e},function(){return{per_testcampaign_build:{},number_not_success:0,number_success_not_due_to_planner:0,number_success_due_to_planner:0,number_timeout:0,tc_that_fail:{}}}),n.cumulative_avoided={},n.cumulative_avoided.all=function(){var e,t;return e=0,t=[],n.avoided_failures_dim_grp.all().forEach(function(n,r){var i;return e+=n.value.number_success_due_to_planner,i={key:n.key,value:e},t.push(i)}),t},n.result_dimension_group=be.group().reduceCount(),fe=function(){var e;return e={count:0,pass:0,pass_exec_time:0,exec_time_array:[],exec_time:0}},he=function(){var e;return e=[],p.forEach(function(t,n){return e[t]=fe()}),e},Se=function(e,t,n,r){return null==t&&(t=function(e,t){return e}),null==n&&(n=fe),null==r&&(r=function(e){return e.group()}),r(e).reduce(function(e,n){var r;return r=t(e,n),r.count++,ie(n)&&(r.pass++,r.pass_exec_time+=n.duration),oe(n)&&(r.exec_time_array.push(n.duration),r.exec_time+=n.duration),e},function(e,n){var r,i;return i=t(e,n),i.count--,ie(n)&&(i.pass--,i.pass_exec_time-=n.duration),oe(n)&&(r=i.exec_time_array.indexOf(n.duration),i.exec_time_array.splice(r,1),i.exec_time-=n.duration),e},function(){return n()})},Me=Se,ge=function(e,t){return e[t.testcase]},V=function(e,t){var n;return null==t&&(t=function(e){return e.value.pass>0}),n={},n.all=function(){return e.all().filter(t)},n},n.date_pass_rate_grp=V(Me(A),j=function(e){return e.value.count>0}),n.tc_grp=Se(n.tc_dimension),le={radius:2,fillOpacity:.8,strokeOpacity:.8},$e={renderDataPoints:le},n.per_build&&(n.build_dimension=f=Ie.dimension(function(e){return e.build}),n.build_pass_rate_grp=V(Me(f),j=function(e){return e.value.count>10}),n.build_line_execution_setup=function(e){return e.valueAccessor(function(e){return g(e.value.pass,e.value.count)}).renderArea(!0).interpolate("monotone").title(function(e){var t,n;return t=r.displayPercentageAndCount,n=t(e.value.pass,e.value.count),e.key+" "+n}).renderDataPoints(le).on("renderlet",function(e){var t;return t=n.build_pass_rate_grp.all(),t.length>10?r.hideAxis(e):r.setWWAxis(e)})}),n.date_bp_pass_rate_grp=V(Me(n.date_bp),j=function(e){return e.value.count>0}),n.per_slave&&(Pe=n.slave_dimension,n.slave_pass_rate_grp=V(Me(Pe),j=function(e){return e.value.count>10}),n.slave_line_execution_setup=function(e){return e.valueAccessor(function(e){return g(e.value.pass,e.value.count)}).renderArea(!0).interpolate("monotone").title(function(e){var t,n;return t=r.displayPercentageAndCount,n=t(e.value.pass,e.value.count),e.key+" "+n}).renderDataPoints(le).on("renderlet",function(e){var t;return t=n.slave_pass_rate_grp.all(),t.length>10?r.hideAxis(e):r.setWWAxis(e)})}),g=r.computePercentage,Y=function(e,t){return e.value.count_per_result[t]},Ce=r.resultColors,n.resultAndColors=xe={PASSED:Ce[0],FAILED:Ce[2],BLOCKED:Ce[3],NA:Ce[4],INVALID:Ce[5]},n.plannerResultAndColors={NOT_SUCCESS:Ce[2],SUCCESS:Ce[0],SUCCESS_DUE_TO_PLANNER:Ce[1],TIMEOUT:Ce[3]},de=function(e){var t,n;return n=function(){var t;t=[];for(ue in e)t.push(ue);return t}(),t=function(){var t;t=[];for(ue in e)Ge=e[ue],t.push(Ge);return t}(),d3.scale.ordinal().domain(n).range(t)},n.test_execution_setup=function(e){var t,n;return n=function(){var e;e=[];for(ue in xe)e.push(ue);return e}(),t=i.createBarStacks(e,W,n,Y),t.on("preRender",function(e){return r.setDateXAxis(e,B.dateHandler.fromDate,B.dateHandler.toDate)}).title(function(e){var t,n,i;t=r.dateDisplayFormat(e.key),i=0,n=e.value.count_per_result;for(a in n)Ge=n[a],i+=Ge;return t+" ("+i+" #)"}).on("renderlet",function(e){return r.setWWAxis(e)}).colors(de(xe))},z=function(e,t){return"NOT_SUCCESS"===t?e.value.number_not_success:"SUCCESS"===t?e.value.number_success_not_due_to_planner:"SUCCESS_DUE_TO_PLANNER"===t?e.value.number_success_due_to_planner:"TIMEOUT"===t?e.value.number_timeout:t in e.value.tc_that_fail?e.value.tc_that_fail[t]:0},n.planner_setup=function(e){var t,o;return o=["NOT_SUCCESS","SUCCESS","SUCCESS_DUE_TO_PLANNER","TIMEOUT"],t=i.createBarStacks(e,s,o,z),t.on("preRender",function(e){return r.setDateXAxis(e,B.dateHandler.fromDate,B.dateHandler.toDate)}).title(function(e){var t,n,i,o,a;return t=r.dateDisplayFormat(e.key),n=z(e,"SUCCESS_DUE_TO_PLANNER"),i=z(e,"NOT_SUCCESS"),o=z(e,"TIMEOUT"),a=t,a+="\n\n"+n+" failures avoided",a+="\n\n"+i+" not success",a+="\n\n"+o+" timeout"}).on("renderlet",function(e){return r.setWWAxis(e)}).colors(de(n.plannerResultAndColors))},n.tc_that_fail_setup=function(e){var t,o;return o=[],n.avoided_failures_dim_grp.all().forEach(function(e,t){var n,r;n=e.value.tc_that_fail,r=[];for(ue in n)a=n[ue],r.push(o.push(ue));return r}),o=r.arrayWithoutDuplicates(o),t=i.createBarStacks(e,s,o,z),t.on("preRender",function(e){return r.setDateXAxis(e,B.dateHandler.fromDate,B.dateHandler.toDate)}).title(function(e){var n,i,o,a,s,u;n=r.dateDisplayFormat(e.key),ge=[],a=n,s=e.value.tc_that_fail;for(ue in s)Ge=s[ue],t={name:ue,number:Ge},ge.push(t);for(ge.sort(function(e,t){return t.number-e.number}),i=0,o=ge.length;o>i;i++)u=ge[i],a+="\n\n"+u.name+":"+u.number;return a}).on("renderlet",function(e){return r.setWWAxis(e)})},n.cumulative_setup=function(e){return e.on("preRender",function(e){return r.setDateXAxis(e,B.dateHandler.fromDate,B.dateHandler.toDate)}).title(function(e){var t;return t=r.dateDisplayFormat(e.key),""+t}).on("renderlet",function(e){return r.setWWAxis(e)})},E=function(e){var t,n;return n=r.displayPercentageAndCount(e.value.pass,e.value.count),t=r.dateDisplayFormat(e.key),t+" "+n},n.line_execution_setup=function(e){return e.valueAccessor(function(e){return g(e.value.pass,e.value.count)}).renderArea(!0).interpolate("monotone").title(function(e){return E(e)}).renderDataPoints(le).on("preRender",function(e){return r.setDateXAxis(e,B.dateHandler.fromDate,B.dateHandler.toDate)}).on("renderlet",function(e){return r.setWWAxis(e)})},n.line_bp_execution_setup=function(e){return e.seriesAccessor(function(e){return e.key[0]}).keyAccessor(function(e){return e.key[1]}).chart(function(e){return dc.lineChart(e).interpolate("monotone")}).valueAccessor(function(e){return g(e.value.pass,e.value.count)}).childOptions($e).title(function(e){var t,n;return n=r.displayPercentageAndCount(e.value.pass,e.value.count),t=r.dateDisplayFormat(e.key[1]),t+" "+n}).on("preRender",function(e){return r.setDateXAxis(e,B.dateHandler.fromDate,B.dateHandler.toDate)}).on("renderlet",function(e){return r.setWWAxis(e)})},n.line_bp_avg_execution_setup=function(e){return e.seriesAccessor(function(e){return e.key[0]}).keyAccessor(function(e){return e.key[1]}).chart(function(e){return dc.lineChart(e).interpolate("monotone")}).valueAccessor(function(e){return r.computeAvg(e.value.pass_exec_time,e.value.pass)}).childOptions($e).title(function(e){var t,n;return t=r.computeAvg(e.value.pass_exec_time,e.value.pass),t=r.floatDisplayFormat(t),n=r.dateDisplayFormat(e.key[1]),n+" ("+t+" min)"}).on("preRender",function(e){return r.setDateXAxis(e,B.dateHandler.fromDate,B.dateHandler.toDate)}).on("renderlet",function(e){return r.setWWAxis(e)})},n.label_donut_chart=function(e){return e.colors(de(xe)).label(function(e){var t;return t=Math.floor(g(e.value,c.value().count)),t+"%"}).on("renderlet",function(e){return Ee(c.value())})},n.tc_exec_status_setup=function(e){return e.on("preRender",function(e){return r.setRowChartHeight(e,n.tc_grp,20,330,15)}).valueAccessor(function(e){return g(e.value.pass,e.value.count)}).ordering(function(e){return g(e.value.pass,e.value.count)}).label(function(e){return e.key}).colors(d3.scale.category20c()).title(function(e){var t,n;return t=r.displayPercentageAndCount,n=t(e.value.pass,e.value.count),e.key+" "+n}).x(d3.scale.linear().range([0,e.width()-50]).domain([0,100])).xAxis().scale(e.x())},n.display_tc=function(e){return e.displayed},n.position=function(e){return e.position},C=function(){var e,t,r,i,o,a,s;return t=function(e,t){var n,r;return Me(e,n=ge,r=he,t=t)},a=function(){return n.tc_details_status?Ie.dimension(function(e){return[e.board_product,e.date]}):Ie.dimension(function(e){return e.date})},r=a(),e=a(),n.tc_details_status||(Ne.push(r),Ne.push(e)),i=t(r,function(e){return e.group()}),o=t(r,function(e){return e.groupAll()}),s={dim_for_each_tc:r,dim_for_each_tc_aggregated:e,grouped_dim_for_each_tc:i,grouped_dim_for_aggregated:o}},n.per_tc_dimensions=C(),h=function(e,t,n){var i,o,a;return a={},a.dimension=t.dim_for_each_tc,a.group=n(t.grouped_dim_for_each_tc),i=t.grouped_dim_for_aggregated.value(),a.displayed=i[e.name].count>0,o=g(i[e.name].pass,i[e.name].count),a.position=o,a.common_post_setup_chart=function(e){return e.on("preRender",function(e){return r.setDateXAxis(e,B.dateHandler.fromDate,B.dateHandler.toDate)}).on("renderlet",function(e){return r.setWWAxis(e)})},a},m=function(e,t,n,i){var o;return o=h(e,t,n),o.old_common_post_setup_chart=o.common_post_setup_chart,o.common_post_setup_chart=function(t){return t=o.old_common_post_setup_chart(t),t.valueAccessor(function(t){return g(t.value[e.name].pass,t.value[e.name].count)}).title(function(t){var n,o,a,s;return n=r.dateDisplayFormat(i(t)),o=t.value[e.name].count,o>0&&(a=g(t.value[e.name].pass,t.value[e.name].count),s=""+n,s+="\n pass rate="+a+" %",s+="\n number of occurences=",s+=""+o),s})},o},Te=function(e,t){return e.seriesAccessor(function(e){return e.key[0]}).keyAccessor(function(e){return e.key[1]}).chart(function(e){return dc.lineChart(e).interpolate("monotone")}).data(function(e){return e.all().filter(function(e){return e.value[t.name].count>0})}).childOptions($e)},y=function(e,t){var n;return n=m(e,t,function(e){return e},function(e){return e.key[1]}),n.post_setup_chart=function(t){return t=n.common_post_setup_chart(t),Te(t,e)},n},b=function(e,t){var n;return n=h(e,t,function(e){return e}),n.post_setup_chart=function(t){return t=n.common_post_setup_chart(t),t=Te(t,e),t.valueAccessor(function(t){var n;return(n=r.computeAvg)(t.value[e.name].exec_time,t.value[e.name].count)}).title(function(t){var n,i,o,a,s,u,l,c;return a=r.dateDisplayFormat,o=a(t.key[1]),c=""+o,l=t.value[e.name].count,l>0&&(i=r.computeAvg,n=i(t.value[e.name].exec_time,t.value[e.name].count),n=r.floatDisplayFormat(n),s=t.value[e.name].exec_time_array,u=Math.max.apply(Math,s),a=r.floatDisplayFormat,u=a(u),c+="\n average execution time=",c+="("+n+" min)",c+="\n max execution time=",c+="("+u+" min)",c+="\n number of occurences=",c+=""+l),c}).childOptions($e)},n},w=function(e,t){var n,r;return n=function(t){return V(t,j=function(t){return t.value[e.name].count>0})},r=m(e,t,n,function(e){return e.key}),r.post_setup_chart=function(e){return e=r.common_post_setup_chart(e),e.renderArea(!0).renderDataPoints(le)},r},v=function(e){var t;return t=n.per_tc_dimensions,n.tc_details_status?(e.pass_rate=y(e,t),e.exec_time=b(e,t)):e.pass_rate=w(e,t),e.position=e.pass_rate.position,e.displayed=e.pass_rate.displayed,e.graph_computed=!0,e},n.update_tcs=function(){var e,t,r,i,o,a;return e=function(e){var t;return t={},t.name=e,t},o=n.ui_params.testcases,i=function(){var e,t,n;for(n=[],e=0,t=o.length;t>e;e++)a=o[e],a.ticked&&n.push(a);return n}(),Fe=function(){var t,n,r;for(r=[],t=0,n=i.length;n>t;t++)a=i[t],r.push(e(a.name));return r}(),t=v,n.choice.testcases=function(){var e,n,i;for(i=[],e=0,n=Fe.length;n>e;e++)r=Fe[e],i.push(t(r));return i}()},_=function(e){var t;return t=o.urls[u].buildbot_url,r.displayBuildUrl(t,"test_campaign",e.build_number)},q=function(e){return r.floatDisplayFormat(e)},n.table_group=function(e){return"Work Week "+e.week},n.table_post_format=function(e){var t;return t=["date","branch","campaign","build_number","board_product"],e.columns([function(e){return d3.time.format("%d/%m/%y")(e.date)},function(e){return e.branch},function(e){return _(e)},function(e){return e.tc_result},function(e){return e.isWarning},function(e){return q(e.duration)},function(e){return e.slavename},function(e){return e.board_product},function(e){return e.board_types},function(e){return e.campaign},function(e){return e.testcase},function(e){return e.build_submitters_email}]).sortBy(function(e){var t;return t=e.date+e.branch+e.campaign,t+=e.build_number+e.board_product}).order(d3.descending)},n.filter(n.ui_params.testcases,n.tc_dimension),n.filter(n.ui_params.verdicts,n.verdict_dimension),X=function(t){var i,o,a,s,u,l,c,d,p,f,h,m,g,v;l=t.modified,s=t.impacted,null==n.ui_params.initial_data[s.attribute]&&(o=n.ui_params[s.attribute].slice(),n.ui_params.initial_data[s.attribute]=o),m=n.ui_params,f=m.initial_data[s.attribute],i=f.slice(),g=n.ui_params[l.attribute],h=function(){var e,t,n;for(n=[],e=0,t=g.length;t>e;e++)v=g[e],v.ticked&&n.push(v.name);return n}(),u=[],p=n.attribute_links[t.relation];for(ue in p)Ge=p[ue],e.call(h,ue)>=0&&(u=u.concat(Ge));return d=r.arrayWithoutDuplicates,a=d(u),c=function(){var t,n,r,o;for(o=[],t=0,n=i.length;n>t;t++)v=i[t],r=v.name,e.call(a,r)>=0&&o.push(v);return o}(),n.ui_params[s.attribute]=c,n.filter(n.ui_params[l.attribute],n[l.dimension]),n.filter(n.ui_params[s.attribute],n[s.dimension]),n.update_tcs()},x=function(e,t){var n;return n={attribute:e,dimension:t}},n.set_campaigns=function(){var e;return e={modified:x("campaigns","campaign_dimension"),impacted:x("testcases","tc_dimension"),relation:"campaign_and_testcases"},X(e)},n.set_branches=function(){var e;return e={modified:x("branches","branch_dimension"),impacted:x("board_products","bp_dimension"),relation:"branches_and_board_products"},X(e)},n.set_board_types=function(){var e;return e={modified:x("board_types","bpt_dimension"),impacted:x("board_products","bp_dimension"),relation:"board_types_and_board_products"},X(e)},n.set_slaves=function(){var e;return e={modified:x("sites","site_dimension"),impacted:x("slaves","slave_dimension"),relation:"sites_and_slaves"},X(e)},n.loading=!1}})}])}.call(this),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};angular.module("app").controller("premerge_efficiencyController",["$state","$scope","metricsService","postCommitService","config","$timeout","$q","$http",function(t,n,r,i,o,a,s,u){var l,c,d;return n.loading=!0,n.ui_params={branches:[],verdicts:[]},n.filter=function(e,t){return r.filter(e,t),dc.redrawAll()},c=t.current.data,n.metricsService=r,n.filter=function(e,t){return r.filter(e,t),dc.redrawAll()},l=t.current.data.dbName,n.resetAll=function(){return dc.filterAll(),dc.redrawAll()},d=s.all([u.get(c.api_url),r.getDefaultParams(c.api_url),r.getEnvironment()]),d.then(function(t){var a,s,u,c,d,p,f,h,m,g,v,b,y,w,_,x,C,D,k,A,$,S,E,T,P,R,M,N,F,O;d=t[0],f=t[1],g=t[2],d=d.data,p=f.data,R=g.data.TAAS_MINER_URL,w=[],null!=p.infra_tests&&(w=p.infra_tests.split(",")),_=function(e){return null!=e&&""!==e&&"None"!==e},E=[],N=["SAME_GROUP_SAME_PATCHSET"],M=["UNKNOWN"],A=["SAME_BUILD"],P=function(t){var n,r,i;return n=t.category,e.call(A,n)>=0?"NO_REG":(r=t.category,e.call(N,r)>=0?"UNRELIABLE":(i=t.category,e.call(M,i)>=0?"UNKNOWN":"MAY_HAVE_FOUND_REG"))},C=void 0,x=void 0,d.forEach(function(e,t){var n,i,o;try{o=angular.copy(e),o.result=+o.result,o.simplified_verdict=P(o),o.time_in_ms=1e3*+o.start_time,o.date=new Date(o.time_in_ms),o.ww=r.getIntelWW(o.time_in_ms),C=null!=C?Math.min(o.time_in_ms,C):o.time_in_ms,x=null!=x?Math.max(o.time_in_ms,x):o.time_in_ms,o.ww=r.getIntelWW(o.time_in_ms),E.push(o)}catch(i){n=i,console.log("got error: "+n),console.log(e)}}),S=function(){return dc.redrawAll(),dc.renderAll()},k=(x-C)/2592e6,O=crossfilter(E),T=r.setDefault,n.ww_dimension=F=O.dimension(function(e){return e.ww}),n.date_dimension=O.dimension(function(e){return e.date}),n.verdict_dimension=O.dimension(function(e){return e.simplified_verdict}),n.branch_dimension=O.dimension(function(e){return e.cactus_branch}),v=r.formatDropdownData,n.drop_down_verdicts=v(n.ui_params.verdicts,n.verdict_dimension),n.drop_down_branches=v(n.ui_params.branches,n.branch_dimension),b=function(){return[n.date_dimension]},n.date_picker=r.makeFromToDatePicker(n,b,S,D=k),n.ww_per_result_dim_grp=m=F.group().reduce(function(e,t){var n;return e.count++,n=T(e.count_per_result,t.simplified_verdict,0),e.count_per_result[t.simplified_verdict]=n+1,e},function(e,t){var n;return e.count--,n=T(e.count_per_result,t.simplified_verdict,0),e.count_per_result[t.simplified_verdict]=n-1,e},function(){return{count:0,count_per_result:{}}}),$={unreliable:"UNRELIABLE",reg:"MAY_HAVE_FOUND_REG",unknown:"UNKNOWN",no_reg:"NO_REG"},y=function(e,t){return d=e.value.count_per_result,t in d?d[t]:0},n.failures_issue_setup=function(t){var n,o;return o=[$.unreliable,$.reg,$.no_reg,$.unknown],n=i.createBarStacks(t,m,o,y),n.title(function(t){var n,r,i;E=t.key,r=t.value.count_per_result;for(n in r)i=r[n],e.call(o,n)>=0&&(E+="\n\n"+n+":"+i);return E}).on("renderlet",function(e){return r.setWWAxis(e)})},n.table_group=function(e){return"Work Week "+e.week},s=function(e){var t,n;return n=o.urls[l].buildbot_url,t=[e.cactus_branch,e.builder].join("-"),r.displayBuildUrl(n,t,e.number)},a=function(e){var t;return t=R+"/api/v0.1/builders_changes_report",t+="?cactus_branch="+e.cactus_branch,t+="&builder="+e.builder,t+="&number="+e.number,r.displayUrl(t,e.number)},u=function(e){var t,n,i,a;return n=e.split("/"),t=n[0],a=n[1],i=o.urls[l].buildbot_url,r.displayBuildUrl(i,t,a)},c=function(e){var t;return null!=e?(E=function(){var n,r,i;for(i=[],n=0,r=e.length;r>n;n++)t=e[n],i.push(u(t));return i}(),E=E.join(",")):""},h=function(e){var t,n;return E=function(){var r;r=[];for(t in e)n=e[t],r.push(t+":"+n);return r}(),E.join(",")},n.table_post_format=function(e){return e.columns([function(e){return d3.time.format("%d/%m/%y")(e.date)},function(e){return e.cactus_branch},function(e){return s(e)},function(e){return e.simplified_verdict},function(e){return e.category},function(e){return e.result},function(e){return h(e.blocking_info)},function(e){return c(e.proof_of_category)},function(e){return a(e)}]).sortBy(function(e){return e.date}).order(d3.descending)},n.loading=!1})}])}.call(this),function(){angular.module("app").controller("rawTableController",["$state","$log","$scope","$location","$rootScope","config","$http",function(e,t,n,r,i,o,a){var s,u,l,c,d,p;for(u=e.current.data,n.cfg=u,n.headers=[],n.export_urls=[],n.cur_page=0,n.page_size=20,d=["json","csv","xls"],l=0,c=d.length;c>l;l++)s=d[l],n.export_urls.push({url:n.cfg.api_url+s,format:s});return a.get(n.cfg.api_url+"sql?raw=1").then(function(e){return n.raw_sql=e.data}),n.loading=!0,p=function(e,t){var r,i;return r="?page="+e+"&page_size="+t,i=n.cfg.api_url+"json"+r,a.get(i).then(function(e){var t,r,i;if(n.jsondata=e.data,n.basedata=e.data,!n.headers.length){r=n.jsondata[0];for(t in r)i=r[t],n.headers.push(t)}return n.filter_on=n.headers[0],n.loading=!1})},p(n.cur_page,n.page_size),n.next_page=function(e){return!n.jsondata.length&&e>0?void 0:(n.cur_page+=e,n.cur_page<0?void(n.cur_page=0):p(n.cur_page,n.page_size))}}]),angular.module("app").filter("clean_output",function(){return function(e){var t,n;return t=/<br>/gi,n=null!=e?e.replace(t,", "):void 0}})}.call(this),function(){angular.module("app").controller("regressionController",["$state","$scope","metricsService","config","$timeout",function(e,t,n,r,i){var o;return o=e.current.data,t.loading=!0,d3.csv(o.api_url,function(e){var a,s,u,l;t.loading=!1,t.csvUrl=o.api_url,s=dc.dataCount(".null"),s._doRender=function(){return i(function(){return t.filter_count=s.dimension().size(),t.total_count=s.group().value()})},u=[],e.forEach(function(e,t){var r,i,o;if(null!=e.Opened&&"NULL"!==e.Opened)try{o={},o.Opened=n.parseCsvDateTime(e.Opened),o.WorkWeek=n.getIntelWW(o.Opened),o.BugID=+e["Bug ID"],e.Component.indexOf("-")>0?o.Component=e.Component.substr(0,e.Component.indexOf("-")):o.Component=e.Component,e.Summary.indexOf("[CLONED FROM ")>=0?o.Origin="Clone":o.Origin="Original",o.Severity=e.Severity,o.Hardware=e.Hardware,o.Status=e.Status,o.Resolution=e.Resolution,o.Summary=e.Summary,o.Version=e.Version,u.push(o)}catch(i){return r=i,void console.log("catched "+r+" line "+t+" "+e.Opened)}}),t.xf=l=crossfilter(u),t.all=a=l.groupAll(),t.resetAll=function(){return dc.filterAll(),dc.redrawAll()},t.all_records=e.length,t.all_filtered_records=e.length-u.length,e=[],s.dimension(l),s.group(a),t.weeklyDimension=l.dimension(function(e){return e.WorkWeek}),t.weeklyDimensionGroup=t.weeklyDimension.group().reduceCount(),t.versionDimension=l.dimension(function(e){return e.Version}),t.hardwareDimension=l.dimension(function(e){return e.Hardware}),t.componentDimension=l.dimension(function(e){return e.Component}),t.originDimension=l.dimension(function(e){return e.Origin}),t.severityDimension=l.dimension(function(e){return e.Severity}),t.severityDimensionGroup=t.severityDimension.group().reduceCount(),t.statusDimension=l.dimension(function(e){return e.Status}),t.statusDimensionGroup=t.statusDimension.group().reduceCount(),t.labelPieChart=function(e){return e.label(function(t){return n.pieTextDisplay(e,a,t)}).title(function(t){return n.pieTextDisplay(e,a,t)})},t.dailyPostFormat=function(e){return e.on("renderlet",function(e){return n.setWWAxis(e)}).title(function(e){return"Work Week:		"+e.key+"\nNumber of regressions:	"+e.value})},t.tableGroup=function(e){return"Work Week "+e.WorkWeek},t.tablePostFormat=function(e){return e.columns([function(e){return'<a href="'+r.urls.bugzilla_bz_url+e.BugID+'" target=_blank>'+e.BugID+"</a>"},function(e){return d3.time.format("%d/%m/%y - %H:%M:%S")(e.Opened)},function(e){return e.Summary},function(e){return e.Severity},function(e){return e.Version},function(e){return e.Hardware},function(e){return e.Component},function(e){return e.Status},function(e){return e.Resolution}])},t.$apply()})}])}.call(this),function(){angular.module("app").controller("security_metricsController",["$state","$scope","metricsService","config","$timeout","$location","glTopbarContextualActionsService",function(e,t,n,r,i,o,a){var s;return s=e.current.data,t.loading=!0,t.updateData=function(n){return $.ajax({url:"/metrics/security-metrics/json",type:"post",data:{selectedWeek:n},error:function(e){alert("Fail!!")},success:function(n){t.selectedWeek=n,e.current.data.api_url="/metrics/security-metrics/update/json",e.reload()}})},d3.json(s.api_url,function(e){var r,o,a,s,u,l,c;return 0===e.length?void(t.nodata=!0):(t.loading=!1,t.workWeeksList=[],l=[],u=e.meta,o=e.apps,o.forEach(function(e,t){var n,r;try{l.push(e)}catch(r){return n=r,void console.log("catched "+n)}}),t.xf=c=crossfilter(l),t.all=r=c.groupAll(),t.all_records=e.length,t.all_filtered_records=e.length-l.length,s=dc.dataCount(".null"),s._doRender=function(){return i(function(){return t.filter_count=s.dimension().size(),t.total_count=s.group().value()})},s.dimension(c),s.group(r),t.buildDimension=c.dimension(function(e){return e.build}),t.dateDimension=c.dimension(function(e){return e.date}),t.workWeeksList=u.work_weeks,t.retrievedWorkWeek=u.retrieved_work_week,a=["#FFFF00","#FFA500","#FF0000"],t.healthyList=[],t.projectDimension=c.dimension(function(e){return e.app}),t.projectDimensionGroup=t.projectDimension.group().reduce(function(e,t){return++e.count,e.total_critical_num+=+t.critical,e.total_major_num+=+t.major,e.total_minor_num+=+t.minor,e},function(e,t){return--e.count,e.total_critical_num+=+t.critical,e.total_major_num+=+t.major,e.total_minor_num+=+t.minor,e},function(){var e;return e={},e.count=0,e.total_critical_num=0,e.total_major_num=0,e.total_minor_num=0,e}),t.securityMetricsBarChart=function(e){return e.ordinalColors(a).group(t.projectDimensionGroup,"minor").valueAccessor(function(e){return e.value.total_minor_num/e.value.count}).stack(t.projectDimensionGroup,"major",function(e){return e.value.total_major_num/e.value.count}).stack(t.projectDimensionGroup,"critical",function(e){return e.value.total_critical_num/e.value.count}).on("renderlet",function(e){return e.selectAll("g.chart-body g").each(function(e){var n,r,i,o,a,s,u,l,c;for(u=e.values,l=[],i=0,o=u.length;o>i;i++)r=u[i],n=r.data.value.total_critical_num,a=r.data.value.total_major_num,s=r.data.value.total_minor_num,c=n+a+s,0===c?l.push(t.healthyList.push(r.data.key)):l.push(void 0);return l}),e.selectAll("g.x g").each(function(e){return t.healthyList.includes(e)?d3.select(this).select("text").style("fill","green"):void 0}),n.setSecurityMetricsAxis(e)}).title(function(e){return"Application:		"+e.key+"\nCritical counts:		"+e.value.total_critical_num+"\nMajor counts:		"+e.value.total_major_num+"\nMinor counts:		"+e.value.total_minor_num+"\nAverage critical Rate:	"+100*n.floatDisplayFormat(e.value.total_critical_num/(e.value.total_critical_num+e.value.total_major_num+e.value.total_minor_num))+"%"}).yAxis().tickFormat(d3.format("s"))},t.tableGroup=function(e){return"All Applications"},void(t.tablePostFormat=function(e){return e.columns([function(e){return e.app},function(e){return e.build},function(e){return e.date},function(e){return e.critical},function(e){return e.major},function(e){return e.minor}]).sortBy(function(e){return e.app}).order(d3.ascending)}))})}])}.call(this),function(){angular.module("app").controller("step_detailsController",["$state","$scope","metricsService","config","$timeout","$location",function(e,t,n,r,i,o){var a,s;return s=e.current.data,t.loading=!0,a=t.dbName=e.current.data.dbName,t.pageRoot=o.path().split("/")[1],e.params&&e.params.step&&(s.api_url+="?step="+e.params.step,t.step=e.params.step),n.jsv(s.api_url).then(function(e){var o,u,l,c,d,p;return 0===e.length?void(t.nodata=!0):(t.loading=!1,t.csvUrl=s.api_url.replace(/\/jsv\??/,"/csv?additional_fields=1&"),t.sqlUrl=s.api_url.replace(/\/jsv\??/,"/sql?additional_fields=1&"),c=dc.dataCount(".null"),c._doRender=function(){return i(function(){return t.filter_count=c.dimension().size(),t.total_count=c.group().value()})},d=[],e.forEach(function(e,t){var r,i;try{if("None"===e.Site||"None"===e.Duration)return;e.DateTime=n.parseCsvDateTime(e.Date),e.Date=n.dateDayRound(e.DateTime),e.Duration=+e.Duration/60,e.Result=n.resultValues[+e.Result],d.push(e)}catch(i){return r=i,void console.log("catched "+r+" "+e.Result+e.BuilderBuildNumber)}}),t.xf=p=crossfilter(d),t.all=o=p.groupAll(),t.resetAll=function(){return n.resetFilter(t.uiParams.builders,t.builderTypeDimension),n.resetFilter(t.uiParams.branchNames,t.branchNameDimension),n.resetFilter(t.uiParams.slavesNames,t.slaveNameDimension),n.resetFilter(t.uiParams.targetProducts,t.targetProductDimension),n.resetFilter(t.uiParams.boardProducts,t.boardProductDimension),dc.filterAll(),dc.redrawAll()},t.filter=function(e,t){return n.filter(e,t),dc.redrawAll()},t.all_records=e.length,t.all_filtered_records=e.length-d.length,c.dimension(p),c.group(o),t.uiParams={builders:[],branchNames:[],slavesNames:[],targetProducts:[],boardProducts:[]},t.builderTypeDimension=p.dimension(function(e){return e.BuilderType}),t.outBuilders=n.formatDropdownData(t.uiParams.builders,t.builderTypeDimension),t.branchNameDimension=p.dimension(function(e){return e.BranchName}),t.outBranches=n.formatDropdownData(t.uiParams.branchNames,t.branchNameDimension),t.slaveNameDimension=p.dimension(function(e){return e.SlaveName}),t.outSlaves=n.formatDropdownData(t.uiParams.slavesNames,t.slaveNameDimension),t.targetProductDimension=p.dimension(function(e){return e.TargetProduct}),t.outTargetProducts=n.formatDropdownData(t.uiParams.targetProducts,t.targetProductDimension),l=t.targetProductDimension.group().reduceCount().all(),t.boardProductDimension=p.dimension(function(e){return e.BoardProduct}),t.outBoardProducts=n.formatDropdownData(t.uiParams.boardProducts,t.boardProductDimension),u=t.boardProductDimension.group().reduceCount().all(),t.targetdisplay=!0,1===l.length&&"None"===l[0].key&&(t.targetdisplay=!1),t.boarddisplay=!0,1===u.length&&"None"===u[0].key&&(t.boarddisplay=!1),t.siteDimension=p.dimension(function(e){return e.Site}),t.siteDimensionGroup=t.siteDimension.group().reduceCount(),t.resultDimension=p.dimension(function(e){return e.Result}),t.resultDimensionGroup=t.resultDimension.group().reduceCount(),t.durationDimension=p.dimension(function(e){return[e.Date,e.Site]}),t.durationDimensionGroup=t.durationDimension.group().reduce(function(e,t){return++e.count,e.totalDuration+=t.Duration,e},function(e,t){return--e.count,e.totalDuration-=t.Duration,e},function(){return{count:0,totalDuration:0}}),t.resultDayDimension=p.dimension(function(e){return e.Date}),t.resultDayDimensionGroup=t.resultDayDimension.group().reduce(function(e,t){return e[t.Result]+=1,e},function(e,t){return e[t.Result]-=1,e},function(){return n.resultValues.reduce(function(e,t,n){return e[t]=0,e},{})}),t.min=t.resultDayDimension.bottom(1)[0].Date,t.max=t.resultDayDimension.top(1)[0].Date,t.resBarChart=function(e){return e.group(t.resultDayDimensionGroup,"Success").valueAccessor(function(e){return e.value[n.resultValues[0]]}).stack(t.resultDayDimensionGroup,"Warning",function(e){return e.value[n.resultValues[1]]}).stack(t.resultDayDimensionGroup,"Error",function(e){return e.value[n.resultValues[2]]}).stack(t.resultDayDimensionGroup,"Skipped",function(e){return e.value[n.resultValues[3]]}).stack(t.resultDayDimensionGroup,"Interrupted",function(e){return e.value[n.resultValues[4]]}).on("renderlet",function(e){return n.setWWAxis(e)}).title(function(e){return"Day:		"+n.dateDisplayFormat(e.key)+"\n\nSucces:		"+e.value[n.resultValues[0]]+"\nWarning:	"+e.value[n.resultValues[1]]+"\nError:		"+e.value[n.resultValues[2]]+"\nSkipped:		"+e.value[n.resultValues[3]]+"\nInterrupted:	"+e.value[n.resultValues[4]]}).colors(n.ordinalResultColors()).xAxis().tickFormat(function(e){return n.dateDisplayFormat(e)})},t.stepDimension=p.dimension(function(e){return e.Date}),t.tableGroup=function(e){return e.Date},t.resultPieChart=function(e){e.colors(n.ordinalResultColors()).title(function(t){return n.pieTextDisplay(e,o,t)}).label(function(t){return n.pieTextDisplay(e,o,t)})},t.sitePieChart=function(e){e.ordinalColors(n.siteColors).title(function(t){return n.pieTextDisplay(e,o,t);
}).label(function(t){return n.pieTextDisplay(e,o,t)})},t.postDurationChart=function(e){return e.seriesAccessor(function(e){return e.key[1]}).keyAccessor(function(e){return e.key[0]}).valueAccessor(function(e){return"undefined"==typeof e.value.count||0===e.value.count?0:n.floatDisplayFormat(e.value.totalDuration/e.value.count)}).chart(function(e){return dc.lineChart(e)}).title(function(e){return"Site:			"+e.key[1]+"\n\nDay:		"+n.dateDisplayFormat(e.key[0])+"\n# Occurences:		"+e.value.count+"\nDuration Avg:		"+n.floatDisplayFormat(e.value.totalDuration/e.value.count)})},void(t.tablePostFormat=function(e){var i;return i=[function(e){return n.timeDisplayFormat(e.DateTime)},function(e){return n.displayBuildUrl(r.urls[a].buildbot_url,e.BuilderName,e.BuildNumber)},function(e){return e.Site},function(e){return e.SlaveName},function(e){return e.BuilderType},function(e){return e.BranchName},function(e){return e.Result},function(e){return n.floatDisplayFormat(e.Duration)}],t.targetdisplay&&i.push(function(e){return e.TargetProduct}),t.boarddisplay&&i.push(function(e){return e.BoardProduct}),e.columns(i).group(function(e){return n.dateDisplayFormat(e.Date)}).sortBy(function(e){return e.DateTime}).order(d3.descending)}))})}])}.call(this),function(){angular.module("app").controller("test_request_trendController",["$state","$scope","metricsService","config","$timeout","$location",function(e,t,n,r,i,o){var a,s;return s=e.current.data,t.loading=!0,a=e.current.data.dbName,t.pageRoot=o.path().split("/")[1],n.jsv(s.api_url).then(function(e){var r,o,a,u,l;return 0===e.length?void(t.nodata=!0):(t.loading=!1,t.csvUrl=s.api_url.replace(/\/jsv/,"/csv"),t.sqlUrl=s.api_url.replace(/\/jsv/,"/sql"),a=dc.dataCount(".null"),a._doRender=function(){return i(function(){return t.filter_count=a.dimension().size(),t.total_count=a.group().value()})},u=[],e.forEach(function(e,t){var n,r;try{u.push(e)}catch(r){return n=r,void console.log("catched "+n)}}),t.xf=l=crossfilter(u),t.all=r=l.groupAll(),t.all_records=e.length,t.all_filtered_records=e.length-u.length,a.dimension(l),a.group(r),t.testRequestDimension=l.dimension(function(e){return e.submit_date}),t.testRequestDimensionGroup=t.testRequestDimension.group().reduce(function(e,t){return e.session+=+t.session_number,e},function(e,t){return e.session-=+t.session_number,e},function(){var e;return e={},e.session=0,e}),o=["#1F77B4","#FF7F0E","#2CA02C","#D62728","#9467BD","#949599","#ffe404","#A2B5A1","#EBD4B4","#8c564b","#FCD4DC","#58585A"],t.testRequestBarChart=function(e){return e.valueAccessor(function(e){return e.value.session}).group(t.testRequestDimensionGroup,"Test Request Number(requests)").on("renderlet",function(e){return e.selectAll("g.x g").each(function(e){return d3.select(this).select("text").remove(),d3.select(this).append("text").text(e)}),e.selectAll("g.axis text").style("pointer-events","all"),n.setOrdonalAxis(e)}).title(function(e){return"Date:		"+e.key+"\n\nNbr:	"+e.value.session})},t.workWeekDimension=l.dimension(function(e){return n.getIntelWW(e.submit_date)}),t.projectDimension=l.dimension(function(e){return e.project_name}),t.patchDimension=l.dimension(function(e){return e.id}),t.tableGroup=function(e){return"Project: "+e.project_name},void(t.tablePostFormat=function(e){return e.columns([function(e){return e.submit_date},function(e){return e.session_number}]).sortBy(function(e){var t;return t=e.project_name}).order(d3.descending)}))})}])}.call(this),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};angular.module("app").controller("testcampaign_detailController",["$state","$scope","metricsService","postCommitService","config","$timeout",function(t,n,r,i,o,a){var s;return n.loading=!0,n.uiParams={branches:[],builders:[],targets:[],boardTypes:[],campaigns:[],sites:[]},s=t.current.data,n.csvUrl=s.api_url.replace(/\/jsv/,"/csv"),n.sqlUrl=s.api_url.replace(/\/jsv/,"/sql"),n.metricsService=r,r.jsv(s.api_url).then(function(t){var a,u,l,c,d,p,f,h,m,g,v,b,y,w;0!==t.length&&(n.loading=!1,y=[],d=function(e,t){var n;return n=e.split("-"),n.length>1?n[0]:void 0},u=["Setup Test Slave","Clean output","Tested build","TC NOT EXECUTED"],b=[],t.forEach(function(e,t){var n,i,o;try{if(o={},o.day=r.parseCsvDate(e.Date),o.ww=r.getIntelWW(o.day),o.branch_name=d(e.branchBuilderFromParentBuild),null==o.branch_name)return;o.builder_type=e.builder_type,o.builder_build_number=e.builder_build_number,o.target=e.targetProduct,o.site=e.site,o.raw_result=+e.result,o.result=r.resultValues[+e.result],o.stepName=e.stepName,o.stepResult=+e.stepResult,o.campaign=e.campaign,o.tcName=e.tcName,null!=o.tcName&&"None"!==o.tcName&&b.push(o.tcName),o.tcResult=e.tcResult,o.board_type=e.boardType,y.push(o)}catch(i){n=i,console.log("catched "+n+" "+e.builder_build_number)}}),b=r.arrayWithoutDuplicates(b),u=u.concat(b),w=crossfilter(y),a=w.groupAll(),n.resetAll=function(){return r.resetFilter(n.uiParams.branches,n.branchDimension),r.resetFilter(n.uiParams.builders,n.builderDimension),r.resetFilter(n.uiParams.targets,n.targetDimension),r.resetFilter(n.uiParams.boardTypes,n.boardTypeDimension),r.resetFilter(n.uiParams.campaigns,n.campaignDimension),r.resetFilter(n.uiParams.sites,n.siteDimension),dc.filterAll(),dc.redrawAll()},n.filter=function(e,t){return r.filter(e,t),dc.redrawAll()},n.branchDimension=w.dimension(function(e){return e.branch_name}),n.builderDimension=w.dimension(function(e){return e.builder_type}),n.targetDimension=w.dimension(function(e){return e.target}),n.boardTypeDimension=w.dimension(function(e){return e.board_type}),n.campaignDimension=w.dimension(function(e){return e.campaign}),n.dayDimension=w.dimension(function(e){return e.day}),n.siteDimension=w.dimension(function(e){return e.site}),g=function(){return dc.redrawAll(),dc.renderAll()},f=function(){return[n.dayDimension]},n.date_picker=r.makeFromToDatePicker(n,f,g,m=6),l=n.date_picker,p=r.formatDropdownData,n.dropDownBranch=p(n.uiParams.branches,n.branchDimension),n.dropDownBuilder=p(n.uiParams.builders,n.builderDimension),n.dropDownTarget=p(n.uiParams.targets,n.targetDimension),n.dropDownBoardType=p(n.uiParams.boardTypes,n.boardTypeDimension),n.dropDownCampaign=p(n.uiParams.campaigns,n.campaignDimension),n.dropDownSite=p(n.uiParams.sites,n.siteDimension),n.resDimension=w.dimension(function(e){return e.result}),n.resDimensionGroup=n.resDimension.group().reduceCount(),n.resKeyList=n.resDimensionGroup.all().map(function(e){return e.key}),v=r.setDefault,c=function(t){var n,r,i,o,a,s,u,l,c;return u=["Setup Test Slave","Clean output","Tested build"],l=function(){var r;r=[];for(n in t)c=t[n],e.call(u,n)>=0&&r.push({name:n,value:c});return r}(),i=function(e){return function(t,n){var r;return null==t&&(r=n.value,null!=r&&r!==e)?n.name:t}},r=l.reduce(i(0),void 0),null!=r?r:(o=t.RunTest,s=function(){var e,r;e=t.testcases,r=[];for(n in e)c=e[n],r.push({name:n,value:c});return r}(),a=s.reduce(i("PASSED"),void 0),null!=a?a:"TC NOT EXECUTED")},n.dayGrp=n.dayDimension.group().reduce(function(e,t){var n,r,i,o,a;return 0===t.raw_result?e:(a=v(e.per_testcampaign,t.builder_build_number,{}),i=a.fail_rootcause,o=v(a,t.stepName,t.stepResult),b=v(a,"testcases",{}),null!=t.tcName&&"None"!==t.tcName&&(b[t.tcName]=t.tcResult),r=c(a),a.fail_rootcause=r,null!=i&&(e.per_rootcause[i]-=1,e.all_failures-=1),n=v(e.per_rootcause,r,0),e.per_rootcause[r]+=1,e.all_failures+=1,e)},function(e,t){var n;return 0===t.raw_result?e:(null!=e.per_testcampaign[t.builder_build_number]&&(n=e.per_testcampaign[t.builder_build_number].fail_rootcause,e.per_rootcause[n]-=1,e.all_failures-=1,delete e.per_testcampaign[t.builder_build_number]),e)},function(){return{per_testcampaign:{},per_rootcause:{},all_failures:0}}),n.postSetupPieChart=function(e){return e.title(function(t){return r.pieTextDisplay(e,a,t)}).label(function(t){return r.pieTextDisplay(e,a,t)})},h=function(e,n){return t=e.value.per_rootcause,n in t?t[n]:0},n.rootcause_setup=function(e){var t;return t=i.createBarStacks(e,n.dayGrp,u,h),t.on("preRender",function(e){return r.setDateXAxis(e,l.dateHandler.fromDate,l.dateHandler.toDate)}).title(function(e){var t,n,i,o,a,s,u,l,c,d;for(n=r.dateDisplayFormat(e.key),t=e.value.all_failures,u=n+": "+t+" failures",i=r.displayPercentageAndCount,l=function(){var t,n;t=e.value.per_rootcause,n=[];for(a in t)d=t[a],0!==d&&n.push({name:a,nb:d});return n}(),l.sort(function(e,t){return t.nb-e.nb}),o=0,s=l.length;s>o;o++)d=l[o],c=i(d.nb,t),u+="\n\n"+d.name+": "+c;return u}).on("renderlet",function(e){return r.setWWAxis(e)})},n.tableGroup=function(e){return"Work Week "+e.Week},n.tablePostFormat=function(e){return e.columns([function(e){return d3.time.format("%d/%m/%y")(e.day)},function(e){return e.site},function(e){return r.displayBuildUrl(o.urls[s.dbName].buildbot_url,"test_campaign",e.builder_build_number)},function(e){return e.builder_type},function(e){return e.branch_name},function(e){return e.target},function(e){return e.result},function(e){return e.stepName},function(e){return e.stepResult},function(e){return e.campaign},function(e){return e.tcName},function(e){return e.tcResult}])})})}])}.call(this),function(){angular.module("app").controller("tm_secController",["$state","$scope","metricsService","config","$timeout",function(e,t,n,r,i){var o;return o=e.current.data,t.loading=!0,t.title=o.title,n.jsv(o.api_url).then(function(e){var a,s,u,l;return 0===e.length?void(t.nodata=!0):(t.loading=!1,t.csvUrl=o.api_url.replace("/jsv","/csv"),s=dc.dataCount(".null"),s._doRender=function(){return i(function(){return t.filter_count=s.dimension().size(),t.total_count=s.group().value()})},t.current_date=new Date,u=[],e.forEach(function(e,r){var i,o,a;try{if(a={},a.date=n.parseCsvDate(e.Date),a.bugid=e.BugID,a.summary=e.Summary,a.component=e.Component,"Security-MDM"===a.component||"Android Security Framework"===a.component)return;if(a.status=e.Status.replace(/TrStatus./,""),a.severity=e.Severity,a.resolution=e.Resolution,a.version=e.Version,a.week=n.getIntelWW(a.date),"RESOLVED"===a.status||"CLOSED"===a.status){if(a.date_resolved=n.parseCsvDate(e.DateModified),a.week_resolved=n.getIntelWW(a.date_resolved),a.closetime=a.date_resolved.getTime()-a.date.getTime(),a.week_dim=a.week_resolved,t.current_date.getTime()-7776e6>a.date_resolved.getTime())return}else{if(t.current_date.getTime()-7776e6>a.date.getTime())return;a.date_resolved=0,a.week_resolved=0,a.closetime=0,a.week_dim=a.week}}catch(o){i=o,a.week="0000 00"}"0000 00"!==a.week&&u.push(a)}),t.xf=l=crossfilter(u),t.all=a=l.groupAll(),t.resetAll=function(){return dc.filterAll(),dc.redrawAll()},t.all_records=e.length,t.all_filtered_records=e.length-u.length,s.dimension(l),s.group(a),t.severityDimension=l.dimension(function(e){return e.severity}),t.severityGroupReduce=t.severityDimension.group().reduce(function(e,t){return t.closetime>0&&(++e.count,e.sum+=t.closetime,e.average=e.sum/e.count),e},function(e,t){return t.closetime>0&&(--e.count,e.sum-=t.closetime,(e.count=0)?e.average=0:e.average=e.sum/e.count),e},function(){return{count:0,sum:0,average:0}}),t.severityGroup=function(e){return""},t.severityTablePostFormat=function(e){return e.columns([function(e){return e.key},function(e){return Math.round(e.value.average/864e5)},function(e){return e.value.count}])},t.totalDimension=l.dimension(function(e){return e.week_dim}),t.totalDimensionGroup=t.totalDimension.group().reduceCount(),t.weeklyDimension=l.dimension(function(e){return e.week}),t.weeklyDimensionGroup=t.weeklyDimension.group().reduce(function(e,n){return t.current_date.getTime()-7776e6<n.date.getTime()&&++e.count,e},function(e,n){return t.current_date.getTime()-7776e6<n.date.getTime()&&--e.count,e},function(){return{count:0}}),t.weeklyClosedDimension=l.dimension(function(e){return e.week_resolved}),t.weeklyClosedDimensionGroup=t.weeklyClosedDimension.group().reduce(function(e,t){return 0!==t.date_resolved&&++e.count,e},function(e,t){return 0!==t.date_resolved&&--e.count,e},function(){return{count:0}}),t.configureComChart=function(e){return e.compose([dc.barChart(e).dimension(t.weeklyDimension).colors(["blue"]).group(t.weeklyDimensionGroup).valueAccessor(function(e){return e.value.count}).title(function(e){return"Opened bugs "+e.key+": "+e.value.count}).gap(60),dc.barChart(e).dimension(t.weeklyClosedDimension).colors(["green"]).group(t.weeklyClosedDimensionGroup).valueAccessor(function(e){return e.value.count}).title(function(e){return"Closed bugs "+e.key+": "+e.value.count}).gap(60)]).renderlet(function(e){return e.selectAll("g._0").attr("transform","translate(-8, 0)"),e.selectAll("g._1").attr("transform","translate(16, 0)"),n.setWWAxis(e)}),e.yAxis().tickFormat(d3.format(",d"))},t.tableGroup=function(e){return"Work Week "+n.getIntelWW(e.date)},void(t.tablePostFormat=function(e){return e.columns([function(e){return/IMINAN/i.test(e.bugid)?'<a href="'+r.urls.jira_bug_url+e.bugid+'" target=_blank>'+e.bugid+"</a>":'<a href="'+r.urls.bugzilla_bz_url+e.bugid+'" target=_blank>'+e.bugid+"</a>"},function(e){return d3.time.format("%d/%m/%y")(e.date)},function(e){return e.date_resolved?d3.time.format("%d/%m/%y")(e.date_resolved):void 0},function(e){return e.severity},function(e){return e.summary},function(e){return e.status},function(e){return e.resolution},function(e){return e.component},function(e){return e.version}])}))})}])}.call(this),function(){angular.module("app").controller("topicController",["$state","$scope","metricsService","config","$timeout",function(e,t,n,r,i){var o;return o=e.current.data,t.loading=!0,t.title=o.title,n.jsv(o.api_url).then(function(e){var a,s,u,l,c;return 0===e.length?void(t.nodata=!0):(t.loading=!1,t.csvUrl=o.api_url.replace("/jsv","/csv"),s=dc.dataCount(".null"),s._doRender=function(){return i(function(){return t.filter_count=s.dimension().size(),t.total_count=s.group().value()})},l=[],e.forEach(function(e,t){var r,i,o;if(null!=e.MergeDate&&"NULL"!==e.MergeDate)try{e.MergeDate=n.parseCsvDate(e.MergeDate),e.WW=n.getIntelWW(e.MergeDate),e.NbrAddedLines=+e.NbrAddedLines,e.NbrDeletedLines=-e.NbrDeletedLines,e.GitProject.search(/(kernel)|(linux-2\.)/)>=0?e.Category="Kernel":e.GitProject.search(/(aosp.*intel)|manifest/)>=0?e.Category="AOSP Intel":e.GitProject.search(/aosp/)>=0?e.Category="AOSP":e.Category="Other",o=e.Branch.split("/"),o[0].search(/mr/)>=0?e.Revision=o.shift():e.Revision="older",1===o.length?(e.Topic=o.shift(),e.TopicTarget=e.Topic):(e.TopicTarget=o.pop(),e.Topic=o.join("/")),l.push(e)}catch(i){return r=i,void console.log("catched "+r+" "+e.MergeDate)}}),t.xf=c=crossfilter(l),t.all=a=c.groupAll(),t.resetAll=function(){return dc.filterAll(),dc.redrawAll()},t.all_records=e.length,t.all_filtered_records=e.length-l.length,s.dimension(c),s.group(a),t.topicDimension=c.dimension(function(e){return e.Topic}),t.topicDimensionGroup=t.topicDimension.group().reduceCount(),u=t.topicDimensionGroup.orderNatural().all().map(function(e){return e.key}),t.revisionDimensionList=c.dimension(function(e){return e.Revision}),t.categoryDimension=c.dimension(function(e){return e.Category}),t.categoryDimensionGroup=t.categoryDimension.group().reduceCount(),t.topicChartDimension=c.dimension(function(e){return e.Topic}),t.topicChartDimensionGroup=t.topicChartDimension.group().reduceCount(),t.componentDimension=c.dimension(function(e){return e.ComponentName}),t.weeklyDimension=c.dimension(function(e){return e.WW}),t.weeklyDimensionGroup=t.weeklyDimension.group().reduce(function(e,t){return e[t.Topic].count++,e[t.Topic].linesAdded+=t.NbrAddedLines,e[t.Topic].linesDeleted+=t.NbrDeletedLines,e},function(e,t){return e[t.Topic].count--,e[t.Topic].linesAdded-=t.NbrAddedLines,e[t.Topic].linesDeleted-=t.NbrDeletedLines,e},function(){var e,t,n,r;for(r={},t=0,n=u.length;n>t;t++)e=u[t],r[e]={count:0,linesAdded:0,linesDeleted:0};return r}),t.linesDimension=c.dimension(function(e){return e.WW}),t.linesDimensionGroup=t.linesDimension.group().reduce(function(e,t){return e.count++,e.linesAdded+=t.NbrAddedLines,e.linesDeleted+=t.NbrDeletedLines,e},function(e,t){return e.count--,e.linesAdded-=t.NbrAddedLines,e.linesDeleted-=t.NbrDeletedLines,e},function(){return{count:0,linesAdded:0,linesDeleted:0}}),t.postActionBranchPieChart=function(e){return e.data(function(e){return t.topicDimensionGroup.all().filter(function(e){return e.value>0})}).label(function(t){return n.pieTextDisplay(e,a,t)}).title(function(t){return n.pieTextDisplay(e,a,t)})},t.postActionCategoryPieChart=function(e){return e.ordering(function(e){return e.value}).slicesCap(10).label(function(t){return n.pieTextDisplay(e,a,t)}).title(function(t){return n.pieTextDisplay(e,a,t)})},t.patchesBarChart=function(e){return e.group(t.weeklyDimensionGroup,u[0]).valueAccessor(function(e){return e.value[u[0]].count}).on("renderlet",function(e){return n.setWWAxis(e)}).colors(n.colorPalette()).title(function(e){var t,n,r,i;i=0,n=0,r=0;for(t in e.value)i+=e.value[t].count,n+=e.value[t].linesAdded,r+=e.value[t].linesDeleted;return"Work Week:		"+e.key+"\nTotal of Patches:		"+i+"\nLines Added:		"+d3.format(".2s")(n)+"\nLines Deleted:		"+d3.format(".2s")(r)+"\nDelta Lines Of Code:	"+d3.format(".2s")(n-r)}),u.forEach(function(n,r){return 0!==r?e.stack(t.weeklyDimensionGroup,n,function(e){return e.value[n].count}):void 0})},t.TopicBarChart=function(e){return e.title(function(e){return e.key+"\n# patches:	"+e.value}).on("renderlet",function(e){return n.setWWAxis(e),e.selectAll("rect.bar").each(function(e){return d3.select(this).attr("style","fill: "+n.colorPalette()(e.x))})})},t.compositeChartOptions=function(e){var r,i;return r=dc.lineChart(e).dimension(t.linesDimension).group(t.linesDimensionGroup).valueAccessor(function(e){return e.value.linesAdded}).colors("#2CA02C").renderArea(!0).interpolate("monotone").title(function(e){return"Work Week:		"+e.key}),i=dc.lineChart(e).dimension(t.addedLinesDimension).group(t.addedLinesDimensionGroup).valueAccessor(function(e){return e.value.linesDeleted}).colors("#D62728").renderArea(!0).interpolate("monotone").title(function(e){return"Work Week:		"+e.key}),e.compose([r,i]).on("renderlet",function(e){return n.setWWAxis(e)}).yAxis().tickFormat(d3.format("s"))},t.tableGroup=function(e){return"Work Week "+n.getIntelWW(e.MergeDate)},void(t.tablePostFormat=function(e){return e.columns([function(e){return'<a href="'+r.urls.gerrit_url+e.Id+'" target=_blank>'+e.Id+"</a>"},function(e){return d3.time.format("%d/%m/%y")(e.MergeDate)},function(e){return e.Revision},function(e){return e.Topic},function(e){return e.Category},function(e){return e.FT},function(e){return e.ComponentName},function(e){return e.NbrAddedLines-e.NbrDeletedLines}])}))})}])}.call(this),function(){angular.module("app").controller("traceabilityController",["$state","$scope","$location","metricsService","config","$interval","glTopbarContextualActionsService",function(e,t,n,r,i,o,a){var s,u,l;s=e.current.data,t.pageRoot=n.path().split("/")[1],t.autoupdate=!1,u=null,l=[],a.setContextualActions([{caption:"csv",icon:"file-excel-o",action:function(){return window.location=s.api_url.replace("/jsv","/csv")}},{caption:"json",icon:"file-code-o",action:function(){return window.location=s.api_url}},{caption:"sql",icon:"file-code-o",action:function(){return window.location=s.api_url.replace("/jsv","/sql")}}]),r.jsv(s.api_url).then(function(e){var n,r,i;if(0===e.length)return void(t.nodata=!0);for(t.loading=!1,r=dc.dataCount(".null"),r._doRender=function(){return $timeout(function(){return t.filter_count=r.dimension().size(),t.total_count=r.group().value()})};null!=l.pop(););return e.forEach(function(e,t){var n,r;try{return l.push(e)}catch(r){n=r,console.log("Caught "+n+" "+e.Date)}}),t.xf=i=crossfilter(l),t.all=n=i.groupAll(),t.all_records=e.length,t.all_filtered_records=e.length-l.length,r.dimension(i),r.group(n)}),t.data=l,t.gridOptions={enableFiltering:!0,enableColumnResize:!0,data:"data",columnDefs:[{name:"Tag&Topic",enableSorting:!1,cellTemplate:'<div class="ui-grid-cell-contents"> <a href="http://one-android-metrics.sh.intel.com:10300/pkt_1a?pr={{row.entity.topic}}"" target="_blank"> {{row.entity.topic}} </a> </div>'}]}}])}.call(this),function(){var e,t;e=function(){function e(){return{replace:!0,transclude:!0,restrict:"E",scope:!0,controllerAs:"c",templateUrl:"views/doc.html",controller:"_DocController"}}return e}(),t=function(){function e(e,t,n,r){var i;i=this,i.docUrl=null,i.window=r,i.show=!1,angular.element(r).bind("resize",e.$apply),e.$on("$stateChangeSuccess",function(e,t){return i.docUrl=n.current.data.docUrl})}return e}(),angular.module("app").directive("doc",[e]).controller("_DocController",["$scope","metricsService","$state","$window",t])}.call(this),function(){var e,t;e=function(){function e(){return{replace:!0,transclude:!0,restrict:"E",scope:!0,controllerAs:"c",templateUrl:"views/loading.html",controller:"_LoadingController"}}return e}(),t=function(){function e(e,t){var n;this.loading=!1,this.percent="100",n=this,e.$on("loading",function(e,r){return t(function(){return-1===r.total?(n.loading=!0,n.percent="100"):(n.loading=!0,n.percent=(100*r.current/r.total).toFixed(),r.current===r.total?n.loading=!1:void 0)})})}return e}(),angular.module("app").directive("loading",[e]).controller("_LoadingController",["$scope","$timeout",t])}.call(this),function(){var e;e=function(){function e(){return{replace:!0,transclude:!0,restrict:"E",scope:{up:"=",down:"=",same:"=",trend:"="},controllerAs:"c",templateUrl:"views/trend_arrow.html",link:function(e,t,n){var r;return r=function(e,t,n){var r,i,o,a;return null==e?(r=n.same,o="50",a="50",i="hidden"):e?(r=n.up,o="85",a="35",i="visible"):(r=n.down,o="25",a="70",i="visible"),d3.select("#trend").select("path").attr("fill",r).style("visibility",i),d3.select("#trend").select("line").attr("stroke",r).attr("y1",o).attr("y2",a),d3.select("#trend").select("marker").style("visibility",i)},e.$watch("trend",r)}}}return e}(),angular.module("app").directive("trend",[e])}.call(this),function(){var e,t;e=function(){function e(){return{replace:!0,transclude:!0,restrict:"E",scope:!0,controllerAs:"c",templateUrl:"views/warning.html",controller:"_WarningController"}}return e}(),t=function(){function e(e,t,n){var r;r=this,r.warnings=null,e.$on("$stateChangeSuccess",function(e,i){var o;return o=n.current.data.dbName,t.jsv(o+"/db_status/jsv",{},!1).then(function(e){return r.warnings=e})})}return e}(),angular.module("app").directive("warning",[e]).controller("_WarningController",["$scope","metricsService","$state",t])}.call(this),angular.module("app").run(["$templateCache",function(e){e.put("views/acs_steps.html",'<div class="container"><div ng-show="nodata"><div class="nodata">sql server returned no data</div></div><div ng-if="!loading"><div class="row"><div class="col-md-3">Filters:<p><dc-select dc-dimension="builderTypeDimension" all-label="All Builder Types"></dc-select></p><p><a href="javascript:" ng-click="resetAll()">&nbsp;Reset All</a></p></div><div class="col-md-3"><div dc-chart="pieChart" dc-width="300" dc-height="250" dc-radius="80" dc-dimension="resultDimension" dc-group="resultDimensionGroup" dc-legend="dc.legend().x(0).y(170)" dc-post-setup-chart="resultPieChart" class="dc-chart"></div></div><div class="col-md-3"><div class="dc-data-count"><a ng-href="{{csvUrl}}"><img src="img/csv.gif"/></a><br/><span class="total-count">&nbsp;# {{all_records}}\n&nbsp;records in db</span><br/><span class="total-count">&nbsp;# {{filter_count}}\n&nbsp;used<i>&nbsp;({{all_filtered_records}}\n&nbsp;not usable)</i></span><br/><span class="filter-count">&nbsp;# {{total_count}}\n&nbsp;currently displayed</span></div></div></div><div class="row"><div dc-chart="barChart" dc-width="990" dc-height="250" dc-margins="{top:10, right:10, bottom:50, left:50}" dc-dimension="weeklyDimension" dc-x="d3.scale.ordinal(weeklyDimension)" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Work Week (Year.WW)\'" dc-bar-padding="0.1" dc-legend="dc.legend().x(75).y(0)" dc-elastic-y="true" dc-y-axis-label="\'Number of builds per Week\'" dc-post-setup-chart="resBarChartWeek" class="dc-chart"></div></div><div class="row"><div dc-chart="lineChart" dc-width="990" dc-height="300" dc-margins="{top:10, right:10, bottom:50, left:50}" dc-dimension="weeklyDimension" dc-x="d3.scale.ordinal(weeklyDimension)" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Work Week (Year.WW)\'" dc-legend="dc.legend().x(75).y(0)" dc-elastic-y="true" dc-render-area="true" dc-y-axis-label="\'Builder duration AVG per Week\'" dc-post-setup-chart="durationLineChart" class="dc-chart"></div></div><div class="row"><div dc-chart="barChart" dc-width="990" dc-height="250" dc-margins="{top:10, right:10, bottom:50, left:50}" dc-dimension="dailyDimension" dc-x="d3.scale.ordinal(dailyDimension)" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Work Week (Year.WW)\'" dc-bar-padding="0.1" dc-legend="dc.legend().x(75).y(0)" dc-elastic-y="true" dc-y-axis-label="\'Number of builds per Day\'" dc-post-setup-chart="resBarChartDay" class="dc-chart"></div></div><div class="row"><table dc-chart="dataTable" dc-dimension="stepDimension" dc-group="tableGroup" dc-size="1000" dc-post-setup-chart="tablePostFormat" class="table table-hover dc-data-table"><thead><tr class="header"><th>Date</th><th>Builder Type</th><th>Builder Name</th><th>Build Number</th><th>Duration (min)</th><th>Result</th></tr></thead></table></div></div></div>'),e.put("views/active_sessions.html",'<div class="container"><div ng-show="nodata"><div class="nodata">sql server returned no data</div></div><div ng-if="!loading"><div class="row"><div class="col-md-6"><h2>Active Sessions</h2></div><div class="col-md-6 pull-right"><div class="dc-data-count"><a ng-href="{{csvUrl}}"><img src="img/csv.gif"/></a>&nbsp;&nbsp;&nbsp;<a ng-href="{{sqlUrl}}" target="_blank"><img src="img/sql.png"/></a><br/><span class="total-count">&nbsp;# {{all_records}}\n&nbsp;records in db</span><br/><span class="total-count">&nbsp;# {{filter_count}}\n&nbsp;used<i>&nbsp;({{all_filtered_records}}\n&nbsp;not usable)</i></span><br/><span class="filter-count">&nbsp;# {{total_count}}\n&nbsp;currently displayed</span></div></div></div><div class="row"><div class="row"><h4><span class="glyphicon glyphicon-filter">&nbsp;Filters:</span></h4></div><div class="col-md-3">Project:<p><dc-select dc-dimension="projectDimension" all-label="All Projects"></dc-select></p></div><div class="col-md-3">Device Model:<p><dc-select dc-dimension="DevicemodelDimension" all-label="All Device models"></dc-select></p></div></div><div class="row"><row><h4><span class="glyphicon glyphicon-stats">&nbsp;Views:</span></h4></row><div class="row"><table dc-chart="dataTable" dc-dimension="patchDimension" dc-group="tableGroup" dc-size="1200" dc-post-setup-chart="tablePostFormat" class="table table-hover dc-data-table"><thead><tr class="header"><th>Session Id</th><th>Project</th><th>State</th><th>Submitter</th><th>Submit Time</th><th>Device Model</th><th>Campaign Name</th><th>TCR</th><th>LOG</th></tr></thead></table></div></div></div></div>'),e.put("views/anomalies_efficiency.html",'<div class="container"><div ng-if="!loading"><div class="row"><div class="col-md-4"><label>From:</label><p class="input-group"><input type="text" datepicker-popup="{{date_picker.format}}" ng-model="date_picker.dateHandler.fromDate" is-open="date_picker.datepicker.opened" datepicker-options="date_picker.dateOptions" min-date="date_picker.minDate" max-date="date_picker.maxDate" ng-required="true" clear="clear" clear-text="Default" close-text="Close" close-on-date-selection="false" starting-day="0" class="form-control"/><span class="input-group-btn"><button type="button" ng-click="date_picker.open($event)" class="btn btn-default"><i class="glyphicon glyphicon-calendar"></i></button></span></p></div><div class="col-md-4"><label>To:</label><p class="input-group"><input type="text" datepicker-popup="{{date_picker.format}}" ng-model="date_picker.dateHandler.toDate" is-open="date_picker.datepicker.opened" datepicker-options="date_picker.dateOptions" min-date="date_picker.dateHandler.fromDate" max-date="date_picker.maxDate" ng-required="true" clear-text="Default" close-text="Close" close-on-date-selection="false" starting-day="0" class="form-control"/><span class="input-group-btn"><button type="button" ng-click="date_picker.open($event)" class="btn btn-default"><i class="glyphicon glyphicon-calendar"></i></button></span></p></div></div><div class="row"><div class="col-md-12">Filters:<label>Anomaly types<p isteven-multi-select="isteven-multi-select" input-model="ui_params.anomaly_types" output-model="dd_anomaly_types" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="filter(ui_params.anomaly_types, anomaly_type_dimension)"></p></label><label>Campaigns<p isteven-multi-select="isteven-multi-select" input-model="ui_params.campaigns" output-model="dd_campaigns" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="filter(ui_params.campaigns, campaign_dimension)"></p></label><label>Anomaly verdict<p isteven-multi-select="isteven-multi-select" input-model="ui_params.anomaly_verdicts" output-model="dd_anomaly_verdicts" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="filter(ui_params.anomaly_verdicts, anomaly_verdict_dimension)"></p></label></div></div><div class="col-md-3-centered"><a ng-href="{{csvUrl}}"><img src="img/csv.gif"/></a>&nbsp;&nbsp;&nbsp;<a ng-href="{{sqlUrl}}" target="_blank"><img src="img/sql.png"/></a></div><div class="row"><div class="col-md-12"><center><strong>Anomalies efficiency</strong></center></div></div><div class="row"><div dc-chart="barChart" dc-width="990" dc-height="500" dc-margins="{top:10, right:10, bottom:70, left:50}" dc-dimension="date_dimension" dc-group="anomaly_per_date" dc-x-axis-label="\'Date\'" dc-y-axis-label="\'Count\'" dc-x-units="d3.time.days" dc-round="dc.round.floor" dc-elastic-y="true" dc-always-use-rounding="true" dc-legend="dc.legend().x(75).y(0).legendWidth(800).horizontal(1).itemWidth(150)" dc-y-axis-padding="\'10%\'" dc-render-horizontal-grid-lines="true" dc-brush-on="false" dc-post-setup-chart="anomaly_setup" class="dc-chart"></div></div><div class="row"><table dc-chart="dataTable" dc-dimension="date_dimension" dc-group="table_group" dc-width="990" dc-size="1000" dc-post-setup-chart="table_post_format" class="table table-hover dc-data-table"><thead><tr class="header"><th>day</th><th>anomaly_type</th><th>campaign</th><th>anomaly_verdict</th><th>status</th><th>resolution</th><th>jira</th></tr></thead></table></div></div></div>'),e.put("views/auto_manual_mapping.html",'<div class="container"><div ng-if="!loading" class="row"><div class="col-md-12"><a download="mapping_info.json" ng-href="{{ mapping_json }}" class="btn">Download as json</a><ul><li ng-repeat="(board, tc) in automatedResult.mapped">{{ board }} : {{ tc.platform }}<ul><li ng-repeat="oneTest in tc.testCases">{{ oneTest.name }} : {{ oneTest.mappedNames }}</li></ul>Not Mapped autom test cases<ul><li ng-repeat="notMapped in tc.notMappedTestCases">{{ notMapped }}</li></ul></li></ul>Not mapped boards:<ul><li ng-repeat="board in automatedResult.notMapped">{{board}}</li></ul>Mapped platforms:<ul><li ng-repeat="(platform, tc) in manualResult.mapped">{{ platform }} : {{ tc.board }}<ul><li ng-repeat="oneTest in tc.testCases">{{ oneTest.name }} : {{ oneTest.mappedNames }}</li></ul>Not Mapped manual test cases<ul><li ng-repeat="notMapped in tc.notMappedTestCases">{{ notMapped }}</li></ul></li></ul>Not mapped platforms:<ul><li ng-repeat="platform in manualResult.notMapped">{{platform}}</li></ul></div></div></div>'),e.put("views/builder_steps.html",'<div class="container"><div ng-show="nodata"><div class="nodata">sql server returned no data</div></div><div ng-if="!loading"><div class="row"><div class="col-md-3">Filters:<p><dc-select dc-dimension="builderTypeDimension" all-label="All Builder Types"></dc-select></p><p><a href="javascript:" ng-click="resetAll()">&nbsp;Reset All</a></p></div><div class="col-md-3"><div dc-chart="pieChart" dc-width="300" dc-height="250" dc-radius="80" dc-dimension="resultDimension" dc-group="resultDimensionGroup" dc-legend="dc.legend().x(0).y(170)" dc-post-setup-chart="resultPieChart" class="dc-chart"></div></div><div class="col-md-3"><div dc-chart="pieChart" dc-width="300" dc-height="250" dc-radius="80" dc-dimension="siteDimension" dc-group="siteDimensionGroup" dc-legend="dc.legend().x(0).y(170)" dc-post-setup-chart="builderTypePieChart" class="dc-chart"></div></div><div class="col-md-3"><div class="dc-data-count"><a ng-href="{{csvUrl}}"><img src="img/csv.gif"/></a>&nbsp;&nbsp;&nbsp;<a ng-href="{{sqlUrl}}" target="_blank"><img src="img/sql.png"/></a><br/><span class="total-count">&nbsp;# {{all_records}}\n&nbsp;records in db</span><br/><span class="total-count">&nbsp;# {{filter_count}}\n&nbsp;used<i>&nbsp;({{all_filtered_records}}\n&nbsp;not usable)</i></span><br/><span class="filter-count">&nbsp;# {{total_count}}\n&nbsp;currently displayed</span></div></div></div><div class="row"><div dc-chart="barChart" dc-width="990" dc-height="330" dc-margins="{top:10, right:10, bottom:150, left:100}" dc-dimension="stepDimension" dc-x="d3.scale.ordinal(stepDimension)" dc-x-units="dc.units.ordinal" dc-bar-padding="0.1" dc-legend="dc.legend().x(0).y(0)" dc-elastic-y="true" dc-post-setup-chart="stepRatioBarChart" class="dc-chart"></div></div><div class="row"><div dc-chart="barChart" dc-width="990" dc-height="330" dc-margins="{top:15, right:10, bottom:150, left:100}" dc-dimension="stepNumberDimension" dc-x="d3.scale.ordinal(stepNumberDimension)" dc-x-units="dc.units.ordinal" dc-bar-padding="0.1" dc-legend="dc.legend().x(0).y(0)" dc-elastic-y="true" dc-post-setup-chart="stepNumberBarChart" class="dc-chart"></div></div><div class="row"><div dc-chart="barChart" dc-width="990" dc-height="330" dc-margins="{top:15, right:10, bottom:150, left:100}" dc-dimension="stepDurationDimension" dc-group="stepDurationDimensionGroup" dc-x="d3.scale.ordinal(stepDurationDimension)" dc-x-units="dc.units.ordinal" dc-bar-padding="0.1" dc-legend="dc.legend().x(0).y(0)" dc-elastic-y="true" dc-post-setup-chart="stepDurationBarChart" class="dc-chart"></div></div><div class="row"><table dc-chart="dataTable" dc-dimension="stepDimension" dc-group="tableGroup" dc-size="1000" dc-post-setup-chart="tablePostFormat" class="table table-hover dc-data-table"><thead><tr class="header"><th>Builder Type</th><th>Builder Name</th><th>Build Number</th><th>Duration (sec)</th><th>Result</th></tr></thead></table></div></div></div>'),
e.put("views/cat0_efficiency.html",'<div class="container"><div ng-if="!loading"><div class="row"><div class="col-md-12">Filters:<p><dc-select dc-dimension="domainDimension" all-label="All domains"></dc-select></p><p><dc-select dc-dimension="platformDimension" all-label="All platforms"></dc-select></p><p><dc-select dc-dimension="priorityDimension" all-label="All priorities"></dc-select></p><p><a href="javascript:" ng-click="resetAll()">&nbsp;Reset All</a></p>Output parameters:<p><select ng-model="dataOutputMode.yValue" ng-options="d for d in yValues" ng-click="redrawAll()" class="form-control"></select><select ng-model="dataOutputMode.perTestCaseOrderingVerdict" ng-options="d for d in perTestCaseOrderingVerdicts" ng-click="renderAll()" class="form-control"></select><select ng-model="dataOutputMode.perTestCaseOrderingMode" ng-options="d for d in perTestCaseOrderingModes" ng-click="renderAll()" class="form-control"></select></p></div></div><div class="row"><div class="col-md-12"></div><div dc-chart="barChart" dc-width="1000" dc-height="500" dc-margins="{top:10, right:10, bottom:50, left:50}" dc-dimension="workWeekDimensionForZoom" dc-group="workWeekDimensionGroupForZoom" dc-center-bar="true" dc-x-axis-label="\'Select the work week interval on the graph (click somewhere for the start, hold the click, move and release on the end) \'" dc-y-axis-label="\'Number of executed tests\'" dc-x="d3.time.scale().domain([minDate, maxDate])" dc-x-units="d3.time.weeks" dc-post-setup-chart="wwSetupForZoom" dc-always-use-rounding="true" class="dc-chart"></div></div><div class="row"><div class="col-md-12"><div dc-chart="barChart" dc-width="1000" dc-height="500" dc-margins="{top:10, right:10, bottom:50, left:50}" dc-dimension="wwDimension" dc-group="wwDimensionGroup" dc-x="d3.scale.ordinal(wwDimensionGroup)" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Distribution of manual test results per work week\'" dc-round="dc.round.floor" dc-elastic-y="true" dc-always-use-rounding="true" dc-legend="dc.legend().x(75).y(0).legendWidth(900).horizontal(1).itemWidth(200)" dc-y-axis-padding="\'10%\'" dc-render-horizontal-grid-lines="true" dc-post-setup-chart="wwSetup" class="dc-chart"></div></div></div><div class="row"><div class="col-md-12"><div dc-chart="barChart" dc-width="1000" dc-height="500" dc-margins="{top:10, right:10, bottom:100, left:50}" dc-dimension="domainDimension" dc-group="domainDimensionGroup" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Distribution of manual test results per domain\'" dc-round="dc.round.floor" dc-elastic-y="true" dc-always-use-rounding="true" dc-legend="dc.legend().x(75).y(0).legendWidth(900).horizontal(1).itemWidth(200)" dc-y-axis-padding="\'10%\'" dc-render-horizontal-grid-lines="true" dc-post-setup-chart="domainSetup" class="dc-chart"></div></div></div><div class="row"><div class="col-md-12"><div dc-chart="barChart" dc-width="1000" dc-height="600" dc-margins="{top:10, right:10, bottom:300, left:50}" dc-dimension="platformDimension" dc-group="platformDimensionGroup" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Distribution of manual test results per platform\'" dc-round="dc.round.floor" dc-elastic-y="true" dc-always-use-rounding="true" dc-legend="dc.legend().x(75).y(0).legendWidth(900).horizontal(1).itemWidth(200)" dc-y-axis-padding="\'10%\'" dc-render-horizontal-grid-lines="true" dc-post-setup-chart="platformSetup" class="dc-chart"></div></div></div><div class="row"><div class="col-md-12"><div dc-chart="barChart" dc-width="1000" dc-height="600" dc-margins="{top:10, right:10, bottom:50, left:50}" dc-dimension="tcDimension" dc-group="tcDimensionGroup" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Distribution of manual test results per test case\'" dc-round="dc.round.floor" dc-elastic-y="true" dc-always-use-rounding="true" dc-legend="dc.legend().x(75).y(0).legendWidth(900).horizontal(1).itemWidth(200)" dc-y-axis-padding="\'10%\'" dc-render-horizontal-grid-lines="true" dc-post-setup-chart="tcSetup" class="dc-chart"></div></div></div><div class="row"><div class="col-md-12"><div dc-chart="barChart" dc-width="1000" dc-height="600" dc-margins="{top:10, right:10, bottom:50, left:50}" dc-dimension="builderDimension" dc-group="builderDimensionGroup" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Distribution of manual test results per builder\'" dc-round="dc.round.floor" dc-elastic-y="true" dc-always-use-rounding="true" dc-legend="dc.legend().x(75).y(0).legendWidth(900).horizontal(1).itemWidth(200)" dc-y-axis-padding="\'10%\'" dc-render-horizontal-grid-lines="true" dc-post-setup-chart="builderSetup" class="dc-chart"></div></div></div><h4>Associated tests</h4><div class="row"><div class="col-md-12"><table dc-chart="dataTable" dc-dimension="wwDimension" dc-group="tableGroup" dc-size="100" dc-post-setup-chart="tablePostFormat" class="table table-hover dc-data-table"><thead><tr class="header"><th>build</th><th>platform</th><th>domain</th><th>testcase (TH)</th><th>verdict</th></tr></thead></table></div></div></div></div>'),e.put("views/cdi_project.html",'<div class="container"><div ng-show="nodata"><div class="nodata">sql server returned no data</div></div><div ng-if="!loading"><div class="row"><div class="col-md-6"><h2>CDI Projects Dashboard</h2></div><div class="col-md-6 pull-right"><div class="dc-data-count"><a ng-href="{{csvUrl}}"><img src="img/csv.gif"/></a>&nbsp;&nbsp;&nbsp;<a ng-href="{{sqlUrl}}" target="_blank"><img src="img/sql.png"/></a><br/><span class="total-count">&nbsp;# {{all_records}}\n&nbsp;records in db</span><br/><span class="total-count">&nbsp;# {{filter_count}}\n&nbsp;used<i>&nbsp;({{all_filtered_records}}\n&nbsp;not usable)</i></span><br/><span class="filter-count">&nbsp;# {{total_count}}\n&nbsp;currently displayed</span></div></div></div><div class="row"><div class="row"><h4><span class="glyphicon glyphicon-filter">&nbsp;Filters:</span></h4></div><div class="col-md-3 pull-left">Project Name:<p><dc-select dc-dimension="nameDimension" all-label="All Projects"></dc-select></p></div></div><div class="row"><row><h4><span class="glyphicon glyphicon-stats">&nbsp;Views:</span></h4></row><div class="row"><table dc-chart="dataTable" dc-dimension="patchDimension" dc-group="tableGroup" dc-size="1000" dc-post-setup-chart="tablePostFormat" class="table table-hover dc-data-table"><thead><tr class="header"><th>Project Id</th><th>Project Name</th><th>Description</th></tr></thead></table></div></div></div></div>'),e.put("views/crashes.html",'<div class="container"><div ng-if="!loading"><div class="row"><div class="col-md-12">Filters:<p><dc-select dc-dimension="campaignDimension" all-label="All campaigns"></dc-select></p><p><dc-select dc-dimension="testCaseDimension" all-label="All test cases"></dc-select></p><p><dc-select dc-dimension="pltfDimension" all-label="All platforms"></dc-select></p><p><a href="javascript:" ng-click="resetAll()">&nbsp;Reset All</a></p></div></div><div style="margin-top:25px;" class="row"><div dc-chart="barChart" dc-width="1200" dc-height="500" dc-margins="{top:10, right:10, bottom:150, left:50}" dc-dimension="testCaseChartDimension" dc-group="testCaseChartDimensionGroup" dc-x="d3.scale.ordinal(testCaseChartDimension)" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Test Cases\'" dc-round="dc.round.floor" dc-bar-padding="0.1" dc-elastic-y="true" dc-always-use-rounding="true" dc-legend="dc.legend().x(75).y(0).legendWidth(900).horizontal(1).itemWidth(200)" dc-center-bar="true" dc-y-axis-label="\'Number of crashes per Test Case - Last Week View\'" dc-render-horizontal-grid-lines="true" dc-post-setup-chart="crashesBarChart" class="dc-chart"></div></div><div style="margin-top:25px;" class="row"><div dc-chart="seriesChart" dc-width="1200" dc-height="500" dc-margins="{top:65, right:10, bottom:50, left:50}" dc-dimension="testCasePosPerTCChartDimension" dc-group="testCasePosPerTCChartDimensionGroup" dc-x="d3.scale.linear()" dc-x-units="dc.units.integers" dc-x-axis-label="\'Position of the Executed TC in the campaign\'" dc-elastic-x="true" dc-y-axis-label="\'Ratio (nb_crashes)/(nb_execution at a specific position)\'" dc-elastic-y="true" dc-render-horizontal-grid-lines="true" dc-render-vertical-grid-lines="true" dc-post-setup-chart="TCpositionSeriesChart" class="dc-chart"></div></div><div class="row"><table dc-chart="dataTable" dc-dimension="testCaseDimension" dc-group="tableGroup" dc-size="5000" dc-post-setup-chart="tablePostFormat" class="table table-hover dc-data-table"><thead><tr class="header"><th>Date</th><th>Nb of Crashes</th><th>Verdict</th><th>Test Case Postion</th><th>Campaign</th></tr></thead></table></div></div></div>'),e.put("views/cti_campaigns.html",'<div class="container"><div ng-show="nodata"><div class="nodata">sql server returned no data</div></div><div ng-if="!loading"><div class="row"><div class="col-md-6"><h2>Campaigns Dashboard</h2></div><div class="col-md-6 pull-right"><div class="dc-data-count"><a ng-href="{{csvUrl}}"><img src="img/csv.gif"/></a>&nbsp;&nbsp;&nbsp;<a ng-href="{{sqlUrl}}" target="_blank"><img src="img/sql.png"/></a><br/><span class="total-count">&nbsp;# {{all_records}}\n&nbsp;records in db</span><br/><span class="total-count">&nbsp;# {{filter_count}}\n&nbsp;used<i>&nbsp;({{all_filtered_records}}\n&nbsp;not usable)</i></span><br/><span class="filter-count">&nbsp;# {{total_count}}\n&nbsp;currently displayed</span></div></div></div><div class="row"><div class="row"><h4><span class="glyphicon glyphicon-filter">&nbsp;Filters:</span></h4></div><div class="col-md-3 pull-left">Project Name:<p><dc-select dc-dimension="projectDimension" all-label="All Projects"></dc-select></p></div><div class="col-md-3 pull-left">OS Version:<p><dc-select dc-dimension="osVersionDimension" all-label="All OSVersions"></dc-select></p></div></div><div class="row"><row><h4><span class="glyphicon glyphicon-stats">&nbsp;Views:</span></h4></row><div class="row"><table dc-chart="dataTable" dc-dimension="patchDimension" dc-group="tableGroup" dc-size="5000" dc-post-setup-chart="tablePostFormat" class="table table-hover dc-data-table"><thead><tr class="header"><th>Id</th><th>Campaign</th><th>Category</th><th>Package Name</th><th>Package Version</th><th>OS Version</th><th>Case Number</th><th>Timeout</th></tr></thead></table></div></div></div></div>'),e.put("views/cti_sessions.html",'<div class="container"><div ng-show="nodata"><div class="nodata">sql server returned no data</div></div><div ng-if="!loading"><div class="row"><div class="col-md-6"><h2>CTI Sessions Dashboard</h2></div></div><div class="row"><div class="row"><h4><span class="glyphicon glyphicon-filter">&nbsp;Filters:</span></h4></div><div class="col-md-3"><br/><label>Projects:&nbsp;</label><br/><font isteven-multi-select="isteven-multi-select" input-model="uiParams.projects" output-model="dropDownProject" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="filter(uiParams.projects, projectDimensionList)"></font></div><div class="col-md-3"><br/><label>Session States:&nbsp;</label><br/><font isteven-multi-select="isteven-multi-select" input-model="uiParams.sessionStates" output-model="dropDownSessionState" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="filter(uiParams.sessionStates, sessionStateDimensionList)"></font></div><div class="col-md-3"><br/><label>Work Months:&nbsp;</label><br/><font isteven-multi-select="isteven-multi-select" input-model="uiParams.months" output-model="dropDownMonth" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="filter(uiParams.months, monthDimensionList)"></font></div><div class="col-md-3"><br/><label>Data Count:</label><a id="dataCount" href="#" ng-click="open_data_count = !open_data_count" onclick="return false;"><p><buttonbtn style="width:255px; height:38px; background-color: #f7f7f7; color: #555" class="btn btn-default dropdown-toggle">&nbsp;View&nbsp;<i id="adv_filters_chevron" class="fa fa-chevron-up"></i></buttonbtn></p></a><script>$( "#dataCount" ).click(function() {\n  $( "#adv_filters_chevron" ).toggleClass( "fa-chevron-up fa-chevron-down" );\n});</script></div></div><div class="row"><row><h4><span class="glyphicon glyphicon-stats">&nbsp;Views:</span></h4></row><div class="row"><div class="col-md-4"><center><strong>Ratio of Session State</strong></center><div dc-chart="pieChart" dc-width="380" dc-height="200" dc-radius="100" dc-cx="260" dc-yx="90" dc-dimension="sessionStateDimension" dc-group="sessionStateDimensionGroup" dc-legend="dc.legend().x(30).y(50)" dc-post-setup-chart="sessionStatePieChart" class="dc-chart"></div></div><div ng-show="open_data_count" class="col-md-4"><div class="dc-data-count"><a ng-href="{{csvUrl}}"><img src="img/csv.gif"/></a>&nbsp;&nbsp;&nbsp;<a ng-href="{{sqlUrl}}" target="_blank"><img src="img/sql.png"/></a><br/><span class="total-count">&nbsp;# {{all_records}}\n&nbsp;records in db</span><br/><span class="total-count">&nbsp;# {{filter_count}}\n&nbsp;used<i>&nbsp;({{all_filtered_records}}\n&nbsp;not usable)</i></span><br/><span class="filter-count">&nbsp;# {{total_count}}\n&nbsp;currently displayed</span></div></div><div class="col-md-4 pull-right"><p><a href="#/{{pageRoot}}/cti_sub_sessions">&nbsp;Go To Sub Sessions Page</a></p></div></div><div class="row"><center><strong>Duration Time AVG Per Week</strong></center><div dc-chart="lineChart" dc-width="1100" dc-height="300" dc-margins="{top:30, right:10, bottom:70, left:50}" dc-dimension="weeklyDimension" dc-x="d3.scale.ordinal(weeklyDimension)" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Work Week (Year.WW)\'" dc-legend="dc.legend().x(75).y(0).legendWidth(900).horizontal(1).itemWidth(200)" dc-render-horizontal-grid-lines="false" dc-y-axis-padding="\'10%\'" dc-elastic-y="true" dc-render-area="true" dc-y-axis-label="\'Duration Time AVG Per Week\'" dc-post-setup-chart="durationLineChart" class="dc-chart"></div></div><div class="row"><center><strong>Session State Failure Trend Per Week</strong></center><div dc-chart="lineChart" dc-width="1100" dc-height="300" dc-margins="{top:30, right:10, bottom:70, left:50}" dc-dimension="weeklyDimension" dc-x="d3.scale.ordinal(weeklyDimension)" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Work Week (Year.WW)\'" dc-legend="dc.legend().x(75).y(0).legendWidth(900).horizontal(1).itemWidth(200)" dc-render-horizontal-grid-lines="true" dc-y-axis-padding="\'10%\'" dc-elastic-y="true" dc-render-area="false" dc-y-axis-label="\'%\'" dc-post-setup-chart="sessionStateLineChart" class="dc-chart"></div></div></div><div class="row"><table dc-chart="dataTable" dc-dimension="patchDimension" dc-group="tableGroup" dc-size="9000" dc-post-setup-chart="tablePostFormat" class="table table-hover dc-data-table"><thead><tr class="header"><th>Session Id</th><th>Project</th><th>Submitter</th><th>Session State</th><th>Start Time</th><th>Duration（mins）</th><th>Log</th></tr></thead></table></div></div></div>'),e.put("views/cti_sub_sessions.html",'<div class="container"><div ng-show="nodata"><div class="nodata">sql server returned no data</div></div><div ng-if="!loading"><div class="row"><div class="col-md-6"><h2>CTI Sub Sessions Dashboard</h2></div><div class="col-md-6 pull-right"><p><a href="#/{{pageRoot}}/cti_sessions">&nbsp;Back To CTI Sessions Page</a></p></div></div><div style="border:1px dashed #ccc"><div class="row"><div class="row"><h4><span class="glyphicon glyphicon-filter">&nbsp;All Filters:</span></h4></div><div class="row"><div class="col-md-6"><label>All Projects:&nbsp;</label><p isteven-multi-select="isteven-multi-select" input-model="uiParams.projects" output-model="dropDownProject" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="set_Project(true)" on-item-click="dropDownItemClick(data, \'projects\')" on-select-all="dropDownItemClick(undefined, \'projects\')" on-reset="dropDownItemClick(undefined, \'projects\')" on-select-none="dropDownItemClick(undefined, \'projects\')"></p><label>All Campaigns:&nbsp;</label><p isteven-multi-select="isteven-multi-select" input-model="uiParams.campaigns" output-model="dropDownCampaign" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="filter(uiParams.campaigns, campaignDimensionList)"></p><label>All SubSessionStates:&nbsp;</label><p isteven-multi-select="isteven-multi-select" input-model="uiParams.subSessionStates" output-model="dropDownSubSessionState" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="filter(uiParams.subSessionStates, subSessionStateDimensionList)"></p><label>All Work Months:&nbsp;</label><p isteven-multi-select="isteven-multi-select" input-model="uiParams.months" output-model="dropDownMonth" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="filter(uiParams.months, monthDimensionList)"></p></div><div class="col-md-6"><center><strong>Ratio of subSession State</strong></center><div dc-chart="pieChart" dc-width="380" dc-height="200" dc-radius="100" dc-cx="260" dc-yx="90" dc-dimension="subSessionStateDimension" dc-group="subSessionStateDimensionGroup" dc-legend="dc.legend().x(0).y(50)" dc-post-setup-chart="subSessionStatePieChart" class="dc-chart"></div></div></div><hr/><div class="row"><div class="row"><h4><span class="glyphicon glyphicon-filter">&nbsp;Failure Filters:</span></h4></div><div class="col-md-3"><label>Failure SubSessionStates:&nbsp;</label><p isteven-multi-select="isteven-multi-select" input-model="uiParams.FailureSubSessionStates" output-model="dropDownFailureSubSessionState" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="filter(uiParams.FailureSubSessionStates, FailureSubSessionStateDimensionList)"></p></div><div class="col-md-6 col-md-offset-3"><center><strong>Ratio of Failure subSession State</strong></center><div dc-chart="pieChart" dc-width="380" dc-height="200" dc-radius="100" dc-cx="260" dc-yx="90" dc-dimension="FailureStateDimension" dc-group="FailureStateDimensionGroup" dc-legend="dc.legend().x(0).y(50)" dc-post-setup-chart="FailureStatePieChart" class="dc-chart"></div></div></div></div></div><div class="row"><row><h4><span class="glyphicon glyphicon-stats">&nbsp;All Views:</span></h4></row><div class="row"><center><strong>Duration/Pending AVG Per Week</strong></center><div dc-chart="lineChart" dc-width="1100" dc-height="300" dc-margins="{top:30, right:10, bottom:70, left:50}" dc-dimension="weeklyDimension" dc-x="d3.scale.ordinal(weeklyDimension)" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Work Week (Year.WW)\'" dc-legend="dc.legend().x(75).y(0).legendWidth(900).horizontal(1).itemWidth(200)" dc-y-axis-padding="\'10%\'" dc-elastic-y="true" dc-render-area="true" dc-y-axis-label="\'Duration/Pending AVG Per Week\'" dc-post-setup-chart="durationLineChart" class="dc-chart"></div></div><div class="row"><center><strong>SubSession State Failure Trend Per Week</strong></center><div dc-chart="lineChart" dc-width="1100" dc-height="300" dc-margins="{top:30, right:10, bottom:70, left:50}" dc-dimension="weeklyDimension" dc-x="d3.scale.ordinal(weeklyDimension)" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Work Week (Year.WW)\'" dc-legend="dc.legend().x(75).y(0).legendWidth(900).horizontal(1).itemWidth(200)" dc-render-horizontal-grid-lines="true" dc-y-axis-padding="\'10%\'" dc-elastic-y="true" dc-render-area="false" dc-y-axis-label="\'%\'" dc-post-setup-chart="subSessionStateLineChart" class="dc-chart"></div></div></div><div class="row"><table dc-chart="dataTable" dc-dimension="patchDimension" dc-group="tableGroup" dc-size="9000" dc-post-setup-chart="tablePostFormat" class="table table-hover dc-data-table"><thead><tr class="header"><th>session Id</th><th>subSession Id</th><th>Project</th><th>Submitter</th><th>Campaign Name</th><th>subSession State</th><th>Start Time</th><th>Pending（mins）</th><th>Duration（mins）</th><th>Session Log</th><th>Subsession Log</th></tr></thead></table></div></div></div>'),e.put("views/device_pool_status.html",'<div class="container"><div ng-show="nodata"><div class="nodata">sql server returned no data</div></div><div ng-if="!loading"><div class="row"><div class="col-md-6"><h2>Device Pool Status Dashboard</h2></div><div class="col-md-6 pull-right"><div class="dc-data-count"><a ng-href="{{csvUrl}}"><img src="img/csv.gif"/></a>&nbsp;&nbsp;&nbsp;<a ng-href="{{sqlUrl}}" target="_blank"><img src="img/sql.png"/></a><br/><span class="total-count">&nbsp;# {{all_records}}\n&nbsp;records in db</span><br/><span class="total-count">&nbsp;# {{filter_count}}\n&nbsp;used<i>&nbsp;({{all_filtered_records}}\n&nbsp;not usable)</i></span><br/><span class="filter-count">&nbsp;# {{total_count}}\n&nbsp;currently displayed</span></div></div></div><div class="row"><div class="row"><h4><span class="glyphicon glyphicon-filter">&nbsp;Filters:</span></h4></div><div class="col-md-3">Project:<p><dc-select dc-dimension="projectDimension" all-label="All Projects"></dc-select></p></div><div class="col-md-3">Device Model:<p><dc-select dc-dimension="DevicemodelDimension" all-label="All Device models"></dc-select></p></div><div class="col-md-3">State:<p><dc-select dc-dimension="StateDimension" all-label="All States"></dc-select></p></div></div><div class="row"><row><h4><span class="glyphicon glyphicon-stats">&nbsp;Views:</span></h4></row><div class="row"><table dc-chart="dataTable" dc-dimension="patchDimension" dc-group="tableGroup" dc-size="1200" dc-post-setup-chart="tablePostFormat" class="table table-hover dc-data-table"><thead><tr class="header"><th>Project</th><th>Device Model</th><th>Device Id</th><th>Location</th><th>State</th></tr></thead></table></div></div></div></div>'),e.put("views/device_pool_utilization_detail.html",'<div class="container"><div ng-show="nodata"><div class="nodata">sql server returned no data</div></div><div ng-if="!loading"><div class="row"><div class="col-md-6"><h2>Device Pool Utilization Detail({{deviceID}})</h2></div><div class="col-md-6 pull-right"><div class="dc-data-count"><a ng-href="{{csvUrl}}"><img src="img/csv.gif"/></a>&nbsp;&nbsp;&nbsp;<a ng-href="{{sqlUrl}}" target="_blank"><img src="img/sql.png"/></a><br/><span class="total-count">&nbsp;# {{all_records}}\n&nbsp;records in db</span><br/><span class="total-count">&nbsp;# {{filter_count}}\n&nbsp;used<i>&nbsp;({{all_filtered_records}}\n&nbsp;not usable)</i><br/><span class="filter-count">&nbsp;# {{total_count}}\n&nbsp;currently displayed</span></span></div></div></div><div class="row"><div class="row"><h4><span class="glyphicon glyphicon-filter">&nbsp;Filters:</span></h4></div><div class="col-md-4 pull-left">Date:<p><dc-select dc-dimension="dateTimeDimension" all-label="All Dates"></dc-select></p></div><div class="col-md-4"><label>From:</label><p class="input-group"><input type="text" datepicker-popup="{{date_picker.format}}" ng-model="date_picker.dateHandler.fromDate" is-open="date_picker.datepicker.opened" datepicker-options="date_picker.dateOptions" min-date="date_picker.minDate" max-date="date_picker.maxDate" ng-required="true" clear="clear" clear-text="Default" close-text="Close" close-on-date-selection="false" starting-day="0" class="form-control"/><span class="input-group-btn"><button type="button" ng-click="date_picker.open($event)" class="btn btn-default"><i class="glyphicon glyphicon-calendar"></i></button></span></p></div><div class="col-md-4"><label>To:</label><p class="input-group"><input type="text" datepicker-popup="{{date_picker.format}}" ng-model="date_picker.dateHandler.toDate" is-open="date_picker.datepicker.opened" datepicker-options="date_picker.dateOptions" min-date="date_picker.dateHandler.fromDate" max-date="date_picker.maxDate" ng-required="true" clear-text="Default" close-text="Close" close-on-date-selection="false" starting-day="0" class="form-control"/><span class="input-group-btn"><button type="button" ng-click="date_picker.open($event)" class="btn btn-default"><i class="glyphicon glyphicon-calendar"></i></button></span></p></div></div><div class="row"><row><h4><span class="glyphicon glyphicon-stats">&nbsp;Views:</span></h4><center><strong>Running Duration By Date</strong></center><div dc-chart="lineChart" dc-width="1100" dc-height="550" dc-margins="{top:15, right:10, bottom:50, left:50}" dc-dimension="dailyDimension" dc-group="dailyDimensionGroup" dc-x="d3.time.scale().domain([min,max])" dc-round="d3.time.day" dc-y-axis-padding="\'10%\'" dc-bar-padding="10" dc-legend="dc.legend().x(75).y(0).legendWidth(900).horizontal(1).itemWidth(120)" dc-elastic-y="true" dc-x-axis-label="\'Date\'" dc-y-axis-label="\'Running Duration(hour)\'" dc-post-setup-chart="RuningRateChart" class="dc-chart"></div></row></div><div class="row"><table dc-chart="dataTable" dc-dimension="patchDimension" dc-group="tableGroup" dc-size="9000" dc-post-setup-chart="tablePostFormat" class="table table-hover dc-data-table"><thead><tr class="header"><th>ProjectName</th><th>StartTime</th><th>updatedOn</th><th>RuningTime(hour)</th></tr></thead></table></div></div></div>'),e.put("views/device_pool_utilization_summary.html",'<div class="container"><div ng-show="nodata"><div class="nodata">sql server returned no data</div></div><div ng-if="!loading"><div class="row"><div class="col-md-8"><h2>Device Pool Utilization Summary ({{months}} months)</h2></div><div class="col-md-4 pull-right"><div class="dc-data-count"><a ng-href="{{csvUrl}}"><img src="img/csv.gif"/></a>&nbsp;&nbsp;&nbsp;<a ng-href="{{sqlUrl}}" target="_blank"><img src="img/sql.png"/></a><br/><span class="total-count">&nbsp;# {{all_records}}\n&nbsp;records in db</span><br/><span class="total-count">&nbsp;# {{filter_count}}\n&nbsp;used<i>&nbsp;({{all_filtered_records}}\n&nbsp;not usable)</i><br/><span class="filter-count">&nbsp;# {{total_count}}\n&nbsp;currently displayed</span></span></div></div></div><div class="row"><div class="col-md-3"><strong><a href="#/{{pageRoot}}/inactive_device_monitor">&nbsp;Inactive Device Monitor</a></strong></div><div class="col-md-3"><strong><a href="#/{{pageRoot}}/inactive_dms_monitor">&nbsp;Inactive DMS Monitor</a></strong></div></div><div class="row"><div class="row"><h4><span class="glyphicon glyphicon-filter">&nbsp;Filters:</span></h4></div><div class="col-md-3 pull-left">Projects:<p><dc-select dc-dimension="projectsDimension" all-label="All Projects"></dc-select></p></div><div class="col-md-3">DeviceID:<p><dc-select dc-dimension="deviceIDDimension" all-label="All DeviceIDs"></dc-select></p></div><div class="col-md-3">DmsID:<p><dc-select dc-dimension="dmsIDDimension" all-label="All DmsIDs"></dc-select></p></div><div class="col-md-3">QueryCycle:<select onChange="window.open(this.options[this.selectedIndex].value)" class="form-control"><option>--{{months}} months--</option><option value="#/{{pageRoot}}/device_pool_utilization_summary?months=3">3 months</option><option value="#/{{pageRoot}}/device_pool_utilization_summary?months=6">6 months</option><option value="#/{{pageRoot}}/device_pool_utilization_summary?months=12">12 months</option></select></div></div><div class="row"><row><h4><span class="glyphicon glyphicon-stats">&nbsp;Views:</span></h4></row><div class="row"><center><strong>Running Rate Per Project</strong></center><div dc-chart="barChart" dc-width="1200" dc-height="550" dc-margins="{top:15, right:10, bottom:80, left:50}" dc-dimension="projectDimension" dc-group="projectDimensionGroup" dc-x="d3.scale.ordinal(projectDimension)" dc-y-axis-padding="\'10%\'" dc-x-units="dc.units.ordinal" dc-bar-padding="0.1" dc-legend="dc.legend().x(75).y(0).legendWidth(900).horizontal(1).itemWidth(120)" dc-elastic-y="true" dc-x-axis-label="\'Project\'" dc-y-axis-label="\'Running Rate(%)\'" dc-post-setup-chart="ProjectRuningRateChart" class="dc-chart"></div><center><strong>Running Rate Per Device</strong></center><div dc-chart="barChart" dc-width="1200" dc-height="550" dc-margins="{top:15, right:10, bottom:50, left:50}" dc-dimension="deviceDimension" dc-group="deviceDimensionGroup" dc-x="d3.scale.ordinal(deviceDimension)" dc-y-axis-padding="\'10%\'" dc-x-units="dc.units.ordinal" dc-bar-padding="0.1" dc-legend="dc.legend().x(75).y(0).legendWidth(900).horizontal(1).itemWidth(120)" dc-elastic-y="true" dc-x-axis-label="\'DeviceID\'" dc-y-axis-label="\'Running Rate(%)\'" dc-post-setup-chart="DeviceRuningRateChart" class="dc-chart"></div></div></div><div class="row"><table dc-chart="dataTable" dc-dimension="patchDimension" dc-group="tableGroup" dc-size="9000" dc-post-setup-chart="tablePostFormat" class="table table-hover dc-data-table"><thead><tr class="header"><th>DeviceID</th><th>PublicIPAddress</th><th>ModelName</th><th>Location</th><th>SeriaNumber</th><th>TotalRuningTime(hour)</th><th>TotalRuningRate</th></tr></thead></table></div></div></div>'),e.put("views/domainowner.html",'<div class="container-fluid"><div ng-if="nodata"><div class="nodata">sql server returned no data</div></div><div ng-if="!loading"><div class="row"><form class="form-inline pull-right"><div class="form-group"><select ng-model="email" ng-options="e.email group by e.activity for e in emails" ng-change="emailChanged(email)"></select></div><div class="form-group"><div ng-class="{active: autoupdate}" ng-click="updateToggle()" class="btn btn-default"><i ng-show="updating" class="fa fa-spin fa-spinner"></i>Update</div></div></form></div><div class="row"><div ui-grid="gridOptions" ui-grid-resize-columns="ui-grid-resize-columns" ui-grid-move-columns="ui-grid-move-columns" ui-grid-grouping="ui-grid-grouping" class="domaingrid"></div></div></div></div>'),e.put("views/dynamic_tc_warning_monitor.html",'<div class="container"><div ng-if="!loading"><div class="row"><div class="col-md-6"><label>From:</label><p class="input-group"><input type="text" datepicker-popup="{{date_picker.format}}" ng-model="date_picker.dateHandler.fromDate" is-open="date_picker.datepicker.opened" datepicker-options="date_picker.dateOptions" min-date="date_picker.minDate" max-date="date_picker.maxDate" ng-required="true" clear="clear" clear-text="Default" close-text="Close" close-on-date-selection="false" starting-day="0" class="form-control"/><span class="input-group-btn"><button type="button" ng-click="date_picker.open($event)" class="btn btn-default"><i class="glyphicon glyphicon-calendar"></i></button></span></p></div><div class="col-md-6"><label>To:</label><p class="input-group"><input type="text" datepicker-popup="{{date_picker.format}}" ng-model="date_picker.dateHandler.toDate" is-open="date_picker.datepicker.opened" datepicker-options="date_picker.dateOptions" min-date="date_picker.dateHandler.fromDate" max-date="date_picker.maxDate" ng-required="true" clear-text="Default" close-text="Close" close-on-date-selection="false" starting-day="0" class="form-control"/><span class="input-group-btn"><button type="button" ng-click="date_picker.open($event)" class="btn btn-default"><i class="glyphicon glyphicon-calendar"></i></button></span></p></div></div><div class="row"><div class="col-md-12">Filters:<p><select ng-options="promotion for promotion in promotionTypes" ng-model="selectedPromotion" ng-change="filterPromotions(selectedPromotion)" class="form-control"></select></p><p><select ng-options="branch as branch.key for branch in branches" ng-model="selectedBranch" ng-change="filterBranch(selectedBranch)" class="form-control"></select></p><p><dc-select dc-dimension="builderDimension" all-label="All builders"></dc-select></p></div></div><div class="row"><div dc-chart="lineChart" dc-width="1200" dc-height="300" dc-margins="{top:10, right:10, bottom:50, left:50}" dc-dimension="ptmDailyDimension" dc-x="d3.scale.ordinal(dailyDimension)" dc-x-units="d3.time.days" dc-x-axis-label="\'Date\'" dc-legend="dc.legend().x(75).y(0)" dc-elastic-y="true" dc-render-area="true" dc-y-axis-label="\'AVG Preintegation to MR (minutes)\'" dc-brush-on="false" dc-post-setup-chart="preintToMRAvgPerDay" class="dc-chart"></div></div><div class="row"><div dc-chart="lineChart" dc-width="1200" dc-height="300" dc-margins="{top:10, right:10, bottom:50, left:50}" dc-dimension="srtDailyDimension" dc-x="d3.scale.ordinal(dailySRTDimension)" dc-x-units="d3.time.days" dc-x-axis-label="\'Date\'" dc-legend="dc.legend().x(75).y(0)" dc-elastic-y="true" dc-render-area="true" dc-y-axis-label="\'Saved rebuild time (minutes)\'" dc-brush-on="false" dc-post-setup-chart="savedRebuildTimePerDay" class="dc-chart"></div></div><div class="row"><div dc-chart="barChart" dc-width="1200" dc-height="300" dc-margins="{top:10, right:10, bottom:50, left:50}" dc-dimension="srtDailyDimension" dc-x="d3.scale.ordinal(dailySRTDimension)" dc-x-units="d3.time.days" dc-x-axis-label="\'Date\'" dc-legend="dc.legend().x(75).y(0)" dc-elastic-y="true" dc-render-area="true" dc-y-axis-label="\'Number of builds avoided\'" dc-brush-on="false" dc-post-setup-chart="numberOfSavedRebuilds" class="dc-chart"></div></div><div class="row"><div dc-chart="lineChart" dc-width="1200" dc-height="300" dc-margins="{top:10, right:10, bottom:50, left:50}" dc-dimension="srtDailyDimension" dc-x="d3.scale.ordinal(dailySRTDimension)" dc-x-units="d3.time.days" dc-x-axis-label="\'Date\'" dc-legend="dc.legend().x(75).y(0)" dc-elastic-y="true" dc-render-area="true" dc-y-axis-label="\'Cumulated saved rebuild time (minutes)\'" dc-brush-on="false" dc-post-setup-chart="cumulatedRebuildTimeSaved" class="dc-chart"></div></div><div class="row"><table dc-chart="dataTable" dc-dimension="ptmDailyDimension" dc-group="tableGroup" dc-width="990" dc-size="1000" dc-post-setup-chart="tableSetup" class="table table-hover dc-data-table"><thead><tr class="header"><th>Date</th><th>Branch</th><th>Promotion Type</th><th>Preintegration Build</th><th>Preintegration duration (minutes)</th><th>Preintegration Result</th><th>Premerge Build</th><th>Premerge duration (minutes)</th><th>Premerge Result</th><th>Time from Preintegration to Mergerequest Triggering (minutes)</th></tr></thead></table></div></div></div>'),
e.put("views/fast_revert.html",'<div class="container"><div ng-if="!loading"><div class="row"><div class="col-md-6"><label>From:</label><p class="input-group"><input type="text" datepicker-popup="{{date_picker.format}}" ng-model="date_picker.dateHandler.fromDate" is-open="date_picker.datepicker.opened" datepicker-options="date_picker.dateOptions" min-date="date_picker.minDate" max-date="date_picker.maxDate" ng-required="true" clear="clear" clear-text="Default" close-text="Close" close-on-date-selection="false" starting-day="0" class="form-control"/><span class="input-group-btn"><button type="button" ng-click="date_picker.open($event)" class="btn btn-default"><i class="glyphicon glyphicon-calendar"></i></button></span></p></div><div class="col-md-6"><label>To:</label><p class="input-group"><input type="text" datepicker-popup="{{date_picker.format}}" ng-model="date_picker.dateHandler.toDate" is-open="date_picker.datepicker.opened" datepicker-options="date_picker.dateOptions" min-date="date_picker.dateHandler.fromDate" max-date="date_picker.maxDate" ng-required="true" clear-text="Default" close-text="Close" close-on-date-selection="false" starting-day="0" class="form-control"/><span class="input-group-btn"><button type="button" ng-click="date_picker.open($event)" class="btn btn-default"><i class="glyphicon glyphicon-calendar"></i></button></span></p></div></div><div class="row"><div class="col-md-12">Filters:<label>Branches<p isteven-multi-select="isteven-multi-select" input-model="ui_params.branches" output-model="drop_down_branches" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="filter(ui_params.branches, branch_dimension)"></p></label><label>Nb changes<p isteven-multi-select="isteven-multi-select" input-model="ui_params.nb_changes" output-model="drop_down_nb_changes" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="filter(ui_params.nb_changes, nb_changes_dimension)"></p></label></div></div><div class="row"><div class="col-md-12"><center><strong>Cumulative percentage of builds with N changes</strong></center></div></div><div class="row"><div dc-chart="barChart" dc-width="990" dc-height="500" dc-margins="{top:10, right:10, bottom:70, left:50}" dc-dimension="nb_changes_dimension" dc-group="cum_nber_change_dim_grp" dc-x-axis-label="\'N\'" dc-y-axis-label="\'%\'" dc-x="d3.scale.ordinal(nb_changes_dimension)" dc-x-units="dc.units.ordinal" dc-elastic-y="true" dc-always-use-rounding="true" dc-y-axis-padding="\'10%\'" dc-render-horizontal-grid-lines="true" dc-brush-on="false" dc-post-setup-chart="cum_nber_change_setup" class="dc-chart"></div></div><div class="row"><div class="col-md-12"><center><strong>Builds per number of changes</strong></center></div></div><div class="row"><div dc-chart="barChart" dc-width="990" dc-height="500" dc-margins="{top:10, right:10, bottom:70, left:50}" dc-dimension="nb_changes_dimension" dc-group="nber_change_dim_grp" dc-x-axis-label="\'N\'" dc-y-axis-label="\'Count\'" dc-x="d3.scale.ordinal(nb_changes_dimension)" dc-x-units="dc.units.ordinal" dc-elastic-y="true" dc-always-use-rounding="true" dc-y-axis-padding="\'10%\'" dc-render-horizontal-grid-lines="true" dc-brush-on="false" class="dc-chart"></div></div><div class="row"><table dc-chart="dataTable" dc-dimension="date_dimension" dc-group="table_group" dc-width="990" dc-size="1000" dc-post-setup-chart="table_post_format" class="table table-hover dc-data-table"><thead><tr class="header"><th>Day</th><th>Branch</th><th>Build</th><th>Nb change</th></tr></thead></table></div></div></div>'),e.put("views/from_preint_to_premerge.html",'<div class="container"><div ng-if="!loading"><div class="row"><div class="col-md-6"><label>From:</label><p class="input-group"><input type="text" datepicker-popup="{{date_picker.format}}" ng-model="date_picker.dateHandler.fromDate" is-open="date_picker.datepicker.opened" datepicker-options="date_picker.dateOptions" min-date="date_picker.minDate" max-date="date_picker.maxDate" ng-required="true" clear="clear" clear-text="Default" close-text="Close" close-on-date-selection="false" starting-day="0" class="form-control"/><span class="input-group-btn"><button type="button" ng-click="date_picker.open($event)" class="btn btn-default"><i class="glyphicon glyphicon-calendar"></i></button></span></p></div><div class="col-md-6"><label>To:</label><p class="input-group"><input type="text" datepicker-popup="{{date_picker.format}}" ng-model="date_picker.dateHandler.toDate" is-open="date_picker.datepicker.opened" datepicker-options="date_picker.dateOptions" min-date="date_picker.dateHandler.fromDate" max-date="date_picker.maxDate" ng-required="true" clear-text="Default" close-text="Close" close-on-date-selection="false" starting-day="0" class="form-control"/><span class="input-group-btn"><button type="button" ng-click="date_picker.open($event)" class="btn btn-default"><i class="glyphicon glyphicon-calendar"></i></button></span></p></div></div><a href="javascript:" ng-click="resetAll()">&nbsp;Reset All</a><div class="row"><div class="col-md-12">Filters:<label>Branches<p isteven-multi-select="isteven-multi-select" input-model="ui_params.branches" output-model="drop_down_branches" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="filter(ui_params.branches, branch_dimension)"></p></label><label>Owner<p isteven-multi-select="isteven-multi-select" input-model="ui_params.owners" output-model="drop_down_owners" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="filter(ui_params.owners, owner_dimension)"></p></label></div></div><div class="row"><div class="col-md-12"><center><strong>Average time to promote manually a successfull preintegration</strong></center></div></div><div class="row"><div dc-chart="lineChart" dc-width="990" dc-height="250" dc-margins="{top:10, right:10, bottom:70, left:50}" dc-dimension="date_dimension" dc-group="date_per_result_dim_grp" dc-x-axis-label="\'Date\'" dc-y-axis-label="\'Hours\'" dc-x-units="d3.time.days" dc-round="dc.round.floor" dc-elastic-y="true" dc-y-axis-min="0" dc-y-axis-max="100" dc-always-use-rounding="true" dc-render-horizontal-grid-lines="true" dc-y-axis-padding="\'5%\'" dc-brush-on="false" dc-post-setup-chart="line_execution_setup" class="dc-chart"></div></div><div class="row"><div class="col-md-12"><center><strong>Number of preintegrations that used autopromote (only the promoted are counted)</strong></center></div></div><div class="row"><div dc-chart="barChart" dc-width="990" dc-height="500" dc-margins="{top:10, right:10, bottom:70, left:50}" dc-dimension="date_dimension" dc-group="date_per_result_dim_grp" dc-x-axis-label="\'Date\'" dc-y-axis-label="\'Count\'" dc-x-units="d3.time.days" dc-round="dc.round.floor" dc-elastic-y="true" dc-always-use-rounding="true" dc-legend="dc.legend().x(75).y(0).legendWidth(800).horizontal(1).itemWidth(150)" dc-y-axis-padding="\'10%\'" dc-render-horizontal-grid-lines="true" dc-brush-on="false" dc-post-setup-chart="number_of_autopromote" class="dc-chart"></div></div><div class="row"><div class="col-md-12"><center><strong>Distribution of the number of premerge promoted from the same preintegration</strong></center></div></div><div class="row"><div dc-chart="barChart" dc-width="990" dc-height="500" dc-margins="{top:10, right:10, bottom:70, left:50}" dc-dimension="date_dimension" dc-group="date_per_result_dim_grp" dc-x-axis-label="\'Date\'" dc-y-axis-label="\'Count\'" dc-x-units="d3.time.days" dc-round="dc.round.floor" dc-elastic-y="true" dc-always-use-rounding="true" dc-legend="dc.legend().x(75).y(0).legendWidth(800).horizontal(1).itemWidth(150)" dc-y-axis-padding="\'10%\'" dc-render-horizontal-grid-lines="true" dc-brush-on="false" dc-post-setup-chart="number_of_submissions" class="dc-chart"></div></div><div class="row"><table dc-chart="dataTable" dc-dimension="weekly_dimension" dc-group="table_group" dc-width="990" dc-size="1000" dc-post-setup-chart="table_post_format" class="table table-hover dc-data-table"><thead><tr class="header"><th>DATE</th><th>BRANCH</th><th>Link to preint</th><th>Time</th><th>Build submitters Email</th><th>Link to premerge</th></tr></thead></table></div></div></div>'),e.put("views/ft.html",'<div class="iframe"><iframe name="iframe" src="{{page_url}}" frameborder="0" allowfullscreen="allowfullscreen"></iframe></div>'),e.put("views/ft_tel_tc_result.html",'<div class="container"><div ng-if="nodata"><div class="nodata">sql server returned no data</div></div><div ng-if="!loading"><div class="row"><div class="col-md-3">Filters:<p><dc-select dc-dimension="branchDimension" all-label="All Branches"></dc-select></p><p><dc-select dc-dimension="buildNumberDimension" all-label="All Build Numbers"></dc-select></p><p><dc-select dc-dimension="boardDimension" all-label="All Boards"></dc-select></p><p><dc-select dc-dimension="testCaseNameDimension" all-label="All Test Case Names"></dc-select></p><p><a href="javascript:" ng-click="resetAll()">&nbsp;Reset All</a></p></div><div class="col-md-3">&nbsp;<p><dc-select dc-dimension="builderTypeDimension" all-label="All Builder Types"></dc-select></p><p><dc-select dc-dimension="benchNameDimension" all-label="All Benche Names"></dc-select></p><p><dc-select dc-dimension="deviceDimension" all-label="All Devices"></dc-select></p><p><dc-select dc-dimension="campaignNameDimension" all-label="All Campaign Names"></dc-select></p></div><div class="col-md-3"><div dc-chart="pieChart" dc-width="300" dc-height="250" dc-radius="80" dc-dimension="resDimension" dc-group="resDimensionGroup" dc-legend="dc.legend().x(0).y(170)" dc-post-setup-chart="resultPieChart" class="dc-chart"></div></div><div class="col-md-3-centered"><div class="dc-data-count"><a ng-href="{{csvUrl}}"><img src="img/csv.gif"/></a><br/><span class="total-count">&nbsp;# {{all_records}}\n&nbsp;records in db</span><br/><span class="total-count">&nbsp;# {{filter_count}}\n&nbsp;used<i>&nbsp;({{all_filtered_records}}\n&nbsp;not usable)</i></span><br/><span class="filter-count">&nbsp;# {{total_count}}\n&nbsp;currently displayed</span></div></div></div><div class="row"><div dc-chart="barChart" dc-width="1200" dc-height="300" dc-margins="{top:10, right:10, bottom:50, left:50}" dc-dimension="weekDimension" dc-x="d3.scale.ordinal(weekDimension)" dc-x-units="dc.units.ordinal" dc-bar-padding="0.1" dc-legend="dc.legend().x(75).y(0)" dc-elastic-y="true" dc-y-axis-label="\'Weekly activity\'" dc-post-setup-chart="weekBarChart" class="dc-chart"></div></div><div class="row"><div dc-chart="barChart" dc-width="1200" dc-height="600" dc-margins="{top:10, right:10, bottom:300, left:50}" dc-dimension="testCaseNameDimension" dc-x="d3.scale.ordinal(testCaseNameDimension)" dc-x-units="dc.units.ordinal" dc-bar-padding="0.1" dc-elastic-y="true" dc-y-axis-label="\'Test Case Pass Rate\'" dc-post-setup-chart="testCaseNameBarChart" class="dc-chart"></div></div><div class="row"><table dc-chart="dataTable" dc-dimension="weekDimension" dc-group="tableGroup" dc-size="1000" dc-post-setup-chart="tablePostFormat" class="table table-hover dc-data-table"><thead><tr class="header"><th>Date</th><th>Branch</th><th>Builder Type</th><th>Build Number</th><th>Bench Name</th><th>Board</th><th>Device</th><th>Campaign Name</th><th>Test Case Name</th><th>Result</th><th>Duration (min)</th></tr></thead></table></div></div></div>'),e.put("views/gitProjectCategory.html",'<div class="container"><div ng-if="nodata"><div class="nodata">sql server returned no data</div></div><div ng-if="!loading"><div class="h2">Display of the imin_legacy branch mapping</div><div class="row"><div class="col-md-3">Filters:<p><dc-select dc-dimension="categoryDimensionList" all-label="All Categories"></dc-select></p></div><div class="col-md-3"><div dc-chart="pieChart" dc-width="270" dc-height="200" dc-radius="80" dc-cx="180" dc-cy="80" dc-dimension="categoryDimension" dc-group="categoryDimensionGroup" dc-slices-cap="10" dc-legend="dc.legend().x(0).y(0)" dc-post-setup-chart="postActionCategoryPieChart" class="dc-chart"></div></div><div class="col-md-3-centered"><div class="dc-data-count"><a ng-href="{{csvUrl}}"><img src="img/csv.gif"/></a><br/><span class="total-count">&nbsp;# {{all_records}}\n&nbsp;records in db</span><br/><span class="total-count">&nbsp;# {{filter_count}}\n&nbsp;used<i>&nbsp;({{all_filtered_records}}\n&nbsp;not usable)</i></span><br/><span class="filter-count">&nbsp;# {{total_count}}\n&nbsp;currently displayed</span></div></div></div><div class="row"><table dc-chart="dataTable" dc-dimension="categoryDimension" dc-group="tableGroup" dc-size="1000" dc-post-setup-chart="tablePostFormat" class="table table-hover dc-data-table"><thead><tr class="header"><th>Git Project Name</th><th>Category</th></tr></thead></table></div></div></div>'),e.put("views/globalMetabuilds.html",'<div class="container"><div ng-if="nodata"><div class="nodata">sql server returned no data</div></div><div ng-if="!loading"><div class="row"><div class="col-md-3">Filters:<p><dc-select dc-dimension="builderTypeDimension" all-label="All Builders"></dc-select></p><p><dc-select dc-dimension="branchDimension" all-label="All Branches"></dc-select></p><p><a href="javascript:" ng-click="resetAll()">&nbsp;Reset All</a></p></div><div class="col-md-3"><div dc-chart="pieChart" dc-width="300" dc-height="250" dc-radius="80" dc-dimension="resDimension" dc-group="resDimensionGroup" dc-legend="dc.legend().x(0).y(170)" dc-post-setup-chart="resultPieChart" class="dc-chart"></div></div><div class="col-md-3"><div dc-chart="pieChart" dc-width="300" dc-height="250" dc-radius="80" dc-dimension="siteDimension" dc-group="siteDimensionGroup" dc-legend="dc.legend().x(0).y(170)" dc-post-setup-chart="sitePieChart" class="dc-chart"></div></div><div class="col-md-3-centered"><div class="dc-data-count"><a ng-href="{{csvUrl}}"><img src="img/csv.gif"/></a>&nbsp;&nbsp;&nbsp;<a ng-href="{{sqlUrl}}" target="_blank"><img src="img/sql.png"/></a><br/><span class="total-count">&nbsp;# {{all_records}}\n&nbsp;records in db</span><br/><span class="total-count">&nbsp;# {{filter_count}}\n&nbsp;used<i>&nbsp;({{all_filtered_records}}\n&nbsp;not usable)</i></span><br/><span class="filter-count">&nbsp;# {{total_count}}\n&nbsp;currently displayed</span></div></div></div><div class="row"><div dc-chart="barChart" dc-width="990" dc-height="250" dc-margins="{top:10, right:10, bottom:50, left:50}" dc-dimension="weeklyDimension" dc-x="d3.scale.ordinal(weeklyDimension)" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Work Week (Year.WW)\'" dc-bar-padding="0.1" dc-legend="dc.legend().x(75).y(0)" dc-elastic-y="true" dc-y-axis-label="\'Number of Builds per Week\'" dc-post-setup-chart="resBarChart" class="dc-chart"></div></div><div class="row"><div dc-chart="barChart" dc-width="990" dc-height="125" dc-margins="{top:10, right:10, bottom:50, left:50}" dc-dimension="dailyDimension" dc-group="dailyDimensionGroup" dc-x="d3.time.scale().domain([min,max])" dc-y-axis-label="\'Daily activity\'" dc-round="d3.time.day" dc-elastic-y="true" class="dc-chart"></div></div><div class="row"><table dc-chart="dataTable" dc-dimension="weeklyDimension" dc-group="tableGroup" dc-size="1000" dc-post-setup-chart="tablePostFormat" class="table table-hover dc-data-table"><thead><tr class="header"><th>Build Number</th><th>Date</th><th>Branch</th><th>Result</th></tr></thead></table></div></div></div>'),e.put("views/history_sessions.html",'<div class="container"><div ng-show="nodata"><div class="nodata">sql server returned no data</div></div><div ng-if="!loading"><div class="row"><div class="col-md-6"><h2>History Sessions</h2></div><div class="col-md-6 pull-right"><div class="dc-data-count"><a ng-href="{{csvUrl}}"><img src="img/csv.gif"/></a>&nbsp;&nbsp;&nbsp;<a ng-href="{{sqlUrl}}" target="_blank"><img src="img/sql.png"/></a><br/><span class="total-count">&nbsp;# {{all_records}}\n&nbsp;records in db</span><br/><span class="total-count">&nbsp;# {{filter_count}}\n&nbsp;used<i>&nbsp;({{all_filtered_records}}\n&nbsp;not usable)</i></span><br/><span class="filter-count">&nbsp;# {{total_count}}\n&nbsp;currently displayed</span></div></div></div><div class="row"><div class="row"><h4><span class="glyphicon glyphicon-filter">&nbsp;Filters:</span></h4></div><div class="col-md-3">Project:<p><dc-select dc-dimension="projectDimension" all-label="All Projects"></dc-select></p></div><div class="col-md-3">Device Model:<p><dc-select dc-dimension="DevicemodelDimension" all-label="All Device models"></dc-select></p></div><div class="col-md-3">Device ID:<p><dc-select dc-dimension="DeviceidDimension" all-label="All Device id"></dc-select></p></div><div class="col-md-3">State:<p><dc-select dc-dimension="StateDimension" all-label="All States"></dc-select></p></div><div class="col-md-3">Work Week:<p><dc-select dc-dimension="workWeekDimension" all-label="All WorkWeeks"></dc-select></p></div></div><div class="row"><row><h4><span class="glyphicon glyphicon-stats">&nbsp;Views:</span></h4></row></div><div class="row"><table dc-chart="dataTable" dc-dimension="patchDimension" dc-group="tableGroup" dc-size="5000" dc-post-setup-chart="tablePostFormat" class="table table-hover dc-data-table"><thead><tr class="header"><th>Session Id</th><th>Project</th><th>Submitter</th><th>Submit Time</th><th>Campaign</th><th>Device Model</th><th>Device ID</th><th>Time In Queue(hours)</th><th>State</th><th>TCR</th><th>LOG</th><th>Duration(hours)</th></tr></thead></table></div></div></div>'),e.put("views/inactive_device_monitor.html",'<div class="container"><div ng-show="nodata"><div class="nodata">sql server returned no data</div></div><div ng-if="!loading"><div class="row"><div class="col-md-6"><h2>Inactive Device Monitor({{months}} months)</h2></div><div class="col-md-6 pull-right"><div class="dc-data-count"><a ng-href="{{csvUrl}}"><img src="img/csv.gif"/></a>&nbsp;&nbsp;&nbsp;<a ng-href="{{sqlUrl}}" target="_blank"><img src="img/sql.png"/></a><br/><span class="total-count">&nbsp;# {{all_records}}\n&nbsp;records in db</span><br/><span class="total-count">&nbsp;# {{filter_count}}\n&nbsp;used<i>&nbsp;({{all_filtered_records}}\n&nbsp;not usable)</i></span><br/><span class="filter-count">&nbsp;# {{total_count}}\n&nbsp;currently displayed</span></div></div></div><div class="row"><div class="col-md-6"><p><a href="#/{{pageRoot}}/device_pool_utilization_summary">&nbsp;Device Pool Utilization</a></p></div></div><div class="row"><div class="row"><h4><span class="glyphicon glyphicon-filter">&nbsp;Filters:</span></h4></div><div class="row"><div class="col-md-4">Project:<p><dc-select dc-dimension="projectDimension" all-label="All Projects"></dc-select></p></div><div class="col-md-4">QueryCycle:<select onChange="window.open(this.options[this.selectedIndex].value)" class="form-control"><option>--{{months}} months--</option><option value="#/{{pageRoot}}/inactive_device_monitor?months=3">3 months</option><option value="#/{{pageRoot}}/inactive_device_monitor?months=6">6 months</option><option value="#/{{pageRoot}}/inactive_device_monitor?months=12">12 months</option></select></div></div></div><div class="row"><row><h4><span class="glyphicon glyphicon-stats">&nbsp;Views:</span></h4></row><div class="row"><table dc-chart="dataTable" dc-dimension="patchDimension" dc-group="tableGroup" dc-size="1000" dc-post-setup-chart="tablePostFormat" class="table table-hover dc-data-table"><thead><tr class="header"><th>ID</th><th>ModelName</th><th>Location</th><th>SerialNumber</th></tr></thead></table></div></div></div></div>'),e.put("views/inactive_dms_monitor.html",'<div class="container"><div ng-show="nodata"><div class="nodata">sql server returned no data</div></div><div ng-if="!loading"><div class="row"><div class="col-md-6"><h2>Inactive DMS Monitor({{months}} months)</h2></div><div class="col-md-6 pull-right"><div class="dc-data-count"><a ng-href="{{csvUrl}}"><img src="img/csv.gif"/></a>&nbsp;&nbsp;&nbsp;<a ng-href="{{sqlUrl}}" target="_blank"><img src="img/sql.png"/></a><br/><span class="total-count">&nbsp;# {{all_records}}\n&nbsp;records in db</span><br/><span class="total-count">&nbsp;# {{filter_count}}\n&nbsp;used<i>&nbsp;({{all_filtered_records}}\n&nbsp;not usable)</i></span><br/><span class="filter-count">&nbsp;# {{total_count}}\n&nbsp;currently displayed</span></div></div></div><div class="row"><div class="col-md-6"><p><a href="#/{{pageRoot}}/device_pool_utilization_summary">&nbsp;Device Pool Utilization</a></p></div></div><div class="row"><div class="row"><h4><span class="glyphicon glyphicon-filter">&nbsp;Filters:</span></h4></div><div class="row"><div class="col-md-4">Project:<p><dc-select dc-dimension="projectDimension" all-label="All Projects"></dc-select></p></div><div class="col-md-4">QueryCycle:<select onChange="window.open(this.options[this.selectedIndex].value)" class="form-control"><option>--{{months}} months--</option><option value="#/{{pageRoot}}/inactive_dms_monitor?months=3">3 months</option><option value="#/{{pageRoot}}/inactive_dms_monitor?months=6">6 months</option><option value="#/{{pageRoot}}/inactive_dms_monitor?months=12">12 months</option></select></div></div></div><div class="row"><row><h4><span class="glyphicon glyphicon-stats">&nbsp;Views:</span></h4></row><div class="row"><table dc-chart="dataTable" dc-dimension="patchDimension" dc-group="tableGroup" dc-size="1000" dc-post-setup-chart="tablePostFormat" class="table table-hover dc-data-table"><thead><tr class="header"><th>ID</th><th>DMS</th><th>Location</th></tr></thead></table></div></div></div></div>'),e.put("views/kernel_Detail.html",'<div class="container"><div ng-show="nodata"><div class="nodata">sql server returned no data</div></div><div ng-if="!loading"><div class="row"><div class="col-md-3"><h4>Topic: {{topic}}</h4>Topic:<p><dc-select dc-dimension="topicDimension" all-label="All Topics"></dc-select></p>Branch Name:<p><dc-select dc-dimension="branchNameDimension" all-label="All Branches"></dc-select></p>Git Project:<p><dc-select dc-dimension="gitProjectDimension" all-label="All Git Projects"></dc-select></p>Cactus Builder:<p><dc-select dc-dimension="builderNameDimension" all-label="All Builders"></dc-select></p>Work Week:<p><dc-select dc-dimension="wwDimension" all-label="All Weeks"></dc-select></p><p><a href="#/{{pageRoot}}/kernel_General">&nbsp;Back to Kernel General</a></p></div><div class="col-md-3"><div dc-chart="pieChart" dc-width="300" dc-height="250" dc-radius="80" dc-dimension="resultDimension" dc-group="resultDimensionGroup" dc-legend="dc.legend().x(0).y(170)" dc-post-setup-chart="resultPieChart" class="dc-chart"></div></div><div class="col-md-3"><div dc-chart="pieChart" dc-width="300" dc-height="250" dc-radius="80" dc-dimension="builderNameDimension" dc-group="builderNameDimensionGroup" dc-legend="dc.legend().x(0).y(0)" dc-post-setup-chart="builderNamePieChart" class="dc-chart"></div></div><div class="col-md-3"><div class="dc-data-count"><a ng-href="{{csvUrl}}"><img src="img/csv.gif"/></a>&nbsp;&nbsp;&nbsp;<a ng-href="{{sqlUrl}}" target="_blank"><img src="img/sql.png"/></a><br/><span class="total-count">&nbsp;# {{all_records}}\n&nbsp;records in db</span><br/><span class="total-count">&nbsp;# {{filter_count}}\n&nbsp;used<i>&nbsp;({{all_filtered_records}}\n&nbsp;not usable)</i></span><br/><span class="filter-count">&nbsp;# {{total_count}}\n&nbsp;currently displayed</span></div></div></div><div class="row"><h4>Builds Result / Patch ID</h4><div dc-chart="barChart" dc-width="990" dc-height="330" dc-margins="{top:10, right:10, bottom:150, left:100}" dc-dimension="patchDimension" dc-x="d3.scale.ordinal(patchDimension)" dc-x-units="dc.units.ordinal" dc-bar-padding="0.1" dc-legend="dc.legend().x(0).y(0)" dc-elastic-y="true" dc-post-setup-chart="patchRatioBarChart" class="dc-chart"></div></div><div class="row"><div dc-chart="barChart" dc-width="990" dc-height="330" dc-margins="{top:15, right:10, bottom:150, left:100}" dc-dimension="patchNumberDimension" dc-x="d3.scale.ordinal(patchNumberDimension)" dc-x-units="dc.units.ordinal" dc-bar-padding="0.1" dc-legend="dc.legend().x(0).y(0)" dc-elastic-y="true" dc-post-setup-chart="patchNumberBarChart" class="dc-chart"></div></div><div class="row"><div dc-chart="barChart" dc-width="990" dc-height="330" dc-margins="{top:15, right:10, bottom:150, left:100}" dc-dimension="patchDurationDimension" dc-group="patchDurationDimensionGroup" dc-x="d3.scale.ordinal(patchDurationDimension)" dc-x-units="dc.units.ordinal" dc-bar-padding="0.1" dc-legend="dc.legend().x(0).y(0)" dc-elastic-y="true" dc-post-setup-chart="patchDurationBarChart" class="dc-chart"></div><div class="col-md-3"><p><a href="#/{{pageRoot}}/kernel_General">&nbsp;Back to Kernel General</a></p></div></div><div class="row"><table dc-chart="dataTable" dc-dimension="patchDimension" dc-group="tableGroup" dc-size="1000" dc-post-setup-chart="tablePostFormat" class="table table-hover dc-data-table table-kernel-detail"><thead><tr class="header header-kernel-detail"><th>BranchName</th><th>GitProject</th><th>BuilderName</th><th>BuildNumber</th><th>Result</th><th>SubmitTime</th><th>StartTime</th><th>FinishTime</th><th>Duration (hour)</th></tr></thead></table></div></div></div><script>(function kernel_detail(){\n\n    var bar_height = $(".header-kernel-detail").height();\n    var sroll_header= $(".table-kernel-detail").clone().attr(\'id\',\'kernel-general\');\n    if (!$(\'.table-kernel-detail\').length) {\n        return;\n    }\n    var Top = $(\'.header-kernel-detail\').offset().top\n    $(window).scroll(function(){\n        if ($(document).scrollTop()-1200 > Top) {\n\n            var scrollLeft = $(window).scrollLeft();\n            if (!$(\'.table-kernel-detail\').length) {\n                return;\n            }\n            var barOffset = $(\'.table-kernel-detail\').offset().left;\n            var bar_left  = (barOffset - scrollLeft) + "px";\n\n            $(\'.table-kernel-detail\').append(\'<div id="bar_container"></div>\');\n            $("#bar_container").css({\'width\':\'100%\',\'height\':bar_height,\'position\':\'fixed\',\'top\':\'0\', \'overflow\':\'hidden\', \'left\':bar_left});\n            sroll_header.appendTo(\'#bar_container\');\n            $(\'#bar_container table\').removeClass();\n            $(\'#bar_container table tr th\').css({\'height\': bar_height,\'background-color\':\'#ddd\',\'text-align\':\'left\'})\n\n            $(\'#bar_container tr\').children().each(function (i, n) {\n\n                 $(n).css("width", $(\'.header-kernel-detail\').children().eq(i).css(\'width\'));\n\n            });\n\n            $(\'#bar_container\').show();\n\n        }else {\n            $(\'#bar_container\').hide();\n        }\n    });\n\n})();</script>'),e.put("views/kernel_General.html",'<div class="container"><div ng-show="nodata"><div class="nodata">sql server returned no data</div></div><div ng-if="!loading"><div class="row"><div class="col-md-6 pull-left"><h2>Kernel Integration Summary Dashboard</h2></div><div class="col-md-6 pull-right"><div class="dc-data-count"><a ng-href="{{csvUrl}}"><img src="img/csv.gif"/></a>&nbsp;&nbsp;&nbsp;<a ng-href="{{sqlUrl}}" target="_blank"><img src="img/sql.png"/></a><br/><span class="total-count">&nbsp;# {{all_records}}\n&nbsp;records in db</span><br/><span class="total-count">&nbsp;# {{filter_count}}\n&nbsp;used<i>&nbsp;({{all_filtered_records}}\n&nbsp;not usable)</i></span><br/><span class="filter-count">&nbsp;# {{total_count}}\n&nbsp;currently displayed</span></div></div></div>\n<div class="row"><div class="row"><h4><span class="glyphicon glyphicon-stats">&nbsp;Views:</span></h4></div><center><strong>Build Duration Accumulation Bar Chart</strong></center><div dc-chart="barChart" dc-width="1300" dc-height="750" dc-margins="{top:15, right:10, bottom:270, left:50}" dc-dimension="buildCountDimension" dc-group="buildCountDimensionGroup" dc-x="d3.scale.ordinal(buildCountDimension)" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Topic\'" dc-y-axis-label="\'Hours\'" dc-bar-padding="0.1" dc-legend="dc.legend().x(75).y(20).legendWidth(900).horizontal(1).itemWidth(120)" dc-elastic-y="true" dc-post-setup-chart="topicDurationBarChart" class="dc-chart"></div></div><h4>Note:<strong class="note">&nbsp;\'last MB/PI/PM/MR/RE\' - \'first MB/PI/PM/MR/RE\' as MB/PI/PM/MR/RE Duration. if the last MB/PI/PM/MR/RE is not Success/Warning (then may be Fail/Skipped/Exception/Retry/Cancelled). show the time as red.</strong></h4><div class="row"><table dc-chart="dataTable" dc-dimension="patchDimension" dc-group="tableGroup" dc-size="1000" dc-post-setup-chart="tablePostFormat" class="table table-hover dc-data-table table-kernel-general"><thead><tr class="header header-kernel-general"><th>Patch ID</th><th>Cactus BranchName</th><th>FirstBuild SubmitTime</th><th>LastBuild FinishTime</th><th>AllBuilds Duration</th><th>MergeBridge Duration</th><th>Submit Duration</th><th>PreInt Duration</th><th>Submit Duration</th><th>PreMerge Duration</th><th>Submit Duration</th><th>MergeRequest Duration</th><th>Submit Duration</th><th>Release Duration</th><th>Jira ID</th><th>Jira Count</th></tr></thead></table></div></div></div><script>(function kernel_general(){\n\n    var bar_height = $(".header-kernel-general").height();\n    var sroll_header= $(".table-kernel-general").clone().attr(\'id\',\'kernel-general\');\n    if (!$(\'.table-kernel-general\').length) {\n        return;\n    }\n    var Top = $(\'.header-kernel-general\').offset().top\n    $(window).scroll(function(){\n        if ($(document).scrollTop()-700 > Top) {\n\n            var scrollLeft = $(window).scrollLeft();\n                if (!$(\'.table-kernel-general\').length) {\n                    return;\n                }\n            var barOffset = $(\'.table-kernel-general\').offset().left;\n            var bar_left  = (barOffset - scrollLeft) + "px";\n\n            $(\'.table-kernel-general\').append(\'<div id="bar_container"></div>\');\n            $("#bar_container").css({\'width\':\'100%\',\'height\':bar_height,\'position\':\'fixed\',\'top\':\'0\', \'overflow\':\'hidden\', \'left\':bar_left});\n            sroll_header.appendTo(\'#bar_container\');\n            $(\'#bar_container table\').removeClass();\n            $(\'#bar_container table tr th\').css({\'height\': bar_height,\'background-color\':\'#ddd\',\'text-align\':\'left\'})\n\n            $(\'#bar_container tr\').children().each(function (i, n) {\n\n                 $(n).css("width", $(\'.header-kernel-general\').children().eq(i).css(\'width\'));\n\n            });\n\n            $(\'#bar_container\').show();\n\n        }else {\n            $(\'#bar_container\').hide();\n        }\n    });\n\n})();</script>'),e.put("views/mc_campaigns.html",'<div class="container"><div ng-if="nodata"><div class="nodata">sql server returned no data</div></div><div ng-if="!loading"><div class="row"><div class="col-md-3">Filters:<br/><label>Builders</label><p isteven-multi-select="isteven-multi-select" input-model="uiParams.branches" output-model="dropDownBranches" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="filter(uiParams.branches, branchDimension)"></p><label>Builder Types</label><p isteven-multi-select="isteven-multi-select" input-model="uiParams.builders" output-model="dropDownBuilders" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="filter(uiParams.builders, builderDimension)"></p><label>Board Products</label><p isteven-multi-select="isteven-multi-select" input-model="uiParams.boardProducts" output-model="dropDownBoardProducts" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="filter(uiParams.boardProducts, boardproductDimension)"></p><label>Campaign</label><p isteven-multi-select="isteven-multi-select" input-model="uiParams.campaigns" output-model="dropDownCampaigns" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="filter(uiParams.campaigns, campaignDimension)"></p><label>Test Slaves</label><p isteven-multi-select="isteven-multi-select" input-model="uiParams.testslaves" output-model="dropDownTestSlaves" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="filter(uiParams.testslaves, testslaveDimension)"></p><p><a href="javascript:" ng-click="resetAll()">&nbsp;Reset All</a></p></div><div class="col-md-3"><div dc-chart="pieChart" dc-width="400" dc-height="400" dc-radius="100" dc-dimension="resDimension" dc-group="resDimensionGroup" dc-legend="dc.legend().x(0).y(40)" dc-post-setup-chart="resultPieChart" class="dc-chart"></div></div><div class="col-md-3"><div dc-chart="pieChart" dc-width="400" dc-height="400" dc-radius="100" dc-dimension="siteDimension" dc-group="siteDimensionGroup" dc-legend="dc.legend().x(40).y(40)" dc-post-setup-chart="sitePieChart" class="dc-chart"></div></div><div class="col-md-3"><div class="dc-data-count"><a ng-href="{{csvUrl}}"><img src="img/csv.gif"/></a><br/><span class="total-count">&nbsp;# {{all_records}}\n&nbsp;records in db</span><br/><span class="total-count">&nbsp;# {{filter_count}}\n&nbsp;used<i>&nbsp;({{all_filtered_records}}\n&nbsp;not usable)</i></span><br/><span class="filter-count">&nbsp;# {{total_count}}\n&nbsp;currently displayed</span></div></div></div><div class="row"><div dc-chart="barChart" dc-width="1200" dc-height="300" dc-margins="{top:10, right:10, bottom:50, left:50}" dc-dimension="weeklyDimension" dc-x="d3.scale.ordinal(weeklyDimension)" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Date\'" dc-bar-padding="0.1" dc-legend="dc.legend().x(75).y(0)" dc-elastic-y="true" dc-y-axis-label="\'Weekly activity\'" dc-post-setup-chart="resweekBarChart" class="dc-chart"></div></div><div class="row"><div dc-chart="lineChart" dc-width="1200" dc-height="300" dc-margins="{top:10, right:10, bottom:50, left:50}" dc-dimension="dailyDimension" dc-x="d3.scale.ordinal(dailyDimension)" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Date\'" dc-legend="dc.legend().x(75).y(0)" dc-elastic-y="true" dc-render-area="true" dc-y-axis-label="\'Test campaigns duration AVG\'" dc-post-setup-chart="durationLineChart" class="dc-chart"></div></div><div class="row"><div dc-chart="barChart" dc-width="1200" dc-height="300" dc-margins="{top:10, right:10, bottom:50, left:50}" dc-dimension="dailyDimension" dc-x="d3.scale.ordinal(dailyDimension)" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Date\'" dc-bar-padding="0.1" dc-legend="dc.legend().x(75).y(0)" dc-elastic-y="true" dc-y-axis-label="\'Daily activity\'" dc-post-setup-chart="resdayBarChart" class="dc-chart"></div></div><div class="row"><table dc-chart="dataTable" dc-dimension="weeklyDimension" dc-group="tableGroup" dc-size="1000" dc-post-setup-chart="tablePostFormat" class="table table-hover dc-data-table"><thead><tr class="header"><th>Date</th><th>Builder</th><th>Builder Type</th><th>Test Number</th><th>Status</th><th>Duration (min)</th><th>Pending (min)</th><!-- th Execution Rate (%)--><!-- th Pass Rate (%)--><th>Testslave</th><th>BoardProduct</th><th>Campaign</th><th>BugID</th></tr></thead></table></div></div></div>'),
e.put("views/mc_tc_and_campaign.html",'<div class="container"><div ng-if="nodata"><div class="nodata">sql server returned no data</div></div><div ng-if="!loading"><div class="row"><div class="col-md-3">Filters:<p><dc-select dc-dimension="branchDimension" all-label="All Branches"></dc-select></p><p><dc-select dc-dimension="builderDimension" all-label="All Builders"></dc-select></p><p><dc-select dc-dimension="board_productDimension" all-label="All Board Products"></dc-select></p><p><dc-select dc-dimension="campaignDimension" all-label="All Campaigns"></dc-select></p><p><dc-select dc-dimension="testcasesDimension" all-label="All Test Cases"></dc-select></p><p><a href="javascript:" ng-click="resetAll()">&nbsp;Reset All</a></p></div><div class="col-md-3"><div dc-chart="pieChart" dc-width="300" dc-height="250" dc-radius="80" dc-dimension="rootGroupDimension" dc-group="rootGroupDimensionGroup" dc-legend="dc.legend().x(0).y(170)" dc-post-setup-chart="rootPieChart" class="dc-chart"></div></div><div class="col-md-3-centered"><div class="dc-data-count"><a ng-href="{{csvUrl}}"><img src="img/csv.gif"/></a><br/><font color="red"><strong>WARNING:&nbsp;</strong>Data post processing is done<br/>Graphs do not reflect the CSV</font><br/><span class="total-count">&nbsp;# {{all_records}}\n&nbsp;records in db</span><br/><span class="total-count">&nbsp;# {{filter_count}}\n&nbsp;used<i>&nbsp;({{all_filtered_records}}\n&nbsp;not usable)</i></span><br/><span class="filter-count">&nbsp;# {{total_count}}\n&nbsp;currently displayed</span></div></div></div><div class="row"><div dc-chart="barChart" dc-width="1200" dc-height="300" dc-margins="{top:10, right:10, bottom:50, left:50}" dc-dimension="weeklyDimension" dc-x="d3.scale.ordinal(weeklyDimension)" dc-x-units="dc.units.ordinal" dc-bar-padding="0.1" dc-legend="dc.legend().x(75).y(0)" dc-elastic-y="true" dc-y-axis-label="\'Weekly issues\'" dc-post-setup-chart="resweekBarChart" class="dc-chart"></div></div><div class="row"><div dc-chart="barChart" dc-width="1200" dc-height="300" dc-margins="{top:10, right:10, bottom:50, left:50}" dc-dimension="dailyDimension" dc-x="d3.scale.ordinal(dailyDimension)" dc-x-units="dc.units.ordinal" dc-bar-padding="0.1" dc-legend="dc.legend().x(75).y(0)" dc-elastic-y="true" dc-y-axis-label="\'Daily issues\'" dc-post-setup-chart="resdayBarChart" class="dc-chart"></div></div><div class="row"><table dc-chart="dataTable" dc-dimension="weeklyDimension" dc-group="tableGroup" dc-size="1000" dc-post-setup-chart="tablePostFormat" class="table table-hover dc-data-table"><thead><tr class="header"><th>Date</th><th>Builder</th><th>Builder Type</th><th>Build Number</th><th>Test Number</th><th>Campaign</th><th>Board Product</th><th>Testslave</th><th>Test Case Name</th><th>Tries</th><th>Root Cause</th><th>Issue</th></tr></thead></table></div></div></div>'),e.put("views/metabuilds.html",'<div class="container"><div ng-if="nodata"><div class="nodata">sql server returned no data</div></div><div ng-if="!loading"><div class="row"><row><h4><span class="glyphicon glyphicon-filter">&nbsp;Filters:</span></h4></row></div><div class="row"><div class="col-md-3"><br/><label>Cactus Builder:</label><p isteven-multi-select="isteven-multi-select" input-model="uiParams.branches" output-model="dropDownBranch" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="filter(uiParams.branches, branchDimension)"></p></div><div class="col-md-3"><br/><label>COEs:</label><p isteven-multi-select="isteven-multi-select" input-model="uiParams.fts" output-model="dropDownFT" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="filter(uiParams.fts, ftDimension)"></p></div><div class="col-md-3"><br/><label>Sites:</label><p isteven-multi-select="isteven-multi-select" input-model="uiParams.sites" output-model="dropDownSite" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="filter(uiParams.sites, siteDimension)"></p></div><div class="col-md-3"><br/><label>Data Count:</label><a id="dataCount" href="#" ng-click="open_data_count = !open_data_count" onclick="return false;"><p><buttonbtn style="width:200px" class="btn btn-default dropdown-toggle">&nbsp;View&nbsp;<i id="adv_filters_chevron" class="fa fa-chevron-up"></i></buttonbtn></p></a><script>$( "#dataCount" ).click(function() {\n  $( "#adv_filters_chevron" ).toggleClass( "fa-chevron-up fa-chevron-down" );\n});\n</script></div></div><div class="row"><row><h4><span class="glyphicon glyphicon-stats">&nbsp;Views:</span></h4></row></div><div class="row"><div class="col-md-4"><div dc-chart="pieChart" dc-width="380" dc-height="200" dc-radius="100" dc-cx="200" dc-yx="90" dc-dimension="resDimension" dc-group="resDimensionGroup" dc-legend="dc.legend().x(0).y(50)" dc-post-setup-chart="resultPieChart" class="dc-chart"></div></div><div class="col-md-4"><div dc-chart="pieChart" dc-width="380" dc-height="200" dc-radius="100" dc-cx="260" dc-yx="90" dc-dimension="issueCauseDimension" dc-group="issueCauseDimensionGroup" dc-legend="dc.legend().x(0).y(50)" dc-post-setup-chart="issueCausePieChart" class="dc-chart"></div></div><div ng-show="open_data_count" class="col-md-4 pull-right"><div class="dc-data-count pull-right"><a ng-href="{{csvUrl}}"><img src="img/csv.gif"/></a>&nbsp;&nbsp;&nbsp;<a ng-href="{{sqlUrl}}" target="_blank"><img src="img/sql.png"/></a>&nbsp;&nbsp;&nbsp;<br/><span class="total-count">&nbsp;# {{all_records}}\n&nbsp;records in db</span><br/><span class="total-count">&nbsp;# {{total_count}}\n&nbsp;used<i>&nbsp;({{all_filtered_records}}\n&nbsp;not usable)</i></span><br/><span class="filter-count">&nbsp;# {{filter_count}}\n&nbsp;currently displayed</span></div></div></div><div class="row"><center><strong>Builder duration AVG per Week</strong></center><div dc-chart="lineChart" dc-width="990" dc-height="300" dc-margins="{top:50, right:10, bottom:50, left:50}" dc-dimension="weeklyDimension" dc-x="d3.scale.ordinal(weeklyDimension)" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Work Week (Year.WW)\'" dc-legend="dc.legend().x(75).y(20).legendWidth(900).horizontal(1).itemWidth(250)" dc-elastic-y="true" dc-render-area="true" dc-post-setup-chart="durationLineChart" class="dc-chart"></div></div><div class="row"><center><strong>Number of {{builder_name}} per Week</strong></center><div dc-chart="barChart" dc-width="990" dc-height="400" dc-margins="{top:100, right:10, bottom:50, left:50}" dc-dimension="weeklyDimension" dc-x="d3.scale.ordinal(weeklyDimension)" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Work Week (Year.WW)\'" dc-bar-padding="0.1" dc-legend="dc.legend().x(75).y(30).legendWidth(900).horizontal(1).itemWidth(220)" dc-elastic-y="true" dc-hidable-stacks="true" dc-post-setup-chart="resBarChart" class="dc-chart"></div></div><div class="row"><center><strong>Daily activity</strong></center><div dc-chart="barChart" dc-width="990" dc-height="250" dc-margins="{top:10, right:10, bottom:50, left:50}" dc-dimension="dailyDimension" dc-group="dailyDimensionGroup" dc-x="d3.time.scale().domain([min,max])" dc-round="d3.time.day" dc-elastic-y="true" class="dc-chart"></div></div><div class="row"><a href="javascript:" ng-click="resetAll()">&nbsp;Reset All</a></div><div class="row"><table dc-chart="dataTable" dc-dimension="weeklyDimension" dc-group="tableGroup" dc-size="1000" dc-post-setup-chart="tablePostFormat" class="table table-hover dc-data-table"><thead><tr class="header"><th>Time</th><th>Build Number</th><th>Cactus Branch</th><th>Feature Team</th><th>Maintainer</th><th>Result</th><th>Issue Cause</th><th>Step Name</th><th>Wait Time</th><th>Duration</th></tr></thead></table></div></div></div>'),e.put("views/metabuildsMR.html",'<div class="container"><div ng-if="nodata"><div class="nodata">sql server returned no data</div></div><div ng-if="!loading"><div class="row"><div class="col-md-4"><label>From:</label><p class="input-group"><input type="text" datepicker-popup="{{date_picker.format}}" ng-model="date_picker.dateHandler.fromDate" is-open="date_picker.datepicker.opened" datepicker-options="date_picker.dateOptions" max-date="date_picker.maxDate" ng-required="true" clear="clear" clear-text="Default" close-text="Close" close-on-date-selection="false" starting-day="0" class="form-control"/><span class="input-group-btn"><button type="button" ng-click="date_picker.open($event)" class="btn btn-default"><i class="glyphicon glyphicon-calendar"></i></button></span></p></div><div class="col-md-4"><label>To:</label><p class="input-group"><input type="text" datepicker-popup="{{date_picker.format}}" ng-model="date_picker.dateHandler.toDate" is-open="date_picker.datepicker.opened" datepicker-options="date_picker.dateOptions" min-date="date_picker.dateHandler.fromDate" max-date="date_picker.maxDate" ng-required="true" clear-text="Default" close-text="Close" close-on-date-selection="false" starting-day="0" class="form-control"/><span class="input-group-btn"><button type="button" ng-click="date_picker.open($event)" class="btn btn-default"><i class="glyphicon glyphicon-calendar"></i></button></span></p></div><div class="col-md-3"><div class="dc-data-count"><a ng-href="{{csvUrl}}"><img src="img/csv.gif"/></a><br/><span class="total-count">&nbsp;# {{all_records}}\n&nbsp;records in db</span><br/><span class="total-count">&nbsp;# {{filter_count}}\n&nbsp;used<i>&nbsp;({{all_filtered_records}}\n&nbsp;not usable)</i></span><br/><span class="filter-count">&nbsp;# {{total_count}}\n&nbsp;currently displayed</span></div></div></div><div class="row"><div class="col-md-3">Filters:<br/><label>COEs</label><p isteven-multi-select="isteven-multi-select" input-model="uiParams.fts" output-model="dropDownFT" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="filter(uiParams.fts, ftDimension)"></p><label>Branches</label><p isteven-multi-select="isteven-multi-select" input-model="uiParams.branches" output-model="dropDownBranch" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="filter(uiParams.branches, branchDimension)"></p><label>Sites</label><p isteven-multi-select="isteven-multi-select" input-model="uiParams.sites" output-model="dropDownSite" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="filter(uiParams.sites, siteDimension)"></p><a href="javascript:" ng-click="resetAll()">&nbsp;Reset All</a></div><div class="col-md-4"><div dc-chart="pieChart" dc-width="350" dc-height="200" dc-radius="80" dc-cx="220" dc-yx="90" dc-dimension="resDimension" dc-group="resDimensionGroup" dc-legend="dc.legend().x(0).y(0)" dc-post-setup-chart="resultPieChart" class="dc-chart"></div></div><div class="col-md-4"><div dc-chart="pieChart" dc-width="350" dc-height="200" dc-radius="80" dc-cx="220" dc-yx="90" dc-dimension="issueCauseDimension" dc-group="issueCauseDimensionGroup" dc-legend="dc.legend().x(0).y(0)" dc-post-setup-chart="issueCausePieChart" class="dc-chart"></div></div></div><div class="row"><div dc-chart="barChart" dc-width="990" dc-height="300" dc-margins="{top:50, right:10, bottom:50, left:50}" dc-dimension="weeklyDimension" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Work Week (Year.WW)\'" dc-bar-padding="0.1" dc-legend="dc.legend().x(75).y(0).legendWidth(900).horizontal(1).itemWidth(150)" dc-elastic-y="true" dc-y-axis-label="\'Number of {{builder_name}} per Week\'" dc-post-setup-chart="resBarChart" class="dc-chart"></div></div><div class="row"><div dc-chart="lineChart" dc-chart-id="\'Graph1\'" dc-width="990" dc-height="300" dc-margins="{top:30, right:10, bottom:50, left:50}" dc-dimension="durationDimension" dc-x-axis-label="\'Work Week (Year.WW)\'" dc-legend="dc.legend().x(75).y(0)" dc-round="d3.time.week" dc-elastic-y="true" dc-render-area="true" dc-brush-on="false" dc-y-axis-label="\'Builder duration AVG per Week\'" dc-post-setup-chart="durationLineChart" class="dc-chart"></div></div><div class="row"><div dc-chart="seriesChart" dc-width="990" dc-height="300" dc-dimension="countBranchDimension" dc-x-axis-label="\'Date\'" dc-y-axis-label="\'Count\'" dc-round="d3.time.day" dc-elastic-y="true" dc-margins="{top:50, right:10, bottom:50, left:50}" dc-legend="dc.legend().x(75).y(0).legendWidth(900).horizontal(1).itemWidth(150)" dc-brush-on="false" dc-post-setup-chart="postCountLineChart" class="dc-chart"></div></div><div class="row"><div dc-chart="boxPlot" dc-width="990" dc-height="600" dc-margins="{top:50, right:10, bottom:50, left:50}" dc-dimension="weeklyDimensionBoxPlot" dc-group="buildPendingGroup" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Date\'" dc-brush-on="false" dc-legend="dc.legend().x(75).y(0).legendWidth(900).horizontal(1).itemWidth(150)" dc-elastic-y="true" dc-y-axis-label="\'Daily activity\'" class="dc-chart"></div></div><div class="row"><div dc-chart="barChart" dc-width="990" dc-height="300" dc-margins="{top:50, right:10, bottom:50, left:50}" dc-dimension="dailyDimension" dc-x-axis-label="\'Date\'" dc-x-units="d3.time.days" dc-round="d3.time.day.round" dc-brush-on="false" dc-legend="dc.legend().x(75).y(0).legendWidth(900).horizontal(1).itemWidth(150)" dc-elastic-y="true" dc-y-axis-label="\'Daily activity\'" dc-post-setup-chart="postDailyBarChart" class="dc-chart"></div></div><div class="row"><table dc-chart="dataTable" dc-dimension="weeklyDimension" dc-group="tableGroup" dc-size="1000" dc-post-setup-chart="tablePostFormat" class="table table-hover dc-data-table"><thead><tr class="header"><th>Build Number</th><th>Date</th><th>Branch</th><th>Feature Team</th><th>Maintainer</th><th>Result</th><th>Issue Cause</th><th>Step Name</th><th>Wait Time</th><th>Duration</th></tr></thead></table></div></div></div>'),e.put("views/microbuilds.html",'<div class="container"><div ng-if="nodata"><div class="nodata">sql server returned no data</div></div><div ng-if="!loading"><div class="row"><div class="col-md-3">Filters:<label>Cactus Branch</label><p isteven-multi-select="isteven-multi-select" input-model="uiParams.parents" output-model="dropDownParents" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="filter(uiParams.parents, parentDimension)"></p><label>Branch</label><p isteven-multi-select="isteven-multi-select" input-model="uiParams.branches" output-model="dropDownBranch" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="filter(uiParams.branches, branchDimension)"></p><label>Meta Builder Type</label><p isteven-multi-select="isteven-multi-select" input-model="uiParams.builders" output-model="dropDownBuilder" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="filter(uiParams.builders, builderDimension)"></p><label>Target</label><p isteven-multi-select="isteven-multi-select" input-model="uiParams.targets" output-model="dropDownTarget" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="filter(uiParams.targets, targetDimension)"></p><label>Device</label><p isteven-multi-select="isteven-multi-select" input-model="uiParams.filters" output-model="dropDownFilter" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="filter(uiParams.filters, filterDimension)"></p><p><a href="javascript:" ng-click="resetAll()">Reset All</a></p></div><div class="col-md-3"><div dc-chart="pieChart" dc-dimension="siteDimension" dc-group="siteDimensionGroup" dc-width="250" dc-height="200" dc-radius="80" dc-cx="120" dc-legend="dc.legend().x(0).y(0)" dc-ordinal-colors="metricsService.siteColors" dc-post-setup-chart="postSetupPieChart" class="dc-chart"></div></div><div class="col-md-3"><div dc-chart="pieChart" dc-dimension="resDimension" dc-group="resDimensionGroup" dc-width="250" dc-height="200" dc-radius="80" dc-cx="120" dc-legend="dc.legend().x(0).y(0)" dc-colors="metricsService.ordinalResultColors()" dc-post-setup-chart="postSetupPieChart" class="dc-chart"></div></div><div class="col-md-3-centered"><div class="dc-data-count"><a ng-href="{{csvUrl}}"><img src="img/csv.gif"/></a>&nbsp;&nbsp;&nbsp;<a ng-href="{{sqlUrl}}" target="_blank"><img src="img/sql.png"/></a><br/><span class="total-count">&nbsp;# {{all_records}}\n&nbsp;records in db</span><br/><span class="total-count">&nbsp;# {{filter_count}}\n&nbsp;used<i>&nbsp;({{all_filtered_records}}\n&nbsp;not usable)</i></span><br/><span class="filter-count">&nbsp;# {{total_count}}\n&nbsp;currently displayed</span></div></div></div><div class="row"><div dc-chart="seriesChart" dc-width="900" dc-height="250" dc-dimension="durationDimension" dc-group="durationDimensionGroup" dc-x="d3.scale.ordinal(durationDimension)" dc-x-units="dc.units.ordinal" dc-brush-on="false" dc-child-options="{ renderDataPoints: {radius: 2, fillOpacity: 0.8, strokeOpacity: 0.8} }" dc-x-axis-label="\'Work Week (Year.WW)\'" dc-y-axis-label="\'Build Duration AVG (min)\'" dc-elastic-y="true" dc-post-setup-chart="postSetupSeriesChartDuration" dc-margins="{top:10, right:10, bottom:60, left:50}" dc-legend="dc.legend().x(850).y(10)" dc-render-horizontal-grid-lines="true" class="dc-chart"></div></div><div class="row"><div dc-chart="seriesChart" dc-width="900" dc-height="250" dc-dimension="durationDimension" dc-group="durationDimensionGroup" dc-x="d3.scale.ordinal(durationDimension)" dc-x-units="dc.units.ordinal" dc-brush-on="false" dc-child-options="{ renderDataPoints: {radius: 2, fillOpacity: 0.8, strokeOpacity: 0.8} }" dc-x-axis-label="\'Work Week (Year.WW)\'" dc-y-axis-label="\'Pending Queue AVG (min)\'" dc-elastic-y="true" dc-post-setup-chart="postSetupSeriesChartPendingQueue" dc-margins="{top:10, right:10, bottom:60, left:50}" dc-legend="dc.legend().x(850).y(10)" dc-render-horizontal-grid-lines="true" class="dc-chart"></div></div><div class="row"><div dc-chart="barChart" dc-dimension="numBuildsDimension" dc-x="d3.scale.ordinal(numBuildsDimension)" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Work Week (Year.WW)\'" dc-legend="dc.legend().x(75).y(0)" dc-elastic-y="true" dc-width="900" dc-height="250" dc-bar-padding="0.1" dc-colors="metricsService.ordinalResultColors()" dc-y-axis-label="\'# micro build per Week\'" dc-margins="{top:10, right:10, bottom:60, left:50}" dc-post-setup-chart="postSetupBarChart" dc-render-horizontal-grid-lines="true" class="dc-chart"></div></div><div class="row"><table dc-chart="dataTable" dc-dimension="numBuildsDimension" dc-group="tableGroup" dc-size="1000" dc-post-setup-chart="tablePostFormat" class="table table-hover dc-data-table"><thead><tr class="header"><th>Date</th><th>Site</th><th>Slave Name</th><th>Meta Build Number</th><th>Builder Type</th><th>Build Number</th><th>Cactus Branch</th><th>Target</th><th>Result</th><th>Pending Queue (min)</th><th>Duration (min)</th></tr></thead></table></div></div></div>'),e.put("views/monitor_testslave_per_testcase.html",'<div class="container"><div ng-if="nodata"><div class="nodata">sql server returned no data</div></div><div ng-if="!loading"><table class="col-md-12"><tr ng-repeat="bp in graphs"><td style="border:1px dashed #ccc" class="col-md-12"><div style="margin-top:20px" class="row"><h3 style="color:#003366" class="col-md-4 col-md-offset-4">{{bp.board_product_name}}</h3></div><hr/><div style="margin-top:20px" class="row"><div class="col-md-4 col-md-offset-2"><label>Branches:<p isteven-multi-select="isteven-multi-select" input-model="bp.ui_params.branches" output-model="bp.drop_down_branch" button-label="name" item-label="name" tick-property="ticked" max-width="1000px" max-height="250px" max-labels="1" on-close="filter(bp.ui_params.branches, bp.branch_dimension)"></p></label></div><div class="col-md-4"><label>Test cases:<p isteven-multi-select="isteven-multi-select" input-model="bp.ui_params.tcs" output-model="bp.drop_down_testcase" button-label="name" item-label="name" tick-property="ticked" max-width="1000px" max-height="250px" max-labels="1" on-close="filter(bp.ui_params.tcs, bp.testcase_dimension)"></p></label></div></div><hr/><div class="row"><div dc-chart="seriesChart" dc-width="1000" dc-height="500" dc-dimension="bp.duration_dimension" dc-group="bp.duration_dimension_grp" dc-x="d3.scale.ordinal(bp.duration_dimension)" dc-x-units="dc.units.ordinal" dc-x-axis-label="bp.xlabel" dc-y-axis-label="\'Test Duration AVG (avg)\'" dc-y-axis-padding="\'10%\'" dc-elastic-y="true" dc-post-setup-chart="postSetupSeriesChartDuration" dc-margins="{top:100, right:10, bottom:80, left:50}" dc-legend="dc.legend().x(850).y(10)" dc-render-horizontal-grid-lines="true" class="dc-chart"></div></div></td></tr></table></div></div>'),e.put("views/patch_Detail.html",'<div class="container"><div ng-show="nodata"><div class="nodata">sql server returned no data</div></div><div ng-if="!loading"><div class="row"><div class="col-md-6"><h2>Patch Detail</h2></div></div><div class="row"><div class="row"><h4><span class="glyphicon glyphicon-filter">&nbsp;Filters:</span></h4></div><div class="col-md-3 pull-left">Builder Name:<p><dc-select dc-dimension="builderNameDimension" all-label="All Builder Names"></dc-select></p></div><div class="row"><div class="row"><div class="col-md-3 pull-right"><div class="dc-data-count"><a ng-href="{{csvUrl}}"><img src="img/csv.gif"/></a>&nbsp;&nbsp;&nbsp;<a ng-href="{{sqlUrl}}" target="_blank"><img src="img/sql.png"/></a><br/><span class="total-count">&nbsp;# {{all_records}}\n&nbsp;records in db</span><br/><span class="total-count">&nbsp;# {{filter_count}}\n&nbsp;used<i>&nbsp;({{all_filtered_records}}\n&nbsp;not usable)</i></span><br/><span class="filter-count">&nbsp;# {{total_count}}\n&nbsp;currently displayed</span></div></div></div></div></div><div class="row"><table dc-chart="dataTable" dc-dimension="patchDimension" dc-group="tableGroup" dc-size="1000" dc-post-setup-chart="tablePostFormat" class="table table-hover dc-data-table"><thead><tr class="header"><th>PatchID</th><th>Builder Name</th><th>PatchDate</th><th>Builder Build Number</th><th>Result</th><th>Step</th><th>Issue Summary</th><th>Failure Category</th></tr></thead></table></div></div></div>'),e.put("views/patch_failure_trend.html",'<div class="container"><div ng-show="nodata"><div class="nodata">sql server returned no data</div></div><div ng-if="!loading"><div class="row"><div class="col-md-6"><h2>Patch Failure Trend</h2></div><div class="col-md-6 pull-right"><div class="dc-data-count"><a ng-href="{{csvUrl}}"><img src="img/csv.gif"/></a>&nbsp;&nbsp;&nbsp;<a ng-href="{{sqlUrl}}" target="_blank"><img src="img/sql.png"/></a><br/><span class="total-count">&nbsp;# {{all_records}}\n&nbsp;records in db</span><br/><span class="total-count">&nbsp;# {{filter_count}}\n&nbsp;used<i>&nbsp;({{all_filtered_records}}\n&nbsp;not usable)</i></span><br/><span class="filter-count">&nbsp;# {{total_count}}\n&nbsp;currently displayed</span></div></div></div><div class="row"><div class="row"><h4><span class="glyphicon glyphicon-filter">&nbsp;Filters:</span></h4></div></div><div class="row"><div class="col-md-3"><br/><label>Cactus Branches:</label><br/><p isteven-multi-select="isteven-multi-select" input-model="uiParams.CactusBranches" output-model="dropDownCactusBranches" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="filter(uiParams.CactusBranches, CactusBranchesDimensionList)"></p></div><div class="col-md-3"><br/><label>Git Projects:</label><br/><p><dc-select dc-dimension="GitProjectDimension" all-label="All GitProjects"></dc-select></p></div><div class="col-md-3"><br/><label>Git Branches:</label><br/><p><dc-select dc-dimension="GitBranchDimension" all-label="All GitBranchs"></dc-select></p></div><div class="col-md-3"><br/><label>Domains:</label><br/><p><dc-select dc-dimension="DomainNameDimension" all-label="All Domain Names"></dc-select></p></div></div><div class="row"><div class="col-md-4 col-md-offset-4"><a id="advancedFilters" href="#" ng-click="open_advanced_filters = !open_advanced_filters" onclick="return false;">&nbsp;Advanced Filters&nbsp;</a><i id="adv_filters_chevron" class="glyphicon glyphicon-chevron-up"></i></div></div><panel ng-show="open_advanced_filters"><div class="row"><div class="col-md-3"><br/><label>Owners:</label><br/><p><dc-select dc-dimension="OwnerDimension" all-label="All Owners"></dc-select></p></div><div class="col-md-3"><br/><label>Work Weeks:</label><br/><p><dc-select dc-dimension="WorkWeekDimension" all-label="All WorkWeeks"></dc-select></p></div><div class="col-md-3"><br/><label>Work Months:</label><br/><p><dc-select dc-dimension="WorkMonthDimension" all-label="All WorkMonths"></dc-select></p></div><div class="col-md-3"><br/><label>Work Quarters:</label><br/><p><dc-select dc-dimension="WorkQuarterDimension" all-label="All WorkQuarters"></dc-select></p></div></div></panel><div class="row"><h4><span class="glyphicon glyphicon-stats">&nbsp;Views:</span></h4><div class="row"><center><strong>Patch Failure Trend per Week</strong></center><div dc-chart="compositeChart" dc-width="1300" dc-height="450" dc-margins="{top:70, right:10, bottom:50, left:50}" dc-dimension="linesweekDimension" dc-group="CR_1_linesweekDimensionGroup" dc-x="d3.scale.ordinal(linesweekDimension)" dc-x-units="dc.units.ordinal" dc-y-axis-label="\'%\'" dc-x-axis-label="\'Work Week (Year.WW)\'" dc-elastic-y="true" dc-brush-on="false" dc-render-horizontal-grid-lines="true" dc-share-title="false" dc-legend="dc.legend().x(75).y(30).legendWidth(900).horizontal(1).itemWidth(120)" dc-post-setup-chart="compositeweekChartOptions" class="dc-chart"></div></div><div class="row"><center><strong>Patch Failure Trend per Month</strong></center><div dc-chart="compositeChart" dc-width="1300" dc-height="450" dc-margins="{top:70, right:10, bottom:50, left:50}" dc-dimension="linesmonthDimension" dc-group="CR_1_linesmonthDimensionGroup" dc-x="d3.scale.ordinal(linesmonthDimension)" dc-x-units="dc.units.ordinal" dc-y-axis-label="\'%\'" dc-x-axis-label="\'Work Month (Year.WM)\'" dc-elastic-y="true" dc-brush-on="false" dc-render-horizontal-grid-lines="true" dc-share-title="false" dc-legend="dc.legend().x(75).y(30).legendWidth(900).horizontal(1).itemWidth(120)" dc-post-setup-chart="compositemonthChartOptions" class="dc-chart"></div></div><div class="row"><center><strong>Patch Failure Trend per quarter</strong></center><div dc-chart="compositeChart" dc-width="1300" dc-height="450" dc-margins="{top:70, right:10, bottom:50, left:50}" dc-dimension="linesquarterDimension" dc-group="CR_1_linesquarterDimensionGroup" dc-x="d3.scale.ordinal(linesquarterDimension)" dc-x-units="dc.units.ordinal" dc-y-axis-label="\'%\'" dc-x-axis-label="\'Work quarter (Year.WQ)\'" dc-elastic-y="true" dc-brush-on="false" dc-render-horizontal-grid-lines="true" dc-share-title="false" dc-legend="dc.legend().x(75).y(30).legendWidth(900).horizontal(1).itemWidth(120)" dc-post-setup-chart="compositequarterChartOptions" class="dc-chart"></div></div></div><div class="row"><table dc-chart="dataTable" dc-dimension="patchDimension" dc-group="tableGroup" dc-size="1000" dc-post-setup-chart="tablePostFormat" class="table table-hover dc-data-table table-patch_metrics"><thead><tr class="header header-patch_metrics"><th>PatchID</th><th>Owner</th><th>Domain</th><th>PatchDate</th><th>nb_cr_minus1</th><th>nb_cr_minus2</th><th>nb_v_minus1</th></tr></thead></table></div></div></div><script>(function patch_metrics(){\n\n    var bar_height = $(".header-patch_metrics").height();\n    var sroll_header= $(".table-patch_metrics").clone().attr(\'id\',\'patch_metrics\');\n    if (!$(\'.table-patch_metrics\').length) {\n        return;\n    }\n    var Top = $(\'.header-patch_metrics\').offset().top\n    $(window).scroll(function(){\n        if ($(document).scrollTop()-1400 > Top) {\n\n            var scrollLeft = $(window).scrollLeft();\n                if (!$(\'.table-patch_metrics\').length) {\n                    return;\n                }\n            var barOffset = $(\'.table-patch_metrics\').offset().left;\n            var bar_left  = (barOffset - scrollLeft) + "px";\n\n            $(\'.table-patch_metrics\').append(\'<div id="bar_container"></div>\');\n            $("#bar_container").css({\'width\':\'100%\',\'height\':bar_height,\'position\':\'fixed\',\'top\':\'0\', \'overflow\':\'hidden\', \'left\':bar_left});\n            sroll_header.appendTo(\'#bar_container\');\n            $(\'#bar_container table\').removeClass();\n            $(\'#bar_container table tr th\').css({\'height\': bar_height,\'background-color\':\'#ddd\',\'text-align\':\'left\'})\n\n            $(\'#bar_container tr\').children().each(function (i, n) {\n\n                 $(n).css("width", $(\'.header-patch_metrics\').children().eq(i).css(\'width\'));\n\n            });\n\n            $(\'#bar_container\').show();\n\n        }else {\n            $(\'#bar_container\').hide();\n        }\n    });\n\n})();</script>'),e.put("views/patch_lifecycle.html",'<div class="container"><div ng-if="nodata"><div class="nodata">sql server returned no data</div></div><div ng-if="!loading"><div class="row"><div class="col-md-6 pull-left"><h2>Patch Life Cycle Dashboard</h2></div><div class="col-md-6 pull-right"><div class="dc-data-count pull-right"><a ng-href="{{csvUrl}}"><img src="img/csv.gif" width="40px" height="40px"/></a>&nbsp;&nbsp;&nbsp;<a ng-href="{{sqlUrl}}" target="_blank"><img src="img/sql.png" width="40px" height="40px"/></a>&nbsp;&nbsp;&nbsp;<a ng-href="img/patch_life_cycle_workflow.png" target="_blank"><img src="img/workflow.png" width="40px" height="40px"/></a><br/><span class="total-count">&nbsp;# {{all_records}}\n&nbsp;records in db</span><br/><span class="total-count">&nbsp;# {{total_count}}\n&nbsp;used<i>&nbsp;({{all_filtered_records}}\n&nbsp;not usable)</i></span><br/><span class="filter-count">&nbsp;# {{filter_count}}\n&nbsp;currently displayed</span></div></div></div><h4><span class="glyphicon glyphicon-filter">&nbsp;Filters:</span></h4><div class="row"><div class="col-md-3"><br/><label>Cactus Branches</label><br/><font isteven-multi-select="isteven-multi-select" input-model="uiParams.builders" output-model="dropDownBuilder" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" width="200px" on-close="set_cactusbranch(true)" on-item-click="dropDownItemClick(data, \'builders\')" on-select-all="dropDownItemClick(undefined, \'builders\')" on-reset="dropDownItemClick(undefined, \'builders\')" on-select-none="dropDownItemClick(undefined, \'builders\')"></font></div><div class="col-md-3"><br/><label>Git Projects&nbsp;</label><br/><font isteven-multi-select="isteven-multi-select" input-model="uiParams.projects" output-model="dropDownGitProject" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="set_gitproject(true)" on-item-click="dropDownItemClick(data, \'projects\')" on-select-all="dropDownItemClick(undefined, \'projects\')" on-reset="dropDownItemClick(undefined, \'projects\')" on-select-none="dropDownItemClick(undefined, \'projects\')"></font></div><div class="col-md-3"><br/><label>Git Branches&nbsp;</label><br/><font isteven-multi-select="isteven-multi-select" input-model="uiParams.branches" output-model="dropDownBranch" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="set_gitbranch(true)" on-item-click="dropDownItemClick(data, \'branches\')" on-select-all="dropDownItemClick(undefined, \'branches\')" on-reset="dropDownItemClick(undefined, \'branches\')" on-select-none="dropDownItemClick(undefined, \'branches\')"></font></div><div class="col-md-3"><br/><label>Domains&nbsp;</label><br/><font isteven-multi-select="isteven-multi-select" input-model="uiParams.domains" output-model="dropDownDomain" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="set_domain(true)" on-item-click="dropDownItemClick(data, \'domains\')" on-select-all="dropDownItemClick(undefined, \'domains\')" on-reset="dropDownItemClick(undefined, \'domains\')" on-select-none="dropDownItemClick(undefined, \'domains\')"></font></div></div><div class="row"><div class="col-md-4 col-md-offset-4"><a id="advancedFilters" href="#" ng-click="open_advanced_filters = !open_advanced_filters" onclick="return false;">&nbsp;Advanced Filters&nbsp;</a><i id="adv_filters_chevron" class="glyphicon glyphicon-chevron-up"></i><script>$( "#advancedFilters" ).click(function() {\n  $( "#adv_filters_chevron" ).toggleClass( "glyphicon-chevron-up glyphicon-chevron-down" );\n});</script></div></div><panel ng-show="open_advanced_filters"><div class="row"><div class="col-md-3"><br/><label>Platforms / Programs&nbsp;</label><br/><font isteven-multi-select="isteven-multi-select" input-model="uiParams.platforms" output-model="dropDownBugPlatforms" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="set_bugplatform(true)" on-item-click="dropDownItemClick(data, \'platforms\')" on-select-all="dropDownItemClick(undefined, \'platforms\')" on-reset="dropDownItemClick(undefined, \'platforms\')" on-select-none="dropDownItemClick(undefined, \'platforms\')"></font></div><div class="col-md-3"><br/><label>Bug Components&nbsp;</label><br/><font isteven-multi-select="isteven-multi-select" input-model="uiParams.components" output-model="dropDownComponent" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="set_bugcomponent(true)" on-item-click="dropDownItemClick(data, \'components\')" on-select-all="dropDownItemClick(undefined, \'components\')" on-reset="dropDownItemClick(undefined, \'components\')" on-select-none="dropDownItemClick(undefined, \'components\')"></font></div><div class="col-md-3"><br/><label>Bug Types&nbsp;</label><br/><font id="bugTypeFilter" isteven-multi-select="isteven-multi-select" input-model="uiParams.types" output-model="dropDownBugType" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="set_bugtype(true)" on-item-click="dropDownItemClick(data, \'types\')" on-select-all="dropDownItemClick(undefined, \'types\')" on-reset="dropDownItemClick(undefined, \'types\')" on-select-none="dropDownItemClick(undefined, \'types\')"></font></div><div class="col-md-3"><br/><label>Bug Priorities&nbsp;</label><br/><font isteven-multi-select="isteven-multi-select" input-model="uiParams.priorities" output-model="dropDownBugPriority" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="filter(uiParams.priorities, bugPriorityDimensionList)"></font></div></div></panel><br/><a href="javascript:" ng-click="resetAll()">&nbsp;Reset All</a><br/><br/><div class="row"><div class="col-md-1"><h4><span class="glyphicon glyphicon-stats">&nbsp;Views:</span></h4></div><div class="col-md-11"><div id="views" class="ul nav nav-pills"><li role="presentation" ng-click="switchView(\'showweeks\')" onclick="return false;" class="active"><a href="#">Weeks</a></li><li role="presentation" ng-click="switchView(\'showcactusbranches\')" onclick="return false;"><a href="#">Cactus Branches</a></li><li role="presentation" ng-click="switchView(\'showgitbranches\')" onclick="return false;"><a href="#">Git Branches</a></li><li role="presentation" ng-click="switchView(\'showdomains\')" onclick="return false;"><a href="#">Patch Domains</a></li><li role="presentation" ng-click="switchView(\'showplatform\')" onclick="return false;"><a href="#">Programs/Platforms</a></li><li role="presentation" ng-click="switchView(\'showtypes\')" onclick="return false;"><a href="#">Bug Types</a></li><li role="presentation" ng-click="switchView(\'showcomponents\')" onclick="return false;"><a href="#">Bug Components</a></li><li role="presentation" ng-click="switchView(\'showpriorities\')" onclick="return false;"><a href="#">Bug Priorities</a></li></div></div></div><script>$("#views.nav.nav-pills li").on("click",function(){\n  $(".nav.nav-pills li").removeClass("active");\n  $(this).addClass("active");\n  });</script><div id="cactusbranches" ng-show="viewsBooleans.showcactusbranches" class="panel"><div class="row"><h4>Patch Cycle Chart / Cactus Branch</h4><div dc-chart="barChart" dc-width="990" dc-height="470" dc-margins="{top:10, right:10, bottom:120, left:50}" dc-dimension="builderDimension" dc-x="d3.scale.ordinal(builderChartFilteredDimensionGroup)" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Cactus Branch\'" dc-round="dc.round.floor" dc-legend="dc.legend().x(75).y(0).itemWidth(140).horizontal(true)" dc-elastic-y="true" dc-elastic-x="true" dc-always-use-rounding="true" dc-y-axis-padding="\'10%\'" dc-y-axis-label="\'Hours\'" dc-render-horizontal-grid-lines="true" dc-hidable-stacks="true" dc-post-setup-chart="builderChartConfigure" class="dc-chart"></div></div><div class="row"><h4>Number of Patches / Cactus Branch</h4><div dc-chart="barChart" dc-width="990" dc-height="370" dc-margins="{top:10, right:10, bottom:120, left:50}" dc-dimension="builderDimension" dc-group="builderChartFilteredDimensionGroup" dc-x="d3.scale.ordinal(builderChartFilteredDimensionGroup)" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Cactus Branch\'" dc-round="dc.round.floor" dc-elastic-y="true" dc-elastic-x="true" dc-always-use-rounding="true" dc-y-axis-padding="\'10%\'" dc-y-axis-label="\'Number of Patches\'" dc-render-horizontal-grid-lines="true" dc-post-setup-chart="builderNbPatchBarChartSetup" class="dc-chart"></div></div></div><div id="gitbranches" ng-show="viewsBooleans.showgitbranches" class="panel"><div class="row"><h4>Patch Cycle Chart / Git Branch</h4><div dc-chart="barChart" dc-width="990" dc-height="550" dc-margins="{top:10, right:10, bottom:200, left:50}" dc-dimension="branchDimension" dc-x="d3.scale.ordinal(gitBranchChartFilteredDimensionGroup)" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Git Branch\'" dc-round="dc.round.floor" dc-legend="dc.legend().x(75).y(0).itemWidth(140).horizontal(true)" dc-elastic-y="true" dc-elastic-x="true" dc-always-use-rounding="true" dc-y-axis-padding="\'10%\'" dc-y-axis-label="\'Hours\'" dc-render-horizontal-grid-lines="true" dc-hidable-stacks="true" dc-post-setup-chart="gitBranchChartConfigure" class="dc-chart"></div></div><div class="row"><h4>Number of Patches / Git Branch</h4><div dc-chart="barChart" dc-width="990" dc-height="450" dc-margins="{top:10, right:10, bottom:200, left:50}" dc-dimension="branchDimension" dc-group="gitBranchChartFilteredDimensionGroup" dc-x="d3.scale.ordinal(gitBranchChartFilteredDimensionGroup)" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Git Branch\'" dc-round="dc.round.floor" dc-elastic-y="true" dc-elastic-x="true" dc-always-use-rounding="true" dc-y-axis-padding="\'10%\'" dc-y-axis-label="\'Number of Patches\'" dc-render-horizontal-grid-lines="true" dc-post-setup-chart="gitBranchNbPatchBarChartSetup" class="dc-chart"></div></div></div><div id="domains" ng-show="viewsBooleans.showdomains" class="panel"><div class="row"><h4>Patch Cycle Chart / Patch Domain</h4><div dc-chart="barChart" dc-width="990" dc-height="470" dc-margins="{top:10, right:10, bottom:120, left:50}" dc-dimension="domainDimension" dc-x="d3.scale.ordinal(domainChartFilteredDimensionGroup)" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Patch Domain\'" dc-round="dc.round.floor" dc-legend="dc.legend().x(75).y(0).itemWidth(140).horizontal(true)" dc-elastic-y="true" dc-elastic-x="true" dc-always-use-rounding="true" dc-y-axis-padding="\'10%\'" dc-y-axis-label="\'Hours\'" dc-render-horizontal-grid-lines="true" dc-hidable-stacks="true" dc-post-setup-chart="domainChartConfigure" class="dc-chart"></div></div><div class="row"><h4>Number of Patches / Patch Domain</h4><div dc-chart="barChart" dc-width="990" dc-height="370" dc-margins="{top:10, right:10, bottom:120, left:50}" dc-dimension="domainDimension" dc-group="domainChartFilteredDimensionGroup" dc-x="d3.scale.ordinal(domainChartFilteredDimensionGroup)" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Patch Domain\'" dc-round="dc.round.floor" dc-elastic-y="true" dc-elastic-x="true" dc-always-use-rounding="true" dc-y-axis-padding="\'10%\'" dc-y-axis-label="\'Number of Patches\'" dc-render-horizontal-grid-lines="true" dc-post-setup-chart="domainNbPatchBarChartSetup" class="dc-chart"></div></div></div><div id="platforms" ng-show="viewsBooleans.showplatform" class="panel"><div class="row"><h4>Patch Cycle Chart / Pltaform|Program</h4><div dc-chart="barChart" dc-width="990" dc-height="450" dc-margins="{top:10, right:10, bottom:100, left:50}" dc-dimension="bugPlatformDimension" dc-x="d3.scale.ordinal(bugPlatformChartFilteredDimensionGroup)" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Platform/Program\'" dc-round="dc.round.floor" dc-legend="dc.legend().x(75).y(0).itemWidth(140).horizontal(true)" dc-elastic-y="true" dc-elastic-x="true" dc-always-use-rounding="true" dc-y-axis-padding="\'10%\'" dc-y-axis-label="\'Hours\'" dc-render-horizontal-grid-lines="true" dc-hidable-stacks="true" dc-post-setup-chart="bugPlatformChartConfigure" class="dc-chart"></div></div><div class="row"><h4>Number of Patches / Pltaform|Program</h4><div dc-chart="barChart" dc-width="990" dc-height="350" dc-margins="{top:10, right:10, bottom:100, left:50}" dc-dimension="bugPlatformDimension" dc-group="bugPlatformChartFilteredDimensionGroup" dc-x="d3.scale.ordinal(bugPlatformChartFilteredDimensionGroup)" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Platform/Program\'" dc-round="dc.round.floor" dc-elastic-y="true" dc-elastic-x="true" dc-always-use-rounding="true" dc-y-axis-padding="\'10%\'" dc-y-axis-label="\'Number of Patches\'" dc-render-horizontal-grid-lines="true" dc-post-setup-chart="bugPlatformNbPatchBarChartSetup" class="dc-chart"></div></div></div><div id="weeks" ng-show="viewsBooleans.showweeks" class="panel"><div class="row"><h4>Patch Cycle Chart / Work Week</h4><div dc-chart="barChart" dc-width="990" dc-height="400" dc-margins="{top:10, right:10, bottom:50, left:50}" dc-dimension="cycleDimension" dc-x="d3.scale.ordinal(cycleDimensionGroup)" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Work Week (Year.WW)\'" dc-round="dc.round.floor" dc-legend="dc.legend().x(75).y(0).itemWidth(140).horizontal(true)" dc-elastic-y="true" dc-always-use-rounding="true" dc-y-axis-padding="\'10%\'" dc-y-axis-label="\'Hours\'" dc-render-horizontal-grid-lines="true" dc-hidable-stacks="true" dc-post-setup-chart="cycleChartConfigure" class="dc-chart"></div></div><div class="row"><h4>Number of Patches / Work Week</h4><div dc-chart="barChart" dc-width="990" dc-height="300" dc-margins="{top:10, right:10, bottom:50, left:50}" dc-dimension="cycleDimension" dc-group="cycleDimensionGroup" dc-x="d3.scale.ordinal(cycleDimensionGroup)" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Work Week (Year.WW)\'" dc-round="dc.round.floor" dc-elastic-y="true" dc-always-use-rounding="true" dc-y-axis-padding="\'10%\'" dc-y-axis-label="\'Number of Patches\'" dc-render-horizontal-grid-lines="true" dc-post-setup-chart="wwNbPatchBarChartSetup" class="dc-chart"></div></div></div><div id="type" ng-show="viewsBooleans.showtypes" class="panel"><div class="row"><h4>Patch Cycle Chart / Bug Type</h4><div dc-chart="barChart" dc-width="990" dc-height="460" dc-margins="{top:10, right:10, bottom:110, left:50}" dc-dimension="bugTypeDimension" dc-x="d3.scale.ordinal(bugTypeChartFilteredDimensionGroup)" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Bug Type\'" dc-round="dc.round.floor" dc-legend="dc.legend().x(75).y(0).itemWidth(140).horizontal(true)" dc-elastic-y="true" dc-elastic-x="true" dc-always-use-rounding="true" dc-y-axis-padding="\'10%\'" dc-y-axis-label="\'Hours\'" dc-render-horizontal-grid-lines="true" dc-hidable-stacks="true" dc-post-setup-chart="bugTypeChartConfigure" class="dc-chart"></div></div><div class="row"><h4>Number of Patches / Bug Type</h4><div dc-chart="barChart" dc-width="990" dc-height="360" dc-margins="{top:10, right:10, bottom:110, left:50}" dc-dimension="bugTypeDimension" dc-group="bugTypeChartFilteredDimensionGroup" dc-x="d3.scale.ordinal(bugTypeChartFilteredDimensionGroup)" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Bug Type\'" dc-round="dc.round.floor" dc-elastic-y="true" dc-elastic-x="true" dc-always-use-rounding="true" dc-y-axis-padding="\'10%\'" dc-y-axis-label="\'Number of Patches\'" dc-render-horizontal-grid-lines="true" dc-post-setup-chart="bugTypeNbBarChartSetup" class="dc-chart"></div></div></div><div id="component" ng-show="viewsBooleans.showcomponents" class="panel"><div class="row"><h4>Patch Cycle Chart / Bug Component</h4><div dc-chart="barChart" dc-width="1200" dc-height="550" dc-margins="{top:10, right:10, bottom:200, left:50}" dc-dimension="componentDimension" dc-x="d3.scale.ordinal(componentChartFilteredDimensionGroup)" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Bug Component\'" dc-round="dc.round.floor" dc-legend="dc.legend().x(75).y(0).itemWidth(140).horizontal(true)" dc-elastic-y="true" dc-elastic-x="true" dc-always-use-rounding="true" dc-y-axis-padding="\'10%\'" dc-y-axis-label="\'Hours\'" dc-render-horizontal-grid-lines="true" dc-hidable-stacks="true" dc-post-setup-chart="componentChartConfigure" class="dc-chart"></div></div><div class="row"><h4>Number of Patches / Bug Component</h4><div dc-chart="barChart" dc-width="1200" dc-height="450" dc-margins="{top:10, right:10, bottom:200, left:50}" dc-dimension="componentDimension" dc-group="componentChartFilteredDimensionGroup" dc-x="d3.scale.ordinal(componentChartFilteredDimensionGroup)" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Bug Component\'" dc-round="dc.round.floor" dc-elastic-y="true" dc-elastic-x="true" dc-always-use-rounding="true" dc-y-axis-padding="\'10%\'" dc-y-axis-label="\'Number of Patches\'" dc-render-horizontal-grid-lines="true" dc-post-setup-chart="componentNbPatchBarChartSetup" class="dc-chart"></div></div></div><div id="priorities" ng-show="viewsBooleans.showpriorities" class="panel"><div class="row"><h4>Patch Cycle Chart / Bug Priority</h4><div dc-chart="barChart" dc-width="990" dc-height="400" dc-margins="{top:10, right:10, bottom:50, left:50}" dc-dimension="bugPriorityDimension" dc-x="d3.scale.ordinal(bugPriorityDimension)" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Bug Priority\'" dc-round="dc.round.floor" dc-legend="dc.legend().x(75).y(0).itemWidth(140).horizontal(true)" dc-elastic-y="true" dc-elastic-x="true" dc-always-use-rounding="true" dc-y-axis-padding="\'10%\'" dc-y-axis-label="\'Hours\'" dc-render-horizontal-grid-lines="true" dc-hidable-stacks="true" dc-post-setup-chart="bugPriorityChartConfigure" class="dc-chart"></div></div><div class="row"><h4>Number of Patches / Bug Priority</h4><div dc-chart="barChart" dc-width="990" dc-height="300" dc-margins="{top:10, right:10, bottom:50, left:50}" dc-dimension="bugPriorityDimension" dc-group="bugPriorityChartFilteredDimensionGroup" dc-x="d3.scale.ordinal(bugPriorityDimension)" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Bug Priority\'" dc-round="dc.round.floor" dc-elastic-y="true" dc-elastic-x="true" dc-always-use-rounding="true" dc-y-axis-padding="\'10%\'" dc-y-axis-label="\'Number of Patches\'" dc-render-horizontal-grid-lines="true" dc-post-setup-chart="bugPriorityNbPatchBarChartSetup" class="dc-chart"></div></div></div><div class="row"><table dc-chart="dataTable" dc-dimension="cycleDimension" dc-group="tableGroup" dc-size="100" dc-post-setup-chart="tablePostFormat" class="table table-hover dc-data-table"></table></div></div></div>'),
e.put("views/patch_merged_summary.html",'<div class="container"><div ng-show="nodata"><div class="nodata">sql server returned no data</div></div><div ng-if="!loading"><div class="row"><div class="col-md-6"><h2>Patch Merged Quality</h2></div></div><div class="row"><div class="row"><h4><span class="glyphicon glyphicon-filter">&nbsp;Filters:</span></h4></div></div><div class="row"><div class="col-md-3">Cactus Branch:<p><dc-select dc-dimension="CactusBranchDimension" all-label="All CactusBranchs"></dc-select></p></div><div class="col-md-3">Git Project:<p><dc-select dc-dimension="GitProjectDimension" all-label="All GitProjects"></dc-select></p></div><div class="col-md-3">Git Branch:<p><dc-select dc-dimension="GitBranchDimension" all-label="All GitBranchs"></dc-select></p></div><div class="col-md-3">Domain Name:<p><dc-select dc-dimension="DomainNameDimension" all-label="All Domain Names"></dc-select></p></div></div><div class="row"><div class="col-md-4 col-md-offset-4"><a id="advancedFilters" href="#" ng-click="open_advanced_filters = !open_advanced_filters" onclick="return false;">&nbsp;Advanced Filters&nbsp;</a><i id="adv_filters_chevron" class="glyphicon glyphicon-chevron-up"></i><script>$( "#advancedFilters" ).click(function() {\n  $( "#adv_filters_chevron" ).toggleClass( "glyphicon-chevron-up glyphicon-chevron-down" );\n});\n</script></div></div><panel ng-show="open_advanced_filters"><div class="row"><div class="col-md-6"><label>From:</label><p class="input-group"><input type="text" datepicker-popup="{{date_picker.format}}" ng-model="date_picker.dateHandler.fromDate" is-open="date_picker.datepicker.opened" datepicker-options="date_picker.dateOptions" min-date="date_picker.minDate" max-date="date_picker.maxDate" ng-required="true" clear="clear" clear-text="Default" close-text="Close" close-on-date-selection="false" starting-day="0" class="form-control"/><span class="input-group-btn"><button type="button" ng-click="date_picker.open($event)" class="btn btn-default"><i class="glyphicon glyphicon-calendar"></i></button></span></p></div><div class="col-md-6"><label>To:</label><p class="input-group"><input type="text" datepicker-popup="{{date_picker.format}}" ng-model="date_picker.dateHandler.toDate" is-open="date_picker.datepicker.opened" datepicker-options="date_picker.dateOptions" min-date="date_picker.dateHandler.fromDate" max-date="date_picker.maxDate" ng-required="true" clear-text="Default" close-text="Close" close-on-date-selection="false" starting-day="0" class="form-control"/><span class="input-group-btn"><button type="button" ng-click="date_picker.open($event)" class="btn btn-default"><i class="glyphicon glyphicon-calendar"></i></button></span></p></div></div><div class="row"><div class="col-md-3">Owner:<p><dc-select dc-dimension="OwnerDimension" all-label="All Owners"></dc-select></p></div><div class="col-md-3">Work Week:<p><dc-select dc-dimension="WorkWeekDimension" all-label="All WorkWeeks"></dc-select></p></div><div class="col-md-3">Status:<select onChange="window.location.href=this.value" class="form-control"><option value="Merged" selected="selected">Merged</option><option value="#/{{pageRoot}}/patch_open_summary">Open</option></select></div></div></panel><div class="row"><h4><span class="glyphicon glyphicon-stats">&nbsp;Views:</span></h4><div class="row"><div class="col-md-3"><center><strong>Ratio of CR-1/-2 Patch</strong></center><div dc-chart="pieChart" dc-width="300" dc-height="260" dc-radius="100" dc-dimension="CR_Dimension" dc-group="CR_DimensionGroup" dc-legend="dc.legend().x(110).y(230)" dc-post-setup-chart="CR_PieChart" class="dc-chart"></div></div><div class="col-md-3"><center><strong>Ratio of V-1 Patch</strong></center><div dc-chart="pieChart" dc-width="300" dc-height="260" dc-radius="100" dc-dimension="V_Dimension" dc-group="V_DimensionGroup" dc-legend="dc.legend().x(110).y(230)" dc-post-setup-chart="V_PieChart" class="dc-chart"></div></div><div class="col-md-3"><center><strong>Ratio of Revert Patch</strong></center><div dc-chart="pieChart" dc-width="300" dc-height="260" dc-radius="100" dc-dimension="RevertDimension" dc-group="RevertDimensionGroup" dc-legend="dc.legend().x(110).y(230)" dc-post-setup-chart="RevertPieChart" class="dc-chart"></div></div><div class="col-md-3"><div class="dc-data-count"><a ng-href="{{csvUrl}}"><img src="img/csv.gif"/></a>&nbsp;&nbsp;&nbsp;<a ng-href="{{sqlUrl}}" target="_blank"><img src="img/sql.png"/></a><br/><span class="total-count">&nbsp;# {{all_records}}\n&nbsp;records in db</span><br/><span class="total-count">&nbsp;# {{filter_count}}\n&nbsp;used<i>&nbsp;({{all_filtered_records}}\n&nbsp;not usable)</i></span><br/><span class="filter-count">&nbsp;# {{total_count}}\n&nbsp;currently displayed</span></div></div></div><div class="row"><center><strong>Patch/Builds Failure Trend per Week</strong></center><div dc-chart="compositeChart" dc-width="1250" dc-height="450" dc-margins="{top:70, right:10, bottom:50, left:50}" dc-dimension="linesDimension" dc-group="CR_1_linesDimensionGroup" dc-x="d3.scale.ordinal(linesDimension)" dc-x-units="dc.units.ordinal" dc-y-axis-label="\'%\'" dc-x-axis-label="\'Work Week (Year.WW)\'" dc-elastic-y="true" dc-brush-on="false" dc-render-horizontal-grid-lines="true" dc-share-title="false" dc-legend="dc.legend().x(75).y(30).legendWidth(900).horizontal(1).itemWidth(120)" dc-post-setup-chart="compositeChartOptions" class="dc-chart"></div></div><div class="row"><table class="table table-striped table-bordered table-hover table-condensed col-md-12"><caption><strong>Patch Failure Count</strong></caption><tr><th class="col-md-4">CR-1 &nbsp;<i class="note">(CR-1=1：A patch contains only one CR-1, CR-1=2：A patch contains two CR-1, CR-1>2：A patch contains more than two CR-1.)</i></th><th class="col-md-4">CR-2 &nbsp;<i class="note">(CR-2=1：A patch contains only one CR-2, CR-2=2：A patch contains two CR-2, CR-2>2：A patch contains more than two CR-2.)</i></th><th class="col-md-4">V-1 &nbsp;<i class="note">(V-1=1：A patch contains only one V-1, V-1=2：A patch contains two V-1, V-1>2：A patch contains more than two V-1.)</i></th></tr><tr><td class="col-md-4"><div dc-chart="rowChart" dc-width="400" dc-dimension="cr_1_CountDimension" dc-group="cr_1_DimensionGroup" dc-post-setup-chart="cr_1_CountRowChart" class="dc-chart"></div></td><td class="col-md-4"><div dc-chart="rowChart" dc-width="400" dc-dimension="cr_2_CountDimension" dc-group="cr_2_DimensionGroup" dc-post-setup-chart="cr_2_CountRowChart" class="dc-chart"></div></td><td class="col-md-4"><div dc-chart="rowChart" dc-width="400" dc-dimension="v_1_CountDimension" dc-group="v_1_DimensionGroup" dc-post-setup-chart="v_1_CountRowChart" class="dc-chart"></div></td></tr></table></div><div class="row"><table class="table table-striped table-bordered table-hover table-condensed col-md-12"><caption><strong>Builds Failure Count</strong></caption><tr><th class="col-md-6">Auto_Fail &nbsp;<i class="note">(Auto_Fail>0: At least one autobuild failed.)</i></th><th class="col-md-6">PreInt_Fail &nbsp;<i class="note">(PreInt_Fail>0: At least one preintegration failed.)</i></th></tr><tr><td class="col-md-6"><div dc-chart="rowChart" dc-width="605" dc-height="100" dc-dimension="autoCountDimension" dc-group="autoCountDimensionGroup" dc-post-setup-chart="autoCountRowChart" class="dc-chart"></div></td><td class="col-md-6"><div dc-chart="rowChart" dc-width="605" dc-height="100" dc-dimension="preIntCountDimension" dc-group="preIntCountDimensionGroup" dc-post-setup-chart="preIntCountRowChart" class="dc-chart"></div></td></tr><tr><th class="col-md-6">PreMerge_Fail &nbsp;<i class="note">(PreMerge_Fail>0: At least one premerge failed.)</i></th><th class="col-md-6">MergeRequest_Fail &nbsp;<i class="note">(MergeRequest_Fail>0: At least one mergerequest failed.)</i></th></tr><tr><td class="col-md-6"><div dc-chart="rowChart" dc-width="605" dc-height="100" dc-dimension="preMergeCountDimension" dc-group="preMergeCountDimensionGroup" dc-post-setup-chart="preMergeCountRowChart" class="dc-chart"></div></td><td class="col-md-6"><div dc-chart="rowChart" dc-width="605" dc-height="100" dc-dimension="mergeRequestCountDimension" dc-group="mergeRequestCountDimensionGroup" dc-post-setup-chart="mergeRequestCountRowChart" class="dc-chart"></div></td></tr></table></div></div><div class="row"><table dc-chart="dataTable" dc-dimension="patchDimension" dc-group="tableGroup" dc-size="1000" dc-post-setup-chart="tablePostFormat" class="table table-hover dc-data-table table-patch_merged_summary"><thead><tr class="header header-patch_merged_summary"><th>PatchID</th><th>Owner</th><th>DomainName</th><th>PatchDate</th><th>nb_cr_minus1</th><th>nb_cr_minus2</th><th>nb_v_minus1</th><th>nb_auto Failure</th><th>nb_preint Failure</th><th>nb_preMerge Failure</th><th>nb_mergeRequest Failure</th><th>Builds Detail</th></tr></thead></table></div></div></div><script>(function patch_merged_summary(){\n\n    var bar_height = $(".header-patch_merged_summary").height();\n    var sroll_header= $(".table-patch_merged_summary").clone().attr(\'id\',\'kernel-general\');\n    if (!$(\'.table-patch_merged_summary\').length) {\n        return;\n    }\n    var Top = $(\'.header-patch_merged_summary\').offset().top\n    $(window).scroll(function(){\n        if ($(document).scrollTop()-1000 > Top) {\n\n            var scrollLeft = $(window).scrollLeft();\n                if (!$(\'.table-patch_merged_summary\').length) {\n                    return;\n                }\n            var barOffset = $(\'.table-patch_merged_summary\').offset().left;\n            var bar_left  = (barOffset - scrollLeft) + "px";\n\n            $(\'.table-patch_merged_summary\').append(\'<div id="bar_container"></div>\');\n            $("#bar_container").css({\'width\':\'100%\',\'height\':bar_height,\'position\':\'fixed\',\'top\':\'0\', \'overflow\':\'hidden\', \'left\':bar_left});\n            sroll_header.appendTo(\'#bar_container\');\n            $(\'#bar_container table\').removeClass();\n            $(\'#bar_container table tr th\').css({\'height\': bar_height,\'background-color\':\'#ddd\',\'text-align\':\'left\'})\n\n            $(\'#bar_container tr\').children().each(function (i, n) {\n\n                 $(n).css("width", $(\'.header-patch_merged_summary\').children().eq(i).css(\'width\'));\n\n            });\n\n            $(\'#bar_container\').show();\n\n        }else {\n            $(\'#bar_container\').hide();\n        }\n    });\n\n})();</script>'),e.put("views/patch_open_summary.html",'<div class="container"><div ng-show="nodata"><div class="nodata">sql server returned no data</div></div><div ng-if="!loading"><div class="row"><div class="col-md-6"><h2>Patch Open Quality</h2></div></div><div class="row"><div class="row"><h4><span class="glyphicon glyphicon-filter">&nbsp;Filters:</span></h4></div></div><div class="row"><div class="col-md-3">Cactus Branch:<p><dc-select dc-dimension="CactusBranchDimension" all-label="All CactusBranchs"></dc-select></p></div><div class="col-md-3">Git Project:<p><dc-select dc-dimension="GitProjectDimension" all-label="All GitProjects"></dc-select></p></div><div class="col-md-3">Git Branch:<p><dc-select dc-dimension="GitBranchDimension" all-label="All GitBranchs"></dc-select></p></div><div class="col-md-3">Domain Name:<p><dc-select dc-dimension="DomainNameDimension" all-label="All Domain Names"></dc-select></p></div></div><div class="row"><div class="col-md-4 col-md-offset-4"><a id="advancedFilters" href="#" ng-click="open_advanced_filters = !open_advanced_filters" onclick="return false;">&nbsp;Advanced Filters&nbsp;</a><i id="adv_filters_chevron" class="glyphicon glyphicon-chevron-up"></i><script>$( "#advancedFilters" ).click(function() {\n  $( "#adv_filters_chevron" ).toggleClass( "glyphicon-chevron-up glyphicon-chevron-down" );\n});\n</script></div></div><panel ng-show="open_advanced_filters"><div class="row"><div class="col-md-6"><label>From:</label><p class="input-group"><input type="text" datepicker-popup="{{date_picker.format}}" ng-model="date_picker.dateHandler.fromDate" is-open="date_picker.datepicker.opened" datepicker-options="date_picker.dateOptions" min-date="date_picker.minDate" max-date="date_picker.maxDate" ng-required="true" clear="clear" clear-text="Default" close-text="Close" close-on-date-selection="false" starting-day="0" class="form-control"/><span class="input-group-btn"><button type="button" ng-click="date_picker.open($event)" class="btn btn-default"><i class="glyphicon glyphicon-calendar"></i></button></span></p></div><div class="col-md-6"><label>To:</label><p class="input-group"><input type="text" datepicker-popup="{{date_picker.format}}" ng-model="date_picker.dateHandler.toDate" is-open="date_picker.datepicker.opened" datepicker-options="date_picker.dateOptions" min-date="date_picker.dateHandler.fromDate" max-date="date_picker.maxDate" ng-required="true" clear-text="Default" close-text="Close" close-on-date-selection="false" starting-day="0" class="form-control"/><span class="input-group-btn"><button type="button" ng-click="date_picker.open($event)" class="btn btn-default"><i class="glyphicon glyphicon-calendar"></i></button></span></p></div></div><div class="row"><div class="col-md-3">Owner:<p><dc-select dc-dimension="OwnerDimension" all-label="All Owners"></dc-select></p></div><div class="col-md-3">Work Week:<p><dc-select dc-dimension="WorkWeekDimension" all-label="All WorkWeeks"></dc-select></p></div><div class="col-md-3">Status:<select onChange="window.location.href=this.value" class="form-control"><option value="#/{{pageRoot}}/patch_merged_summary">Merged</option><option value="Open" selected="selected">Open</option></select></div></div></panel><div class="row"><h4><span class="glyphicon glyphicon-stats">&nbsp;Views:</span></h4><div class="row"><div class="col-md-3"><center><strong>Ratio of CR-1/-2 Patch</strong></center><div dc-chart="pieChart" dc-width="300" dc-height="260" dc-radius="100" dc-dimension="CR_Dimension" dc-group="CR_DimensionGroup" dc-legend="dc.legend().x(110).y(230)" dc-post-setup-chart="CR_PieChart" class="dc-chart"></div></div><div class="col-md-3"><center><strong>Ratio of V-1 Patch</strong></center><div dc-chart="pieChart" dc-width="300" dc-height="260" dc-radius="100" dc-dimension="V_Dimension" dc-group="V_DimensionGroup" dc-legend="dc.legend().x(110).y(230)" dc-post-setup-chart="V_PieChart" class="dc-chart"></div></div><div class="col-md-3"><center><strong>Ratio of Revert Patch</strong></center><div dc-chart="pieChart" dc-width="300" dc-height="260" dc-radius="100" dc-dimension="RevertDimension" dc-group="RevertDimensionGroup" dc-legend="dc.legend().x(110).y(230)" dc-post-setup-chart="RevertPieChart" class="dc-chart"></div></div><div class="col-md-3"><div class="dc-data-count"><a ng-href="{{csvUrl}}"><img src="img/csv.gif"/></a>&nbsp;&nbsp;&nbsp;<a ng-href="{{sqlUrl}}" target="_blank"><img src="img/sql.png"/></a><br/><span class="total-count">&nbsp;# {{all_records}}\n&nbsp;records in db</span><br/><span class="total-count">&nbsp;# {{filter_count}}\n&nbsp;used<i>&nbsp;({{all_filtered_records}}\n&nbsp;not usable)</i></span><br/><span class="filter-count">&nbsp;# {{total_count}}\n&nbsp;currently displayed</span></div></div></div><div class="row"><center><strong>Patch/Builds Failure Trend per Week</strong></center><div dc-chart="compositeChart" dc-width="1250" dc-height="450" dc-margins="{top:70, right:10, bottom:50, left:50}" dc-dimension="linesDimension" dc-group="CR_1_linesDimensionGroup" dc-x="d3.scale.ordinal(linesDimension)" dc-x-units="dc.units.ordinal" dc-y-axis-label="\'%\'" dc-x-axis-label="\'Work Week (Year.WW)\'" dc-elastic-y="true" dc-brush-on="false" dc-render-horizontal-grid-lines="true" dc-share-title="false" dc-legend="dc.legend().x(75).y(30).legendWidth(900).horizontal(1).itemWidth(120)" dc-post-setup-chart="compositeChartOptions" class="dc-chart"></div></div><div class="row"><table class="table table-striped table-bordered table-hover table-condensed col-md-12"><caption><strong>Patch Failure Count</strong></caption><tr><th class="col-md-4">CR-1 &nbsp;<i class="note">(CR-1=1：A patch contains only one CR-1, CR-1=2：A patch contains two CR-1, CR-1>2：A patch contains more than two CR-1.)</i></th><th class="col-md-4">CR-2 &nbsp;<i class="note">(CR-2=1：A patch contains only one CR-2, CR-2=2：A patch contains two CR-2, CR-2>2：A patch contains more than two CR-2.)</i></th><th class="col-md-4">V-1 &nbsp;<i class="note">(V-1=1：A patch contains only one V-1, V-1=2：A patch contains two V-1, V-1>2：A patch contains more than two V-1.)</i></th></tr><tr><td class="col-md-4"><div dc-chart="rowChart" dc-width="400" dc-dimension="cr_1_CountDimension" dc-group="cr_1_DimensionGroup" dc-post-setup-chart="cr_1_CountRowChart" class="dc-chart"></div></td><td class="col-md-4"><div dc-chart="rowChart" dc-width="400" dc-dimension="cr_2_CountDimension" dc-group="cr_2_DimensionGroup" dc-post-setup-chart="cr_2_CountRowChart" class="dc-chart"></div></td><td class="col-md-4"><div dc-chart="rowChart" dc-width="400" dc-dimension="v_1_CountDimension" dc-group="v_1_DimensionGroup" dc-post-setup-chart="v_1_CountRowChart" class="dc-chart"></div></td></tr></table></div><div class="row"><table class="table table-striped table-bordered table-hover table-condensed col-md-12"><caption><strong>Builds Failure Count</strong></caption><tr><th class="col-md-6">Auto_Fail &nbsp;<i class="note">(Auto_Fail>0: At least one autobuild failed.)</i></th><th class="col-md-6">PreInt_Fail &nbsp;<i class="note">(PreInt_Fail>0: At least one preintegration failed.)</i></th></tr><tr><td class="col-md-6"><div dc-chart="rowChart" dc-width="605" dc-height="100" dc-dimension="autoCountDimension" dc-group="autoCountDimensionGroup" dc-post-setup-chart="autoCountRowChart" class="dc-chart"></div></td><td class="col-md-6"><div dc-chart="rowChart" dc-width="605" dc-height="100" dc-dimension="preIntCountDimension" dc-group="preIntCountDimensionGroup" dc-post-setup-chart="preIntCountRowChart" class="dc-chart"></div></td></tr><tr><th class="col-md-6">PreMerge_Fail &nbsp;<i class="note">(PreMerge_Fail>0: At least one premerge failed.)</i></th><th class="col-md-6">MergeRequest_Fail &nbsp;<i class="note">(MergeRequest_Fail>0: At least one mergerequest failed.)</i></th></tr><tr><td class="col-md-6"><div dc-chart="rowChart" dc-width="605" dc-height="100" dc-dimension="preMergeCountDimension" dc-group="preMergeCountDimensionGroup" dc-post-setup-chart="preMergeCountRowChart" class="dc-chart"></div></td><td class="col-md-6"><div dc-chart="rowChart" dc-width="605" dc-height="100" dc-dimension="mergeRequestCountDimension" dc-group="mergeRequestCountDimensionGroup" dc-post-setup-chart="mergeRequestCountRowChart" class="dc-chart"></div></td></tr></table></div></div><div class="row"><table dc-chart="dataTable" dc-dimension="patchDimension" dc-group="tableGroup" dc-size="1000" dc-post-setup-chart="tablePostFormat" class="table table-hover dc-data-table table-patch_open_summary"><thead><tr class="header header-patch_open_summary"><th>PatchID</th><th>Owner</th><th>DomainName</th><th>PatchDate</th><th>nb_cr_minus1</th><th>nb_cr_minus2</th><th>nb_v_minus1</th><th>nb_auto Failure</th><th>nb_preint Failure</th><th>nb_preMerge Failure</th><th>nb_mergeRequest Failure</th><th>Builds Detail</th></tr></thead></table></div></div></div><script>(function patch_open_summary(){\n\n    var bar_height = $(".header-patch_open_summary").height();\n    var sroll_header= $(".table-patch_open_summary").clone().attr(\'id\',\'kernel-general\');\n    if (!$(\'.table-patch_open_summary\').length) {\n        return;\n    }\n    var Top = $(\'.header-patch_open_summary\').offset().top\n    $(window).scroll(function(){\n        if ($(document).scrollTop()-1000 > Top) {\n\n            var scrollLeft = $(window).scrollLeft();\n                if (!$(\'.table-patch_open_summary\').length) {\n                    return;\n                }\n            var barOffset = $(\'.table-patch_open_summary\').offset().left;\n            var bar_left  = (barOffset - scrollLeft) + "px";\n\n            $(\'.table-patch_open_summary\').append(\'<div id="bar_container"></div>\');\n            $("#bar_container").css({\'width\':\'100%\',\'height\':bar_height,\'position\':\'fixed\',\'top\':\'0\', \'overflow\':\'hidden\', \'left\':bar_left});\n            sroll_header.appendTo(\'#bar_container\');\n            $(\'#bar_container table\').removeClass();\n            $(\'#bar_container table tr th\').css({\'height\': bar_height,\'background-color\':\'#ddd\',\'text-align\':\'left\'})\n\n            $(\'#bar_container tr\').children().each(function (i, n) {\n\n                 $(n).css("width", $(\'.header-patch_open_summary\').children().eq(i).css(\'width\'));\n\n            });\n\n            $(\'#bar_container\').show();\n\n        }else {\n            $(\'#bar_container\').hide();\n        }\n    });\n\n})();</script>'),e.put("views/patches.html",'<div class="container"><div ng-if="nodata"><div class="nodata">sql server returned no data</div></div><div ng-if="!loading"><div class="row"><div class="col-md-3">Filters:<br/><label>Branches</label><p isteven-multi-select="isteven-multi-select" input-model="uiParams.branches" output-model="dropDownBranch" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="filter(uiParams.branches, branchDimensionList)"></p><label>JIRA Projects</label><p isteven-multi-select="isteven-multi-select" input-model="uiParams.bugprojects" output-model="dropDownBugProject" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="set_bugproject()"></p><label>JIRA Components</label><p isteven-multi-select="isteven-multi-select" input-model="uiParams.components" output-model="dropDownComponent" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="filter(uiParams.components, componentDimension)"></p><a href="javascript:" ng-click="resetAll()">Reset All</a></div><div class="col-md-3"><div dc-chart="pieChart" dc-width="270" dc-height="250" dc-radius="80" dc-cx="180" dc-cy="150" dc-draw-paths="true" dc-dimension="branchDimension" dc-group="branchDimensionGroup" dc-slices-cap="5" dc-legend="dc.legend().x(0).y(0)" dc-post-setup-chart="postActionBranchPieChart" class="dc-chart"></div></div><div class="col-md-3"><div dc-chart="pieChart" dc-width="270" dc-height="250" dc-radius="80" dc-cx="180" dc-cy="150" dc-dimension="categoryDimension" dc-group="categoryDimensionGroup" dc-slices-cap="5" dc-legend="dc.legend().x(0).y(-00)" dc-post-setup-chart="postActionCategoryPieChart" class="dc-chart"></div></div><div class="col-md-3"><div class="dc-data-count"><a ng-href="{{csvUrl}}"><img src="img/csv.gif"/></a>&nbsp;&nbsp;&nbsp;<a ng-href="{{sqlUrl}}" target="_blank"><img src="img/sql.png"/></a><br/><span class="total-count">&nbsp;# {{all_records}}\n&nbsp;records in db</span><br/><span class="total-count">&nbsp;# {{filter_count}}\n&nbsp;used<i>&nbsp;({{all_filtered_records}}\n&nbsp;not usable)</i></span><br/><span class="filter-count">&nbsp;# {{total_count}}\n&nbsp;currently displayed</span></div></div></div><div style="margin-top:25px;" class="row"><div dc-chart="barChart" dc-width="990" dc-height="500" dc-margins="{top:65, right:10, bottom:100, left:50}" dc-dimension="componentChartDimension" dc-x="d3.scale.ordinal(componentChartDimension)" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Components\'" dc-bar-padding="0.1" dc-elastic-x="true" dc-elastic-y="true" dc-center-bar="true" dc-y-axis-label="\'Number of patches per component\'" dc-render-horizontal-grid-lines="true" dc-post-setup-chart="componentBarChart" class="dc-chart"></div></div><div style="margin-top:25px;" class="row"><div dc-chart="barChart" dc-width="990" dc-height="500" dc-margins="{top:120, right:10, bottom:50, left:50}" dc-dimension="weeklyDimension" dc-x="d3.scale.ordinal(weeklyDimension)" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Work Week (Year.WW)\'" dc-bar-padding="0.1" dc-legend="dc.legend().x(75).y(0).legendWidth(900).horizontal(1).itemWidth(120)" dc-elastic-y="true" dc-center-bar="true" dc-y-axis-label="\'Number of patches per Week\'" dc-render-horizontal-grid-lines="true" dc-post-setup-chart="patchesBarChart" class="dc-chart"></div></div><div class="row"><div dc-chart="compositeChart" dc-width="990" dc-height="350" dc-margins="{top:65, right:10, bottom:50, left:50}" dc-dimension="linesDimension" dc-group="linesDimensionGroup" dc-post-setup-chart="compositeChartOptions" dc-x="d3.scale.ordinal(linesDimension)" dc-x-units="dc.units.ordinal" dc-y-axis-label="\'Number of Lines Modified per Week\'" dc-x-axis-label="\'Work Week (Year.WW)\'" dc-elastic-y="true" dc-brush-on="false" dc-render-horizontal-grid-lines="true" dc-share-title="false" class="dc-chart"></div></div><div class="row"><table dc-chart="dataTable" dc-dimension="weeklyDimension" dc-group="tableGroup" dc-size="1000" dc-post-setup-chart="tablePostFormat" class="table table-hover dc-data-table"><thead><tr class="header"><th>Gerrit Change ID</th><th>Date</th><th>Branch</th><th>Category</th><th>Git Project</th><th>JIRA Id</th><th>JIRA Component</th><th>DLOC</th></tr></thead></table></div></div></div>'),e.put("views/postcommit_bugs_and_patches.html",'<div class="container"><style>p.jira, th.jira {\n    color: #0000FF; }\n\np.gerrit, th.gerrit {\n    color: #FF6600; }\n\np.not_linked_collateral {\n    color: #FF0000; }\n\np.linked_crash {\n    color: #009900; }\n\np.not_linked_collateral, p.linked_crash, p.jira, p.gerrit {\n    display: inline; }\n</style><div ng-if="!loading"><div class="row"><div class="col-md-12">Filters:<p><dc-select dc-dimension="domainDimension" all-label="All domains"></dc-select></p><p><dc-select dc-dimension="platformDimension" all-label="All platforms"></dc-select></p><p><dc-select dc-dimension="builderDimension" all-label="All builders"></dc-select></p><p><dc-select dc-dimension="priorityDimension" all-label="All priority"></dc-select></p><p><a href="javascript:" ng-click="resetAll()">&nbsp;Reset All</a></p><p><a href="javascript:" ng-click="redrawAll()">&nbsp;Sort</a></p></div></div><div class="row"><div class="col-md-12"><div dc-chart="barChart" dc-width="1000" dc-height="500" dc-margins="{top:10, right:10, bottom:50, left:50}" dc-dimension="workWeekDimensionForZoom" dc-group="workWeekDimensionGroupForZoom" dc-center-bar="true" dc-x-axis-label="\'Select the work week interval on the graph (click somewhere for the start, hold the click, move and release on the end) \'" dc-y-axis-label="\'Number of patches merged to fix issues identified by functional tests\'" dc-x="d3.time.scale().domain([minDate, maxDate])" dc-x-units="d3.time.weeks" dc-post-setup-chart="wwSetupForZoom" dc-always-use-rounding="true" class="dc-chart"></div></div></div><div class="row"><div class="col-md-12"><div dc-chart="barChart" dc-width="1000" dc-height="500" dc-margins="{top:10, right:10, bottom:200, left:50}" dc-dimension="platformDimension" dc-group="platformDimensionGroup" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Number of bugs with a given resolution per test executed on a given platform\'" dc-x="d3.scale.ordinal(platformDimensionGroup)" dc-round="dc.round.floor" dc-elastic-y="true" dc-always-use-rounding="true" dc-legend="dc.legend().x(75).y(0).legendWidth(900).horizontal(1).itemWidth(200)" dc-y-axis-padding="\'10%\'" dc-render-horizontal-grid-lines="true" dc-post-setup-chart="platformSetup" class="dc-chart"></div></div></div><div class="row"><div class="col-md-12"><div dc-chart="barChart" dc-width="1000" dc-height="500" dc-margins="{top:10, right:10, bottom:50, left:50}" dc-dimension="testCaseDimension" dc-group="testCaseDimensionGroup" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Number of bugs with a given resolution per test case (without crash nor collateral issues)\'" dc-round="dc.round.floor" dc-elastic-y="true" dc-always-use-rounding="true" dc-legend="dc.legend().x(75).y(0).legendWidth(900).horizontal(1).itemWidth(200)" dc-y-axis-padding="\'10%\'" dc-render-horizontal-grid-lines="true" dc-post-setup-chart="testCaseResolveSetupWithoutCrash" class="dc-chart"></div></div></div><div class="row"><div class="col-md-12"><div dc-chart="barChart" dc-width="1000" dc-height="500" dc-margins="{top:10, right:10, bottom:50, left:50}" dc-dimension="domainDimension" dc-group="domainDimensionGroup" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Number of patches merged by a given feature team to fix an issue identified by one domain tests\'" dc-round="dc.round.floor" dc-elastic-y="true" dc-always-use-rounding="true" dc-legend="dc.legend().x(75).y(0).legendWidth(900).horizontal(1).itemWidth(200)" dc-y-axis-padding="\'10%\'" dc-render-horizontal-grid-lines="true" dc-post-setup-chart="domainSetup" class="dc-chart"></div></div></div><div class="row"><div class="col-md-12"><div dc-chart="barChart" dc-width="1000" dc-height="500" dc-margins="{top:10, right:10, bottom:50, left:50}" dc-dimension="testCaseDimension" dc-group="testCaseDimensionGroup" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Number of patches merged by a given ft per testcase\'" dc-round="dc.round.floor" dc-elastic-y="true" dc-always-use-rounding="true" dc-legend="dc.legend().x(75).y(0).legendWidth(900).horizontal(1).itemWidth(200)" dc-y-axis-padding="\'10%\'" dc-render-horizontal-grid-lines="true" dc-post-setup-chart="testCaseSetup" class="dc-chart"></div></div></div><div class="row"><div class="col-md-12"><div dc-chart="barChart" dc-width="1000" dc-height="500" dc-margins="{top:10, right:10, bottom:50, left:50}" dc-dimension="workWeekDimension" dc-group="processNotRespectedDimensionGroup" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Number of collateral issues not linked to a test case\'" dc-round="dc.round.floor" dc-x="d3.scale.ordinal(processNotRespectedDimensionGroup)" dc-elastic-y="true" dc-always-use-rounding="true" dc-legend="dc.legend().x(75).y(0).legendWidth(900).horizontal(1).itemWidth(200)" dc-y-axis-padding="\'10%\'" dc-render-horizontal-grid-lines="true" dc-post-setup-chart="processNotRespectedSetup" class="dc-chart"></div></div></div><h4>Test ranking<div class="row"><div class="col-md-12"><table dc-chart="dataTable" dc-dimension="rankingTestCaseDimensionGroup" dc-group="rankingTableGroup" dc-size="1000" dc-post-setup-chart="rankingTablePostFormat" class="table table-hover dc-data-table"><thead><tr class="header"><th>name</th><th>Manual campaign</th><th class="jira">Software Change</th><th class="gerrit">Merged fixes</th><th class="jira">Unknown Fix</th><th class="jira">Transferred</th><th class="jira">Not Fixed</th><th class="jira">Infrastructure Change</th><th class="jira">Hardware Change</th><th class="jira">Duplicate</th><th class="jira">Cannot Reproduce</th><th class="jira">Will Not Fix</th><th class="jira">Not a Defect</th><th class="jira">Undefined</th><th>Number of Executions</th></tr></thead></table></div></div><h4>Associated tests</h4><div class="row"><div class="col-md-12"><table dc-chart="dataTable" dc-dimension="testCaseDimension" dc-group="tableGroup" dc-size="1000" dc-post-setup-chart="tablePostFormat" class="table table-hover dc-data-table"><thead><tr class="header"><th>build</th><th>platform</th><th>domain</th><th>testcase (TH)</th><th>verdict</th><th>bugs/domain/gerrit</th><th>time</th></tr></thead></table></div></div></h4></div></div>'),e.put("views/postcommit_campaigns_re_execution.html",'<div class="container"><div ng-if="!loading"><div class="row"><div class="col-md-12">Filters:<p><dc-select dc-dimension="campaignDimension" all-label="All campaigns"></dc-select></p><p><dc-select dc-dimension="boardProductDimension" all-label="All board products"></dc-select></p><p><a href="javascript:" ng-click="resetAll()">&nbsp;Reset All</a></p></div></div><div class="row"><div class="col-md-12"><div dc-chart="barChart" dc-width="1000" dc-height="500" dc-margins="{top:10, right:10, bottom:50, left:50}" dc-dimension="workWeekDimensionForZoom" dc-group="workWeekDimensionGroupForZoom" dc-center-bar="true" dc-x-axis-label="\'Select the work week interval on the graph (click somewhere for the start, hold the click, move and release on the end) \'" dc-y-axis-label="\'Number of re-executed campaigns\'" dc-x="d3.time.scale().domain([minDate, maxDate])" dc-elastic-y="true" dc-x-units="d3.time.weeks" dc-post-setup-chart="workWeekDimensionGroupForZoomSetup" dc-always-use-rounding="true" class="dc-chart"></div></div></div><div class="row"><div class="col-md-12"><div dc-chart="barChart" dc-width="1000" dc-height="500" dc-margins="{top:10, right:10, bottom:50, left:50}" dc-dimension="campaignDimensionBis" dc-group="campaignReExecutionGroup" dc-center-bar="true" dc-x-axis-label="\'Number of tests re-executed per campaigns\'" dc-x="d3.scale.ordinal(campaignReExecutionGroup)" dc-x-units="dc.units.ordinal" dc-post-setup-chart="campaignReExecutionSetup" dc-elastic-y="true" dc-always-use-rounding="true" class="dc-chart"></div></div></div><div class="row"><div class="col-md-12"><div dc-chart="barChart" dc-width="1000" dc-height="500" dc-margins="{top:10, right:10, bottom:50, left:50}" dc-dimension="builderReExecutionDimension" dc-group="builderReExecutionDimensionGroup" dc-center-bar="true" dc-x-axis-label="\'Number of tests re-executed per type of builder that produced the tested build\'" dc-x="d3.scale.ordinal(builderReExecutionDimensionGroup)" dc-x-units="dc.units.ordinal" dc-post-setup-chart="builderReExecutionDimensionGroupSetup" dc-elastic-y="true" dc-always-use-rounding="true" class="dc-chart"></div></div></div><div class="row"><div class="col-md-12"><div dc-chart="barChart" dc-width="1000" dc-height="500" dc-margins="{top:10, right:10, bottom:50, left:50}" dc-dimension="buildIdentifierDimension" dc-group="buildIdentifierDimensionGroup" dc-center-bar="true" dc-x-axis-label="\'Number of tests re-executed per build\'" dc-x="d3.scale.ordinal(buildIdentifierDimensionGroup)" dc-x-units="dc.units.ordinal" dc-post-setup-chart="buildIdentifierDimensionGroupSetup" dc-elastic-y="true" dc-always-use-rounding="true" class="dc-chart"></div></div></div><div class="row"><div class="col-md-12"><div dc-chart="barChart" dc-width="1000" dc-height="500" dc-margins="{top:10, right:10, bottom:50, left:50}" dc-dimension="boardProductDimension" dc-group="boardProductDimensionGroup" dc-center-bar="true" dc-x-axis-label="\'Number of tests re-executed per board product\'" dc-x="d3.scale.ordinal(boardProductDimensionGroup)" dc-x-units="dc.units.ordinal" dc-post-setup-chart="boardProductDimensionGroupSetup" dc-elastic-y="true" dc-always-use-rounding="true" class="dc-chart"></div></div></div><div class="row"><div class="col-md-12"><div dc-chart="barChart" dc-width="1000" dc-height="500" dc-margins="{top:10, right:10, bottom:50, left:50}" dc-dimension="campaignDimension" dc-group="campaignDimensionGroup" dc-center-bar="true" dc-x-axis-label="\'Number of tests executed per campaigns\'" dc-x="d3.scale.ordinal(campaignDimensionGroup)" dc-x-units="dc.units.ordinal" dc-post-setup-chart="campaignSetup" dc-elastic-y="true" dc-always-use-rounding="true" class="dc-chart"></div></div></div><h4>Associated tests<div class="row"><div class="col-md-12"><table dc-chart="dataTable" dc-dimension="reExecDimension" dc-group="tableGroup" dc-size="1000" dc-post-setup-chart="tablePostFormat" class="table table-hover dc-data-table"><thead><tr class="header"><th>build</th><th>campaign</th><th>board_product</th><th>date</th><th>number_of_re_exec</th></tr></thead></table></div></div></h4></div></div>'),
e.put("views/postcommit_mapping_debug.html",'<div class="container"><div ng-if="!loading"><div class="row"><div class="col-md-4">Filters:<p><dc-select dc-dimension="workWeekDimension" all-label="All WW"></dc-select></p><p><dc-select dc-dimension="domainDimension" all-label="All domains"></dc-select></p><p><dc-select dc-dimension="platformDimension" all-label="All platforms"></dc-select></p><p><a href="javascript:" ng-click="resetAll()">&nbsp;Reset All</a></p></div></div><div class="row"><div class="col-md-12"><div dc-chart="barChart" dc-width="1000" dc-height="500" dc-margins="{top:10, right:10, bottom:50, left:50}" dc-dimension="workWeekDimension" dc-group="workWeekDimensionGroup" dc-x="d3.scale.ordinal(workWeekDimensionGroup)" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Distribution computed mapping states per work week\'" dc-round="dc.round.floor" dc-elastic-y="true" dc-always-use-rounding="true" dc-legend="dc.legend().x(75).y(0).legendWidth(900).horizontal(1).itemWidth(200)" dc-y-axis-padding="\'10%\'" dc-y-axis-label="\'Number of tests\'" dc-render-horizontal-grid-lines="true" dc-post-setup-chart="wwSetup" class="dc-chart"></div></div></div><div class="row"><div class="col-md-12"><div dc-chart="barChart" dc-width="1000" dc-height="500" dc-margins="{top:10, right:10, bottom:100, left:50}" dc-dimension="domainDimension" dc-group="domainDimensionGroup" dc-x="d3.scale.ordinal(domainDimensionGroup)" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Distribution of computed mapping states per domain\'" dc-round="dc.round.floor" dc-elastic-y="true" dc-always-use-rounding="true" dc-legend="dc.legend().x(75).y(0).legendWidth(900).horizontal(1).itemWidth(200)" dc-y-axis-padding="\'10%\'" dc-y-axis-label="\'Number of tests\'" dc-render-horizontal-grid-lines="true" dc-post-setup-chart="domainSetup" class="dc-chart"></div></div></div><div class="row"><div class="col-md-12"><div dc-chart="barChart" dc-width="1000" dc-height="600" dc-margins="{top:10, right:10, bottom:300, left:50}" dc-dimension="platformDimension" dc-group="platformDimensionGroup" dc-x="d3.scale.ordinal(platformDimensionGroup)" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Distribution of computed mapping states per platform\'" dc-round="dc.round.floor" dc-elastic-y="true" dc-always-use-rounding="true" dc-legend="dc.legend().x(75).y(0).legendWidth(900).horizontal(1).itemWidth(200)" dc-y-axis-padding="\'10%\'" dc-y-axis-label="\'Number of tests\'" dc-render-horizontal-grid-lines="true" dc-post-setup-chart="platformSetup" class="dc-chart"></div></div></div><div class="row"><div class="col-md-12"><div dc-chart="barChart" dc-width="1000" dc-height="600" dc-margins="{top:10, right:10, bottom:50, left:50}" dc-dimension="tcDimension" dc-group="tcDimensionGroup" dc-x="d3.scale.ordinal(platformDimensionGroup)" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Distribution of computed mapping states per test case\'" dc-round="dc.round.floor" dc-elastic-y="true" dc-always-use-rounding="true" dc-legend="dc.legend().x(75).y(0)" dc-y-axis-padding="\'10%\'" dc-y-axis-label="\'Number of tests\'" dc-render-horizontal-grid-lines="true" dc-post-setup-chart="tcSetup" class="dc-chart"></div></div></div><h4>Associated tests</h4><div class="row"><div class="col-md-12"><table dc-chart="dataTable" dc-dimension="workWeekDimension" dc-group="tableGroup" dc-size="1000" dc-post-setup-chart="tablePostFormat" class="table table-hover dc-data-table"><thead><tr class="header"><th>build</th><th>platform</th><th>domain</th><th>campaign</th><th>original test case name</th><th>mapping</th><th>verdict</th><th>time</th></tr></thead></table></div></div></div></div>'),e.put("views/postcommit_reliability_cost.html",'<div class="container"><div ng-if="!loading"><div class="row"><div class="col-md-4">Filters:<p><dc-select dc-dimension="workWeekDimension" all-label="All WW"></dc-select></p><p><dc-select dc-dimension="platformDimension" all-label="All platforms"></dc-select></p><p><dc-select dc-dimension="frameworkDimension" all-label="All frameworks"></dc-select></p><p><a href="javascript:" ng-click="resetAll()">&nbsp;Reset All</a></p></div></div><div class="row"><div class="col-md-6"></div><div dc-chart="barChart" dc-width="1200" dc-height="500" dc-margins="{top:10, right:10, bottom:50, left:50}" dc-dimension="workWeekDimension" dc-group="workWeekDimensionGroupPerPlatform" dc-x="d3.scale.ordinal(workWeekDimensionGroupPerPlatform)" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Cost of reliability per work week\'" dc-round="dc.round.floor" dc-elastic-y="true" dc-always-use-rounding="true" dc-legend="dc.legend().x(75).y(0).legendWidth(900).horizontal(1).itemWidth(200)" dc-y-axis-padding="\'10%\'" dc-y-axis-label="\'Cost of reliability in dollars\'" dc-render-horizontal-grid-lines="true" dc-post-setup-chart="wwSetup(workWeekDimensionGroupPerPlatform, allPlatform, getPerPlatformValue)" class="dc-chart"></div><div class="col-md-6"></div><div dc-chart="barChart" dc-width="1200" dc-height="700" dc-margins="{top:10, right:10, bottom:300, left:50}" dc-dimension="platformDimension" dc-group="platformDimensionGroupPerDomain" dc-x="d3.scale.ordinal(platformDimensionGroupPerDomain)" dc-x-units="dc.units.ordinal" dc-x-axis-label="platformTitle" dc-round="dc.round.floor" dc-elastic-y="true" dc-always-use-rounding="true" dc-legend="dc.legend().x(75).y(0).legendWidth(900).horizontal(1).itemWidth(200)" dc-y-axis-padding="\'10%\'" dc-y-axis-label="\'Cost of reliability in dollars\'" dc-render-horizontal-grid-lines="true" dc-post-setup-chart="overallSetup(platformDimensionGroupPerDomain, allDomain, getPerDomainValue)" class="dc-chart"></div><div class="row"></div><div class="col-md-6"></div><div dc-chart="barChart" dc-width="1200" dc-height="500" dc-margins="{top:10, right:10, bottom:50, left:50}" dc-dimension="workWeekDimension" dc-group="workWeekDimensionGroupPerDomain" dc-x="d3.scale.ordinal(workWeekDimensionGroupPerDomain)" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Cost of reliability per work week\'" dc-round="dc.round.floor" dc-elastic-y="true" dc-always-use-rounding="true" dc-legend="dc.legend().x(75).y(0).legendWidth(900).horizontal(1).itemWidth(200)" dc-y-axis-padding="\'10%\'" dc-y-axis-label="\'Cost of reliability in dollars\'" dc-render-horizontal-grid-lines="true" dc-post-setup-chart="wwSetup(workWeekDimensionGroupPerDomain, allDomain, getPerDomainValue)" class="dc-chart"></div><div class="col-md-6"></div><div dc-chart="barChart" dc-width="1200" dc-height="700" dc-margins="{top:10, right:10, bottom:300, left:50}" dc-dimension="domainDimension" dc-group="domainDimensionGroupPerPlatform" dc-x="d3.scale.ordinal(platformDimensionGroupPerPlatform)" dc-x-units="dc.units.ordinal" dc-x-axis-label="platformTitle" dc-round="dc.round.floor" dc-elastic-y="true" dc-always-use-rounding="true" dc-legend="dc.legend().x(75).y(0).legendWidth(900).horizontal(1).itemWidth(200)" dc-y-axis-padding="\'10%\'" dc-y-axis-label="\'Cost of reliability in dollars\'" dc-render-horizontal-grid-lines="true" dc-post-setup-chart="overallSetup(domainDimensionGroupPerPlatform, allPlatform, getPerPlatformValue)" class="dc-chart"></div></div></div></div>'),e.put("views/postcommit_reliability_evaluation.html",'<div class="container"><div ng-if="!loading"><div class="row"><div class="col-md-4">Filters:<p><dc-select dc-dimension="domainDimension" all-label="All domains"></dc-select></p><p><dc-select dc-dimension="platformDimension" all-label="All platforms"></dc-select></p><p><dc-select dc-dimension="builderDimension" all-label="All builders"></dc-select></p><p><dc-select dc-dimension="frameworkDimension" all-label="All frameworks"></dc-select></p><p><dc-select dc-dimension="priorityDimension" all-label="All priority"></dc-select></p><p><a href="javascript:" ng-click="resetAll()">&nbsp;Reset All</a></p>Output parameters:<p><select ng-model="dataOutputMode.yValue" ng-options="d for d in yValues" ng-click="redrawAll()" class="form-control"></select><select ng-model="dataOutputMode.perTestCaseOrderingVerdict" ng-options="d for d in perTestCaseOrderingVerdicts" ng-click="renderAll()" class="form-control"></select><select ng-model="dataOutputMode.perTestCaseOrderingMode" ng-options="d for d in perTestCaseOrderingModes" ng-click="renderAll()" class="form-control"></select></p></div></div><div class="row"><div class="col-md-12"></div><div dc-chart="barChart" dc-width="1000" dc-height="500" dc-margins="{top:10, right:10, bottom:50, left:50}" dc-dimension="workWeekDimensionForZoom" dc-group="workWeekDimensionGroupForZoom" dc-center-bar="true" dc-x-axis-label="\'Select the work week interval on the graph (click somewhere for the start, hold the click, move and release on the end)\'" dc-y-axis-label="\'Number of false negatives\'" dc-post-setup-chart="wwSetupForZoom" dc-x="d3.time.scale().domain([minDate, maxDate])" dc-x-units="d3.time.weeks" dc-always-use-rounding="true" class="dc-chart"></div></div><div class="row"><div class="col-md-12"></div><div dc-chart="compositeChart" dc-width="1000" dc-height="500" dc-margins="{top:50, right:10, bottom:50, left:50}" dc-dimension="workWeekDimension" dc-group="workWeekDimensionGroup" dc-x-axis-label="\'Evolution of False Negatives per work week in CWS\'" dc-elastic-y="true" dc-legend="dc.legend().x(75).y(0).legendWidth(900).horizontal(1).itemWidth(200)" dc-y-axis-padding="\'10%\'" dc-render-horizontal-grid-lines="true" dc-post-setup-chart="compositeChartOptions(\'ft_cws\')" dc-x="d3.scale.ordinal(workWeekDimensionGroup)" dc-x-units="dc.units.ordinal" dc-round="dc.round.floor" dc-always-use-rounding="true" class="dc-chart"></div></div><div class="row"><div class="col-md-12"></div><div dc-chart="compositeChart" dc-width="1000" dc-height="500" dc-margins="{top:50, right:10, bottom:50, left:50}" dc-dimension="workWeekDimension" dc-group="workWeekDimensionGroup" dc-x-axis-label="\'Evolution of False Negatives per work week in EM\'" dc-elastic-y="true" dc-legend="dc.legend().x(75).y(0).legendWidth(900).horizontal(1).itemWidth(200)" dc-y-axis-padding="\'10%\'" dc-render-horizontal-grid-lines="true" dc-post-setup-chart="compositeChartOptions(\'ft_em\')" dc-x="d3.scale.ordinal(workWeekDimensionGroup)" dc-x-units="dc.units.ordinal" dc-round="dc.round.floor" dc-always-use-rounding="true" class="dc-chart"></div></div><div class="row"><div class="col-md-12"></div><div dc-chart="compositeChart" dc-width="1000" dc-height="500" dc-margins="{top:50, right:10, bottom:50, left:50}" dc-dimension="workWeekDimension" dc-group="workWeekDimensionGroup" dc-x-axis-label="\'Evolution of False Negatives per work week in Graphics\'" dc-elastic-y="true" dc-legend="dc.legend().x(75).y(0).legendWidth(900).horizontal(1).itemWidth(200)" dc-y-axis-padding="\'10%\'" dc-render-horizontal-grid-lines="true" dc-post-setup-chart="compositeChartOptions(\'ft_graphics\')" dc-x="d3.scale.ordinal(workWeekDimensionGroup)" dc-x-units="dc.units.ordinal" dc-round="dc.round.floor" dc-always-use-rounding="true" class="dc-chart"></div></div><div class="row"><div class="col-md-12"></div><div dc-chart="compositeChart" dc-width="1000" dc-height="500" dc-margins="{top:50, right:10, bottom:50, left:50}" dc-dimension="workWeekDimension" dc-group="workWeekDimensionGroup" dc-x-axis-label="\'Evolution of False Negatives per work week in Camera\'" dc-elastic-y="true" dc-legend="dc.legend().x(75).y(0).legendWidth(900).horizontal(1).itemWidth(200)" dc-y-axis-padding="\'10%\'" dc-render-horizontal-grid-lines="true" dc-post-setup-chart="compositeChartOptions(\'ft_imaging_camera\')" dc-x="d3.scale.ordinal(workWeekDimensionGroup)" dc-x-units="dc.units.ordinal" dc-round="dc.round.floor" dc-always-use-rounding="true" class="dc-chart"></div></div><div class="row"><div class="col-md-12"></div><div dc-chart="compositeChart" dc-width="1000" dc-height="500" dc-margins="{top:50, right:10, bottom:50, left:50}" dc-dimension="workWeekDimension" dc-group="workWeekDimensionGroup" dc-x-axis-label="\'Evolution of False Negatives per work week in IO Sensor\'" dc-elastic-y="true" dc-legend="dc.legend().x(75).y(0).legendWidth(900).horizontal(1).itemWidth(200)" dc-y-axis-padding="\'10%\'" dc-render-horizontal-grid-lines="true" dc-post-setup-chart="compositeChartOptions(\'ft_io_sensor\')" dc-x="d3.scale.ordinal(workWeekDimensionGroup)" dc-x-units="dc.units.ordinal" dc-round="dc.round.floor" dc-always-use-rounding="true" class="dc-chart"></div></div><div class="row"><div class="col-md-12"></div><div dc-chart="compositeChart" dc-width="1000" dc-height="500" dc-margins="{top:50, right:10, bottom:50, left:50}" dc-dimension="workWeekDimension" dc-group="workWeekDimensionGroup" dc-x-axis-label="\'Evolution of False Negatives per work week in Power Management\'" dc-elastic-y="true" dc-legend="dc.legend().x(75).y(0).legendWidth(900).horizontal(1).itemWidth(200)" dc-y-axis-padding="\'10%\'" dc-render-horizontal-grid-lines="true" dc-post-setup-chart="compositeChartOptions(\'ft_power_management\')" dc-x="d3.scale.ordinal(workWeekDimensionGroup)" dc-x-units="dc.units.ordinal" dc-round="dc.round.floor" dc-always-use-rounding="true" class="dc-chart"></div></div><div class="row"><div class="col-md-12"></div><div dc-chart="compositeChart" dc-width="1000" dc-height="500" dc-margins="{top:50, right:10, bottom:50, left:50}" dc-dimension="workWeekDimension" dc-group="workWeekDimensionGroup" dc-x-axis-label="\'Evolution of False Negatives per work week in Pupdr flashing\'" dc-elastic-y="true" dc-legend="dc.legend().x(75).y(0).legendWidth(900).horizontal(1).itemWidth(200)" dc-y-axis-padding="\'10%\'" dc-render-horizontal-grid-lines="true" dc-post-setup-chart="compositeChartOptions(\'ft_pupdr_flashing\')" dc-x="d3.scale.ordinal(workWeekDimensionGroup)" dc-x-units="dc.units.ordinal" dc-round="dc.round.floor" dc-always-use-rounding="true" class="dc-chart"></div></div><div class="row"><div class="col-md-12"></div><div dc-chart="compositeChart" dc-width="1000" dc-height="500" dc-margins="{top:50, right:10, bottom:50, left:50}" dc-dimension="workWeekDimension" dc-group="workWeekDimensionGroup" dc-x-axis-label="\'Evolution of False Negatives per work week in Security\'" dc-elastic-y="true" dc-legend="dc.legend().x(75).y(0).legendWidth(900).horizontal(1).itemWidth(200)" dc-y-axis-padding="\'10%\'" dc-render-horizontal-grid-lines="true" dc-post-setup-chart="compositeChartOptions(\'ft_security\')" dc-x="d3.scale.ordinal(workWeekDimensionGroup)" dc-x-units="dc.units.ordinal" dc-round="dc.round.floor" dc-always-use-rounding="true" class="dc-chart"></div></div><div class="row"><div class="col-md-12"></div><div dc-chart="compositeChart" dc-width="1000" dc-height="500" dc-margins="{top:50, right:10, bottom:50, left:50}" dc-dimension="workWeekDimension" dc-group="workWeekDimensionGroup" dc-x-axis-label="\'Evolution of False Negatives per work week in Telephony\'" dc-elastic-y="true" dc-legend="dc.legend().x(75).y(0).legendWidth(900).horizontal(1).itemWidth(200)" dc-y-axis-padding="\'10%\'" dc-render-horizontal-grid-lines="true" dc-post-setup-chart="compositeChartOptions(\'ft_telephony\')" dc-x="d3.scale.ordinal(workWeekDimensionGroup)" dc-x-units="dc.units.ordinal" dc-round="dc.round.floor" dc-always-use-rounding="true" class="dc-chart"></div></div><div class="row"><div class="col-md-12"></div><div dc-chart="compositeChart" dc-width="1000" dc-height="500" dc-margins="{top:50, right:10, bottom:50, left:50}" dc-dimension="workWeekDimension" dc-group="workWeekDimensionGroup" dc-x-axis-label="\'Evolution of False Negatives per work week in Usb Storage\'" dc-elastic-y="true" dc-legend="dc.legend().x(75).y(0).legendWidth(900).horizontal(1).itemWidth(200)" dc-y-axis-padding="\'10%\'" dc-render-horizontal-grid-lines="true" dc-post-setup-chart="compositeChartOptions(\'ft_usb_storage\')" dc-x="d3.scale.ordinal(workWeekDimensionGroup)" dc-x-units="dc.units.ordinal" dc-round="dc.round.floor" dc-always-use-rounding="true" class="dc-chart"></div></div><div class="row"><div class="col-md-12"></div><div dc-chart="compositeChart" dc-width="1000" dc-height="500" dc-margins="{top:50, right:10, bottom:50, left:50}" dc-dimension="workWeekDimension" dc-group="workWeekDimensionGroup" dc-x-axis-label="\'Evolution of False Negatives per work week in video\'" dc-elastic-y="true" dc-legend="dc.legend().x(75).y(0).legendWidth(900).horizontal(1).itemWidth(200)" dc-y-axis-padding="\'10%\'" dc-render-horizontal-grid-lines="true" dc-post-setup-chart="compositeChartOptions(\'ft_video\')" dc-x="d3.scale.ordinal(workWeekDimensionGroup)" dc-x-units="dc.units.ordinal" dc-round="dc.round.floor" dc-always-use-rounding="true" class="dc-chart"></div></div><div class="row"><div class="col-md-12"></div><div dc-chart="barChart" dc-width="1000" dc-height="500" dc-margins="{top:10, right:10, bottom:50, left:50}" dc-dimension="workWeekDimension" dc-group="workWeekDimensionGroup" dc-x-axis-label="\'Measure of reliability per work week\'" dc-elastic-y="true" dc-legend="dc.legend().x(75).y(0).legendWidth(900).horizontal(1).itemWidth(200)" dc-y-axis-padding="\'10%\'" dc-render-horizontal-grid-lines="true" dc-post-setup-chart="wwSetup" dc-x="d3.scale.ordinal(workWeekDimensionGroup)" dc-x-units="dc.units.ordinal" dc-round="dc.round.floor" dc-always-use-rounding="true" class="dc-chart"></div></div><div class="row"><div class="col-md-6"></div><div dc-chart="barChart" dc-width="1000" dc-height="500" dc-margins="{top:10, right:10, bottom:100, left:50}" dc-dimension="domainDimension" dc-group="domainDimensionGroup" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Measure of reliability per domain\'" dc-round="dc.round.floor" dc-elastic-y="true" dc-always-use-rounding="true" dc-legend="dc.legend().x(75).y(0).legendWidth(900).horizontal(1).itemWidth(200)" dc-y-axis-padding="\'10%\'" dc-render-horizontal-grid-lines="true" dc-post-setup-chart="domainSetup" class="dc-chart"></div></div><div class="row"><div class="col-md-6"></div><div dc-chart="barChart" dc-width="1000" dc-height="600" dc-margins="{top:10, right:10, bottom:300, left:50}" dc-dimension="platformDimension" dc-group="platformDimensionGroup" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Measure of reliability per platform\'" dc-round="dc.round.floor" dc-elastic-y="true" dc-always-use-rounding="true" dc-legend="dc.legend().x(75).y(0).legendWidth(900).horizontal(1).itemWidth(200)" dc-y-axis-padding="\'10%\'" dc-render-horizontal-grid-lines="true" dc-post-setup-chart="platformSetup" class="dc-chart"></div><div class="col-md-6"></div><div dc-chart="barChart" dc-width="1000" dc-height="600" dc-margins="{top:10, right:10, bottom:50, left:50}" dc-dimension="tcDimension" dc-group="tcDimensionGroup" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Measure of reliability per test case\'" dc-round="dc.round.floor" dc-elastic-y="true" dc-always-use-rounding="true" dc-legend="dc.legend().x(75).y(0).legendWidth(900).horizontal(1).itemWidth(200)" dc-y-axis-padding="\'10%\'" dc-render-horizontal-grid-lines="true" dc-post-setup-chart="tcSetup" class="dc-chart"></div></div><div class="row"><div class="col-md-6"></div><div dc-chart="barChart" dc-width="1000" dc-height="600" dc-margins="{top:10, right:10, bottom:300, left:50}" dc-dimension="builderDimension" dc-group="builderDimensionGroup" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Measure of reliability per builder\'" dc-round="dc.round.floor" dc-elastic-y="true" dc-always-use-rounding="true" dc-legend="dc.legend().x(75).y(0).legendWidth(900).horizontal(1).itemWidth(200)" dc-y-axis-padding="\'10%\'" dc-render-horizontal-grid-lines="true" dc-post-setup-chart="builderSetup" class="dc-chart"></div></div><h4>Associated tests</h4><div class="row"><div class="col-md-12"><table dc-chart="dataTable" dc-dimension="workWeekDimension" dc-group="tableGroup" dc-size="100" dc-post-setup-chart="tablePostFormat" class="table table-hover dc-data-table"><thead><tr class="header"><th>build</th><th>platform</th><th>domain</th><th>testcase (TH)</th><th>testcase (autom)</th><th>verdictType</th></tr></thead></table></div></div></div></div>'),e.put("views/postcommit_tc_re_execution_we_can_avoid.html",'<div class="container"><div ng-if="!loading"><div class="row"><div class="col-md-12">Filters:<p><dc-select dc-dimension="campaignDimension" all-label="All campaigns"></dc-select></p><p><dc-select dc-dimension="boardProductDimension" all-label="All board products"></dc-select></p><p><a href="javascript:" ng-click="renderAll()">&nbsp;Sort</a></p><p><a href="javascript:" ng-click="resetAll()">&nbsp;Reset</a></p></div></div><div class="row"><div class="col-md-12"><div dc-chart="barChart" dc-width="1000" dc-height="500" dc-margins="{top:10, right:10, bottom:50, left:50}" dc-dimension="wwDimension" dc-group="wwDimensionGroup" dc-center-bar="true" dc-x-axis-label="\'Select the work week interval on the graph (click somewhere for the start, hold the click, move and release on the end) \'" dc-y-axis-label="\'Number of manual test case execution we can avoid\'" dc-x="d3.time.scale().domain([minDate, maxDate])" dc-x-units="d3.time.weeks" dc-post-setup-chart="wwSetupForZoom" dc-elastic-y="true" dc-always-use-rounding="true" class="dc-chart"></div></div></div><div class="row"><div class="col-md-12"><div dc-chart="barChart" dc-width="1000" dc-height="500" dc-margins="{top:10, right:10, bottom:50, left:50}" dc-dimension="wwbDimension" dc-group="wwbDimensionGroup" dc-center-bar="true" dc-x-axis-label="\'Intel WW\'" dc-y-axis-label="\'Number of manual test case execution we cannot avoid\'" dc-x="d3.scale.ordinal(wwbDimensionGroup)" dc-post-setup-chart="wwbSetup" dc-x-units="dc.units.ordinal" dc-elastic-y="true" dc-always-use-rounding="true" class="dc-chart"></div></div></div><div class="row"><div class="col-md-12"><div dc-chart="barChart" dc-width="1000" dc-height="500" dc-margins="{top:10, right:10, bottom:50, left:50}" dc-dimension="campaignDimension" dc-group="campaignDimensionGroup" dc-center-bar="true" dc-x-axis-label="\'The number of manual test case execution we can avoid per campaign\'" dc-y-axis-label="\'Number of manual test case execution we can avoid\'" dc-x="d3.scale.ordinal(campaignDimensionGroup)" dc-x-units="dc.units.ordinal" dc-post-setup-chart="campaignSetup" dc-elastic-y="true" dc-always-use-rounding="true" class="dc-chart"></div></div></div><div class="row"><div class="col-md-12"><div dc-chart="barChart" dc-width="1000" dc-height="500" dc-margins="{top:10, right:10, bottom:50, left:50}" dc-dimension="boardProductDimension" dc-group="boardProductDimensionGroup" dc-center-bar="true" dc-x-axis-label="\'The number of manual test case execution we can avoid per boardProduct\'" dc-y-axis-label="\'Number of manual test case execution we can avoid\'" dc-x="d3.scale.ordinal(boardProductDimensionGroup)" dc-x-units="dc.units.ordinal" dc-post-setup-chart="boardProductSetup" dc-elastic-y="true" dc-always-use-rounding="true" class="dc-chart"></div></div></div><div class="row"><div class="col-md-12"><div dc-chart="barChart" dc-width="1000" dc-height="500" dc-margins="{top:10, right:10, bottom:50, left:50}" dc-dimension="buildIdDimension" dc-group="buildIdDimensionGroup" dc-center-bar="true" dc-x-axis-label="\'The number of manual test case execution we can avoid per build\'" dc-y-axis-label="\'Number of manual test case execution we can avoid\'" dc-x="d3.scale.ordinal(buildIdDimensionGroup)" dc-x-units="dc.units.ordinal" dc-post-setup-chart="buildIdSetup" dc-elastic-y="true" dc-always-use-rounding="true" class="dc-chart"></div></div></div><div class="row"><div class="col-md-12"><div dc-chart="barChart" dc-width="1000" dc-height="500" dc-margins="{top:10, right:10, bottom:50, left:50}" dc-dimension="tcDimension" dc-group="tcDimensionGroup" dc-center-bar="true" dc-x-axis-label="\'The number of manual test case execution we can avoid per tc\'" dc-y-axis-label="\'Number of manual test case execution we can avoid\'" dc-x="d3.scale.ordinal(tcDimensionGroup)" dc-x-units="dc.units.ordinal" dc-post-setup-chart="tcSetup" dc-elastic-y="true" dc-always-use-rounding="true" class="dc-chart"></div></div></div><h4>Associated tests<div class="row"><div class="col-md-12"><table dc-chart="dataTable" dc-dimension="wwbDimension" dc-group="tableGroup" dc-size="1000" dc-post-setup-chart="tablePostFormat" class="table table-hover dc-data-table"><thead><tr class="header"><th>build</th><th>campaign</th><th>test case name</th><th>board product</th><th>date</th><th>last successfull execution</th></tr></thead></table></div></div></h4></div></div>'),e.put("views/preint_regs.html",'<div class="container"><div ng-if="!loading"><div class="row"><div class="col-md-6"><label>From:</label><p class="input-group"><input type="text" datepicker-popup="{{date_picker.format}}" ng-model="date_picker.dateHandler.fromDate" is-open="date_picker.datepicker.opened" datepicker-options="date_picker.dateOptions" min-date="date_picker.minDate" max-date="date_picker.maxDate" ng-required="true" clear="clear" clear-text="Default" close-text="Close" close-on-date-selection="false" starting-day="0" class="form-control"/><span class="input-group-btn"><button type="button" ng-click="date_picker.open($event)" class="btn btn-default"><i class="glyphicon glyphicon-calendar"></i></button></span></p></div><div class="col-md-6"><label>To:</label><p class="input-group"><input type="text" datepicker-popup="{{date_picker.format}}" ng-model="date_picker.dateHandler.toDate" is-open="date_picker.datepicker.opened" datepicker-options="date_picker.dateOptions" min-date="date_picker.dateHandler.fromDate" max-date="date_picker.maxDate" ng-required="true" clear-text="Default" close-text="Close" close-on-date-selection="false" starting-day="0" class="form-control"/><span class="input-group-btn"><button type="button" ng-click="date_picker.open($event)" class="btn btn-default"><i class="glyphicon glyphicon-calendar"></i></button></span></p></div></div><div class="row"><div class="col-md-12">Filters:<label>Verdicts<p isteven-multi-select="isteven-multi-select" input-model="ui_params.verdicts" output-model="drop_down_verdicts" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="filter(ui_params.verdicts, verdict_dimension)"></p></label><label>Type of tests<p isteven-multi-select="isteven-multi-select" input-model="ui_params.type_of_tests" output-model="drop_down_type_of_tests" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="filter(ui_params.type_of_tests, type_of_test_dimension)"></p></label><label>Branches<p isteven-multi-select="isteven-multi-select" input-model="ui_params.branches" output-model="drop_down_branches" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="filter(ui_params.branches, branch_dimension)"></p></label></div></div><div class="row"><div class="col-md-12"><center><strong>Number of {{ builder }} failed due to unreliable verdicts</strong></center></div></div><div class="row"><div dc-chart="seriesChart" dc-width="990" dc-height="250" dc-margins="{top:10, right:10, bottom:70, left:50}" dc-dimension="date_for_builds" dc-group="builds_failed_false_neg" dc-x-axis-label="\'Date\'" dc-y-axis-label="\'Unreliable failure (%)\'" dc-x-units="d3.time.days" dc-round="dc.round.floor" dc-elastic-y="true" dc-y-axis-min="0" dc-y-axis-max="100" dc-always-use-rounding="true" dc-render-horizontal-grid-lines="true" dc-y-axis-padding="\'5%\'" dc-brush-on="false" dc-legend="dc.legend().x(60).y(0).legendWidth(510).horizontal(true).autoItemWidth(true)" dc-post-setup-chart="lost_metabuild_setup" class="dc-chart"></div></div><div class="row"><div class="col-md-12"><center><strong>Time lost in {{ builder }} due to unreliable verdicts per week</strong></center></div></div><div class="row"><div dc-chart="seriesChart" dc-width="990" dc-height="250" dc-margins="{top:10, right:10, bottom:70, left:50}" dc-dimension="date_for_ww" dc-group="lost_time_due_to_unreliability" dc-x-axis-label="\'Date\'" dc-y-axis-label="\'Time lost (h)\'" dc-x="d3.scale.ordinal(date_for_ww)" dc-x-units="dc.units.ordinal" dc-round="dc.round.floor" dc-elastic-y="true" dc-render-horizontal-grid-lines="true" dc-y-axis-padding="\'5%\'" dc-brush-on="false" dc-always-use-rounding="true" dc-legend="dc.legend().x(60).y(0).legendWidth(510).horizontal(true).autoItemWidth(true)" dc-post-setup-chart="lost_time_chart" class="dc-chart"></div></div><div class="row"><div class="col-md-12"><center><strong>Number of {{ builder }} that filtered regressions</strong></center></div></div><div class="row"><div dc-chart="seriesChart" dc-width="990" dc-height="250" dc-margins="{top:10, right:10, bottom:70, left:50}" dc-dimension="date_for_builds" dc-group="builds_failed_false_neg" dc-x-axis-label="\'Date\'" dc-y-axis-label="\'Reliable failure (%)\'" dc-x-units="d3.time.days" dc-round="dc.round.floor" dc-elastic-y="true" dc-y-axis-min="0" dc-y-axis-max="100" dc-always-use-rounding="true" dc-render-horizontal-grid-lines="true" dc-y-axis-padding="\'5%\'" dc-brush-on="false" dc-legend="dc.legend().x(60).y(0).legendWidth(510).horizontal(true).autoItemWidth(true)" dc-post-setup-chart="win_metabuild_setup" class="dc-chart"></div></div><div class="row"><div class="col-md-12"><center><strong>Comparison with optimal execution (tests executed when regressions are found only)</strong></center></div></div><div class="row"><div dc-chart="lineChart" dc-width="990" dc-height="250" dc-margins="{top:10, right:10, bottom:50, left:50}" dc-dimension="ww_dim" dc-x="d3.scale.ordinal(ww_dim)" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Work Week (Year.WW)\'" dc-legend="dc.legend().x(75).y(0)" dc-elastic-y="true" dc-render-area="true" dc-y-axis-label="\'Time (hour)\'" dc-post-setup-chart="comparison_with_optimal_execution" class="dc-chart"></div></div><div class="row"><div class="col-md-12"><center><strong>Number of {{ builder }} failures (per category)</strong></center></div></div><div class="row"><div dc-chart="barChart" dc-width="990" dc-height="500" dc-margins="{top:10, right:10, bottom:70, left:50}" dc-dimension="ww_dim" dc-group="meta_failure_category" dc-x-axis-label="\'Work Week (Year.WW)\'" dc-y-axis-label="\'Count\'" dc-x="d3.scale.ordinal(ww_dim)" dc-x-units="dc.units.ordinal" dc-elastic-y="true" dc-always-use-rounding="true" dc-legend="dc.legend().x(75).y(0).legendWidth(800).horizontal(1).itemWidth(150)" dc-y-axis-padding="\'10%\'" dc-render-horizontal-grid-lines="true" dc-brush-on="false" dc-post-setup-chart="metafailure_category_setup" class="dc-chart"></div></div><div class="row"><div class="col-md-12"><center><strong>Number of regressions</strong></center></div></div><div class="row"><div dc-chart="barChart" dc-width="990" dc-height="500" dc-margins="{top:10, right:10, bottom:70, left:50}" dc-dimension="date_dimension" dc-group="date_per_result_dim_grp" dc-x-axis-label="\'Date\'" dc-y-axis-label="\'Count\'" dc-x-units="d3.time.days" dc-round="dc.round.floor" dc-elastic-y="true" dc-always-use-rounding="true" dc-legend="dc.legend().x(75).y(0).legendWidth(800).horizontal(1).itemWidth(150)" dc-y-axis-padding="\'10%\'" dc-render-horizontal-grid-lines="true" dc-brush-on="false" dc-post-setup-chart="regression_setup" class="dc-chart"></div></div><div class="row"><table dc-chart="dataTable" dc-dimension="weekly_dimension" dc-group="table_group" dc-width="990" dc-size="1000" dc-post-setup-chart="table_post_format" class="table table-hover dc-data-table"><thead><tr class="header"><th>DATE</th><th>BRANCH</th><th>metabuilder</th><th>Type of test</th><th>Product</th><th>Slavename</th><th>Build</th><th>Result</th><th>Regression detection status</th><th>Build submitters Email</th><th>Other successfull builds with same changes</th><th>Other failed builds with same changes</th></tr></thead></table></div></div></div>'),e.put("views/preint_tests.html",'<div class="container"><div ng-if="!loading"><div class="row"><div class="col-md-3"><label>Campaign<p isteven-multi-select="isteven-multi-select" input-model="ui_params.campaigns" output-model="drop_down_campaign" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="set_campaigns()"></p></label></div><div class="col-md-4"><label>From:</label><p class="input-group"><input type="text" datepicker-popup="{{date_picker.format}}" ng-model="date_picker.dateHandler.fromDate" is-open="date_picker.datepicker.opened" datepicker-options="date_picker.dateOptions" min-date="date_picker.minDate" max-date="date_picker.maxDate" ng-required="true" clear="clear" clear-text="Default" close-text="Close" close-on-date-selection="false" starting-day="0" class="form-control"/><span class="input-group-btn"><button type="button" ng-click="date_picker.open($event)" class="btn btn-default"><i class="glyphicon glyphicon-calendar"></i></button></span></p></div><div class="col-md-4"><label>To:</label><p class="input-group"><input type="text" datepicker-popup="{{date_picker.format}}" ng-model="date_picker.dateHandler.toDate" is-open="date_picker.datepicker.opened" datepicker-options="date_picker.dateOptions" min-date="date_picker.dateHandler.fromDate" max-date="date_picker.maxDate" ng-required="true" clear-text="Default" close-text="Close" close-on-date-selection="false" starting-day="0" class="form-control"/><span class="input-group-btn"><button type="button" ng-click="date_picker.open($event)" class="btn btn-default"><i class="glyphicon glyphicon-calendar"></i></button></span></p></div></div><div class="row"><div class="col-md-3">Filters:<label ng-if="display_builder_filter">Builder<p isteven-multi-select="isteven-multi-select" input-model="ui_params.builders" output-model="drop_down_builders" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="filter(ui_params.builders, builder_dimension)"></p></label><label>Testcase<p isteven-multi-select="isteven-multi-select" input-model="ui_params.testcases" output-model="drop_down_testcase" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="filter(ui_params.testcases, tc_dimension)"></p></label><label>Branches<p isteven-multi-select="isteven-multi-select" input-model="ui_params.branches" output-model="drop_down_branch" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="set_branches()"></p></label><label>Board Types<p isteven-multi-select="isteven-multi-select" input-model="ui_params.board_types" output-model="drop_down_bpt" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="set_board_types()"></p></label><label>Board Products<p isteven-multi-select="isteven-multi-select" input-model="ui_params.board_products" output-model="drop_down_bp" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="filter(ui_params.board_products, bp_dimension)"></p></label><label>Sites<p isteven-multi-select="isteven-multi-select" input-model="ui_params.sites" output-model="drop_down_site" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="set_slaves()"></p></label><label>Test Slaves<p isteven-multi-select="isteven-multi-select" input-model="ui_params.slaves" output-model="drop_down_slave" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="filter(ui_params.slaves, slave_dimension)"></p></label><label>Verdicts<p isteven-multi-select="isteven-multi-select" input-model="ui_params.verdicts" output-model="drop_down_verdict" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="filter(ui_params.verdicts, verdict_dimension)"></p></label></div><div class="col-md-3 col-md-offset-1"><div><center><trend trend="trend_val" up="resultAndColors.PASSED" down="resultAndColors.FAILED" same="resultAndColors.NA"></trend><strong>Avg Execution Status</strong><div dc-chart="pieChart" dc-width="300" dc-height="250" dc-cx="180" dc-yx="90" dc-radius="100" dc-inner-radius="60" dc-dimension="result_dimension" dc-group="result_dimension_group" dc-legend="dc.legend().x(0).y(0)" dc-post-setup-chart="label_donut_chart" class="dc-chart"></div></center></div></div><div class="col-md-3-centered col-md-offset-1"><a ng-href="{{csvUrl}}"><img src="img/csv.gif"/></a>&nbsp;&nbsp;&nbsp;<a ng-href="{{sqlUrl}}" target="_blank"><img src="img/sql.png"/></a></div></div><a href="javascript:" ng-click="resetAll()">&nbsp;Reset All</a><div class="row"><div class="col-md-12"><center><strong>Test cases overall execution pass rate (%)</strong></center></div></div><div class="row"><div dc-chart="lineChart" dc-width="990" dc-height="250" dc-margins="{top:10, right:10, bottom:70, left:50}" dc-dimension="date_dimension_bis" dc-group="date_pass_rate_grp" dc-x-axis-label="\'Date\'" dc-y-axis-label="\'Passrate (%)\'" dc-x-units="d3.time.days" dc-round="dc.round.floor" dc-elastic-y="true" dc-y-axis-min="0" dc-y-axis-max="100" dc-always-use-rounding="true" dc-render-horizontal-grid-lines="true" dc-y-axis-padding="\'5%\'" dc-brush-on="false" dc-post-setup-chart="line_execution_setup" class="dc-chart"></div></div><div class="row"><div class="col-md-12"><center><strong>Test cases overall execution pass rate per board product (%)</strong></center></div></div><div class="row"><div dc-chart="seriesChart" dc-width="990" dc-height="330" dc-margins="{top:30, right:10, bottom:70, left:50}" dc-dimension="date_bp" dc-group="date_bp_pass_rate_grp" dc-x-axis-label="\'Date\'" dc-y-axis-label="\'Passrate (%)\'" dc-x-units="d3.time.days" dc-round="dc.round.floor" dc-elastic-y="true" dc-y-axis-min="0" dc-y-axis-max="100" dc-always-use-rounding="true" dc-render-horizontal-grid-lines="true" dc-y-axis-padding="\'5%\'" dc-brush-on="false" dc-legend="dc.legend().x(75).y(0).legendWidth(900).horizontal(1).itemWidth(200)" dc-post-setup-chart="line_bp_execution_setup" class="dc-chart"></div></div><div class="row"><div class="col-md-12"><center><strong>Test cases overall execution duration per board product (min)</strong></center></div></div><div class="row"><div dc-chart="seriesChart" dc-width="990" dc-height="330" dc-margins="{top:30, right:10, bottom:70, left:50}" dc-dimension="date_bp" dc-group="date_bp_pass_rate_grp" dc-x-axis-label="\'Date\'" dc-y-axis-label="\'Duration (min)\'" dc-x-units="d3.time.days" dc-round="dc.round.floor" dc-elastic-y="true" dc-y-axis-min="0" dc-always-use-rounding="true" dc-render-horizontal-grid-lines="true" dc-y-axis-padding="\'5%\'" dc-brush-on="false" dc-legend="dc.legend().x(75).y(0).legendWidth(800).horizontal(1).itemWidth(200)" dc-post-setup-chart="line_bp_avg_execution_setup" class="dc-chart"></div></div><div ng-if="per_build"><div class="row"><div class="col-md-12"><center><strong>Test cases overall execution pass rate per build (%)</strong></center></div></div><div class="row"><div dc-chart="lineChart" dc-width="990" dc-height="330" dc-margins="{top:10, right:10, bottom:70, left:50}" dc-dimension="build_dimension" dc-group="build_pass_rate_grp" dc-x-axis-label="\'Build\'" dc-y-axis-label="\'Passrate (%)\'" dc-x="d3.scale.ordinal(build_dimension)" dc-x-units="dc.units.ordinal" dc-round="dc.round.floor" dc-elastic-y="true" dc-y-axis-min="0" dc-y-axis-max="100" dc-always-use-rounding="true" dc-render-horizontal-grid-lines="true" dc-y-axis-padding="\'5%\'" dc-brush-on="false" dc-post-setup-chart="build_line_execution_setup" class="dc-chart"></div></div></div><div ng-if="per_slave"><div class="row"><div class="col-md-12"><center><strong>Test cases overall execution pass rate per slave (%)</strong></center></div></div><div class="row"><div dc-chart="lineChart" dc-width="990" dc-height="330" dc-margins="{top:10, right:10, bottom:70, left:50}" dc-dimension="slave_dimension" dc-group="slave_pass_rate_grp" dc-x-axis-label="\'Slave\'" dc-y-axis-label="\'Passrate (%)\'" dc-x="d3.scale.ordinal(slave_dimension)" dc-x-units="dc.units.ordinal" dc-round="dc.round.floor" dc-elastic-y="true" dc-y-axis-min="0" dc-y-axis-max="100" dc-always-use-rounding="true" dc-render-horizontal-grid-lines="true" dc-y-axis-padding="\'5%\'" dc-brush-on="false" dc-post-setup-chart="slave_line_execution_setup" class="dc-chart"></div></div></div><div class="row"><div class="col-md-12"><center><strong>Test cases overall execution status</strong></center></div></div><div class="row"><div dc-chart="barChart" dc-width="990" dc-height="500" dc-margins="{top:10, right:10, bottom:70, left:50}" dc-dimension="date_dimension" dc-group="date_per_result_dim_grp" dc-x-axis-label="\'Date\'" dc-y-axis-label="\'Count\'" dc-x-units="d3.time.days" dc-round="dc.round.floor" dc-elastic-y="true" dc-always-use-rounding="true" dc-legend="dc.legend().x(75).y(0).legendWidth(800).horizontal(1).itemWidth(200)" dc-y-axis-padding="\'10%\'" dc-render-horizontal-grid-lines="true" dc-brush-on="false" dc-post-setup-chart="test_execution_setup" class="dc-chart"></div></div><div class="row"><div class="col-md-12"><center><strong>Planner\'s WARNING feature efficiency on test_campaign build results</strong></center></div></div><div class="row"><div dc-chart="barChart" dc-width="990" dc-height="500" dc-margins="{top:10, right:10, bottom:70, left:50}" dc-dimension="date_dimension" dc-group="avoided_failures_dim_grp" dc-x-axis-label="\'Date\'" dc-y-axis-label="\'Count\'" dc-x-units="d3.time.days" dc-round="dc.round.floor" dc-elastic-y="true" dc-always-use-rounding="true" dc-legend="dc.legend().x(75).y(0).legendWidth(800).horizontal(1).itemWidth(250)" dc-y-axis-padding="\'10%\'" dc-render-horizontal-grid-lines="true" dc-brush-on="false" dc-post-setup-chart="planner_setup" class="dc-chart"></div></div><div class="row"><div dc-chart="barChart" dc-width="990" dc-height="550" dc-margins="{top:60, right:10, bottom:70, left:50}" dc-dimension="date_dimension" dc-group="avoided_failures_dim_grp" dc-x-axis-label="\'Date\'" dc-y-axis-label="\'Testcases that failed the build\'" dc-x-units="d3.time.days" dc-round="dc.round.floor" dc-elastic-y="true" dc-always-use-rounding="true" dc-legend="dc.legend().x(75).y(0).legendWidth(800).horizontal(1).itemWidth(250)" dc-y-axis-padding="\'10%\'" dc-render-horizontal-grid-lines="true" dc-brush-on="false" dc-post-setup-chart="tc_that_fail_setup" class="dc-chart"></div></div><div class="row"><div dc-chart="lineChart" dc-width="990" dc-height="500" dc-margins="{top:10, right:10, bottom:70, left:50}" dc-dimension="date_dimension" dc-group="cumulative_avoided" dc-x-axis-label="\'Date\'" dc-y-axis-label="\'Cumulative count of avoided failures\'" dc-x-units="d3.time.days" dc-round="dc.round.floor" dc-elastic-y="true" dc-always-use-rounding="true" dc-y-axis-padding="\'10%\'" dc-render-horizontal-grid-lines="true" dc-brush-on="false" dc-post-setup-chart="cumulative_setup" class="dc-chart"></div></div><div class="row"><div class="col-md-12"><center><strong>Test case pass rate (%)</strong></center><div dc-chart="rowChart" dc-width="990" dc-dimension="tc_dimension" dc-group="tc_grp" dc-post-setup-chart="tc_exec_status_setup" class="dc-chart"></div></div></div><div class="row"><table class="table table-striped table-bordered table-hover table-condensed col-md-12"><caption><h2>Test case status</h2></caption><tr><th class="col-md-2">Name</th><th class="col-md-5">Test Case pass rate</th><th ng-if="tc_details_status" class="col-md-5">Test Case average execution time (by board product)</th></tr><tr ng-repeat="tc in choice.testcases | filter:display_tc | orderBy:\'position\'"><td class="col-md-2">{{ tc.name }}</td><td class="col-md-5"><div ng-if="!tc_details_status" ng-show="tc.graph_computed"><div dc-chart="lineChart" dc-width="600" dc-height="200" dc-margins="{top:10, right:10, bottom:50, left:30}" dc-dimension="tc.pass_rate.dimension" dc-group="tc.pass_rate.group" dc-x-axis-label="\'Date\'" dc-y-axis-label="\'Pass rate (%)\'" dc-x-units="d3.time.days" dc-round="dc.round.floor" dc-elastic-y="true" dc-y-axis-min="0" dc-y-axis-max="100" dc-y-axis-padding="\'10%\'" dc-brush-on="false" dc-render-horizontal-grid-lines="true" dc-post-setup-chart="tc.pass_rate.post_setup_chart" class="dc-chart"></div></div><div ng-if="tc_details_status" ng-show="tc.graph_computed"><div dc-chart="seriesChart" dc-width="600" dc-height="200" dc-margins="{top:10, right:10, bottom:50, left:30}" dc-dimension="tc.pass_rate.dimension" dc-group="tc.pass_rate.group" dc-x-axis-label="\'Date\'" dc-y-axis-label="\'Pass rate (%)\'" dc-x-units="d3.time.days" dc-elastic-y="true" dc-y-axis-min="0" dc-y-axis-max="100" dc-brush-on="false" dc-always-use-rounding="true" dc-render-horizontal-grid-lines="true" dc-legend="dc.legend().x(60).y(0).legendWidth(510).horizontal(true).autoItemWidth(true)" dc-y-axis-padding="\'25%\'" dc-post-setup-chart="tc.pass_rate.post_setup_chart" class="dc-chart"></div></div></td><td ng-if="tc_details_status" class="col-md-5"><div ng-show="tc.graph_computed"><div dc-chart="seriesChart" dc-width="600" dc-height="200" dc-margins="{top:10, right:10, bottom:50, left:30}" dc-dimension="tc.exec_time.dimension" dc-group="tc.exec_time.group" dc-x-axis-label="\'Date\'" dc-y-axis-label="\'Time (min)\'" dc-x-units="d3.time.days" dc-round="dc.round.floor" dc-elastic-y="true" dc-y-axis-min="0" dc-always-use-rounding="true" dc-render-horizontal-grid-lines="true" dc-brush-on="false" dc-legend="dc.legend().x(60).y(0).legendWidth(510).horizontal(true).autoItemWidth(true)" dc-y-axis-padding="\'25%\'" dc-post-setup-chart="tc.exec_time.post_setup_chart" class="dc-chart"></div></div></td></tr></table></div><div class="row"><table dc-chart="dataTable" dc-dimension="weekly_dimension" dc-group="table_group" dc-width="990" dc-size="1000" dc-post-setup-chart="table_post_format" class="table table-hover dc-data-table"><thead><tr class="header"><th>DATE</th><th>BRANCH</th><th>Test Number</th><th>Status</th><th>Is warning</th><th>Duration (min)</th><th>Testslave</th><th>Board_product</th><th>Board_Type</th><th>Campaign</th><th>Test case</th><th>Build submitters Email</th></tr></thead></table></div></div></div>'),
e.put("views/premerge_efficiency.html",'<div class="container"><div ng-if="!loading"><div class="row"><div class="col-md-6"><label>From:</label><p class="input-group"><input type="text" datepicker-popup="{{date_picker.format}}" ng-model="date_picker.dateHandler.fromDate" is-open="date_picker.datepicker.opened" datepicker-options="date_picker.dateOptions" min-date="date_picker.minDate" max-date="date_picker.maxDate" ng-required="true" clear="clear" clear-text="Default" close-text="Close" close-on-date-selection="false" starting-day="0" class="form-control"/><span class="input-group-btn"><button type="button" ng-click="date_picker.open($event)" class="btn btn-default"><i class="glyphicon glyphicon-calendar"></i></button></span></p></div><div class="col-md-6"><label>To:</label><p class="input-group"><input type="text" datepicker-popup="{{date_picker.format}}" ng-model="date_picker.dateHandler.toDate" is-open="date_picker.datepicker.opened" datepicker-options="date_picker.dateOptions" min-date="date_picker.dateHandler.fromDate" max-date="date_picker.maxDate" ng-required="true" clear-text="Default" close-text="Close" close-on-date-selection="false" starting-day="0" class="form-control"/><span class="input-group-btn"><button type="button" ng-click="date_picker.open($event)" class="btn btn-default"><i class="glyphicon glyphicon-calendar"></i></button></span></p></div></div><div class="row"><div class="col-md-12">Filters:<label>Verdicts<p isteven-multi-select="isteven-multi-select" input-model="ui_params.verdicts" output-model="drop_down_verdicts" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="filter(ui_params.verdicts, verdict_dimension)"></p></label><label>Branches<p isteven-multi-select="isteven-multi-select" input-model="ui_params.branches" output-model="drop_down_branches" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="filter(ui_params.branches, branch_dimension)"></p></label></div></div><div class="row"><div class="col-md-12"><center><strong>Number of {{ builder }} failures (per category)</strong></center></div></div><div class="row"><div dc-chart="barChart" dc-width="990" dc-height="500" dc-margins="{top:10, right:10, bottom:70, left:50}" dc-dimension="ww_dimension" dc-group="ww_per_result_dim_grp" dc-x-axis-label="\'Work Week (Year.WW)\'" dc-y-axis-label="\'Count\'" dc-x="d3.scale.ordinal(ww_dim)" dc-x-units="dc.units.ordinal" dc-elastic-y="true" dc-always-use-rounding="true" dc-legend="dc.legend().x(75).y(0).legendWidth(800).horizontal(1).itemWidth(300)" dc-y-axis-padding="\'10%\'" dc-render-horizontal-grid-lines="true" dc-brush-on="false" dc-post-setup-chart="failures_issue_setup" class="dc-chart"></div></div><div class="row"><table dc-chart="dataTable" dc-dimension="ww_dimension" dc-group="table_group" dc-width="990" dc-size="1000" dc-post-setup-chart="table_post_format" class="table table-hover dc-data-table"><thead><tr class="header"><th>Day</th><th>Branch</th><th>Build</th><th>Efficiency verdict</th><th>Merge category</th><th>Result</th><th>Product/Test</th><th>Proof of category</th><th>Link to detailled info</th></tr></thead></table></div></div></div>'),e.put("views/rawTable.html",'<div style="margin-left: 7px; margin-right: 7px"><h2><span>{{ cfg.title }}</span></h2><div>{{ cfg.desc }}</div><h4 ng-show="raw_sql">SQL query:</h4><pre ng-show="raw_sql">{{ raw_sql }}</pre><span><span>page: {{ cur_page + 1}} </span><button ng-click="next_page(-1)" class="btn btn-default">Previous</button><button ng-click="next_page(1)" class="btn btn-default">Next</button></span><div class="btn-group dropdown"><button data-toggle="dropdown" type="button" class="btn btn-default dropdown-toggle">Export<span class="caret"></span></button><ul role="menu" class="dropdown-menu"><li ng-repeat="format in export_urls"><a href="{{ format.url }}">{{ format.format }}</a></li></ul></div><table ng-show="jsondata" class="table table-striped table-hover table-condensed"><tr><th ng-repeat="head in headers">{{ head }}</th></tr><tr ng-repeat="row in jsondata"><td ng-repeat="head in headers">{{ row[head] | clean_output}}</td></tr></table><div ng-show="loading">Loading...</div><div ng-hide="jsondata">No data !</div></div>'),e.put("views/regression.html",'<div class="container"><div ng-if="!loading"><div class="row"><div class="col-md-3">Filters:<p><dc-select dc-dimension="versionDimension" all-label="All Versions"></dc-select></p><p><dc-select dc-dimension="hardwareDimension" all-label="All Hardwares"></dc-select></p><p><dc-select dc-dimension="componentDimension" all-label="All Components"></dc-select></p><p><dc-select dc-dimension="originDimension" all-label="All Origins"></dc-select></p><p><a href="javascript:" ng-click="resetAll()">&nbsp;Reset All</a></p></div><div class="col-md-3"><div dc-chart="pieChart" dc-width="300" dc-height="250" dc-radius="80" dc-dimension="severityDimension" dc-group="severityDimensionGroup" dc-legend="dc.legend().x(0).y(170)" dc-post-setup-chart="labelPieChart" class="dc-chart"></div></div><div class="col-md-3"><div dc-chart="pieChart" dc-width="300" dc-height="250" dc-radius="80" dc-dimension="statusDimension" dc-group="statusDimensionGroup" dc-legend="dc.legend().x(0).y(170)" dc-post-setup-chart="labelPieChart" class="dc-chart"></div></div><div class="col-md-3"><div class="dc-data-count"><a ng-href="{{csvUrl}}"><img src="img/csv.gif"/></a><br/><span class="total-count">&nbsp;# {{all_records}}\n&nbsp;records in db</span><br/><span class="total-count">&nbsp;# {{filter_count}}\n&nbsp;used<i>&nbsp;({{all_filtered_records}}\n&nbsp;not usable)</i></span><br/><span class="filter-count">&nbsp;# {{total_count}}\n&nbsp;currently displayed</span></div></div></div><div class="row"><div dc-chart="barChart" dc-width="990" dc-height="250" dc-margins="{top:10, right:10, bottom:50, left:50}" dc-dimension="weeklyDimension" dc-x="d3.scale.ordinal(weeklyDimension)" dc-x-axis-label="\'Work Week (Year.WW)\'" dc-group="weeklyDimensionGroup" dc-x-units="dc.units.ordinal" dc-elastic-y="true" dc-y-axis-label="\'Number of Regressions per Week\'" dc-bar-padding="0.1" dc-post-setup-chart="dailyPostFormat" class="dc-chart"></div></div><div class="row"><table dc-chart="dataTable" dc-dimension="weeklyDimension" dc-group="tableGroup" dc-size="1000" dc-post-setup-chart="tablePostFormat" class="table table-hover dc-data-table"><thead><tr class="header"><th>Bug ID</th><th>Opened</th><th>Summary</th><th>Severity</th><th>Version</th><th>Hardware</th><th>Component</th><th>Status</th><th>Resolution</th></tr></thead></table></div></div></div>'),e.put("views/security_metrics.html",'<div class="container"><div ng-show="nodata"><div class="nodata">DBDA returned no data</div></div><div ng-show="!loading"><div class="row"><div class="col-md-6"><h2>Security Dashboard</h2></div></div><div class="row"><div class="row"><h4><span class="glyphicon glyphicon-filter">&nbsp;Filters:</span></h4></div><form method="post" class="form-inline col-md-3 pull-left"><div class="form-group"><select id="ww" name="ww" ng-model="workWeek" ng-options="week for week in workWeeksList" ng-change="updateData(workWeek)"><option value="" selected="selected" hidden="hidden">{{retrievedWorkWeek}}</option></select></div></form></div><div class="row"><row><h4><span class="glyphicon glyphicon-stats">&nbsp;Views:</span></h4></row><div class="row"><center><strong>BDBA Scan for Applications Chart / Work Week</strong></center><div dc-chart="barChart" dc-width="1200" dc-height="750" dc-margins="{top:15, right:10, bottom:200, left:50}" dc-dimension="projectDimension" dc-group="projectDimensionGroup" dc-x="d3.scale.ordinal(projectDimension)" dc-y-axis-padding="\'10%\'" dc-x-units="dc.units.ordinal" dc-bar-padding="0.1" dc-legend="dc.legend().x(75).y(0).legendWidth(900).horizontal(1).itemWidth(120)" dc-elastic-y="true" dc-x-axis-label="\'App\'" dc-y-axis-label="\'Error Counts\'" dc-post-setup-chart="securityMetricsBarChart" class="dc-chart"></div></div></div><div class="row"><row><h4><span class="glyphicon glyphicon-stats">&nbsp;Views:</span></h4></row><div class="row"><table dc-chart="dataTable" dc-dimension="dateDimension" dc-group="tableGroup" dc-size="1000" dc-post-setup-chart="tablePostFormat" class="table table-hover dc-data-table"><thead><tr class="header"><th>App</th><th>Build</th><th>Date</th><th>Critical</th><th>Major</th><th>Minor</th></tr></thead></table></div></div></div></div>'),e.put("views/step_details.html",'<div class="container"><div ng-show="nodata"><div class="nodata">sql server returned no data</div></div><div ng-if="!loading"><div class="row"><div class="col-md-3"><h4>Step: {{step}}</h4>Filters:<div><label>Builders:</label><p isteven-multi-select="isteven-multi-select" input-model="uiParams.builders" output-model="outBuilders" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="filter(uiParams.builders, builderTypeDimension)"></p></div><div><label>Branches:</label><p isteven-multi-select="isteven-multi-select" input-model="uiParams.branchNames" output-model="outBranches" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="filter(uiParams.branchNames, branchNameDimension)"></p></div><div ng-show="boarddisplay"><label>Board Products:</label><p isteven-multi-select="isteven-multi-select" input-model="uiParams.boardProducts" output-model="outBoardProducts" button-label="name" item-label="name" tick-property="ticked" max-height="250px" min-width="255px" max-labels="1" on-close="filter(uiParams.boardProducts, targetBoardDimension)"></p></div><div ng-show="targetdisplay"><label>Targets:</label><p isteven-multi-select="isteven-multi-select" input-model="uiParams.targetProducts" output-model="outTargetProducts" button-label="name" item-label="name" tick-property="ticked" max-height="250px" min-width="255px" max-labels="1" on-close="filter(uiParams.targetProducts, targetProductDimension)"></p></div><div><label>Slaves:</label><p isteven-multi-select="isteven-multi-select" input-model="uiParams.slavesNames" output-model="outSlaves" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="filter(uiParams.slavesNames, slaveNameDimension)"></p></div><p><a href="#/{{pageRoot}}/builder_steps">&nbsp;Back to builder steps</a></p><p><a href="javascript:" ng-click="resetAll()">&nbsp;Reset All</a></p></div><div class="col-md-3"><div dc-chart="pieChart" dc-width="300" dc-height="300" dc-radius="80" dc-dimension="resultDimension" dc-group="resultDimensionGroup" dc-legend="dc.legend().x(0).y(225)" dc-post-setup-chart="resultPieChart" class="dc-chart"></div></div><div class="col-md-3"><div dc-chart="pieChart" dc-width="300" dc-height="300" dc-radius="80" dc-dimension="siteDimension" dc-group="siteDimensionGroup" dc-legend="dc.legend().x(0).y(225)" dc-post-setup-chart="sitePieChart" class="dc-chart"></div></div><div class="col-md-3"><div class="dc-data-count"><a ng-href="{{csvUrl}}"><img src="img/csv.gif"/></a>&nbsp;&nbsp;&nbsp;<a ng-href="{{sqlUrl}}" target="_blank"><img src="img/sql.png"/></a><br/><span class="total-count">&nbsp;# {{all_records}}\n&nbsp;records in db</span><br/><span class="total-count">&nbsp;# {{filter_count}}\n&nbsp;used<i>&nbsp;({{all_filtered_records}}\n&nbsp;not usable)</i></span><br/><span class="filter-count">&nbsp;# {{total_count}}\n&nbsp;currently displayed</span></div></div></div><div class="row"><div dc-chart="seriesChart" dc-width="990" dc-height="250" dc-dimension="durationDimension" dc-group="durationDimensionGroup" dc-x="d3.time.scale().domain([min,max])" dc-x-units="d3.time.days" dc-x-axis-label="\'Day\'" dc-y-axis-label="\'Duration AVG (min)\'" dc-elastic-y="true" dc-post-setup-chart="postDurationChart" dc-margins="{top:10, right:10, bottom:60, left:50}" dc-legend="dc.legend().x(850).y(10)" dc-render-horizontal-grid-lines="true" dc-brush-on="false" class="dc-chart"></div></div><div class="row"><div dc-chart="barChart" dc-width="990" dc-height="250" dc-margins="{top:10, right:10, bottom:50, left:50}" dc-dimension="resultDayDimension" dc-x="d3.scale.ordinal(resultDayDimensionGroup)" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Day\'" dc-render-horizontal-grid-lines="true" dc-bar-padding="0.1" dc-legend="dc.legend().x(75).y(0)" dc-elastic-y="true" dc-y-axis-label="\'Number per Day\'" dc-post-setup-chart="resBarChart" class="dc-chart"></div></div><div class="row"><table dc-chart="dataTable" dc-dimension="stepDimension" dc-group="tableGroup" dc-size="1000" dc-post-setup-chart="tablePostFormat" class="table table-hover dc-data-table"><thead><tr class="header"><th>Time</th><th>Build Number</th><th>Site</th><th>Server Name</th><th>Builder Type</th><th>Cactus Branch</th><th>Result</th><th>Duration (min)</th><th ng-show="targetdisplay">Build Target</th><th ng-show="boarddisplay">Board Product</th></tr></thead></table></div></div></div>'),e.put("views/test_request_trend.html",'<div class="container"><div ng-show="nodata"><div class="nodata">sql server returned no data</div></div><div ng-if="!loading"><div class="row"><div class="col-md-6 pull-left"><h2>Test Request Trend</h2></div><div class="col-md-6 pull-right"><div class="dc-data-count"><a ng-href="{{csvUrl}}"><img src="img/csv.gif"/></a>&nbsp;&nbsp;&nbsp;<a ng-href="{{sqlUrl}}" target="_blank"><img src="img/sql.png"/></a><br/><span class="total-count">&nbsp;# {{all_records}}\n&nbsp;records in db</span><br/><span class="total-count">&nbsp;# {{filter_count}}\n&nbsp;used<i>&nbsp;({{all_filtered_records}}\n&nbsp;not usable)</i></span><br/><span class="filter-count">&nbsp;# {{total_count}}\n&nbsp;currently displayed</span></div></div></div><div class="row"><div class="row"><h4><span class="glyphicon glyphicon-filter">&nbsp;Filters:</span></h4></div><div class="col-md-3">Projects:<p><dc-select dc-dimension="projectDimension" all-label="All Projects"></dc-select></p></div><div class="col-md-3">Work Week:<p><dc-select dc-dimension="workWeekDimension" all-label="All WorkWeeks"></dc-select></p></div></div><div class="row"><row><h4><span class="glyphicon glyphicon-stats">&nbsp;Views:</span></h4></row><div class="row"><center><strong>Test Request Number per Week</strong></center><div dc-chart="barChart" dc-width="990" dc-height="550" dc-margins="{top:15, right:10, bottom:100, left:50}" dc-dimension="testRequestDimension" dc-group="testRequestDimensionGroup" dc-x="d3.scale.ordinal(testRequestDimension)" dc-y-axis-padding="\'10%\'" dc-x-units="dc.units.ordinal" dc-bar-padding="0.1" dc-legend="dc.legend().x(75).y(0).legendWidth(900).horizontal(1).itemWidth(120)" dc-elastic-y="true" dc-y-axis-label="\'Nbr\'" dc-post-setup-chart="testRequestBarChart" class="dc-chart"></div></div></div><div class="row"><table dc-chart="dataTable" dc-dimension="patchDimension" dc-group="tableGroup" dc-size="1000" dc-post-setup-chart="tablePostFormat" class="table table-hover dc-data-table"><thead><tr class="header"><th>Submit Date</th><th>Requests</th></tr></thead></table></div></div></div>'),e.put("views/testcampaign_detail.html",'<div class="container"><div ng-if="nodata"><div class="nodata">sql server returned no data</div></div><div ng-if="!loading"><div class="row"><div class="col-md-6"><label>From:</label><p class="input-group"><input type="text" datepicker-popup="{{date_picker.format}}" ng-model="date_picker.dateHandler.fromDate" is-open="date_picker.datepicker.opened" datepicker-options="date_picker.dateOptions" min-date="date_picker.minDate" max-date="date_picker.maxDate" ng-required="true" clear="clear" clear-text="Default" close-text="Close" close-on-date-selection="false" starting-day="0" class="form-control"/><span class="input-group-btn"><button type="button" ng-click="date_picker.open($event)" class="btn btn-default"><i class="glyphicon glyphicon-calendar"></i></button></span></p></div><div class="col-md-6"><label>To:</label><p class="input-group"><input type="text" datepicker-popup="{{date_picker.format}}" ng-model="date_picker.dateHandler.toDate" is-open="date_picker.datepicker.opened" datepicker-options="date_picker.dateOptions" min-date="date_picker.dateHandler.fromDate" max-date="date_picker.maxDate" ng-required="true" clear-text="Default" close-text="Close" close-on-date-selection="false" starting-day="0" class="form-control"/><span class="input-group-btn"><button type="button" ng-click="date_picker.open($event)" class="btn btn-default"><i class="glyphicon glyphicon-calendar"></i></button></span></p></div></div><div class="row"><div class="col-md-3">Filters:<label>Branch</label><p isteven-multi-select="isteven-multi-select" input-model="uiParams.branches" output-model="dropDownBranch" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="filter(uiParams.branches, branchDimension)"></p><label>Meta Builder Type</label><p isteven-multi-select="isteven-multi-select" input-model="uiParams.builders" output-model="dropDownBuilder" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="filter(uiParams.builders, builderDimension)"></p><label>Site</label><p isteven-multi-select="isteven-multi-select" input-model="uiParams.sites" output-model="dropDownSite" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="filter(uiParams.sites, siteDimension)"></p><label>Board product</label><p isteven-multi-select="isteven-multi-select" input-model="uiParams.targets" output-model="dropDownTarget" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="filter(uiParams.targets, targetDimension)"></p><label>Board Type</label><p isteven-multi-select="isteven-multi-select" input-model="uiParams.boardTypes" output-model="dropDownBoardType" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="filter(uiParams.boardTypes, boardTypeDimension)"></p><label>Campaign</label><p isteven-multi-select="isteven-multi-select" input-model="uiParams.campaigns" output-model="dropDownCampaign" button-label="name" item-label="name" tick-property="ticked" max-height="250px" max-labels="1" on-close="filter(uiParams.campaigns, campaignDimension)"></p><p><a href="javascript:" ng-click="resetAll()">Reset All</a></p></div><div class="col-md-3"><div dc-chart="pieChart" dc-dimension="resDimension" dc-group="resDimensionGroup" dc-width="250" dc-height="200" dc-radius="80" dc-cx="120" dc-legend="dc.legend().x(0).y(0)" dc-colors="metricsService.ordinalResultColors()" dc-post-setup-chart="postSetupPieChart" class="dc-chart"></div></div><div class="col-md-3-centered"><div class="dc-data-count"><a ng-href="{{csvUrl}}"><img src="img/csv.gif"/></a>&nbsp;&nbsp;&nbsp;<a ng-href="{{sqlUrl}}" target="_blank"><img src="img/sql.png"/></a></div></div></div><div class="row"><div class="col-md-12"><center><strong>Rootcause of failures</strong></center></div></div><div class="row"><div dc-chart="barChart" dc-width="990" dc-height="500" dc-margins="{top:10, right:10, bottom:70, left:50}" dc-dimension="dayDimension" dc-group="dayGrp" dc-x-axis-label="\'Date\'" dc-y-axis-label="\'Count\'" dc-x-units="d3.time.days" dc-round="dc.round.floor" dc-elastic-y="true" dc-always-use-rounding="true" dc-legend="dc.legend().x(75).y(0).legendWidth(800).horizontal(1).itemWidth(150)" dc-y-axis-padding="\'10%\'" dc-render-horizontal-grid-lines="true" dc-brush-on="false" dc-post-setup-chart="rootcause_setup" class="dc-chart"></div></div><div class="row"><table dc-chart="dataTable" dc-dimension="branchDimension" dc-group="tableGroup" dc-size="1000" dc-post-setup-chart="tablePostFormat" class="table table-hover dc-data-table"><thead><tr class="header"><th>Date</th><th>Site</th><th>Build Number</th><th>Builder Type</th><th>Branch</th><th>Board product</th><th>Result</th><th>Step</th><th>Step result</th><th>Campaign</th><th>Test case</th><th>test case result</th></tr></thead></table></div></div></div>'),e.put("views/tm_sec.html",'<div class="container"><div ng-if="nodata"><div class="nodata">sql server returned no data</div></div><div ng-if="!loading"><div class="row"><div class="col-md-4"><h2>TM_SEC bug metrics from the past 3 months</h2><p>This page is subject to breaking and updates</p><p>We will work on improving it</p><p>The Severity table has some slight issues when clicking on the\nweekly inflow/outflow chart, but try not to mind it</p></div><div class="col-md-4-centered"><div class="dc-data-count"><a ng-href="{{csvUrl}}"><img src="img/csv.gif"/></a><br/><span class="total-count">&nbsp;# {{all_records}}\n&nbsp;records in db</span><br/><span class="total-count">&nbsp;# {{filter_count}}\n&nbsp;used<i>&nbsp;({{all_filtered_records}}\n&nbsp;not usable)</i></span><br/><span class="filter-count">&nbsp;# {{total_count}}\n&nbsp;currently displayed</span></div></div></div><div class="row"><table dc-chart="dataTable" dc-dimension="severityGroupReduce" dc-group="severityGroup" dc-size="1000" dc-post-setup-chart="severityTablePostFormat" class="table table-hover dc-data-table"><thead><tr class="header"><th>Severity</th><th>Average close time in days</th><th>Number of Bugs</th></tr></thead></table></div><div style="margin-top:25px;" class="row"><div dc-chart="compositeChart" dc-width="1100" dc-height="350" dc-brushOn="false" dc-margins="{top:65, right:10, bottom:70, left:50}" dc-x-axis-label="\'Work Week (Year.WW)\'" dc-y-axis-padding="\'10%\'" dc-elastic-y="true" dc-centerBar="true" #dc-bar-padding="0.1" dc-y-axis-label="\'Number of bugs per Week\'" dc-x-units="dc.units.ordinal" dc-x="d3.scale.ordinal()" dc-group="totalDimensionGroup" dc-render-horizontal-grid-lines="true" dc-share-title="false" dc-post-setup-chart="configureComChart" class="dc-chart"></div></div><div class="row"><table dc-chart="dataTable" dc-dimension="weeklyDimension" dc-group="tableGroup" dc-size="1000" dc-post-setup-chart="tablePostFormat" class="table table-hover dc-data-table"><thead><tr class="header"><th>Bug ID</th><th>Date Open</th><th>Date Close</th><th>Severity</th><th>Summary</th><th>Status</th><th>Resolution</th><th>Component</th><th>Branch</th></tr></thead></table></div></div></div>'),e.put("views/topic.html",'<div class="container"><div ng-if="nodata"><div class="nodata">sql server returned no data</div></div><div ng-if="!loading"><div class="row"><div class="col-md-3">Filters:<p><dc-select dc-dimension="topicDimension" all-label="All Topic Branches"></dc-select></p><p><dc-select dc-dimension="revisionDimensionList" all-label="All Revision"></dc-select></p><p><dc-select dc-dimension="componentDimension" all-label="All Bug Components"></dc-select></p><p><dc-select dc-dimension="categoryDimension" all-label="All Categories"></dc-select></p><p><a href="javascript:" ng-click="resetAll()">&nbsp;Reset All</a></p></div><div class="col-md-3"><div dc-chart="pieChart" dc-width="270" dc-height="200" dc-radius="80" dc-cx="180" dc-cy="80" dc-dimension="topicDimension" dc-group="topicDimensionGroup" dc-slices-cap="10" dc-legend="dc.legend().x(0).y(0)" dc-post-setup-chart="postActionBranchPieChart" class="dc-chart"></div></div><div class="col-md-3"><div dc-chart="pieChart" dc-width="270" dc-height="200" dc-radius="80" dc-cx="180" dc-cy="80" dc-dimension="categoryDimension" dc-group="categoryDimensionGroup" dc-slices-cap="10" dc-legend="dc.legend().x(0).y(0)" dc-post-setup-chart="postActionCategoryPieChart" class="dc-chart"></div></div><div class="col-md-3-centered"><div class="dc-data-count"><a ng-href="{{csvUrl}}"><img src="img/csv.gif"/></a><br/><span class="total-count">&nbsp;# {{all_records}}\n&nbsp;records in db</span><br/><span class="total-count">&nbsp;# {{filter_count}}\n&nbsp;used<i>&nbsp;({{all_filtered_records}}\n&nbsp;not usable)</i></span><br/><span class="filter-count">&nbsp;# {{total_count}}\n&nbsp;currently displayed</span></div></div></div><div style="margin-top:25px;" class="row"><div dc-chart="barChart" dc-width="990" dc-height="350" dc-margins="{top:65, right:10, bottom:50, left:50}" dc-dimension="weeklyDimension" dc-x="d3.scale.ordinal(weeklyDimension)" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Work Week (Year.WW)\'" dc-bar-padding="0.1" dc-legend="dc.legend().x(75).y(0).legendWidth(900).horizontal(1).itemWidth(100)" dc-elastic-y="true" dc-center-bar="true" dc-y-axis-label="\'Number of patches per Week\'" dc-render-horizontal-grid-lines="true" dc-post-setup-chart="patchesBarChart" class="dc-chart"></div></div><div class="row"><div dc-chart="barChart" dc-width="990" dc-height="350" dc-margins="{top:65, right:10, bottom:50, left:50}" dc-dimension="topicChartDimension" dc-group="topicChartDimensionGroup" dc-x="d3.scale.ordinal(topicChartDimension)" dc-x-units="dc.units.ordinal" dc-x-axis-label="\'Topic Branch\'" dc-bar-padding="0.1" dc-elastic-y="true" dc-center-bar="true" dc-y-axis-label="\'Number of patches per topic\'" dc-render-horizontal-grid-lines="true" dc-post-setup-chart="TopicBarChart" class="dc-chart"></div></div><div class="row"><div dc-chart="compositeChart" dc-width="990" dc-height="350" dc-margins="{top:65, right:10, bottom:50, left:50}" dc-dimension="linesDimension" dc-group="linesDimensionGroup" dc-post-setup-chart="compositeChartOptions" dc-x="d3.scale.ordinal(linesDimension)" dc-x-units="dc.units.ordinal" dc-y-axis-label="\'Number of Lines Modified per Week\'" dc-elastic-y="true" dc-brush-on="false" dc-render-horizontal-grid-lines="true" dc-share-title="false" class="dc-chart"></div></div><div class="row"><table dc-chart="dataTable" dc-dimension="weeklyDimension" dc-group="tableGroup" dc-size="1000" dc-post-setup-chart="tablePostFormat" class="table table-hover dc-data-table"><thead><tr class="header"><th>Gerrit Change ID</th><th>Date</th><th>Revision</th><th>Topic</th><th>Category</th><th>Feature Team</th><th>Bug Component Name</th><th>DLOC</th></tr></thead></table></div></div></div>'),e.put("views/traceability.html",'<div class="container-fluid"><div ng-if="nodata"><div class="nodata">sql server returned no data</div></div><div ng-if="!loading"><div class="row"><div ui-grid="gridOptions" ui-grid-resize-columns="ui-grid-resize-columns" ui-grid-move-columns="ui-grid-move-columns" ui-grid-grouping="ui-grid-grouping" class="domaingrid"></div></div></div></div>'),e.put("views/doc.html",'<div ng-if="c.docUrl" ng-class="{show: c.show}" class="doc clearfix"><div ng-click="c.show=true" class="btn btn-primary show-btn pull-right"><i class="fa fa-question"></i></div><div class="panel panel-primary pull-left"><div class="panel-heading clearfix"><h4 style="padding-top: 5px;" class="panel-title pull-left">Metrics explanations</h4><div ng-click="c.show=false" class="close">&times;</div></div><div ng-style="{height: c.window.innerHeight - 200 + \'px\'}" class="panel-body"><ng-include src="c.docUrl"></ng-include></div></div></div>'),e.put("views/loading.html",'<div ng-show="c.loading" class="loading"><div class="loading-content"><div ng-show="c.percent==&quot;100&quot;" class="progress progress-striped active"><div style="width: 100%" class="progress-bar">Loading data...</div></div><div ng-show="c.percent!=&quot;100&quot;" class="progress progress-striped active"><div ng-style="{width: c.percent+\'%\'}" class="progress-bar"></div></div></div></div>'),e.put("views/trend_arrow.html",'<div id="trend"><svg width="300" height="100"><defs><marker id="trend_marker" markerWidth="10" markerHeight="10" refx="0" refy="3" orient="auto" markerUnit="userSpaceOnUse"><path id="trend_path" d="M0,0 L0,6 L9,3 z" fill="#f00"></path></marker></defs><line id="trend_line" x1="100" y1="50" x2="150" y2="50" stroke="#f00" stroke-width="5" marker-end="url(#trend_marker)"></line><text x="0" y="50" font-weight="bold">Trend:</text></svg></div>'),e.put("views/warning.html",'<div ng-show="c.warnings" class="warning"><div ng-repeat="warning in c.warnings" class="alert alert-danger"><strong>{{warning.summary}}:&nbsp;</strong>{{warning.description}}</div></div>')}]);